# Session Notes â€” 2025-09-17 13:00

## What changed
- Made auth portable: if `DATABASE_URL` is unset, server falls back to a local JSON user store at `mcp/data/users.json` (auto-created). If set, uses PostgreSQL as before.
- Relaxed dev defaults: `JWT_SECRET` defaults to `dev-secret` and `ALLOWED_ORIGIN` defaults to `http://localhost:5173` for local use (recommend overriding in production).
- Added example frontend env: `apps/vplm-portal/.env.example` with `VITE_API_URL=http://localhost:3333` for local API calls.

## Why
- Allow local sign-in without relying on Render/DB while keeping a clean path to GoDaddy (or any host) by switching to a real database later.

## Files touched
- Modified: `mcp/index-http.js`
- Added: `apps/vplm-portal/.env.example`

## Follow-ups
- For production: set real `JWT_SECRET`, strict `ALLOWED_ORIGIN`, and point to DB via `DATABASE_URL`.
- Provide a small migration script later to move users from `users.json` into the SQL database when going live.

