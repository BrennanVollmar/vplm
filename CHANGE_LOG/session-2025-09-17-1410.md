# Session Notes â€” 2025-09-17 14:10

## What changed
- Gated entire site behind login: wrapped all routes with `Guard` except `/login`; `/admin` remains developer-only.
- Reverted root `dev` to only start Vite site; kept `dev:api` for on-demand API/MCP; left `dev:both` pattern out.
- Ignored local auth store in Git: added `mcp/data/` to `.gitignore`.
- Seeded two local developer accounts in `mcp/data/users.json` (bcrypt-hashed passwords).

## Why
- Ensure all app pages are protected (prevent offline export access by unauthenticated users).
- Match workflow: Vite always during sessions; API/MCP only on demand.
- Keep credentials local and out of version control.

## Files touched
- Modified: `apps/vplm-portal/src/app.tsx`, `package.json`, `.gitignore`
- Added: `mcp/data/users.json`

## Validation
- Built frontend successfully (`npm run build`).
- Login required for all routes; developer nav appears only for developer role.

## Follow-ups
- Start site: `npm run dev`. Start API on demand: `npm run dev:api`.
- To change local dev accounts, edit `mcp/data/users.json` (passwords must be bcrypt hashes).

