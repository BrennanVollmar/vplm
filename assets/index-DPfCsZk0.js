function By(A,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in A)){const u=Object.getOwnPropertyDescriptor(i,o);u&&Object.defineProperty(A,o,u.get?u:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(A,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();var yy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Kl(A){return A&&A.__esModule&&Object.prototype.hasOwnProperty.call(A,"default")?A.default:A}function _y(A){if(Object.prototype.hasOwnProperty.call(A,"__esModule"))return A;var e=A.default;if(typeof e=="function"){var t=function i(){var o=!1;try{o=this instanceof i}catch{}return o?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(A).forEach(function(i){var o=Object.getOwnPropertyDescriptor(A,i);Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:function(){return A[i]}})}),t}var uh={exports:{}},fl={},ch={exports:{}},bt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rg;function Cy(){if(Rg)return bt;Rg=1;var A=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),b=Symbol.iterator;function S(H){return H===null||typeof H!="object"?null:(H=b&&H[b]||H["@@iterator"],typeof H=="function"?H:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,N={};function W(H,le,Ie){this.props=H,this.context=le,this.refs=N,this.updater=Ie||O}W.prototype.isReactComponent={},W.prototype.setState=function(H,le){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,le,"setState")},W.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function D(){}D.prototype=W.prototype;function R(H,le,Ie){this.props=H,this.context=le,this.refs=N,this.updater=Ie||O}var J=R.prototype=new D;J.constructor=R,P(J,W.prototype),J.isPureReactComponent=!0;var M=Array.isArray,$=Object.prototype.hasOwnProperty,q={current:null},xe={key:!0,ref:!0,__self:!0,__source:!0};function X(H,le,Ie){var Fe,Ne={},Oe=null,At=null;if(le!=null)for(Fe in le.ref!==void 0&&(At=le.ref),le.key!==void 0&&(Oe=""+le.key),le)$.call(le,Fe)&&!xe.hasOwnProperty(Fe)&&(Ne[Fe]=le[Fe]);var mt=arguments.length-2;if(mt===1)Ne.children=Ie;else if(1<mt){for(var De=Array(mt),Ot=0;Ot<mt;Ot++)De[Ot]=arguments[Ot+2];Ne.children=De}if(H&&H.defaultProps)for(Fe in mt=H.defaultProps,mt)Ne[Fe]===void 0&&(Ne[Fe]=mt[Fe]);return{$$typeof:A,type:H,key:Oe,ref:At,props:Ne,_owner:q.current}}function Ae(H,le){return{$$typeof:A,type:H.type,key:le,ref:H.ref,props:H.props,_owner:H._owner}}function ve(H){return typeof H=="object"&&H!==null&&H.$$typeof===A}function Ee(H){var le={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(Ie){return le[Ie]})}var qe=/\/+/g;function Ze(H,le){return typeof H=="object"&&H!==null&&H.key!=null?Ee(""+H.key):le.toString(36)}function be(H,le,Ie,Fe,Ne){var Oe=typeof H;(Oe==="undefined"||Oe==="boolean")&&(H=null);var At=!1;if(H===null)At=!0;else switch(Oe){case"string":case"number":At=!0;break;case"object":switch(H.$$typeof){case A:case e:At=!0}}if(At)return At=H,Ne=Ne(At),H=Fe===""?"."+Ze(At,0):Fe,M(Ne)?(Ie="",H!=null&&(Ie=H.replace(qe,"$&/")+"/"),be(Ne,le,Ie,"",function(Ot){return Ot})):Ne!=null&&(ve(Ne)&&(Ne=Ae(Ne,Ie+(!Ne.key||At&&At.key===Ne.key?"":(""+Ne.key).replace(qe,"$&/")+"/")+H)),le.push(Ne)),1;if(At=0,Fe=Fe===""?".":Fe+":",M(H))for(var mt=0;mt<H.length;mt++){Oe=H[mt];var De=Fe+Ze(Oe,mt);At+=be(Oe,le,Ie,De,Ne)}else if(De=S(H),typeof De=="function")for(H=De.call(H),mt=0;!(Oe=H.next()).done;)Oe=Oe.value,De=Fe+Ze(Oe,mt++),At+=be(Oe,le,Ie,De,Ne);else if(Oe==="object")throw le=String(H),Error("Objects are not valid as a React child (found: "+(le==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":le)+"). If you meant to render a collection of children, use an array instead.");return At}function et(H,le,Ie){if(H==null)return H;var Fe=[],Ne=0;return be(H,Fe,"","",function(Oe){return le.call(Ie,Oe,Ne++)}),Fe}function se(H){if(H._status===-1){var le=H._result;le=le(),le.then(function(Ie){(H._status===0||H._status===-1)&&(H._status=1,H._result=Ie)},function(Ie){(H._status===0||H._status===-1)&&(H._status=2,H._result=Ie)}),H._status===-1&&(H._status=0,H._result=le)}if(H._status===1)return H._result.default;throw H._result}var Qe={current:null},ge={transition:null},Pe={ReactCurrentDispatcher:Qe,ReactCurrentBatchConfig:ge,ReactCurrentOwner:q};function K(){throw Error("act(...) is not supported in production builds of React.")}return bt.Children={map:et,forEach:function(H,le,Ie){et(H,function(){le.apply(this,arguments)},Ie)},count:function(H){var le=0;return et(H,function(){le++}),le},toArray:function(H){return et(H,function(le){return le})||[]},only:function(H){if(!ve(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},bt.Component=W,bt.Fragment=t,bt.Profiler=o,bt.PureComponent=R,bt.StrictMode=i,bt.Suspense=m,bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pe,bt.act=K,bt.cloneElement=function(H,le,Ie){if(H==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+H+".");var Fe=P({},H.props),Ne=H.key,Oe=H.ref,At=H._owner;if(le!=null){if(le.ref!==void 0&&(Oe=le.ref,At=q.current),le.key!==void 0&&(Ne=""+le.key),H.type&&H.type.defaultProps)var mt=H.type.defaultProps;for(De in le)$.call(le,De)&&!xe.hasOwnProperty(De)&&(Fe[De]=le[De]===void 0&&mt!==void 0?mt[De]:le[De])}var De=arguments.length-2;if(De===1)Fe.children=Ie;else if(1<De){mt=Array(De);for(var Ot=0;Ot<De;Ot++)mt[Ot]=arguments[Ot+2];Fe.children=mt}return{$$typeof:A,type:H.type,key:Ne,ref:Oe,props:Fe,_owner:At}},bt.createContext=function(H){return H={$$typeof:d,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},H.Provider={$$typeof:u,_context:H},H.Consumer=H},bt.createElement=X,bt.createFactory=function(H){var le=X.bind(null,H);return le.type=H,le},bt.createRef=function(){return{current:null}},bt.forwardRef=function(H){return{$$typeof:g,render:H}},bt.isValidElement=ve,bt.lazy=function(H){return{$$typeof:C,_payload:{_status:-1,_result:H},_init:se}},bt.memo=function(H,le){return{$$typeof:y,type:H,compare:le===void 0?null:le}},bt.startTransition=function(H){var le=ge.transition;ge.transition={};try{H()}finally{ge.transition=le}},bt.unstable_act=K,bt.useCallback=function(H,le){return Qe.current.useCallback(H,le)},bt.useContext=function(H){return Qe.current.useContext(H)},bt.useDebugValue=function(){},bt.useDeferredValue=function(H){return Qe.current.useDeferredValue(H)},bt.useEffect=function(H,le){return Qe.current.useEffect(H,le)},bt.useId=function(){return Qe.current.useId()},bt.useImperativeHandle=function(H,le,Ie){return Qe.current.useImperativeHandle(H,le,Ie)},bt.useInsertionEffect=function(H,le){return Qe.current.useInsertionEffect(H,le)},bt.useLayoutEffect=function(H,le){return Qe.current.useLayoutEffect(H,le)},bt.useMemo=function(H,le){return Qe.current.useMemo(H,le)},bt.useReducer=function(H,le,Ie){return Qe.current.useReducer(H,le,Ie)},bt.useRef=function(H){return Qe.current.useRef(H)},bt.useState=function(H){return Qe.current.useState(H)},bt.useSyncExternalStore=function(H,le,Ie){return Qe.current.useSyncExternalStore(H,le,Ie)},bt.useTransition=function(){return Qe.current.useTransition()},bt.version="18.3.1",bt}var Mg;function Vf(){return Mg||(Mg=1,ch.exports=Cy()),ch.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kg;function xy(){if(Kg)return fl;Kg=1;var A=Vf(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=A.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function d(g,m,y){var C,b={},S=null,O=null;y!==void 0&&(S=""+y),m.key!==void 0&&(S=""+m.key),m.ref!==void 0&&(O=m.ref);for(C in m)i.call(m,C)&&!u.hasOwnProperty(C)&&(b[C]=m[C]);if(g&&g.defaultProps)for(C in m=g.defaultProps,m)b[C]===void 0&&(b[C]=m[C]);return{$$typeof:e,type:g,key:S,ref:O,props:b,_owner:o.current}}return fl.Fragment=t,fl.jsx=d,fl.jsxs=d,fl}var Vg;function by(){return Vg||(Vg=1,uh.exports=xy()),uh.exports}var c=by(),F=Vf();const Gf=Kl(F),Qy=By({__proto__:null,default:Gf},[F]);var Ou={},dh={exports:{}},DA={},hh={exports:{}},fh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gg;function Uy(){return Gg||(Gg=1,(function(A){function e(ge,Pe){var K=ge.length;ge.push(Pe);e:for(;0<K;){var H=K-1>>>1,le=ge[H];if(0<o(le,Pe))ge[H]=Pe,ge[K]=le,K=H;else break e}}function t(ge){return ge.length===0?null:ge[0]}function i(ge){if(ge.length===0)return null;var Pe=ge[0],K=ge.pop();if(K!==Pe){ge[0]=K;e:for(var H=0,le=ge.length,Ie=le>>>1;H<Ie;){var Fe=2*(H+1)-1,Ne=ge[Fe],Oe=Fe+1,At=ge[Oe];if(0>o(Ne,K))Oe<le&&0>o(At,Ne)?(ge[H]=At,ge[Oe]=K,H=Oe):(ge[H]=Ne,ge[Fe]=K,H=Fe);else if(Oe<le&&0>o(At,K))ge[H]=At,ge[Oe]=K,H=Oe;else break e}}return Pe}function o(ge,Pe){var K=ge.sortIndex-Pe.sortIndex;return K!==0?K:ge.id-Pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;A.unstable_now=function(){return u.now()}}else{var d=Date,g=d.now();A.unstable_now=function(){return d.now()-g}}var m=[],y=[],C=1,b=null,S=3,O=!1,P=!1,N=!1,W=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function J(ge){for(var Pe=t(y);Pe!==null;){if(Pe.callback===null)i(y);else if(Pe.startTime<=ge)i(y),Pe.sortIndex=Pe.expirationTime,e(m,Pe);else break;Pe=t(y)}}function M(ge){if(N=!1,J(ge),!P)if(t(m)!==null)P=!0,se($);else{var Pe=t(y);Pe!==null&&Qe(M,Pe.startTime-ge)}}function $(ge,Pe){P=!1,N&&(N=!1,D(X),X=-1),O=!0;var K=S;try{for(J(Pe),b=t(m);b!==null&&(!(b.expirationTime>Pe)||ge&&!Ee());){var H=b.callback;if(typeof H=="function"){b.callback=null,S=b.priorityLevel;var le=H(b.expirationTime<=Pe);Pe=A.unstable_now(),typeof le=="function"?b.callback=le:b===t(m)&&i(m),J(Pe)}else i(m);b=t(m)}if(b!==null)var Ie=!0;else{var Fe=t(y);Fe!==null&&Qe(M,Fe.startTime-Pe),Ie=!1}return Ie}finally{b=null,S=K,O=!1}}var q=!1,xe=null,X=-1,Ae=5,ve=-1;function Ee(){return!(A.unstable_now()-ve<Ae)}function qe(){if(xe!==null){var ge=A.unstable_now();ve=ge;var Pe=!0;try{Pe=xe(!0,ge)}finally{Pe?Ze():(q=!1,xe=null)}}else q=!1}var Ze;if(typeof R=="function")Ze=function(){R(qe)};else if(typeof MessageChannel<"u"){var be=new MessageChannel,et=be.port2;be.port1.onmessage=qe,Ze=function(){et.postMessage(null)}}else Ze=function(){W(qe,0)};function se(ge){xe=ge,q||(q=!0,Ze())}function Qe(ge,Pe){X=W(function(){ge(A.unstable_now())},Pe)}A.unstable_IdlePriority=5,A.unstable_ImmediatePriority=1,A.unstable_LowPriority=4,A.unstable_NormalPriority=3,A.unstable_Profiling=null,A.unstable_UserBlockingPriority=2,A.unstable_cancelCallback=function(ge){ge.callback=null},A.unstable_continueExecution=function(){P||O||(P=!0,se($))},A.unstable_forceFrameRate=function(ge){0>ge||125<ge?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ae=0<ge?Math.floor(1e3/ge):5},A.unstable_getCurrentPriorityLevel=function(){return S},A.unstable_getFirstCallbackNode=function(){return t(m)},A.unstable_next=function(ge){switch(S){case 1:case 2:case 3:var Pe=3;break;default:Pe=S}var K=S;S=Pe;try{return ge()}finally{S=K}},A.unstable_pauseExecution=function(){},A.unstable_requestPaint=function(){},A.unstable_runWithPriority=function(ge,Pe){switch(ge){case 1:case 2:case 3:case 4:case 5:break;default:ge=3}var K=S;S=ge;try{return Pe()}finally{S=K}},A.unstable_scheduleCallback=function(ge,Pe,K){var H=A.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?H+K:H):K=H,ge){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=K+le,ge={id:C++,callback:Pe,priorityLevel:ge,startTime:K,expirationTime:le,sortIndex:-1},K>H?(ge.sortIndex=K,e(y,ge),t(m)===null&&ge===t(y)&&(N?(D(X),X=-1):N=!0,Qe(M,K-H))):(ge.sortIndex=le,e(m,ge),P||O||(P=!0,se($))),ge},A.unstable_shouldYield=Ee,A.unstable_wrapCallback=function(ge){var Pe=S;return function(){var K=S;S=Pe;try{return ge.apply(this,arguments)}finally{S=K}}}})(fh)),fh}var zg;function Ey(){return zg||(zg=1,hh.exports=Uy()),hh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wg;function Fy(){if(Wg)return DA;Wg=1;var A=Vf(),e=Ey();function t(n){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+n,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function u(n,s){d(n,s),d(n+"Capture",s)}function d(n,s){for(o[n]=s,n=0;n<s.length;n++)i.add(s[n])}var g=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,C={},b={};function S(n){return m.call(b,n)?!0:m.call(C,n)?!1:y.test(n)?b[n]=!0:(C[n]=!0,!1)}function O(n,s,l,p){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return p?!1:l!==null?!l.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function P(n,s,l,p){if(s===null||typeof s>"u"||O(n,s,l,p))return!0;if(p)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function N(n,s,l,p,B,x,I){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=p,this.attributeNamespace=B,this.mustUseProperty=l,this.propertyName=n,this.type=s,this.sanitizeURL=x,this.removeEmptyString=I}var W={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){W[n]=new N(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var s=n[0];W[s]=new N(s,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){W[n]=new N(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){W[n]=new N(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){W[n]=new N(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){W[n]=new N(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){W[n]=new N(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){W[n]=new N(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){W[n]=new N(n,5,!1,n.toLowerCase(),null,!1,!1)});var D=/[\-:]([a-z])/g;function R(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var s=n.replace(D,R);W[s]=new N(s,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var s=n.replace(D,R);W[s]=new N(s,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var s=n.replace(D,R);W[s]=new N(s,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){W[n]=new N(n,1,!1,n.toLowerCase(),null,!1,!1)}),W.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){W[n]=new N(n,1,!1,n.toLowerCase(),null,!0,!0)});function J(n,s,l,p){var B=W.hasOwnProperty(s)?W[s]:null;(B!==null?B.type!==0:p||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(P(s,l,B,p)&&(l=null),p||B===null?S(s)&&(l===null?n.removeAttribute(s):n.setAttribute(s,""+l)):B.mustUseProperty?n[B.propertyName]=l===null?B.type===3?!1:"":l:(s=B.attributeName,p=B.attributeNamespace,l===null?n.removeAttribute(s):(B=B.type,l=B===3||B===4&&l===!0?"":""+l,p?n.setAttributeNS(p,s,l):n.setAttribute(s,l))))}var M=A.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$=Symbol.for("react.element"),q=Symbol.for("react.portal"),xe=Symbol.for("react.fragment"),X=Symbol.for("react.strict_mode"),Ae=Symbol.for("react.profiler"),ve=Symbol.for("react.provider"),Ee=Symbol.for("react.context"),qe=Symbol.for("react.forward_ref"),Ze=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),et=Symbol.for("react.memo"),se=Symbol.for("react.lazy"),Qe=Symbol.for("react.offscreen"),ge=Symbol.iterator;function Pe(n){return n===null||typeof n!="object"?null:(n=ge&&n[ge]||n["@@iterator"],typeof n=="function"?n:null)}var K=Object.assign,H;function le(n){if(H===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);H=s&&s[1]||""}return`
`+H+n}var Ie=!1;function Fe(n,s){if(!n||Ie)return"";Ie=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(ye){var p=ye}Reflect.construct(n,[],s)}else{try{s.call()}catch(ye){p=ye}n.call(s.prototype)}else{try{throw Error()}catch(ye){p=ye}n()}}catch(ye){if(ye&&p&&typeof ye.stack=="string"){for(var B=ye.stack.split(`
`),x=p.stack.split(`
`),I=B.length-1,V=x.length-1;1<=I&&0<=V&&B[I]!==x[V];)V--;for(;1<=I&&0<=V;I--,V--)if(B[I]!==x[V]){if(I!==1||V!==1)do if(I--,V--,0>V||B[I]!==x[V]){var ee=`
`+B[I].replace(" at new "," at ");return n.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",n.displayName)),ee}while(1<=I&&0<=V);break}}}finally{Ie=!1,Error.prepareStackTrace=l}return(n=n?n.displayName||n.name:"")?le(n):""}function Ne(n){switch(n.tag){case 5:return le(n.type);case 16:return le("Lazy");case 13:return le("Suspense");case 19:return le("SuspenseList");case 0:case 2:case 15:return n=Fe(n.type,!1),n;case 11:return n=Fe(n.type.render,!1),n;case 1:return n=Fe(n.type,!0),n;default:return""}}function Oe(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case xe:return"Fragment";case q:return"Portal";case Ae:return"Profiler";case X:return"StrictMode";case Ze:return"Suspense";case be:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case Ee:return(n.displayName||"Context")+".Consumer";case ve:return(n._context.displayName||"Context")+".Provider";case qe:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case et:return s=n.displayName||null,s!==null?s:Oe(n.type)||"Memo";case se:s=n._payload,n=n._init;try{return Oe(n(s))}catch{}}return null}function At(n){var s=n.type;switch(n.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=s.render,n=n.displayName||n.name||"",s.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oe(s);case 8:return s===X?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function mt(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function De(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ot(n){var s=De(n)?"checked":"value",l=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),p=""+n[s];if(!n.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var B=l.get,x=l.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return B.call(this)},set:function(I){p=""+I,x.call(this,I)}}),Object.defineProperty(n,s,{enumerable:l.enumerable}),{getValue:function(){return p},setValue:function(I){p=""+I},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function fA(n){n._valueTracker||(n._valueTracker=Ot(n))}function Qt(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var l=s.getValue(),p="";return n&&(p=De(n)?n.checked?"true":"false":n.value),n=p,n!==l?(s.setValue(n),!0):!1}function bA(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function io(n,s){var l=s.checked;return K({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??n._wrapperState.initialChecked})}function MA(n,s){var l=s.defaultValue==null?"":s.defaultValue,p=s.checked!=null?s.checked:s.defaultChecked;l=mt(s.value!=null?s.value:l),n._wrapperState={initialChecked:p,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function so(n,s){s=s.checked,s!=null&&J(n,"checked",s,!1)}function Li(n,s){so(n,s);var l=mt(s.value),p=s.type;if(l!=null)p==="number"?(l===0&&n.value===""||n.value!=l)&&(n.value=""+l):n.value!==""+l&&(n.value=""+l);else if(p==="submit"||p==="reset"){n.removeAttribute("value");return}s.hasOwnProperty("value")?oo(n,s.type,l):s.hasOwnProperty("defaultValue")&&oo(n,s.type,mt(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(n.defaultChecked=!!s.defaultChecked)}function ki(n,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var p=s.type;if(!(p!=="submit"&&p!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+n._wrapperState.initialValue,l||s===n.value||(n.value=s),n.defaultValue=s}l=n.name,l!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,l!==""&&(n.name=l)}function oo(n,s,l){(s!=="number"||bA(n.ownerDocument)!==n)&&(l==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+l&&(n.defaultValue=""+l))}var rr=Array.isArray;function fn(n,s,l,p){if(n=n.options,s){s={};for(var B=0;B<l.length;B++)s["$"+l[B]]=!0;for(l=0;l<n.length;l++)B=s.hasOwnProperty("$"+n[l].value),n[l].selected!==B&&(n[l].selected=B),B&&p&&(n[l].defaultSelected=!0)}else{for(l=""+mt(l),s=null,B=0;B<n.length;B++){if(n[B].value===l){n[B].selected=!0,p&&(n[B].defaultSelected=!0);return}s!==null||n[B].disabled||(s=n[B])}s!==null&&(s.selected=!0)}}function Ti(n,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return K({},s,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Ir(n,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(rr(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}n._wrapperState={initialValue:mt(l)}}function ao(n,s){var l=mt(s.value),p=mt(s.defaultValue);l!=null&&(l=""+l,l!==n.value&&(n.value=l),s.defaultValue==null&&n.defaultValue!==l&&(n.defaultValue=l)),p!=null&&(n.defaultValue=""+p)}function ii(n){var s=n.textContent;s===n._wrapperState.initialValue&&s!==""&&s!==null&&(n.value=s)}function QA(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function UA(n,s){return n==null||n==="http://www.w3.org/1999/xhtml"?QA(s):n==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Lr,si=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,p,B){MSApp.execUnsafeLocalFunction(function(){return n(s,l,p,B)})}:n})(function(n,s){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=s;else{for(Lr=Lr||document.createElement("div"),Lr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Lr.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;s.firstChild;)n.appendChild(s.firstChild)}});function ir(n,s){if(s){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=s;return}}n.textContent=s}var KA={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kr=["Webkit","ms","Moz","O"];Object.keys(KA).forEach(function(n){kr.forEach(function(s){s=s+n.charAt(0).toUpperCase()+n.substring(1),KA[s]=KA[n]})});function oi(n,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||KA.hasOwnProperty(n)&&KA[n]?(""+s).trim():s+"px"}function ai(n,s){n=n.style;for(var l in s)if(s.hasOwnProperty(l)){var p=l.indexOf("--")===0,B=oi(l,s[l],p);l==="float"&&(l="cssFloat"),p?n.setProperty(l,B):n[l]=B}}var VA=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rt(n,s){if(s){if(VA[n]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function pA(n,s){if(n.indexOf("-")===-1)return typeof s.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var GA=null;function li(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ge=null,zA=null,sr=null;function ms(n){if(n=es(n)){if(typeof Ge!="function")throw Error(t(280));var s=n.stateNode;s&&(s=ta(s),Ge(n.stateNode,n.type,s))}}function lo(n){zA?sr?sr.push(n):sr=[n]:zA=n}function vs(){if(zA){var n=zA,s=sr;if(sr=zA=null,ms(n),s)for(n=0;n<s.length;n++)ms(s[n])}}function Mo(n,s){return n(s)}function Ko(){}var or=!1;function WA(n,s,l){if(or)return n(s,l);or=!0;try{return Mo(n,s,l)}finally{or=!1,(zA!==null||sr!==null)&&(Ko(),vs())}}function Tr(n,s){var l=n.stateNode;if(l===null)return null;var p=ta(l);if(p===null)return null;l=p[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(n=n.type,p=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!p;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var ui=!1;if(g)try{var kt={};Object.defineProperty(kt,"passive",{get:function(){ui=!0}}),window.addEventListener("test",kt,kt),window.removeEventListener("test",kt,kt)}catch{ui=!1}function ln(n,s,l,p,B,x,I,V,ee){var ye=Array.prototype.slice.call(arguments,3);try{s.apply(l,ye)}catch(ke){this.onError(ke)}}var Nn=!1,tt=null,ar=!1,Pr=null,Vo={onError:function(n){Nn=!0,tt=n}};function $A(n,s,l,p,B,x,I,V,ee){Nn=!1,tt=null,ln.apply(Vo,arguments)}function lr(n,s,l,p,B,x,I,V,ee){if($A.apply(this,arguments),Nn){if(Nn){var ye=tt;Nn=!1,tt=null}else throw Error(t(198));ar||(ar=!0,Pr=ye)}}function En(n){var s=n,l=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(l=s.return),n=s.return;while(n)}return s.tag===3?l:null}function EA(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function uo(n){if(En(n)!==n)throw Error(t(188))}function ur(n){var s=n.alternate;if(!s){if(s=En(n),s===null)throw Error(t(188));return s!==n?null:n}for(var l=n,p=s;;){var B=l.return;if(B===null)break;var x=B.alternate;if(x===null){if(p=B.return,p!==null){l=p;continue}break}if(B.child===x.child){for(x=B.child;x;){if(x===l)return uo(B),n;if(x===p)return uo(B),s;x=x.sibling}throw Error(t(188))}if(l.return!==p.return)l=B,p=x;else{for(var I=!1,V=B.child;V;){if(V===l){I=!0,l=B,p=x;break}if(V===p){I=!0,p=B,l=x;break}V=V.sibling}if(!I){for(V=x.child;V;){if(V===l){I=!0,l=x,p=B;break}if(V===p){I=!0,p=x,l=B;break}V=V.sibling}if(!I)throw Error(t(189))}}if(l.alternate!==p)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?n:s}function co(n){return n=ur(n),n!==null?cr(n):null}function cr(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var s=cr(n);if(s!==null)return s;n=n.sibling}return null}var ho=e.unstable_scheduleCallback,Pi=e.unstable_cancelCallback,Zt=e.unstable_shouldYield,FA=e.unstable_requestPaint,It=e.unstable_now,Go=e.unstable_getCurrentPriorityLevel,dr=e.unstable_ImmediatePriority,Ni=e.unstable_UserBlockingPriority,ci=e.unstable_NormalPriority,ji=e.unstable_LowPriority,rA=e.unstable_IdlePriority,di=null,jn=null;function hi(n){if(jn&&typeof jn.onCommitFiberRoot=="function")try{jn.onCommitFiberRoot(di,n,void 0,(n.current.flags&128)===128)}catch{}}var ze=Math.clz32?Math.clz32:ZA,Dt=Math.log,Hi=Math.LN2;function ZA(n){return n>>>=0,n===0?32:31-(Dt(n)/Hi|0)|0}var SA=64,Ft=4194304;function dt(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Tt(n,s){var l=n.pendingLanes;if(l===0)return 0;var p=0,B=n.suspendedLanes,x=n.pingedLanes,I=l&268435455;if(I!==0){var V=I&~B;V!==0?p=dt(V):(x&=I,x!==0&&(p=dt(x)))}else I=l&~B,I!==0?p=dt(I):x!==0&&(p=dt(x));if(p===0)return 0;if(s!==0&&s!==p&&(s&B)===0&&(B=p&-p,x=s&-s,B>=x||B===16&&(x&4194240)!==0))return s;if((p&4)!==0&&(p|=l&16),s=n.entangledLanes,s!==0)for(n=n.entanglements,s&=p;0<s;)l=31-ze(s),B=1<<l,p|=n[l],s&=~B;return p}function hr(n,s){switch(n){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fi(n,s){for(var l=n.suspendedLanes,p=n.pingedLanes,B=n.expirationTimes,x=n.pendingLanes;0<x;){var I=31-ze(x),V=1<<I,ee=B[I];ee===-1?((V&l)===0||(V&p)!==0)&&(B[I]=hr(V,s)):ee<=s&&(n.expiredLanes|=V),x&=~V}}function Cn(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Oi(){var n=SA;return SA<<=1,(SA&4194240)===0&&(SA=64),n}function Nr(n){for(var s=[],l=0;31>l;l++)s.push(n);return s}function Hn(n,s,l){n.pendingLanes|=s,s!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,s=31-ze(s),n[s]=l}function Jt(n,s){var l=n.pendingLanes&~s;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=s,n.mutableReadLanes&=s,n.entangledLanes&=s,s=n.entanglements;var p=n.eventTimes;for(n=n.expirationTimes;0<l;){var B=31-ze(l),x=1<<B;s[B]=0,p[B]=-1,n[B]=-1,l&=~x}}function Zn(n,s){var l=n.entangledLanes|=s;for(n=n.entanglements;l;){var p=31-ze(l),B=1<<p;B&s|n[p]&s&&(n[p]|=s),l&=~B}}var xt=0;function pi(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var _t,fr,ws,Bs,pn,IA=!1,JA=[],un=null,LA=null,gA=null,Vt=new Map,at=new Map,qt=[],St="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Di(n,s){switch(n){case"focusin":case"focusout":un=null;break;case"dragenter":case"dragleave":LA=null;break;case"mouseover":case"mouseout":gA=null;break;case"pointerover":case"pointerout":Vt.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":at.delete(s.pointerId)}}function On(n,s,l,p,B,x){return n===null||n.nativeEvent!==x?(n={blockedOn:s,domEventName:l,eventSystemFlags:p,nativeEvent:x,targetContainers:[B]},s!==null&&(s=es(s),s!==null&&fr(s)),n):(n.eventSystemFlags|=p,s=n.targetContainers,B!==null&&s.indexOf(B)===-1&&s.push(B),n)}function fo(n,s,l,p,B){switch(s){case"focusin":return un=On(un,n,s,l,p,B),!0;case"dragenter":return LA=On(LA,n,s,l,p,B),!0;case"mouseover":return gA=On(gA,n,s,l,p,B),!0;case"pointerover":var x=B.pointerId;return Vt.set(x,On(Vt.get(x)||null,n,s,l,p,B)),!0;case"gotpointercapture":return x=B.pointerId,at.set(x,On(at.get(x)||null,n,s,l,p,B)),!0}return!1}function Jn(n){var s=Yi(n.target);if(s!==null){var l=En(s);if(l!==null){if(s=l.tag,s===13){if(s=EA(l),s!==null){n.blockedOn=s,pn(n.priority,function(){ws(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function iA(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var l=Or(n.domEventName,n.eventSystemFlags,s[0],n.nativeEvent);if(l===null){l=n.nativeEvent;var p=new l.constructor(l.type,l);GA=p,l.target.dispatchEvent(p),GA=null}else return s=es(l),s!==null&&fr(s),n.blockedOn=l,!1;s.shift()}return!0}function Ri(n,s,l){iA(n)&&l.delete(s)}function jr(){IA=!1,un!==null&&iA(un)&&(un=null),LA!==null&&iA(LA)&&(LA=null),gA!==null&&iA(gA)&&(gA=null),Vt.forEach(Ri),at.forEach(Ri)}function Ht(n,s){n.blockedOn===s&&(n.blockedOn=null,IA||(IA=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,jr)))}function qn(n){function s(B){return Ht(B,n)}if(0<JA.length){Ht(JA[0],n);for(var l=1;l<JA.length;l++){var p=JA[l];p.blockedOn===n&&(p.blockedOn=null)}}for(un!==null&&Ht(un,n),LA!==null&&Ht(LA,n),gA!==null&&Ht(gA,n),Vt.forEach(s),at.forEach(s),l=0;l<qt.length;l++)p=qt[l],p.blockedOn===n&&(p.blockedOn=null);for(;0<qt.length&&(l=qt[0],l.blockedOn===null);)Jn(l),l.blockedOn===null&&qt.shift()}var pr=M.ReactCurrentBatchConfig,Mi=!0;function Ki(n,s,l,p){var B=xt,x=pr.transition;pr.transition=null;try{xt=1,Vi(n,s,l,p)}finally{xt=B,pr.transition=x}}function zo(n,s,l,p){var B=xt,x=pr.transition;pr.transition=null;try{xt=4,Vi(n,s,l,p)}finally{xt=B,pr.transition=x}}function Vi(n,s,l,p){if(Mi){var B=Or(n,s,l,p);if(B===null)r(n,s,p,Hr,l),Di(n,p);else if(fo(B,n,s,l,p))p.stopPropagation();else if(Di(n,p),s&4&&-1<St.indexOf(n)){for(;B!==null;){var x=es(B);if(x!==null&&_t(x),x=Or(n,s,l,p),x===null&&r(n,s,p,Hr,l),x===B)break;B=x}B!==null&&p.stopPropagation()}else r(n,s,p,null,l)}}var Hr=null;function Or(n,s,l,p){if(Hr=null,n=li(p),n=Yi(n),n!==null)if(s=En(n),s===null)n=null;else if(l=s.tag,l===13){if(n=EA(s),n!==null)return n;n=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null);return Hr=n,null}function yt(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Go()){case dr:return 1;case Ni:return 4;case ci:case ji:return 16;case rA:return 536870912;default:return 16}default:return 16}}var gr=null,Xn=null,mr=null;function Gi(){if(mr)return mr;var n,s=Xn,l=s.length,p,B="value"in gr?gr.value:gr.textContent,x=B.length;for(n=0;n<l&&s[n]===B[n];n++);var I=l-n;for(p=1;p<=I&&s[l-p]===B[x-p];p++);return mr=B.slice(n,1<p?1-p:void 0)}function gi(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Dr(){return!0}function zi(){return!1}function gn(n){function s(l,p,B,x,I){this._reactName=l,this._targetInst=B,this.type=p,this.nativeEvent=x,this.target=I,this.currentTarget=null;for(var V in n)n.hasOwnProperty(V)&&(l=n[V],this[V]=l?l(x):x[V]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Dr:zi,this.isPropagationStopped=zi,this}return K(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Dr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Dr)},persist:function(){},isPersistent:Dr}),s}var qA={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ys=gn(qA),Rr=K({},qA,{view:0,detail:0}),mi=gn(Rr),Dn,Wi,vr,Yn=K({},Rr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zr,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==vr&&(vr&&n.type==="mousemove"?(Dn=n.screenX-vr.screenX,Wi=n.screenY-vr.screenY):Wi=Dn=0,vr=n),Dn)},movementY:function(n){return"movementY"in n?n.movementY:Wi}}),cn=gn(Yn),vi=K({},Yn,{dataTransfer:0}),Mr=gn(vi),Wo=K({},Rr,{relatedTarget:0}),Kr=gn(Wo),po=K({},qA,{animationName:0,elapsedTime:0,pseudoElement:0}),$o=gn(po),_s=K({},qA,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),$i=gn(_s),Vr=K({},qA,{data:0}),Zi=gn(Vr),Cs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},XA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zo(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=XA[n])?!!s[n]:!1}function zr(){return Zo}var Rn=K({},Rr,{key:function(n){if(n.key){var s=Cs[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=gi(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Gr[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zr,charCode:function(n){return n.type==="keypress"?gi(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?gi(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Ji=gn(Rn),Jo=K({},Yn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xs=gn(Jo),qi=K({},Rr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zr}),go=gn(qi),qo=K({},qA,{propertyName:0,elapsedTime:0,pseudoElement:0}),Za=gn(qo),mo=K({},Yn,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Xo=gn(mo),mA=[9,13,27,32],YA=g&&"CompositionEvent"in window,Wr=null;g&&"documentMode"in document&&(Wr=document.documentMode);var kA=g&&"TextEvent"in window&&!Wr,vo=g&&(!YA||Wr&&8<Wr&&11>=Wr),$r=" ",Yo=!1;function wi(n,s){switch(n){case"keyup":return mA.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bi(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var mn=!1;function Xt(n,s){switch(n){case"compositionend":return Bi(s);case"keypress":return s.which!==32?null:(Yo=!0,$r);case"textInput":return n=s.data,n===$r&&Yo?null:n;default:return null}}function vA(n,s){if(mn)return n==="compositionend"||!YA&&wi(n,s)?(n=Gi(),mr=Xn=gr=null,mn=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return vo&&s.locale!=="ko"?null:s.data;default:return null}}var Fn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ea(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!Fn[n.type]:s==="textarea"}function yi(n,s,l,p){lo(p),s=f(s,"onChange"),0<s.length&&(l=new ys("onChange","change",null,l,p),n.push({event:l,listeners:s}))}var _i=null,rn=null;function wo(n){qa(n,0)}function Mn(n){var s=ts(n);if(Qt(s))return n}function wr(n,s){if(n==="change")return s}var wA=!1;if(g){var h;if(g){var v="oninput"in document;if(!v){var _=document.createElement("div");_.setAttribute("oninput","return;"),v=typeof _.oninput=="function"}h=v}else h=!1;wA=h&&(!document.documentMode||9<document.documentMode)}function U(){_i&&(_i.detachEvent("onpropertychange",E),rn=_i=null)}function E(n){if(n.propertyName==="value"&&Mn(rn)){var s=[];yi(s,rn,n,li(n)),WA(wo,s)}}function k(n,s,l){n==="focusin"?(U(),_i=s,rn=l,_i.attachEvent("onpropertychange",E)):n==="focusout"&&U()}function j(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Mn(rn)}function G(n,s){if(n==="click")return Mn(s)}function Y(n,s){if(n==="input"||n==="change")return Mn(s)}function ne(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var re=typeof Object.is=="function"?Object.is:ne;function z(n,s){if(re(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var l=Object.keys(n),p=Object.keys(s);if(l.length!==p.length)return!1;for(p=0;p<l.length;p++){var B=l[p];if(!m.call(s,B)||!re(n[B],s[B]))return!1}return!0}function de(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function te(n,s){var l=de(n);n=0;for(var p;l;){if(l.nodeType===3){if(p=n+l.textContent.length,n<=s&&p>=s)return{node:l,offset:s-n};n=p}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=de(l)}}function oe(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?oe(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function ue(){for(var n=window,s=bA();s instanceof n.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)n=s.contentWindow;else break;s=bA(n.document)}return s}function ae(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}function ce(n){var s=ue(),l=n.focusedElem,p=n.selectionRange;if(s!==l&&l&&l.ownerDocument&&oe(l.ownerDocument.documentElement,l)){if(p!==null&&ae(l)){if(s=p.start,n=p.end,n===void 0&&(n=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(n,l.value.length);else if(n=(s=l.ownerDocument||document)&&s.defaultView||window,n.getSelection){n=n.getSelection();var B=l.textContent.length,x=Math.min(p.start,B);p=p.end===void 0?x:Math.min(p.end,B),!n.extend&&x>p&&(B=p,p=x,x=B),B=te(l,x);var I=te(l,p);B&&I&&(n.rangeCount!==1||n.anchorNode!==B.node||n.anchorOffset!==B.offset||n.focusNode!==I.node||n.focusOffset!==I.offset)&&(s=s.createRange(),s.setStart(B.node,B.offset),n.removeAllRanges(),x>p?(n.addRange(s),n.extend(I.node,I.offset)):(s.setEnd(I.node,I.offset),n.addRange(s)))}}for(s=[],n=l;n=n.parentNode;)n.nodeType===1&&s.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)n=s[l],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Be=g&&"documentMode"in document&&11>=document.documentMode,_e=null,Ce=null,Se=null,Re=!1;function He(n,s,l){var p=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Re||_e==null||_e!==bA(p)||(p=_e,"selectionStart"in p&&ae(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Se&&z(Se,p)||(Se=p,p=f(Ce,"onSelect"),0<p.length&&(s=new ys("onSelect","select",null,s,l),n.push({event:s,listeners:p}),s.target=_e)))}function Te(n,s){var l={};return l[n.toLowerCase()]=s.toLowerCase(),l["Webkit"+n]="webkit"+s,l["Moz"+n]="moz"+s,l}var Ve={animationend:Te("Animation","AnimationEnd"),animationiteration:Te("Animation","AnimationIteration"),animationstart:Te("Animation","AnimationStart"),transitionend:Te("Transition","TransitionEnd")},Ke={},We={};g&&(We=document.createElement("div").style,"AnimationEvent"in window||(delete Ve.animationend.animation,delete Ve.animationiteration.animation,delete Ve.animationstart.animation),"TransitionEvent"in window||delete Ve.transitionend.transition);function gt(n){if(Ke[n])return Ke[n];if(!Ve[n])return n;var s=Ve[n],l;for(l in s)if(s.hasOwnProperty(l)&&l in We)return Ke[n]=s[l];return n}var Ct=gt("animationend"),lt=gt("animationiteration"),Rt=gt("animationstart"),pt=gt("transitionend"),Yt=new Map,vn="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kn(n,s){Yt.set(n,s),u(s,[n])}for(var en=0;en<vn.length;en++){var TA=vn[en],bs=TA.toLowerCase(),rd=TA[0].toUpperCase()+TA.slice(1);Kn(bs,"on"+rd)}Kn(Ct,"onAnimationEnd"),Kn(lt,"onAnimationIteration"),Kn(Rt,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(pt,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xl=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qs));function Ja(n,s,l){var p=n.type||"unknown-event";n.currentTarget=l,lr(p,s,void 0,n),n.currentTarget=null}function qa(n,s){s=(s&4)!==0;for(var l=0;l<n.length;l++){var p=n[l],B=p.event;p=p.listeners;e:{var x=void 0;if(s)for(var I=p.length-1;0<=I;I--){var V=p[I],ee=V.instance,ye=V.currentTarget;if(V=V.listener,ee!==x&&B.isPropagationStopped())break e;Ja(B,V,ye),x=ee}else for(I=0;I<p.length;I++){if(V=p[I],ee=V.instance,ye=V.currentTarget,V=V.listener,ee!==x&&B.isPropagationStopped())break e;Ja(B,V,ye),x=ee}}}if(ar)throw n=Pr,ar=!1,Pr=null,n}function Mt(n,s){var l=s[Ss];l===void 0&&(l=s[Ss]=new Set);var p=n+"__bubble";l.has(p)||(Yl(s,n,2,!1),l.add(p))}function Xa(n,s,l){var p=0;s&&(p|=4),Yl(l,n,p,s)}var Bo="_reactListening"+Math.random().toString(36).slice(2);function Us(n){if(!n[Bo]){n[Bo]=!0,i.forEach(function(l){l!=="selectionchange"&&(Xl.has(l)||Xa(l,!1,n),Xa(l,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Bo]||(s[Bo]=!0,Xa("selectionchange",!1,s))}}function Yl(n,s,l,p){switch(yt(s)){case 1:var B=Ki;break;case 4:B=zo;break;default:B=Vi}l=B.bind(null,s,l,n),B=void 0,!ui||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(B=!0),p?B!==void 0?n.addEventListener(s,l,{capture:!0,passive:B}):n.addEventListener(s,l,!0):B!==void 0?n.addEventListener(s,l,{passive:B}):n.addEventListener(s,l,!1)}function r(n,s,l,p,B){var x=p;if((s&1)===0&&(s&2)===0&&p!==null)e:for(;;){if(p===null)return;var I=p.tag;if(I===3||I===4){var V=p.stateNode.containerInfo;if(V===B||V.nodeType===8&&V.parentNode===B)break;if(I===4)for(I=p.return;I!==null;){var ee=I.tag;if((ee===3||ee===4)&&(ee=I.stateNode.containerInfo,ee===B||ee.nodeType===8&&ee.parentNode===B))return;I=I.return}for(;V!==null;){if(I=Yi(V),I===null)return;if(ee=I.tag,ee===5||ee===6){p=x=I;continue e}V=V.parentNode}}p=p.return}WA(function(){var ye=x,ke=li(l),je=[];e:{var Le=Yt.get(n);if(Le!==void 0){var Xe=ys,it=n;switch(n){case"keypress":if(gi(l)===0)break e;case"keydown":case"keyup":Xe=Ji;break;case"focusin":it="focus",Xe=Kr;break;case"focusout":it="blur",Xe=Kr;break;case"beforeblur":case"afterblur":Xe=Kr;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Xe=cn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Xe=Mr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Xe=go;break;case Ct:case lt:case Rt:Xe=$o;break;case pt:Xe=Za;break;case"scroll":Xe=mi;break;case"wheel":Xe=Xo;break;case"copy":case"cut":case"paste":Xe=$i;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Xe=xs}var st=(s&4)!==0,wn=!st&&n==="scroll",fe=st?Le!==null?Le+"Capture":null:Le;st=[];for(var ie=ye,me;ie!==null;){me=ie;var Me=me.stateNode;if(me.tag===5&&Me!==null&&(me=Me,fe!==null&&(Me=Tr(ie,fe),Me!=null&&st.push(a(ie,Me,me)))),wn)break;ie=ie.return}0<st.length&&(Le=new Xe(Le,it,null,l,ke),je.push({event:Le,listeners:st}))}}if((s&7)===0){e:{if(Le=n==="mouseover"||n==="pointerover",Xe=n==="mouseout"||n==="pointerout",Le&&l!==GA&&(it=l.relatedTarget||l.fromElement)&&(Yi(it)||it[Nt]))break e;if((Xe||Le)&&(Le=ke.window===ke?ke:(Le=ke.ownerDocument)?Le.defaultView||Le.parentWindow:window,Xe?(it=l.relatedTarget||l.toElement,Xe=ye,it=it?Yi(it):null,it!==null&&(wn=En(it),it!==wn||it.tag!==5&&it.tag!==6)&&(it=null)):(Xe=null,it=ye),Xe!==it)){if(st=cn,Me="onMouseLeave",fe="onMouseEnter",ie="mouse",(n==="pointerout"||n==="pointerover")&&(st=xs,Me="onPointerLeave",fe="onPointerEnter",ie="pointer"),wn=Xe==null?Le:ts(Xe),me=it==null?Le:ts(it),Le=new st(Me,ie+"leave",Xe,l,ke),Le.target=wn,Le.relatedTarget=me,Me=null,Yi(ke)===ye&&(st=new st(fe,ie+"enter",it,l,ke),st.target=me,st.relatedTarget=wn,Me=st),wn=Me,Xe&&it)t:{for(st=Xe,fe=it,ie=0,me=st;me;me=w(me))ie++;for(me=0,Me=fe;Me;Me=w(Me))me++;for(;0<ie-me;)st=w(st),ie--;for(;0<me-ie;)fe=w(fe),me--;for(;ie--;){if(st===fe||fe!==null&&st===fe.alternate)break t;st=w(st),fe=w(fe)}st=null}else st=null;Xe!==null&&Q(je,Le,Xe,st,!1),it!==null&&wn!==null&&Q(je,wn,it,st,!0)}}e:{if(Le=ye?ts(ye):window,Xe=Le.nodeName&&Le.nodeName.toLowerCase(),Xe==="select"||Xe==="input"&&Le.type==="file")var ot=wr;else if(ea(Le))if(wA)ot=Y;else{ot=j;var ht=k}else(Xe=Le.nodeName)&&Xe.toLowerCase()==="input"&&(Le.type==="checkbox"||Le.type==="radio")&&(ot=G);if(ot&&(ot=ot(n,ye))){yi(je,ot,l,ke);break e}ht&&ht(n,Le,ye),n==="focusout"&&(ht=Le._wrapperState)&&ht.controlled&&Le.type==="number"&&oo(Le,"number",Le.value)}switch(ht=ye?ts(ye):window,n){case"focusin":(ea(ht)||ht.contentEditable==="true")&&(_e=ht,Ce=ye,Se=null);break;case"focusout":Se=Ce=_e=null;break;case"mousedown":Re=!0;break;case"contextmenu":case"mouseup":case"dragend":Re=!1,He(je,l,ke);break;case"selectionchange":if(Be)break;case"keydown":case"keyup":He(je,l,ke)}var ft;if(YA)e:{switch(n){case"compositionstart":var vt="onCompositionStart";break e;case"compositionend":vt="onCompositionEnd";break e;case"compositionupdate":vt="onCompositionUpdate";break e}vt=void 0}else mn?wi(n,l)&&(vt="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(vt="onCompositionStart");vt&&(vo&&l.locale!=="ko"&&(mn||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&mn&&(ft=Gi()):(gr=ke,Xn="value"in gr?gr.value:gr.textContent,mn=!0)),ht=f(ye,vt),0<ht.length&&(vt=new Zi(vt,n,null,l,ke),je.push({event:vt,listeners:ht}),ft?vt.data=ft:(ft=Bi(l),ft!==null&&(vt.data=ft)))),(ft=kA?Xt(n,l):vA(n,l))&&(ye=f(ye,"onBeforeInput"),0<ye.length&&(ke=new Zi("onBeforeInput","beforeinput",null,l,ke),je.push({event:ke,listeners:ye}),ke.data=ft))}qa(je,s)})}function a(n,s,l){return{instance:n,listener:s,currentTarget:l}}function f(n,s){for(var l=s+"Capture",p=[];n!==null;){var B=n,x=B.stateNode;B.tag===5&&x!==null&&(B=x,x=Tr(n,l),x!=null&&p.unshift(a(n,x,B)),x=Tr(n,s),x!=null&&p.push(a(n,x,B))),n=n.return}return p}function w(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Q(n,s,l,p,B){for(var x=s._reactName,I=[];l!==null&&l!==p;){var V=l,ee=V.alternate,ye=V.stateNode;if(ee!==null&&ee===p)break;V.tag===5&&ye!==null&&(V=ye,B?(ee=Tr(l,x),ee!=null&&I.unshift(a(l,ee,V))):B||(ee=Tr(l,x),ee!=null&&I.push(a(l,ee,V)))),l=l.return}I.length!==0&&n.push({event:s,listeners:I})}var T=/\r\n?/g,Z=/\u0000|\uFFFD/g;function he(n){return(typeof n=="string"?n:""+n).replace(T,`
`).replace(Z,"")}function we(n,s,l){if(s=he(s),he(n)!==s&&l)throw Error(t(425))}function Ue(){}var $e=null,ct=null;function wt(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Sn=typeof setTimeout=="function"?setTimeout:void 0,xn=typeof clearTimeout=="function"?clearTimeout:void 0,BA=typeof Promise=="function"?Promise:void 0,sA=typeof queueMicrotask=="function"?queueMicrotask:typeof BA<"u"?function(n){return BA.resolve(null).then(n).catch(Es)}:Sn;function Es(n){setTimeout(function(){throw n})}function Ya(n,s){var l=s,p=0;do{var B=l.nextSibling;if(n.removeChild(l),B&&B.nodeType===8)if(l=B.data,l==="/$"){if(p===0){n.removeChild(B),qn(s);return}p--}else l!=="$"&&l!=="$?"&&l!=="$!"||p++;l=B}while(l);qn(s)}function Ci(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return n}function eu(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return n;s--}else l==="/$"&&s++}n=n.previousSibling}return null}var Xi=Math.random().toString(36).slice(2),Br="__reactFiber$"+Xi,Fs="__reactProps$"+Xi,Nt="__reactContainer$"+Xi,Ss="__reactEvents$"+Xi,id="__reactListeners$"+Xi,sd="__reactHandles$"+Xi;function Yi(n){var s=n[Br];if(s)return s;for(var l=n.parentNode;l;){if(s=l[Nt]||l[Br]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(n=eu(n);n!==null;){if(l=n[Br])return l;n=eu(n)}return s}n=l,l=n.parentNode}return null}function es(n){return n=n[Br]||n[Nt],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function ts(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function ta(n){return n[Fs]||null}var od=[],na=-1;function Is(n){return{current:n}}function tn(n){0>na||(n.current=od[na],od[na]=null,na--)}function Gt(n,s){na++,od[na]=n.current,n.current=s}var Ls={},oA=Is(Ls),PA=Is(!1),yo=Ls;function Aa(n,s){var l=n.type.contextTypes;if(!l)return Ls;var p=n.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===s)return p.__reactInternalMemoizedMaskedChildContext;var B={},x;for(x in l)B[x]=s[x];return p&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=B),B}function NA(n){return n=n.childContextTypes,n!=null}function tu(){tn(PA),tn(oA)}function lp(n,s,l){if(oA.current!==Ls)throw Error(t(168));Gt(oA,s),Gt(PA,l)}function up(n,s,l){var p=n.stateNode;if(s=s.childContextTypes,typeof p.getChildContext!="function")return l;p=p.getChildContext();for(var B in p)if(!(B in s))throw Error(t(108,At(n)||"Unknown",B));return K({},l,p)}function nu(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Ls,yo=oA.current,Gt(oA,n),Gt(PA,PA.current),!0}function cp(n,s,l){var p=n.stateNode;if(!p)throw Error(t(169));l?(n=up(n,s,yo),p.__reactInternalMemoizedMergedChildContext=n,tn(PA),tn(oA),Gt(oA,n)):tn(PA),Gt(PA,l)}var ns=null,Au=!1,ad=!1;function dp(n){ns===null?ns=[n]:ns.push(n)}function OB(n){Au=!0,dp(n)}function ks(){if(!ad&&ns!==null){ad=!0;var n=0,s=xt;try{var l=ns;for(xt=1;n<l.length;n++){var p=l[n];do p=p(!0);while(p!==null)}ns=null,Au=!1}catch(B){throw ns!==null&&(ns=ns.slice(n+1)),ho(dr,ks),B}finally{xt=s,ad=!1}}return null}var ra=[],ia=0,ru=null,iu=0,yr=[],_r=0,_o=null,As=1,rs="";function Co(n,s){ra[ia++]=iu,ra[ia++]=ru,ru=n,iu=s}function hp(n,s,l){yr[_r++]=As,yr[_r++]=rs,yr[_r++]=_o,_o=n;var p=As;n=rs;var B=32-ze(p)-1;p&=~(1<<B),l+=1;var x=32-ze(s)+B;if(30<x){var I=B-B%5;x=(p&(1<<I)-1).toString(32),p>>=I,B-=I,As=1<<32-ze(s)+B|l<<B|p,rs=x+n}else As=1<<x|l<<B|p,rs=n}function ld(n){n.return!==null&&(Co(n,1),hp(n,1,0))}function ud(n){for(;n===ru;)ru=ra[--ia],ra[ia]=null,iu=ra[--ia],ra[ia]=null;for(;n===_o;)_o=yr[--_r],yr[_r]=null,rs=yr[--_r],yr[_r]=null,As=yr[--_r],yr[_r]=null}var er=null,tr=null,nn=!1,Zr=null;function fp(n,s){var l=Qr(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=n,s=n.deletions,s===null?(n.deletions=[l],n.flags|=16):s.push(l)}function pp(n,s){switch(n.tag){case 5:var l=n.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(n.stateNode=s,er=n,tr=Ci(s.firstChild),!0):!1;case 6:return s=n.pendingProps===""||s.nodeType!==3?null:s,s!==null?(n.stateNode=s,er=n,tr=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=_o!==null?{id:As,overflow:rs}:null,n.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=Qr(18,null,null,0),l.stateNode=s,l.return=n,n.child=l,er=n,tr=null,!0):!1;default:return!1}}function cd(n){return(n.mode&1)!==0&&(n.flags&128)===0}function dd(n){if(nn){var s=tr;if(s){var l=s;if(!pp(n,s)){if(cd(n))throw Error(t(418));s=Ci(l.nextSibling);var p=er;s&&pp(n,s)?fp(p,l):(n.flags=n.flags&-4097|2,nn=!1,er=n)}}else{if(cd(n))throw Error(t(418));n.flags=n.flags&-4097|2,nn=!1,er=n}}}function gp(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;er=n}function su(n){if(n!==er)return!1;if(!nn)return gp(n),nn=!0,!1;var s;if((s=n.tag!==3)&&!(s=n.tag!==5)&&(s=n.type,s=s!=="head"&&s!=="body"&&!wt(n.type,n.memoizedProps)),s&&(s=tr)){if(cd(n))throw mp(),Error(t(418));for(;s;)fp(n,s),s=Ci(s.nextSibling)}if(gp(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8){var l=n.data;if(l==="/$"){if(s===0){tr=Ci(n.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}n=n.nextSibling}tr=null}}else tr=er?Ci(n.stateNode.nextSibling):null;return!0}function mp(){for(var n=tr;n;)n=Ci(n.nextSibling)}function sa(){tr=er=null,nn=!1}function hd(n){Zr===null?Zr=[n]:Zr.push(n)}var DB=M.ReactCurrentBatchConfig;function el(n,s,l){if(n=l.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var p=l.stateNode}if(!p)throw Error(t(147,n));var B=p,x=""+n;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===x?s.ref:(s=function(I){var V=B.refs;I===null?delete V[x]:V[x]=I},s._stringRef=x,s)}if(typeof n!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,n))}return n}function ou(n,s){throw n=Object.prototype.toString.call(s),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n))}function vp(n){var s=n._init;return s(n._payload)}function wp(n){function s(fe,ie){if(n){var me=fe.deletions;me===null?(fe.deletions=[ie],fe.flags|=16):me.push(ie)}}function l(fe,ie){if(!n)return null;for(;ie!==null;)s(fe,ie),ie=ie.sibling;return null}function p(fe,ie){for(fe=new Map;ie!==null;)ie.key!==null?fe.set(ie.key,ie):fe.set(ie.index,ie),ie=ie.sibling;return fe}function B(fe,ie){return fe=Rs(fe,ie),fe.index=0,fe.sibling=null,fe}function x(fe,ie,me){return fe.index=me,n?(me=fe.alternate,me!==null?(me=me.index,me<ie?(fe.flags|=2,ie):me):(fe.flags|=2,ie)):(fe.flags|=1048576,ie)}function I(fe){return n&&fe.alternate===null&&(fe.flags|=2),fe}function V(fe,ie,me,Me){return ie===null||ie.tag!==6?(ie=rh(me,fe.mode,Me),ie.return=fe,ie):(ie=B(ie,me),ie.return=fe,ie)}function ee(fe,ie,me,Me){var ot=me.type;return ot===xe?ke(fe,ie,me.props.children,Me,me.key):ie!==null&&(ie.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===se&&vp(ot)===ie.type)?(Me=B(ie,me.props),Me.ref=el(fe,ie,me),Me.return=fe,Me):(Me=Iu(me.type,me.key,me.props,null,fe.mode,Me),Me.ref=el(fe,ie,me),Me.return=fe,Me)}function ye(fe,ie,me,Me){return ie===null||ie.tag!==4||ie.stateNode.containerInfo!==me.containerInfo||ie.stateNode.implementation!==me.implementation?(ie=ih(me,fe.mode,Me),ie.return=fe,ie):(ie=B(ie,me.children||[]),ie.return=fe,ie)}function ke(fe,ie,me,Me,ot){return ie===null||ie.tag!==7?(ie=Io(me,fe.mode,Me,ot),ie.return=fe,ie):(ie=B(ie,me),ie.return=fe,ie)}function je(fe,ie,me){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return ie=rh(""+ie,fe.mode,me),ie.return=fe,ie;if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case $:return me=Iu(ie.type,ie.key,ie.props,null,fe.mode,me),me.ref=el(fe,null,ie),me.return=fe,me;case q:return ie=ih(ie,fe.mode,me),ie.return=fe,ie;case se:var Me=ie._init;return je(fe,Me(ie._payload),me)}if(rr(ie)||Pe(ie))return ie=Io(ie,fe.mode,me,null),ie.return=fe,ie;ou(fe,ie)}return null}function Le(fe,ie,me,Me){var ot=ie!==null?ie.key:null;if(typeof me=="string"&&me!==""||typeof me=="number")return ot!==null?null:V(fe,ie,""+me,Me);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case $:return me.key===ot?ee(fe,ie,me,Me):null;case q:return me.key===ot?ye(fe,ie,me,Me):null;case se:return ot=me._init,Le(fe,ie,ot(me._payload),Me)}if(rr(me)||Pe(me))return ot!==null?null:ke(fe,ie,me,Me,null);ou(fe,me)}return null}function Xe(fe,ie,me,Me,ot){if(typeof Me=="string"&&Me!==""||typeof Me=="number")return fe=fe.get(me)||null,V(ie,fe,""+Me,ot);if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case $:return fe=fe.get(Me.key===null?me:Me.key)||null,ee(ie,fe,Me,ot);case q:return fe=fe.get(Me.key===null?me:Me.key)||null,ye(ie,fe,Me,ot);case se:var ht=Me._init;return Xe(fe,ie,me,ht(Me._payload),ot)}if(rr(Me)||Pe(Me))return fe=fe.get(me)||null,ke(ie,fe,Me,ot,null);ou(ie,Me)}return null}function it(fe,ie,me,Me){for(var ot=null,ht=null,ft=ie,vt=ie=0,zn=null;ft!==null&&vt<me.length;vt++){ft.index>vt?(zn=ft,ft=null):zn=ft.sibling;var Pt=Le(fe,ft,me[vt],Me);if(Pt===null){ft===null&&(ft=zn);break}n&&ft&&Pt.alternate===null&&s(fe,ft),ie=x(Pt,ie,vt),ht===null?ot=Pt:ht.sibling=Pt,ht=Pt,ft=zn}if(vt===me.length)return l(fe,ft),nn&&Co(fe,vt),ot;if(ft===null){for(;vt<me.length;vt++)ft=je(fe,me[vt],Me),ft!==null&&(ie=x(ft,ie,vt),ht===null?ot=ft:ht.sibling=ft,ht=ft);return nn&&Co(fe,vt),ot}for(ft=p(fe,ft);vt<me.length;vt++)zn=Xe(ft,fe,vt,me[vt],Me),zn!==null&&(n&&zn.alternate!==null&&ft.delete(zn.key===null?vt:zn.key),ie=x(zn,ie,vt),ht===null?ot=zn:ht.sibling=zn,ht=zn);return n&&ft.forEach(function(Ms){return s(fe,Ms)}),nn&&Co(fe,vt),ot}function st(fe,ie,me,Me){var ot=Pe(me);if(typeof ot!="function")throw Error(t(150));if(me=ot.call(me),me==null)throw Error(t(151));for(var ht=ot=null,ft=ie,vt=ie=0,zn=null,Pt=me.next();ft!==null&&!Pt.done;vt++,Pt=me.next()){ft.index>vt?(zn=ft,ft=null):zn=ft.sibling;var Ms=Le(fe,ft,Pt.value,Me);if(Ms===null){ft===null&&(ft=zn);break}n&&ft&&Ms.alternate===null&&s(fe,ft),ie=x(Ms,ie,vt),ht===null?ot=Ms:ht.sibling=Ms,ht=Ms,ft=zn}if(Pt.done)return l(fe,ft),nn&&Co(fe,vt),ot;if(ft===null){for(;!Pt.done;vt++,Pt=me.next())Pt=je(fe,Pt.value,Me),Pt!==null&&(ie=x(Pt,ie,vt),ht===null?ot=Pt:ht.sibling=Pt,ht=Pt);return nn&&Co(fe,vt),ot}for(ft=p(fe,ft);!Pt.done;vt++,Pt=me.next())Pt=Xe(ft,fe,vt,Pt.value,Me),Pt!==null&&(n&&Pt.alternate!==null&&ft.delete(Pt.key===null?vt:Pt.key),ie=x(Pt,ie,vt),ht===null?ot=Pt:ht.sibling=Pt,ht=Pt);return n&&ft.forEach(function(wy){return s(fe,wy)}),nn&&Co(fe,vt),ot}function wn(fe,ie,me,Me){if(typeof me=="object"&&me!==null&&me.type===xe&&me.key===null&&(me=me.props.children),typeof me=="object"&&me!==null){switch(me.$$typeof){case $:e:{for(var ot=me.key,ht=ie;ht!==null;){if(ht.key===ot){if(ot=me.type,ot===xe){if(ht.tag===7){l(fe,ht.sibling),ie=B(ht,me.props.children),ie.return=fe,fe=ie;break e}}else if(ht.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===se&&vp(ot)===ht.type){l(fe,ht.sibling),ie=B(ht,me.props),ie.ref=el(fe,ht,me),ie.return=fe,fe=ie;break e}l(fe,ht);break}else s(fe,ht);ht=ht.sibling}me.type===xe?(ie=Io(me.props.children,fe.mode,Me,me.key),ie.return=fe,fe=ie):(Me=Iu(me.type,me.key,me.props,null,fe.mode,Me),Me.ref=el(fe,ie,me),Me.return=fe,fe=Me)}return I(fe);case q:e:{for(ht=me.key;ie!==null;){if(ie.key===ht)if(ie.tag===4&&ie.stateNode.containerInfo===me.containerInfo&&ie.stateNode.implementation===me.implementation){l(fe,ie.sibling),ie=B(ie,me.children||[]),ie.return=fe,fe=ie;break e}else{l(fe,ie);break}else s(fe,ie);ie=ie.sibling}ie=ih(me,fe.mode,Me),ie.return=fe,fe=ie}return I(fe);case se:return ht=me._init,wn(fe,ie,ht(me._payload),Me)}if(rr(me))return it(fe,ie,me,Me);if(Pe(me))return st(fe,ie,me,Me);ou(fe,me)}return typeof me=="string"&&me!==""||typeof me=="number"?(me=""+me,ie!==null&&ie.tag===6?(l(fe,ie.sibling),ie=B(ie,me),ie.return=fe,fe=ie):(l(fe,ie),ie=rh(me,fe.mode,Me),ie.return=fe,fe=ie),I(fe)):l(fe,ie)}return wn}var oa=wp(!0),Bp=wp(!1),au=Is(null),lu=null,aa=null,fd=null;function pd(){fd=aa=lu=null}function gd(n){var s=au.current;tn(au),n._currentValue=s}function md(n,s,l){for(;n!==null;){var p=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,p!==null&&(p.childLanes|=s)):p!==null&&(p.childLanes&s)!==s&&(p.childLanes|=s),n===l)break;n=n.return}}function la(n,s){lu=n,fd=aa=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&s)!==0&&(jA=!0),n.firstContext=null)}function Cr(n){var s=n._currentValue;if(fd!==n)if(n={context:n,memoizedValue:s,next:null},aa===null){if(lu===null)throw Error(t(308));aa=n,lu.dependencies={lanes:0,firstContext:n}}else aa=aa.next=n;return s}var xo=null;function vd(n){xo===null?xo=[n]:xo.push(n)}function yp(n,s,l,p){var B=s.interleaved;return B===null?(l.next=l,vd(s)):(l.next=B.next,B.next=l),s.interleaved=l,is(n,p)}function is(n,s){n.lanes|=s;var l=n.alternate;for(l!==null&&(l.lanes|=s),l=n,n=n.return;n!==null;)n.childLanes|=s,l=n.alternate,l!==null&&(l.childLanes|=s),l=n,n=n.return;return l.tag===3?l.stateNode:null}var Ts=!1;function wd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _p(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function ss(n,s){return{eventTime:n,lane:s,tag:0,payload:null,callback:null,next:null}}function Ps(n,s,l){var p=n.updateQueue;if(p===null)return null;if(p=p.shared,(Lt&2)!==0){var B=p.pending;return B===null?s.next=s:(s.next=B.next,B.next=s),p.pending=s,is(n,l)}return B=p.interleaved,B===null?(s.next=s,vd(p)):(s.next=B.next,B.next=s),p.interleaved=s,is(n,l)}function uu(n,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var p=s.lanes;p&=n.pendingLanes,l|=p,s.lanes=l,Zn(n,l)}}function Cp(n,s){var l=n.updateQueue,p=n.alternate;if(p!==null&&(p=p.updateQueue,l===p)){var B=null,x=null;if(l=l.firstBaseUpdate,l!==null){do{var I={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};x===null?B=x=I:x=x.next=I,l=l.next}while(l!==null);x===null?B=x=s:x=x.next=s}else B=x=s;l={baseState:p.baseState,firstBaseUpdate:B,lastBaseUpdate:x,shared:p.shared,effects:p.effects},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=s:n.next=s,l.lastBaseUpdate=s}function cu(n,s,l,p){var B=n.updateQueue;Ts=!1;var x=B.firstBaseUpdate,I=B.lastBaseUpdate,V=B.shared.pending;if(V!==null){B.shared.pending=null;var ee=V,ye=ee.next;ee.next=null,I===null?x=ye:I.next=ye,I=ee;var ke=n.alternate;ke!==null&&(ke=ke.updateQueue,V=ke.lastBaseUpdate,V!==I&&(V===null?ke.firstBaseUpdate=ye:V.next=ye,ke.lastBaseUpdate=ee))}if(x!==null){var je=B.baseState;I=0,ke=ye=ee=null,V=x;do{var Le=V.lane,Xe=V.eventTime;if((p&Le)===Le){ke!==null&&(ke=ke.next={eventTime:Xe,lane:0,tag:V.tag,payload:V.payload,callback:V.callback,next:null});e:{var it=n,st=V;switch(Le=s,Xe=l,st.tag){case 1:if(it=st.payload,typeof it=="function"){je=it.call(Xe,je,Le);break e}je=it;break e;case 3:it.flags=it.flags&-65537|128;case 0:if(it=st.payload,Le=typeof it=="function"?it.call(Xe,je,Le):it,Le==null)break e;je=K({},je,Le);break e;case 2:Ts=!0}}V.callback!==null&&V.lane!==0&&(n.flags|=64,Le=B.effects,Le===null?B.effects=[V]:Le.push(V))}else Xe={eventTime:Xe,lane:Le,tag:V.tag,payload:V.payload,callback:V.callback,next:null},ke===null?(ye=ke=Xe,ee=je):ke=ke.next=Xe,I|=Le;if(V=V.next,V===null){if(V=B.shared.pending,V===null)break;Le=V,V=Le.next,Le.next=null,B.lastBaseUpdate=Le,B.shared.pending=null}}while(!0);if(ke===null&&(ee=je),B.baseState=ee,B.firstBaseUpdate=ye,B.lastBaseUpdate=ke,s=B.shared.interleaved,s!==null){B=s;do I|=B.lane,B=B.next;while(B!==s)}else x===null&&(B.shared.lanes=0);Uo|=I,n.lanes=I,n.memoizedState=je}}function xp(n,s,l){if(n=s.effects,s.effects=null,n!==null)for(s=0;s<n.length;s++){var p=n[s],B=p.callback;if(B!==null){if(p.callback=null,p=l,typeof B!="function")throw Error(t(191,B));B.call(p)}}}var tl={},xi=Is(tl),nl=Is(tl),Al=Is(tl);function bo(n){if(n===tl)throw Error(t(174));return n}function Bd(n,s){switch(Gt(Al,s),Gt(nl,n),Gt(xi,tl),n=s.nodeType,n){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:UA(null,"");break;default:n=n===8?s.parentNode:s,s=n.namespaceURI||null,n=n.tagName,s=UA(s,n)}tn(xi),Gt(xi,s)}function ua(){tn(xi),tn(nl),tn(Al)}function bp(n){bo(Al.current);var s=bo(xi.current),l=UA(s,n.type);s!==l&&(Gt(nl,n),Gt(xi,l))}function yd(n){nl.current===n&&(tn(xi),tn(nl))}var sn=Is(0);function du(n){for(var s=n;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var _d=[];function Cd(){for(var n=0;n<_d.length;n++)_d[n]._workInProgressVersionPrimary=null;_d.length=0}var hu=M.ReactCurrentDispatcher,xd=M.ReactCurrentBatchConfig,Qo=0,on=null,In=null,Vn=null,fu=!1,rl=!1,il=0,RB=0;function aA(){throw Error(t(321))}function bd(n,s){if(s===null)return!1;for(var l=0;l<s.length&&l<n.length;l++)if(!re(n[l],s[l]))return!1;return!0}function Qd(n,s,l,p,B,x){if(Qo=x,on=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,hu.current=n===null||n.memoizedState===null?GB:zB,n=l(p,B),rl){x=0;do{if(rl=!1,il=0,25<=x)throw Error(t(301));x+=1,Vn=In=null,s.updateQueue=null,hu.current=WB,n=l(p,B)}while(rl)}if(hu.current=mu,s=In!==null&&In.next!==null,Qo=0,Vn=In=on=null,fu=!1,s)throw Error(t(300));return n}function Ud(){var n=il!==0;return il=0,n}function bi(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vn===null?on.memoizedState=Vn=n:Vn=Vn.next=n,Vn}function xr(){if(In===null){var n=on.alternate;n=n!==null?n.memoizedState:null}else n=In.next;var s=Vn===null?on.memoizedState:Vn.next;if(s!==null)Vn=s,In=n;else{if(n===null)throw Error(t(310));In=n,n={memoizedState:In.memoizedState,baseState:In.baseState,baseQueue:In.baseQueue,queue:In.queue,next:null},Vn===null?on.memoizedState=Vn=n:Vn=Vn.next=n}return Vn}function sl(n,s){return typeof s=="function"?s(n):s}function Ed(n){var s=xr(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=n;var p=In,B=p.baseQueue,x=l.pending;if(x!==null){if(B!==null){var I=B.next;B.next=x.next,x.next=I}p.baseQueue=B=x,l.pending=null}if(B!==null){x=B.next,p=p.baseState;var V=I=null,ee=null,ye=x;do{var ke=ye.lane;if((Qo&ke)===ke)ee!==null&&(ee=ee.next={lane:0,action:ye.action,hasEagerState:ye.hasEagerState,eagerState:ye.eagerState,next:null}),p=ye.hasEagerState?ye.eagerState:n(p,ye.action);else{var je={lane:ke,action:ye.action,hasEagerState:ye.hasEagerState,eagerState:ye.eagerState,next:null};ee===null?(V=ee=je,I=p):ee=ee.next=je,on.lanes|=ke,Uo|=ke}ye=ye.next}while(ye!==null&&ye!==x);ee===null?I=p:ee.next=V,re(p,s.memoizedState)||(jA=!0),s.memoizedState=p,s.baseState=I,s.baseQueue=ee,l.lastRenderedState=p}if(n=l.interleaved,n!==null){B=n;do x=B.lane,on.lanes|=x,Uo|=x,B=B.next;while(B!==n)}else B===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function Fd(n){var s=xr(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=n;var p=l.dispatch,B=l.pending,x=s.memoizedState;if(B!==null){l.pending=null;var I=B=B.next;do x=n(x,I.action),I=I.next;while(I!==B);re(x,s.memoizedState)||(jA=!0),s.memoizedState=x,s.baseQueue===null&&(s.baseState=x),l.lastRenderedState=x}return[x,p]}function Qp(){}function Up(n,s){var l=on,p=xr(),B=s(),x=!re(p.memoizedState,B);if(x&&(p.memoizedState=B,jA=!0),p=p.queue,Sd(Sp.bind(null,l,p,n),[n]),p.getSnapshot!==s||x||Vn!==null&&Vn.memoizedState.tag&1){if(l.flags|=2048,ol(9,Fp.bind(null,l,p,B,s),void 0,null),Gn===null)throw Error(t(349));(Qo&30)!==0||Ep(l,s,B)}return B}function Ep(n,s,l){n.flags|=16384,n={getSnapshot:s,value:l},s=on.updateQueue,s===null?(s={lastEffect:null,stores:null},on.updateQueue=s,s.stores=[n]):(l=s.stores,l===null?s.stores=[n]:l.push(n))}function Fp(n,s,l,p){s.value=l,s.getSnapshot=p,Ip(s)&&Lp(n)}function Sp(n,s,l){return l(function(){Ip(s)&&Lp(n)})}function Ip(n){var s=n.getSnapshot;n=n.value;try{var l=s();return!re(n,l)}catch{return!0}}function Lp(n){var s=is(n,1);s!==null&&Yr(s,n,1,-1)}function kp(n){var s=bi();return typeof n=="function"&&(n=n()),s.memoizedState=s.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sl,lastRenderedState:n},s.queue=n,n=n.dispatch=VB.bind(null,on,n),[s.memoizedState,n]}function ol(n,s,l,p){return n={tag:n,create:s,destroy:l,deps:p,next:null},s=on.updateQueue,s===null?(s={lastEffect:null,stores:null},on.updateQueue=s,s.lastEffect=n.next=n):(l=s.lastEffect,l===null?s.lastEffect=n.next=n:(p=l.next,l.next=n,n.next=p,s.lastEffect=n)),n}function Tp(){return xr().memoizedState}function pu(n,s,l,p){var B=bi();on.flags|=n,B.memoizedState=ol(1|s,l,void 0,p===void 0?null:p)}function gu(n,s,l,p){var B=xr();p=p===void 0?null:p;var x=void 0;if(In!==null){var I=In.memoizedState;if(x=I.destroy,p!==null&&bd(p,I.deps)){B.memoizedState=ol(s,l,x,p);return}}on.flags|=n,B.memoizedState=ol(1|s,l,x,p)}function Pp(n,s){return pu(8390656,8,n,s)}function Sd(n,s){return gu(2048,8,n,s)}function Np(n,s){return gu(4,2,n,s)}function jp(n,s){return gu(4,4,n,s)}function Hp(n,s){if(typeof s=="function")return n=n(),s(n),function(){s(null)};if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function Op(n,s,l){return l=l!=null?l.concat([n]):null,gu(4,4,Hp.bind(null,s,n),l)}function Id(){}function Dp(n,s){var l=xr();s=s===void 0?null:s;var p=l.memoizedState;return p!==null&&s!==null&&bd(s,p[1])?p[0]:(l.memoizedState=[n,s],n)}function Rp(n,s){var l=xr();s=s===void 0?null:s;var p=l.memoizedState;return p!==null&&s!==null&&bd(s,p[1])?p[0]:(n=n(),l.memoizedState=[n,s],n)}function Mp(n,s,l){return(Qo&21)===0?(n.baseState&&(n.baseState=!1,jA=!0),n.memoizedState=l):(re(l,s)||(l=Oi(),on.lanes|=l,Uo|=l,n.baseState=!0),s)}function MB(n,s){var l=xt;xt=l!==0&&4>l?l:4,n(!0);var p=xd.transition;xd.transition={};try{n(!1),s()}finally{xt=l,xd.transition=p}}function Kp(){return xr().memoizedState}function KB(n,s,l){var p=Os(n);if(l={lane:p,action:l,hasEagerState:!1,eagerState:null,next:null},Vp(n))Gp(s,l);else if(l=yp(n,s,l,p),l!==null){var B=_A();Yr(l,n,p,B),zp(l,s,p)}}function VB(n,s,l){var p=Os(n),B={lane:p,action:l,hasEagerState:!1,eagerState:null,next:null};if(Vp(n))Gp(s,B);else{var x=n.alternate;if(n.lanes===0&&(x===null||x.lanes===0)&&(x=s.lastRenderedReducer,x!==null))try{var I=s.lastRenderedState,V=x(I,l);if(B.hasEagerState=!0,B.eagerState=V,re(V,I)){var ee=s.interleaved;ee===null?(B.next=B,vd(s)):(B.next=ee.next,ee.next=B),s.interleaved=B;return}}catch{}finally{}l=yp(n,s,B,p),l!==null&&(B=_A(),Yr(l,n,p,B),zp(l,s,p))}}function Vp(n){var s=n.alternate;return n===on||s!==null&&s===on}function Gp(n,s){rl=fu=!0;var l=n.pending;l===null?s.next=s:(s.next=l.next,l.next=s),n.pending=s}function zp(n,s,l){if((l&4194240)!==0){var p=s.lanes;p&=n.pendingLanes,l|=p,s.lanes=l,Zn(n,l)}}var mu={readContext:Cr,useCallback:aA,useContext:aA,useEffect:aA,useImperativeHandle:aA,useInsertionEffect:aA,useLayoutEffect:aA,useMemo:aA,useReducer:aA,useRef:aA,useState:aA,useDebugValue:aA,useDeferredValue:aA,useTransition:aA,useMutableSource:aA,useSyncExternalStore:aA,useId:aA,unstable_isNewReconciler:!1},GB={readContext:Cr,useCallback:function(n,s){return bi().memoizedState=[n,s===void 0?null:s],n},useContext:Cr,useEffect:Pp,useImperativeHandle:function(n,s,l){return l=l!=null?l.concat([n]):null,pu(4194308,4,Hp.bind(null,s,n),l)},useLayoutEffect:function(n,s){return pu(4194308,4,n,s)},useInsertionEffect:function(n,s){return pu(4,2,n,s)},useMemo:function(n,s){var l=bi();return s=s===void 0?null:s,n=n(),l.memoizedState=[n,s],n},useReducer:function(n,s,l){var p=bi();return s=l!==void 0?l(s):s,p.memoizedState=p.baseState=s,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:s},p.queue=n,n=n.dispatch=KB.bind(null,on,n),[p.memoizedState,n]},useRef:function(n){var s=bi();return n={current:n},s.memoizedState=n},useState:kp,useDebugValue:Id,useDeferredValue:function(n){return bi().memoizedState=n},useTransition:function(){var n=kp(!1),s=n[0];return n=MB.bind(null,n[1]),bi().memoizedState=n,[s,n]},useMutableSource:function(){},useSyncExternalStore:function(n,s,l){var p=on,B=bi();if(nn){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),Gn===null)throw Error(t(349));(Qo&30)!==0||Ep(p,s,l)}B.memoizedState=l;var x={value:l,getSnapshot:s};return B.queue=x,Pp(Sp.bind(null,p,x,n),[n]),p.flags|=2048,ol(9,Fp.bind(null,p,x,l,s),void 0,null),l},useId:function(){var n=bi(),s=Gn.identifierPrefix;if(nn){var l=rs,p=As;l=(p&~(1<<32-ze(p)-1)).toString(32)+l,s=":"+s+"R"+l,l=il++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=RB++,s=":"+s+"r"+l.toString(32)+":";return n.memoizedState=s},unstable_isNewReconciler:!1},zB={readContext:Cr,useCallback:Dp,useContext:Cr,useEffect:Sd,useImperativeHandle:Op,useInsertionEffect:Np,useLayoutEffect:jp,useMemo:Rp,useReducer:Ed,useRef:Tp,useState:function(){return Ed(sl)},useDebugValue:Id,useDeferredValue:function(n){var s=xr();return Mp(s,In.memoizedState,n)},useTransition:function(){var n=Ed(sl)[0],s=xr().memoizedState;return[n,s]},useMutableSource:Qp,useSyncExternalStore:Up,useId:Kp,unstable_isNewReconciler:!1},WB={readContext:Cr,useCallback:Dp,useContext:Cr,useEffect:Sd,useImperativeHandle:Op,useInsertionEffect:Np,useLayoutEffect:jp,useMemo:Rp,useReducer:Fd,useRef:Tp,useState:function(){return Fd(sl)},useDebugValue:Id,useDeferredValue:function(n){var s=xr();return In===null?s.memoizedState=n:Mp(s,In.memoizedState,n)},useTransition:function(){var n=Fd(sl)[0],s=xr().memoizedState;return[n,s]},useMutableSource:Qp,useSyncExternalStore:Up,useId:Kp,unstable_isNewReconciler:!1};function Jr(n,s){if(n&&n.defaultProps){s=K({},s),n=n.defaultProps;for(var l in n)s[l]===void 0&&(s[l]=n[l]);return s}return s}function Ld(n,s,l,p){s=n.memoizedState,l=l(p,s),l=l==null?s:K({},s,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var vu={isMounted:function(n){return(n=n._reactInternals)?En(n)===n:!1},enqueueSetState:function(n,s,l){n=n._reactInternals;var p=_A(),B=Os(n),x=ss(p,B);x.payload=s,l!=null&&(x.callback=l),s=Ps(n,x,B),s!==null&&(Yr(s,n,B,p),uu(s,n,B))},enqueueReplaceState:function(n,s,l){n=n._reactInternals;var p=_A(),B=Os(n),x=ss(p,B);x.tag=1,x.payload=s,l!=null&&(x.callback=l),s=Ps(n,x,B),s!==null&&(Yr(s,n,B,p),uu(s,n,B))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var l=_A(),p=Os(n),B=ss(l,p);B.tag=2,s!=null&&(B.callback=s),s=Ps(n,B,p),s!==null&&(Yr(s,n,p,l),uu(s,n,p))}};function Wp(n,s,l,p,B,x,I){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(p,x,I):s.prototype&&s.prototype.isPureReactComponent?!z(l,p)||!z(B,x):!0}function $p(n,s,l){var p=!1,B=Ls,x=s.contextType;return typeof x=="object"&&x!==null?x=Cr(x):(B=NA(s)?yo:oA.current,p=s.contextTypes,x=(p=p!=null)?Aa(n,B):Ls),s=new s(l,x),n.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=vu,n.stateNode=s,s._reactInternals=n,p&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=B,n.__reactInternalMemoizedMaskedChildContext=x),s}function Zp(n,s,l,p){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,p),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,p),s.state!==n&&vu.enqueueReplaceState(s,s.state,null)}function kd(n,s,l,p){var B=n.stateNode;B.props=l,B.state=n.memoizedState,B.refs={},wd(n);var x=s.contextType;typeof x=="object"&&x!==null?B.context=Cr(x):(x=NA(s)?yo:oA.current,B.context=Aa(n,x)),B.state=n.memoizedState,x=s.getDerivedStateFromProps,typeof x=="function"&&(Ld(n,s,x,l),B.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof B.getSnapshotBeforeUpdate=="function"||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(s=B.state,typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount(),s!==B.state&&vu.enqueueReplaceState(B,B.state,null),cu(n,l,B,p),B.state=n.memoizedState),typeof B.componentDidMount=="function"&&(n.flags|=4194308)}function ca(n,s){try{var l="",p=s;do l+=Ne(p),p=p.return;while(p);var B=l}catch(x){B=`
Error generating stack: `+x.message+`
`+x.stack}return{value:n,source:s,stack:B,digest:null}}function Td(n,s,l){return{value:n,source:null,stack:l??null,digest:s??null}}function Pd(n,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var $B=typeof WeakMap=="function"?WeakMap:Map;function Jp(n,s,l){l=ss(-1,l),l.tag=3,l.payload={element:null};var p=s.value;return l.callback=function(){bu||(bu=!0,Jd=p),Pd(n,s)},l}function qp(n,s,l){l=ss(-1,l),l.tag=3;var p=n.type.getDerivedStateFromError;if(typeof p=="function"){var B=s.value;l.payload=function(){return p(B)},l.callback=function(){Pd(n,s)}}var x=n.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(l.callback=function(){Pd(n,s),typeof p!="function"&&(js===null?js=new Set([this]):js.add(this));var I=s.stack;this.componentDidCatch(s.value,{componentStack:I!==null?I:""})}),l}function Xp(n,s,l){var p=n.pingCache;if(p===null){p=n.pingCache=new $B;var B=new Set;p.set(s,B)}else B=p.get(s),B===void 0&&(B=new Set,p.set(s,B));B.has(l)||(B.add(l),n=ay.bind(null,n,s,l),s.then(n,n))}function Yp(n){do{var s;if((s=n.tag===13)&&(s=n.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return n;n=n.return}while(n!==null);return null}function eg(n,s,l,p,B){return(n.mode&1)===0?(n===s?n.flags|=65536:(n.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=ss(-1,1),s.tag=2,Ps(l,s,1))),l.lanes|=1),n):(n.flags|=65536,n.lanes=B,n)}var ZB=M.ReactCurrentOwner,jA=!1;function yA(n,s,l,p){s.child=n===null?Bp(s,null,l,p):oa(s,n.child,l,p)}function tg(n,s,l,p,B){l=l.render;var x=s.ref;return la(s,B),p=Qd(n,s,l,p,x,B),l=Ud(),n!==null&&!jA?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~B,os(n,s,B)):(nn&&l&&ld(s),s.flags|=1,yA(n,s,p,B),s.child)}function ng(n,s,l,p,B){if(n===null){var x=l.type;return typeof x=="function"&&!Ah(x)&&x.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=x,Ag(n,s,x,p,B)):(n=Iu(l.type,null,p,s,s.mode,B),n.ref=s.ref,n.return=s,s.child=n)}if(x=n.child,(n.lanes&B)===0){var I=x.memoizedProps;if(l=l.compare,l=l!==null?l:z,l(I,p)&&n.ref===s.ref)return os(n,s,B)}return s.flags|=1,n=Rs(x,p),n.ref=s.ref,n.return=s,s.child=n}function Ag(n,s,l,p,B){if(n!==null){var x=n.memoizedProps;if(z(x,p)&&n.ref===s.ref)if(jA=!1,s.pendingProps=p=x,(n.lanes&B)!==0)(n.flags&131072)!==0&&(jA=!0);else return s.lanes=n.lanes,os(n,s,B)}return Nd(n,s,l,p,B)}function rg(n,s,l){var p=s.pendingProps,B=p.children,x=n!==null?n.memoizedState:null;if(p.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Gt(ha,nr),nr|=l;else{if((l&1073741824)===0)return n=x!==null?x.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:n,cachePool:null,transitions:null},s.updateQueue=null,Gt(ha,nr),nr|=n,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=x!==null?x.baseLanes:l,Gt(ha,nr),nr|=p}else x!==null?(p=x.baseLanes|l,s.memoizedState=null):p=l,Gt(ha,nr),nr|=p;return yA(n,s,B,l),s.child}function ig(n,s){var l=s.ref;(n===null&&l!==null||n!==null&&n.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function Nd(n,s,l,p,B){var x=NA(l)?yo:oA.current;return x=Aa(s,x),la(s,B),l=Qd(n,s,l,p,x,B),p=Ud(),n!==null&&!jA?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~B,os(n,s,B)):(nn&&p&&ld(s),s.flags|=1,yA(n,s,l,B),s.child)}function sg(n,s,l,p,B){if(NA(l)){var x=!0;nu(s)}else x=!1;if(la(s,B),s.stateNode===null)Bu(n,s),$p(s,l,p),kd(s,l,p,B),p=!0;else if(n===null){var I=s.stateNode,V=s.memoizedProps;I.props=V;var ee=I.context,ye=l.contextType;typeof ye=="object"&&ye!==null?ye=Cr(ye):(ye=NA(l)?yo:oA.current,ye=Aa(s,ye));var ke=l.getDerivedStateFromProps,je=typeof ke=="function"||typeof I.getSnapshotBeforeUpdate=="function";je||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(V!==p||ee!==ye)&&Zp(s,I,p,ye),Ts=!1;var Le=s.memoizedState;I.state=Le,cu(s,p,I,B),ee=s.memoizedState,V!==p||Le!==ee||PA.current||Ts?(typeof ke=="function"&&(Ld(s,l,ke,p),ee=s.memoizedState),(V=Ts||Wp(s,l,V,p,Le,ee,ye))?(je||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(s.flags|=4194308)):(typeof I.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=p,s.memoizedState=ee),I.props=p,I.state=ee,I.context=ye,p=V):(typeof I.componentDidMount=="function"&&(s.flags|=4194308),p=!1)}else{I=s.stateNode,_p(n,s),V=s.memoizedProps,ye=s.type===s.elementType?V:Jr(s.type,V),I.props=ye,je=s.pendingProps,Le=I.context,ee=l.contextType,typeof ee=="object"&&ee!==null?ee=Cr(ee):(ee=NA(l)?yo:oA.current,ee=Aa(s,ee));var Xe=l.getDerivedStateFromProps;(ke=typeof Xe=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(V!==je||Le!==ee)&&Zp(s,I,p,ee),Ts=!1,Le=s.memoizedState,I.state=Le,cu(s,p,I,B);var it=s.memoizedState;V!==je||Le!==it||PA.current||Ts?(typeof Xe=="function"&&(Ld(s,l,Xe,p),it=s.memoizedState),(ye=Ts||Wp(s,l,ye,p,Le,it,ee)||!1)?(ke||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(p,it,ee),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(p,it,ee)),typeof I.componentDidUpdate=="function"&&(s.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof I.componentDidUpdate!="function"||V===n.memoizedProps&&Le===n.memoizedState||(s.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||V===n.memoizedProps&&Le===n.memoizedState||(s.flags|=1024),s.memoizedProps=p,s.memoizedState=it),I.props=p,I.state=it,I.context=ee,p=ye):(typeof I.componentDidUpdate!="function"||V===n.memoizedProps&&Le===n.memoizedState||(s.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||V===n.memoizedProps&&Le===n.memoizedState||(s.flags|=1024),p=!1)}return jd(n,s,l,p,x,B)}function jd(n,s,l,p,B,x){ig(n,s);var I=(s.flags&128)!==0;if(!p&&!I)return B&&cp(s,l,!1),os(n,s,x);p=s.stateNode,ZB.current=s;var V=I&&typeof l.getDerivedStateFromError!="function"?null:p.render();return s.flags|=1,n!==null&&I?(s.child=oa(s,n.child,null,x),s.child=oa(s,null,V,x)):yA(n,s,V,x),s.memoizedState=p.state,B&&cp(s,l,!0),s.child}function og(n){var s=n.stateNode;s.pendingContext?lp(n,s.pendingContext,s.pendingContext!==s.context):s.context&&lp(n,s.context,!1),Bd(n,s.containerInfo)}function ag(n,s,l,p,B){return sa(),hd(B),s.flags|=256,yA(n,s,l,p),s.child}var Hd={dehydrated:null,treeContext:null,retryLane:0};function Od(n){return{baseLanes:n,cachePool:null,transitions:null}}function lg(n,s,l){var p=s.pendingProps,B=sn.current,x=!1,I=(s.flags&128)!==0,V;if((V=I)||(V=n!==null&&n.memoizedState===null?!1:(B&2)!==0),V?(x=!0,s.flags&=-129):(n===null||n.memoizedState!==null)&&(B|=1),Gt(sn,B&1),n===null)return dd(s),n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((s.mode&1)===0?s.lanes=1:n.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(I=p.children,n=p.fallback,x?(p=s.mode,x=s.child,I={mode:"hidden",children:I},(p&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=I):x=Lu(I,p,0,null),n=Io(n,p,l,null),x.return=s,n.return=s,x.sibling=n,s.child=x,s.child.memoizedState=Od(l),s.memoizedState=Hd,n):Dd(s,I));if(B=n.memoizedState,B!==null&&(V=B.dehydrated,V!==null))return JB(n,s,I,p,V,B,l);if(x){x=p.fallback,I=s.mode,B=n.child,V=B.sibling;var ee={mode:"hidden",children:p.children};return(I&1)===0&&s.child!==B?(p=s.child,p.childLanes=0,p.pendingProps=ee,s.deletions=null):(p=Rs(B,ee),p.subtreeFlags=B.subtreeFlags&14680064),V!==null?x=Rs(V,x):(x=Io(x,I,l,null),x.flags|=2),x.return=s,p.return=s,p.sibling=x,s.child=p,p=x,x=s.child,I=n.child.memoizedState,I=I===null?Od(l):{baseLanes:I.baseLanes|l,cachePool:null,transitions:I.transitions},x.memoizedState=I,x.childLanes=n.childLanes&~l,s.memoizedState=Hd,p}return x=n.child,n=x.sibling,p=Rs(x,{mode:"visible",children:p.children}),(s.mode&1)===0&&(p.lanes=l),p.return=s,p.sibling=null,n!==null&&(l=s.deletions,l===null?(s.deletions=[n],s.flags|=16):l.push(n)),s.child=p,s.memoizedState=null,p}function Dd(n,s){return s=Lu({mode:"visible",children:s},n.mode,0,null),s.return=n,n.child=s}function wu(n,s,l,p){return p!==null&&hd(p),oa(s,n.child,null,l),n=Dd(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function JB(n,s,l,p,B,x,I){if(l)return s.flags&256?(s.flags&=-257,p=Td(Error(t(422))),wu(n,s,I,p)):s.memoizedState!==null?(s.child=n.child,s.flags|=128,null):(x=p.fallback,B=s.mode,p=Lu({mode:"visible",children:p.children},B,0,null),x=Io(x,B,I,null),x.flags|=2,p.return=s,x.return=s,p.sibling=x,s.child=p,(s.mode&1)!==0&&oa(s,n.child,null,I),s.child.memoizedState=Od(I),s.memoizedState=Hd,x);if((s.mode&1)===0)return wu(n,s,I,null);if(B.data==="$!"){if(p=B.nextSibling&&B.nextSibling.dataset,p)var V=p.dgst;return p=V,x=Error(t(419)),p=Td(x,p,void 0),wu(n,s,I,p)}if(V=(I&n.childLanes)!==0,jA||V){if(p=Gn,p!==null){switch(I&-I){case 4:B=2;break;case 16:B=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:B=32;break;case 536870912:B=268435456;break;default:B=0}B=(B&(p.suspendedLanes|I))!==0?0:B,B!==0&&B!==x.retryLane&&(x.retryLane=B,is(n,B),Yr(p,n,B,-1))}return nh(),p=Td(Error(t(421))),wu(n,s,I,p)}return B.data==="$?"?(s.flags|=128,s.child=n.child,s=ly.bind(null,n),B._reactRetry=s,null):(n=x.treeContext,tr=Ci(B.nextSibling),er=s,nn=!0,Zr=null,n!==null&&(yr[_r++]=As,yr[_r++]=rs,yr[_r++]=_o,As=n.id,rs=n.overflow,_o=s),s=Dd(s,p.children),s.flags|=4096,s)}function ug(n,s,l){n.lanes|=s;var p=n.alternate;p!==null&&(p.lanes|=s),md(n.return,s,l)}function Rd(n,s,l,p,B){var x=n.memoizedState;x===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:p,tail:l,tailMode:B}:(x.isBackwards=s,x.rendering=null,x.renderingStartTime=0,x.last=p,x.tail=l,x.tailMode=B)}function cg(n,s,l){var p=s.pendingProps,B=p.revealOrder,x=p.tail;if(yA(n,s,p.children,l),p=sn.current,(p&2)!==0)p=p&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&ug(n,l,s);else if(n.tag===19)ug(n,l,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}p&=1}if(Gt(sn,p),(s.mode&1)===0)s.memoizedState=null;else switch(B){case"forwards":for(l=s.child,B=null;l!==null;)n=l.alternate,n!==null&&du(n)===null&&(B=l),l=l.sibling;l=B,l===null?(B=s.child,s.child=null):(B=l.sibling,l.sibling=null),Rd(s,!1,B,l,x);break;case"backwards":for(l=null,B=s.child,s.child=null;B!==null;){if(n=B.alternate,n!==null&&du(n)===null){s.child=B;break}n=B.sibling,B.sibling=l,l=B,B=n}Rd(s,!0,l,null,x);break;case"together":Rd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Bu(n,s){(s.mode&1)===0&&n!==null&&(n.alternate=null,s.alternate=null,s.flags|=2)}function os(n,s,l){if(n!==null&&(s.dependencies=n.dependencies),Uo|=s.lanes,(l&s.childLanes)===0)return null;if(n!==null&&s.child!==n.child)throw Error(t(153));if(s.child!==null){for(n=s.child,l=Rs(n,n.pendingProps),s.child=l,l.return=s;n.sibling!==null;)n=n.sibling,l=l.sibling=Rs(n,n.pendingProps),l.return=s;l.sibling=null}return s.child}function qB(n,s,l){switch(s.tag){case 3:og(s),sa();break;case 5:bp(s);break;case 1:NA(s.type)&&nu(s);break;case 4:Bd(s,s.stateNode.containerInfo);break;case 10:var p=s.type._context,B=s.memoizedProps.value;Gt(au,p._currentValue),p._currentValue=B;break;case 13:if(p=s.memoizedState,p!==null)return p.dehydrated!==null?(Gt(sn,sn.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?lg(n,s,l):(Gt(sn,sn.current&1),n=os(n,s,l),n!==null?n.sibling:null);Gt(sn,sn.current&1);break;case 19:if(p=(l&s.childLanes)!==0,(n.flags&128)!==0){if(p)return cg(n,s,l);s.flags|=128}if(B=s.memoizedState,B!==null&&(B.rendering=null,B.tail=null,B.lastEffect=null),Gt(sn,sn.current),p)break;return null;case 22:case 23:return s.lanes=0,rg(n,s,l)}return os(n,s,l)}var dg,Md,hg,fg;dg=function(n,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)n.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Md=function(){},hg=function(n,s,l,p){var B=n.memoizedProps;if(B!==p){n=s.stateNode,bo(xi.current);var x=null;switch(l){case"input":B=io(n,B),p=io(n,p),x=[];break;case"select":B=K({},B,{value:void 0}),p=K({},p,{value:void 0}),x=[];break;case"textarea":B=Ti(n,B),p=Ti(n,p),x=[];break;default:typeof B.onClick!="function"&&typeof p.onClick=="function"&&(n.onclick=Ue)}rt(l,p);var I;l=null;for(ye in B)if(!p.hasOwnProperty(ye)&&B.hasOwnProperty(ye)&&B[ye]!=null)if(ye==="style"){var V=B[ye];for(I in V)V.hasOwnProperty(I)&&(l||(l={}),l[I]="")}else ye!=="dangerouslySetInnerHTML"&&ye!=="children"&&ye!=="suppressContentEditableWarning"&&ye!=="suppressHydrationWarning"&&ye!=="autoFocus"&&(o.hasOwnProperty(ye)?x||(x=[]):(x=x||[]).push(ye,null));for(ye in p){var ee=p[ye];if(V=B?.[ye],p.hasOwnProperty(ye)&&ee!==V&&(ee!=null||V!=null))if(ye==="style")if(V){for(I in V)!V.hasOwnProperty(I)||ee&&ee.hasOwnProperty(I)||(l||(l={}),l[I]="");for(I in ee)ee.hasOwnProperty(I)&&V[I]!==ee[I]&&(l||(l={}),l[I]=ee[I])}else l||(x||(x=[]),x.push(ye,l)),l=ee;else ye==="dangerouslySetInnerHTML"?(ee=ee?ee.__html:void 0,V=V?V.__html:void 0,ee!=null&&V!==ee&&(x=x||[]).push(ye,ee)):ye==="children"?typeof ee!="string"&&typeof ee!="number"||(x=x||[]).push(ye,""+ee):ye!=="suppressContentEditableWarning"&&ye!=="suppressHydrationWarning"&&(o.hasOwnProperty(ye)?(ee!=null&&ye==="onScroll"&&Mt("scroll",n),x||V===ee||(x=[])):(x=x||[]).push(ye,ee))}l&&(x=x||[]).push("style",l);var ye=x;(s.updateQueue=ye)&&(s.flags|=4)}},fg=function(n,s,l,p){l!==p&&(s.flags|=4)};function al(n,s){if(!nn)switch(n.tailMode){case"hidden":s=n.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var p=null;l!==null;)l.alternate!==null&&(p=l),l=l.sibling;p===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:p.sibling=null}}function lA(n){var s=n.alternate!==null&&n.alternate.child===n.child,l=0,p=0;if(s)for(var B=n.child;B!==null;)l|=B.lanes|B.childLanes,p|=B.subtreeFlags&14680064,p|=B.flags&14680064,B.return=n,B=B.sibling;else for(B=n.child;B!==null;)l|=B.lanes|B.childLanes,p|=B.subtreeFlags,p|=B.flags,B.return=n,B=B.sibling;return n.subtreeFlags|=p,n.childLanes=l,s}function XB(n,s,l){var p=s.pendingProps;switch(ud(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lA(s),null;case 1:return NA(s.type)&&tu(),lA(s),null;case 3:return p=s.stateNode,ua(),tn(PA),tn(oA),Cd(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(n===null||n.child===null)&&(su(s)?s.flags|=4:n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Zr!==null&&(Yd(Zr),Zr=null))),Md(n,s),lA(s),null;case 5:yd(s);var B=bo(Al.current);if(l=s.type,n!==null&&s.stateNode!=null)hg(n,s,l,p,B),n.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!p){if(s.stateNode===null)throw Error(t(166));return lA(s),null}if(n=bo(xi.current),su(s)){p=s.stateNode,l=s.type;var x=s.memoizedProps;switch(p[Br]=s,p[Fs]=x,n=(s.mode&1)!==0,l){case"dialog":Mt("cancel",p),Mt("close",p);break;case"iframe":case"object":case"embed":Mt("load",p);break;case"video":case"audio":for(B=0;B<Qs.length;B++)Mt(Qs[B],p);break;case"source":Mt("error",p);break;case"img":case"image":case"link":Mt("error",p),Mt("load",p);break;case"details":Mt("toggle",p);break;case"input":MA(p,x),Mt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!x.multiple},Mt("invalid",p);break;case"textarea":Ir(p,x),Mt("invalid",p)}rt(l,x),B=null;for(var I in x)if(x.hasOwnProperty(I)){var V=x[I];I==="children"?typeof V=="string"?p.textContent!==V&&(x.suppressHydrationWarning!==!0&&we(p.textContent,V,n),B=["children",V]):typeof V=="number"&&p.textContent!==""+V&&(x.suppressHydrationWarning!==!0&&we(p.textContent,V,n),B=["children",""+V]):o.hasOwnProperty(I)&&V!=null&&I==="onScroll"&&Mt("scroll",p)}switch(l){case"input":fA(p),ki(p,x,!0);break;case"textarea":fA(p),ii(p);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(p.onclick=Ue)}p=B,s.updateQueue=p,p!==null&&(s.flags|=4)}else{I=B.nodeType===9?B:B.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=QA(l)),n==="http://www.w3.org/1999/xhtml"?l==="script"?(n=I.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof p.is=="string"?n=I.createElement(l,{is:p.is}):(n=I.createElement(l),l==="select"&&(I=n,p.multiple?I.multiple=!0:p.size&&(I.size=p.size))):n=I.createElementNS(n,l),n[Br]=s,n[Fs]=p,dg(n,s,!1,!1),s.stateNode=n;e:{switch(I=pA(l,p),l){case"dialog":Mt("cancel",n),Mt("close",n),B=p;break;case"iframe":case"object":case"embed":Mt("load",n),B=p;break;case"video":case"audio":for(B=0;B<Qs.length;B++)Mt(Qs[B],n);B=p;break;case"source":Mt("error",n),B=p;break;case"img":case"image":case"link":Mt("error",n),Mt("load",n),B=p;break;case"details":Mt("toggle",n),B=p;break;case"input":MA(n,p),B=io(n,p),Mt("invalid",n);break;case"option":B=p;break;case"select":n._wrapperState={wasMultiple:!!p.multiple},B=K({},p,{value:void 0}),Mt("invalid",n);break;case"textarea":Ir(n,p),B=Ti(n,p),Mt("invalid",n);break;default:B=p}rt(l,B),V=B;for(x in V)if(V.hasOwnProperty(x)){var ee=V[x];x==="style"?ai(n,ee):x==="dangerouslySetInnerHTML"?(ee=ee?ee.__html:void 0,ee!=null&&si(n,ee)):x==="children"?typeof ee=="string"?(l!=="textarea"||ee!=="")&&ir(n,ee):typeof ee=="number"&&ir(n,""+ee):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(o.hasOwnProperty(x)?ee!=null&&x==="onScroll"&&Mt("scroll",n):ee!=null&&J(n,x,ee,I))}switch(l){case"input":fA(n),ki(n,p,!1);break;case"textarea":fA(n),ii(n);break;case"option":p.value!=null&&n.setAttribute("value",""+mt(p.value));break;case"select":n.multiple=!!p.multiple,x=p.value,x!=null?fn(n,!!p.multiple,x,!1):p.defaultValue!=null&&fn(n,!!p.multiple,p.defaultValue,!0);break;default:typeof B.onClick=="function"&&(n.onclick=Ue)}switch(l){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return lA(s),null;case 6:if(n&&s.stateNode!=null)fg(n,s,n.memoizedProps,p);else{if(typeof p!="string"&&s.stateNode===null)throw Error(t(166));if(l=bo(Al.current),bo(xi.current),su(s)){if(p=s.stateNode,l=s.memoizedProps,p[Br]=s,(x=p.nodeValue!==l)&&(n=er,n!==null))switch(n.tag){case 3:we(p.nodeValue,l,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&we(p.nodeValue,l,(n.mode&1)!==0)}x&&(s.flags|=4)}else p=(l.nodeType===9?l:l.ownerDocument).createTextNode(p),p[Br]=s,s.stateNode=p}return lA(s),null;case 13:if(tn(sn),p=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(nn&&tr!==null&&(s.mode&1)!==0&&(s.flags&128)===0)mp(),sa(),s.flags|=98560,x=!1;else if(x=su(s),p!==null&&p.dehydrated!==null){if(n===null){if(!x)throw Error(t(318));if(x=s.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(t(317));x[Br]=s}else sa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;lA(s),x=!1}else Zr!==null&&(Yd(Zr),Zr=null),x=!0;if(!x)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(p=p!==null,p!==(n!==null&&n.memoizedState!==null)&&p&&(s.child.flags|=8192,(s.mode&1)!==0&&(n===null||(sn.current&1)!==0?Ln===0&&(Ln=3):nh())),s.updateQueue!==null&&(s.flags|=4),lA(s),null);case 4:return ua(),Md(n,s),n===null&&Us(s.stateNode.containerInfo),lA(s),null;case 10:return gd(s.type._context),lA(s),null;case 17:return NA(s.type)&&tu(),lA(s),null;case 19:if(tn(sn),x=s.memoizedState,x===null)return lA(s),null;if(p=(s.flags&128)!==0,I=x.rendering,I===null)if(p)al(x,!1);else{if(Ln!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(I=du(n),I!==null){for(s.flags|=128,al(x,!1),p=I.updateQueue,p!==null&&(s.updateQueue=p,s.flags|=4),s.subtreeFlags=0,p=l,l=s.child;l!==null;)x=l,n=p,x.flags&=14680066,I=x.alternate,I===null?(x.childLanes=0,x.lanes=n,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=I.childLanes,x.lanes=I.lanes,x.child=I.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=I.memoizedProps,x.memoizedState=I.memoizedState,x.updateQueue=I.updateQueue,x.type=I.type,n=I.dependencies,x.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),l=l.sibling;return Gt(sn,sn.current&1|2),s.child}n=n.sibling}x.tail!==null&&It()>fa&&(s.flags|=128,p=!0,al(x,!1),s.lanes=4194304)}else{if(!p)if(n=du(I),n!==null){if(s.flags|=128,p=!0,l=n.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),al(x,!0),x.tail===null&&x.tailMode==="hidden"&&!I.alternate&&!nn)return lA(s),null}else 2*It()-x.renderingStartTime>fa&&l!==1073741824&&(s.flags|=128,p=!0,al(x,!1),s.lanes=4194304);x.isBackwards?(I.sibling=s.child,s.child=I):(l=x.last,l!==null?l.sibling=I:s.child=I,x.last=I)}return x.tail!==null?(s=x.tail,x.rendering=s,x.tail=s.sibling,x.renderingStartTime=It(),s.sibling=null,l=sn.current,Gt(sn,p?l&1|2:l&1),s):(lA(s),null);case 22:case 23:return th(),p=s.memoizedState!==null,n!==null&&n.memoizedState!==null!==p&&(s.flags|=8192),p&&(s.mode&1)!==0?(nr&1073741824)!==0&&(lA(s),s.subtreeFlags&6&&(s.flags|=8192)):lA(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function YB(n,s){switch(ud(s),s.tag){case 1:return NA(s.type)&&tu(),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return ua(),tn(PA),tn(oA),Cd(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 5:return yd(s),null;case 13:if(tn(sn),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(t(340));sa()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return tn(sn),null;case 4:return ua(),null;case 10:return gd(s.type._context),null;case 22:case 23:return th(),null;case 24:return null;default:return null}}var yu=!1,uA=!1,ey=typeof WeakSet=="function"?WeakSet:Set,nt=null;function da(n,s){var l=n.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(p){dn(n,s,p)}else l.current=null}function Kd(n,s,l){try{l()}catch(p){dn(n,s,p)}}var pg=!1;function ty(n,s){if($e=Mi,n=ue(),ae(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var p=l.getSelection&&l.getSelection();if(p&&p.rangeCount!==0){l=p.anchorNode;var B=p.anchorOffset,x=p.focusNode;p=p.focusOffset;try{l.nodeType,x.nodeType}catch{l=null;break e}var I=0,V=-1,ee=-1,ye=0,ke=0,je=n,Le=null;t:for(;;){for(var Xe;je!==l||B!==0&&je.nodeType!==3||(V=I+B),je!==x||p!==0&&je.nodeType!==3||(ee=I+p),je.nodeType===3&&(I+=je.nodeValue.length),(Xe=je.firstChild)!==null;)Le=je,je=Xe;for(;;){if(je===n)break t;if(Le===l&&++ye===B&&(V=I),Le===x&&++ke===p&&(ee=I),(Xe=je.nextSibling)!==null)break;je=Le,Le=je.parentNode}je=Xe}l=V===-1||ee===-1?null:{start:V,end:ee}}else l=null}l=l||{start:0,end:0}}else l=null;for(ct={focusedElem:n,selectionRange:l},Mi=!1,nt=s;nt!==null;)if(s=nt,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,nt=n;else for(;nt!==null;){s=nt;try{var it=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(it!==null){var st=it.memoizedProps,wn=it.memoizedState,fe=s.stateNode,ie=fe.getSnapshotBeforeUpdate(s.elementType===s.type?st:Jr(s.type,st),wn);fe.__reactInternalSnapshotBeforeUpdate=ie}break;case 3:var me=s.stateNode.containerInfo;me.nodeType===1?me.textContent="":me.nodeType===9&&me.documentElement&&me.removeChild(me.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Me){dn(s,s.return,Me)}if(n=s.sibling,n!==null){n.return=s.return,nt=n;break}nt=s.return}return it=pg,pg=!1,it}function ll(n,s,l){var p=s.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var B=p=p.next;do{if((B.tag&n)===n){var x=B.destroy;B.destroy=void 0,x!==void 0&&Kd(s,l,x)}B=B.next}while(B!==p)}}function _u(n,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&n)===n){var p=l.create;l.destroy=p()}l=l.next}while(l!==s)}}function Vd(n){var s=n.ref;if(s!==null){var l=n.stateNode;switch(n.tag){case 5:n=l;break;default:n=l}typeof s=="function"?s(n):s.current=n}}function gg(n){var s=n.alternate;s!==null&&(n.alternate=null,gg(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&(delete s[Br],delete s[Fs],delete s[Ss],delete s[id],delete s[sd])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function mg(n){return n.tag===5||n.tag===3||n.tag===4}function vg(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||mg(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Gd(n,s,l){var p=n.tag;if(p===5||p===6)n=n.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(n,s):l.insertBefore(n,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(n,l)):(s=l,s.appendChild(n)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Ue));else if(p!==4&&(n=n.child,n!==null))for(Gd(n,s,l),n=n.sibling;n!==null;)Gd(n,s,l),n=n.sibling}function zd(n,s,l){var p=n.tag;if(p===5||p===6)n=n.stateNode,s?l.insertBefore(n,s):l.appendChild(n);else if(p!==4&&(n=n.child,n!==null))for(zd(n,s,l),n=n.sibling;n!==null;)zd(n,s,l),n=n.sibling}var eA=null,qr=!1;function Ns(n,s,l){for(l=l.child;l!==null;)wg(n,s,l),l=l.sibling}function wg(n,s,l){if(jn&&typeof jn.onCommitFiberUnmount=="function")try{jn.onCommitFiberUnmount(di,l)}catch{}switch(l.tag){case 5:uA||da(l,s);case 6:var p=eA,B=qr;eA=null,Ns(n,s,l),eA=p,qr=B,eA!==null&&(qr?(n=eA,l=l.stateNode,n.nodeType===8?n.parentNode.removeChild(l):n.removeChild(l)):eA.removeChild(l.stateNode));break;case 18:eA!==null&&(qr?(n=eA,l=l.stateNode,n.nodeType===8?Ya(n.parentNode,l):n.nodeType===1&&Ya(n,l),qn(n)):Ya(eA,l.stateNode));break;case 4:p=eA,B=qr,eA=l.stateNode.containerInfo,qr=!0,Ns(n,s,l),eA=p,qr=B;break;case 0:case 11:case 14:case 15:if(!uA&&(p=l.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){B=p=p.next;do{var x=B,I=x.destroy;x=x.tag,I!==void 0&&((x&2)!==0||(x&4)!==0)&&Kd(l,s,I),B=B.next}while(B!==p)}Ns(n,s,l);break;case 1:if(!uA&&(da(l,s),p=l.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=l.memoizedProps,p.state=l.memoizedState,p.componentWillUnmount()}catch(V){dn(l,s,V)}Ns(n,s,l);break;case 21:Ns(n,s,l);break;case 22:l.mode&1?(uA=(p=uA)||l.memoizedState!==null,Ns(n,s,l),uA=p):Ns(n,s,l);break;default:Ns(n,s,l)}}function Bg(n){var s=n.updateQueue;if(s!==null){n.updateQueue=null;var l=n.stateNode;l===null&&(l=n.stateNode=new ey),s.forEach(function(p){var B=uy.bind(null,n,p);l.has(p)||(l.add(p),p.then(B,B))})}}function Xr(n,s){var l=s.deletions;if(l!==null)for(var p=0;p<l.length;p++){var B=l[p];try{var x=n,I=s,V=I;e:for(;V!==null;){switch(V.tag){case 5:eA=V.stateNode,qr=!1;break e;case 3:eA=V.stateNode.containerInfo,qr=!0;break e;case 4:eA=V.stateNode.containerInfo,qr=!0;break e}V=V.return}if(eA===null)throw Error(t(160));wg(x,I,B),eA=null,qr=!1;var ee=B.alternate;ee!==null&&(ee.return=null),B.return=null}catch(ye){dn(B,s,ye)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)yg(s,n),s=s.sibling}function yg(n,s){var l=n.alternate,p=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Xr(s,n),Qi(n),p&4){try{ll(3,n,n.return),_u(3,n)}catch(st){dn(n,n.return,st)}try{ll(5,n,n.return)}catch(st){dn(n,n.return,st)}}break;case 1:Xr(s,n),Qi(n),p&512&&l!==null&&da(l,l.return);break;case 5:if(Xr(s,n),Qi(n),p&512&&l!==null&&da(l,l.return),n.flags&32){var B=n.stateNode;try{ir(B,"")}catch(st){dn(n,n.return,st)}}if(p&4&&(B=n.stateNode,B!=null)){var x=n.memoizedProps,I=l!==null?l.memoizedProps:x,V=n.type,ee=n.updateQueue;if(n.updateQueue=null,ee!==null)try{V==="input"&&x.type==="radio"&&x.name!=null&&so(B,x),pA(V,I);var ye=pA(V,x);for(I=0;I<ee.length;I+=2){var ke=ee[I],je=ee[I+1];ke==="style"?ai(B,je):ke==="dangerouslySetInnerHTML"?si(B,je):ke==="children"?ir(B,je):J(B,ke,je,ye)}switch(V){case"input":Li(B,x);break;case"textarea":ao(B,x);break;case"select":var Le=B._wrapperState.wasMultiple;B._wrapperState.wasMultiple=!!x.multiple;var Xe=x.value;Xe!=null?fn(B,!!x.multiple,Xe,!1):Le!==!!x.multiple&&(x.defaultValue!=null?fn(B,!!x.multiple,x.defaultValue,!0):fn(B,!!x.multiple,x.multiple?[]:"",!1))}B[Fs]=x}catch(st){dn(n,n.return,st)}}break;case 6:if(Xr(s,n),Qi(n),p&4){if(n.stateNode===null)throw Error(t(162));B=n.stateNode,x=n.memoizedProps;try{B.nodeValue=x}catch(st){dn(n,n.return,st)}}break;case 3:if(Xr(s,n),Qi(n),p&4&&l!==null&&l.memoizedState.isDehydrated)try{qn(s.containerInfo)}catch(st){dn(n,n.return,st)}break;case 4:Xr(s,n),Qi(n);break;case 13:Xr(s,n),Qi(n),B=n.child,B.flags&8192&&(x=B.memoizedState!==null,B.stateNode.isHidden=x,!x||B.alternate!==null&&B.alternate.memoizedState!==null||(Zd=It())),p&4&&Bg(n);break;case 22:if(ke=l!==null&&l.memoizedState!==null,n.mode&1?(uA=(ye=uA)||ke,Xr(s,n),uA=ye):Xr(s,n),Qi(n),p&8192){if(ye=n.memoizedState!==null,(n.stateNode.isHidden=ye)&&!ke&&(n.mode&1)!==0)for(nt=n,ke=n.child;ke!==null;){for(je=nt=ke;nt!==null;){switch(Le=nt,Xe=Le.child,Le.tag){case 0:case 11:case 14:case 15:ll(4,Le,Le.return);break;case 1:da(Le,Le.return);var it=Le.stateNode;if(typeof it.componentWillUnmount=="function"){p=Le,l=Le.return;try{s=p,it.props=s.memoizedProps,it.state=s.memoizedState,it.componentWillUnmount()}catch(st){dn(p,l,st)}}break;case 5:da(Le,Le.return);break;case 22:if(Le.memoizedState!==null){xg(je);continue}}Xe!==null?(Xe.return=Le,nt=Xe):xg(je)}ke=ke.sibling}e:for(ke=null,je=n;;){if(je.tag===5){if(ke===null){ke=je;try{B=je.stateNode,ye?(x=B.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(V=je.stateNode,ee=je.memoizedProps.style,I=ee!=null&&ee.hasOwnProperty("display")?ee.display:null,V.style.display=oi("display",I))}catch(st){dn(n,n.return,st)}}}else if(je.tag===6){if(ke===null)try{je.stateNode.nodeValue=ye?"":je.memoizedProps}catch(st){dn(n,n.return,st)}}else if((je.tag!==22&&je.tag!==23||je.memoizedState===null||je===n)&&je.child!==null){je.child.return=je,je=je.child;continue}if(je===n)break e;for(;je.sibling===null;){if(je.return===null||je.return===n)break e;ke===je&&(ke=null),je=je.return}ke===je&&(ke=null),je.sibling.return=je.return,je=je.sibling}}break;case 19:Xr(s,n),Qi(n),p&4&&Bg(n);break;case 21:break;default:Xr(s,n),Qi(n)}}function Qi(n){var s=n.flags;if(s&2){try{e:{for(var l=n.return;l!==null;){if(mg(l)){var p=l;break e}l=l.return}throw Error(t(160))}switch(p.tag){case 5:var B=p.stateNode;p.flags&32&&(ir(B,""),p.flags&=-33);var x=vg(n);zd(n,x,B);break;case 3:case 4:var I=p.stateNode.containerInfo,V=vg(n);Gd(n,V,I);break;default:throw Error(t(161))}}catch(ee){dn(n,n.return,ee)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function ny(n,s,l){nt=n,_g(n)}function _g(n,s,l){for(var p=(n.mode&1)!==0;nt!==null;){var B=nt,x=B.child;if(B.tag===22&&p){var I=B.memoizedState!==null||yu;if(!I){var V=B.alternate,ee=V!==null&&V.memoizedState!==null||uA;V=yu;var ye=uA;if(yu=I,(uA=ee)&&!ye)for(nt=B;nt!==null;)I=nt,ee=I.child,I.tag===22&&I.memoizedState!==null?bg(B):ee!==null?(ee.return=I,nt=ee):bg(B);for(;x!==null;)nt=x,_g(x),x=x.sibling;nt=B,yu=V,uA=ye}Cg(n)}else(B.subtreeFlags&8772)!==0&&x!==null?(x.return=B,nt=x):Cg(n)}}function Cg(n){for(;nt!==null;){var s=nt;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:uA||_u(5,s);break;case 1:var p=s.stateNode;if(s.flags&4&&!uA)if(l===null)p.componentDidMount();else{var B=s.elementType===s.type?l.memoizedProps:Jr(s.type,l.memoizedProps);p.componentDidUpdate(B,l.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var x=s.updateQueue;x!==null&&xp(s,x,p);break;case 3:var I=s.updateQueue;if(I!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}xp(s,I,l)}break;case 5:var V=s.stateNode;if(l===null&&s.flags&4){l=V;var ee=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":ee.autoFocus&&l.focus();break;case"img":ee.src&&(l.src=ee.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var ye=s.alternate;if(ye!==null){var ke=ye.memoizedState;if(ke!==null){var je=ke.dehydrated;je!==null&&qn(je)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}uA||s.flags&512&&Vd(s)}catch(Le){dn(s,s.return,Le)}}if(s===n){nt=null;break}if(l=s.sibling,l!==null){l.return=s.return,nt=l;break}nt=s.return}}function xg(n){for(;nt!==null;){var s=nt;if(s===n){nt=null;break}var l=s.sibling;if(l!==null){l.return=s.return,nt=l;break}nt=s.return}}function bg(n){for(;nt!==null;){var s=nt;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{_u(4,s)}catch(ee){dn(s,l,ee)}break;case 1:var p=s.stateNode;if(typeof p.componentDidMount=="function"){var B=s.return;try{p.componentDidMount()}catch(ee){dn(s,B,ee)}}var x=s.return;try{Vd(s)}catch(ee){dn(s,x,ee)}break;case 5:var I=s.return;try{Vd(s)}catch(ee){dn(s,I,ee)}}}catch(ee){dn(s,s.return,ee)}if(s===n){nt=null;break}var V=s.sibling;if(V!==null){V.return=s.return,nt=V;break}nt=s.return}}var Ay=Math.ceil,Cu=M.ReactCurrentDispatcher,Wd=M.ReactCurrentOwner,br=M.ReactCurrentBatchConfig,Lt=0,Gn=null,bn=null,tA=0,nr=0,ha=Is(0),Ln=0,ul=null,Uo=0,xu=0,$d=0,cl=null,HA=null,Zd=0,fa=1/0,as=null,bu=!1,Jd=null,js=null,Qu=!1,Hs=null,Uu=0,dl=0,qd=null,Eu=-1,Fu=0;function _A(){return(Lt&6)!==0?It():Eu!==-1?Eu:Eu=It()}function Os(n){return(n.mode&1)===0?1:(Lt&2)!==0&&tA!==0?tA&-tA:DB.transition!==null?(Fu===0&&(Fu=Oi()),Fu):(n=xt,n!==0||(n=window.event,n=n===void 0?16:yt(n.type)),n)}function Yr(n,s,l,p){if(50<dl)throw dl=0,qd=null,Error(t(185));Hn(n,l,p),((Lt&2)===0||n!==Gn)&&(n===Gn&&((Lt&2)===0&&(xu|=l),Ln===4&&Ds(n,tA)),OA(n,p),l===1&&Lt===0&&(s.mode&1)===0&&(fa=It()+500,Au&&ks()))}function OA(n,s){var l=n.callbackNode;fi(n,s);var p=Tt(n,n===Gn?tA:0);if(p===0)l!==null&&Pi(l),n.callbackNode=null,n.callbackPriority=0;else if(s=p&-p,n.callbackPriority!==s){if(l!=null&&Pi(l),s===1)n.tag===0?OB(Ug.bind(null,n)):dp(Ug.bind(null,n)),sA(function(){(Lt&6)===0&&ks()}),l=null;else{switch(pi(p)){case 1:l=dr;break;case 4:l=Ni;break;case 16:l=ci;break;case 536870912:l=rA;break;default:l=ci}l=Pg(l,Qg.bind(null,n))}n.callbackPriority=s,n.callbackNode=l}}function Qg(n,s){if(Eu=-1,Fu=0,(Lt&6)!==0)throw Error(t(327));var l=n.callbackNode;if(pa()&&n.callbackNode!==l)return null;var p=Tt(n,n===Gn?tA:0);if(p===0)return null;if((p&30)!==0||(p&n.expiredLanes)!==0||s)s=Su(n,p);else{s=p;var B=Lt;Lt|=2;var x=Fg();(Gn!==n||tA!==s)&&(as=null,fa=It()+500,Fo(n,s));do try{sy();break}catch(V){Eg(n,V)}while(!0);pd(),Cu.current=x,Lt=B,bn!==null?s=0:(Gn=null,tA=0,s=Ln)}if(s!==0){if(s===2&&(B=Cn(n),B!==0&&(p=B,s=Xd(n,B))),s===1)throw l=ul,Fo(n,0),Ds(n,p),OA(n,It()),l;if(s===6)Ds(n,p);else{if(B=n.current.alternate,(p&30)===0&&!ry(B)&&(s=Su(n,p),s===2&&(x=Cn(n),x!==0&&(p=x,s=Xd(n,x))),s===1))throw l=ul,Fo(n,0),Ds(n,p),OA(n,It()),l;switch(n.finishedWork=B,n.finishedLanes=p,s){case 0:case 1:throw Error(t(345));case 2:So(n,HA,as);break;case 3:if(Ds(n,p),(p&130023424)===p&&(s=Zd+500-It(),10<s)){if(Tt(n,0)!==0)break;if(B=n.suspendedLanes,(B&p)!==p){_A(),n.pingedLanes|=n.suspendedLanes&B;break}n.timeoutHandle=Sn(So.bind(null,n,HA,as),s);break}So(n,HA,as);break;case 4:if(Ds(n,p),(p&4194240)===p)break;for(s=n.eventTimes,B=-1;0<p;){var I=31-ze(p);x=1<<I,I=s[I],I>B&&(B=I),p&=~x}if(p=B,p=It()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*Ay(p/1960))-p,10<p){n.timeoutHandle=Sn(So.bind(null,n,HA,as),p);break}So(n,HA,as);break;case 5:So(n,HA,as);break;default:throw Error(t(329))}}}return OA(n,It()),n.callbackNode===l?Qg.bind(null,n):null}function Xd(n,s){var l=cl;return n.current.memoizedState.isDehydrated&&(Fo(n,s).flags|=256),n=Su(n,s),n!==2&&(s=HA,HA=l,s!==null&&Yd(s)),n}function Yd(n){HA===null?HA=n:HA.push.apply(HA,n)}function ry(n){for(var s=n;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var p=0;p<l.length;p++){var B=l[p],x=B.getSnapshot;B=B.value;try{if(!re(x(),B))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ds(n,s){for(s&=~$d,s&=~xu,n.suspendedLanes|=s,n.pingedLanes&=~s,n=n.expirationTimes;0<s;){var l=31-ze(s),p=1<<l;n[l]=-1,s&=~p}}function Ug(n){if((Lt&6)!==0)throw Error(t(327));pa();var s=Tt(n,0);if((s&1)===0)return OA(n,It()),null;var l=Su(n,s);if(n.tag!==0&&l===2){var p=Cn(n);p!==0&&(s=p,l=Xd(n,p))}if(l===1)throw l=ul,Fo(n,0),Ds(n,s),OA(n,It()),l;if(l===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=s,So(n,HA,as),OA(n,It()),null}function eh(n,s){var l=Lt;Lt|=1;try{return n(s)}finally{Lt=l,Lt===0&&(fa=It()+500,Au&&ks())}}function Eo(n){Hs!==null&&Hs.tag===0&&(Lt&6)===0&&pa();var s=Lt;Lt|=1;var l=br.transition,p=xt;try{if(br.transition=null,xt=1,n)return n()}finally{xt=p,br.transition=l,Lt=s,(Lt&6)===0&&ks()}}function th(){nr=ha.current,tn(ha)}function Fo(n,s){n.finishedWork=null,n.finishedLanes=0;var l=n.timeoutHandle;if(l!==-1&&(n.timeoutHandle=-1,xn(l)),bn!==null)for(l=bn.return;l!==null;){var p=l;switch(ud(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&tu();break;case 3:ua(),tn(PA),tn(oA),Cd();break;case 5:yd(p);break;case 4:ua();break;case 13:tn(sn);break;case 19:tn(sn);break;case 10:gd(p.type._context);break;case 22:case 23:th()}l=l.return}if(Gn=n,bn=n=Rs(n.current,null),tA=nr=s,Ln=0,ul=null,$d=xu=Uo=0,HA=cl=null,xo!==null){for(s=0;s<xo.length;s++)if(l=xo[s],p=l.interleaved,p!==null){l.interleaved=null;var B=p.next,x=l.pending;if(x!==null){var I=x.next;x.next=B,p.next=I}l.pending=p}xo=null}return n}function Eg(n,s){do{var l=bn;try{if(pd(),hu.current=mu,fu){for(var p=on.memoizedState;p!==null;){var B=p.queue;B!==null&&(B.pending=null),p=p.next}fu=!1}if(Qo=0,Vn=In=on=null,rl=!1,il=0,Wd.current=null,l===null||l.return===null){Ln=1,ul=s,bn=null;break}e:{var x=n,I=l.return,V=l,ee=s;if(s=tA,V.flags|=32768,ee!==null&&typeof ee=="object"&&typeof ee.then=="function"){var ye=ee,ke=V,je=ke.tag;if((ke.mode&1)===0&&(je===0||je===11||je===15)){var Le=ke.alternate;Le?(ke.updateQueue=Le.updateQueue,ke.memoizedState=Le.memoizedState,ke.lanes=Le.lanes):(ke.updateQueue=null,ke.memoizedState=null)}var Xe=Yp(I);if(Xe!==null){Xe.flags&=-257,eg(Xe,I,V,x,s),Xe.mode&1&&Xp(x,ye,s),s=Xe,ee=ye;var it=s.updateQueue;if(it===null){var st=new Set;st.add(ee),s.updateQueue=st}else it.add(ee);break e}else{if((s&1)===0){Xp(x,ye,s),nh();break e}ee=Error(t(426))}}else if(nn&&V.mode&1){var wn=Yp(I);if(wn!==null){(wn.flags&65536)===0&&(wn.flags|=256),eg(wn,I,V,x,s),hd(ca(ee,V));break e}}x=ee=ca(ee,V),Ln!==4&&(Ln=2),cl===null?cl=[x]:cl.push(x),x=I;do{switch(x.tag){case 3:x.flags|=65536,s&=-s,x.lanes|=s;var fe=Jp(x,ee,s);Cp(x,fe);break e;case 1:V=ee;var ie=x.type,me=x.stateNode;if((x.flags&128)===0&&(typeof ie.getDerivedStateFromError=="function"||me!==null&&typeof me.componentDidCatch=="function"&&(js===null||!js.has(me)))){x.flags|=65536,s&=-s,x.lanes|=s;var Me=qp(x,V,s);Cp(x,Me);break e}}x=x.return}while(x!==null)}Ig(l)}catch(ot){s=ot,bn===l&&l!==null&&(bn=l=l.return);continue}break}while(!0)}function Fg(){var n=Cu.current;return Cu.current=mu,n===null?mu:n}function nh(){(Ln===0||Ln===3||Ln===2)&&(Ln=4),Gn===null||(Uo&268435455)===0&&(xu&268435455)===0||Ds(Gn,tA)}function Su(n,s){var l=Lt;Lt|=2;var p=Fg();(Gn!==n||tA!==s)&&(as=null,Fo(n,s));do try{iy();break}catch(B){Eg(n,B)}while(!0);if(pd(),Lt=l,Cu.current=p,bn!==null)throw Error(t(261));return Gn=null,tA=0,Ln}function iy(){for(;bn!==null;)Sg(bn)}function sy(){for(;bn!==null&&!Zt();)Sg(bn)}function Sg(n){var s=Tg(n.alternate,n,nr);n.memoizedProps=n.pendingProps,s===null?Ig(n):bn=s,Wd.current=null}function Ig(n){var s=n;do{var l=s.alternate;if(n=s.return,(s.flags&32768)===0){if(l=XB(l,s,nr),l!==null){bn=l;return}}else{if(l=YB(l,s),l!==null){l.flags&=32767,bn=l;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Ln=6,bn=null;return}}if(s=s.sibling,s!==null){bn=s;return}bn=s=n}while(s!==null);Ln===0&&(Ln=5)}function So(n,s,l){var p=xt,B=br.transition;try{br.transition=null,xt=1,oy(n,s,l,p)}finally{br.transition=B,xt=p}return null}function oy(n,s,l,p){do pa();while(Hs!==null);if((Lt&6)!==0)throw Error(t(327));l=n.finishedWork;var B=n.finishedLanes;if(l===null)return null;if(n.finishedWork=null,n.finishedLanes=0,l===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var x=l.lanes|l.childLanes;if(Jt(n,x),n===Gn&&(bn=Gn=null,tA=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Qu||(Qu=!0,Pg(ci,function(){return pa(),null})),x=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||x){x=br.transition,br.transition=null;var I=xt;xt=1;var V=Lt;Lt|=4,Wd.current=null,ty(n,l),yg(l,n),ce(ct),Mi=!!$e,ct=$e=null,n.current=l,ny(l),FA(),Lt=V,xt=I,br.transition=x}else n.current=l;if(Qu&&(Qu=!1,Hs=n,Uu=B),x=n.pendingLanes,x===0&&(js=null),hi(l.stateNode),OA(n,It()),s!==null)for(p=n.onRecoverableError,l=0;l<s.length;l++)B=s[l],p(B.value,{componentStack:B.stack,digest:B.digest});if(bu)throw bu=!1,n=Jd,Jd=null,n;return(Uu&1)!==0&&n.tag!==0&&pa(),x=n.pendingLanes,(x&1)!==0?n===qd?dl++:(dl=0,qd=n):dl=0,ks(),null}function pa(){if(Hs!==null){var n=pi(Uu),s=br.transition,l=xt;try{if(br.transition=null,xt=16>n?16:n,Hs===null)var p=!1;else{if(n=Hs,Hs=null,Uu=0,(Lt&6)!==0)throw Error(t(331));var B=Lt;for(Lt|=4,nt=n.current;nt!==null;){var x=nt,I=x.child;if((nt.flags&16)!==0){var V=x.deletions;if(V!==null){for(var ee=0;ee<V.length;ee++){var ye=V[ee];for(nt=ye;nt!==null;){var ke=nt;switch(ke.tag){case 0:case 11:case 15:ll(8,ke,x)}var je=ke.child;if(je!==null)je.return=ke,nt=je;else for(;nt!==null;){ke=nt;var Le=ke.sibling,Xe=ke.return;if(gg(ke),ke===ye){nt=null;break}if(Le!==null){Le.return=Xe,nt=Le;break}nt=Xe}}}var it=x.alternate;if(it!==null){var st=it.child;if(st!==null){it.child=null;do{var wn=st.sibling;st.sibling=null,st=wn}while(st!==null)}}nt=x}}if((x.subtreeFlags&2064)!==0&&I!==null)I.return=x,nt=I;else e:for(;nt!==null;){if(x=nt,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:ll(9,x,x.return)}var fe=x.sibling;if(fe!==null){fe.return=x.return,nt=fe;break e}nt=x.return}}var ie=n.current;for(nt=ie;nt!==null;){I=nt;var me=I.child;if((I.subtreeFlags&2064)!==0&&me!==null)me.return=I,nt=me;else e:for(I=ie;nt!==null;){if(V=nt,(V.flags&2048)!==0)try{switch(V.tag){case 0:case 11:case 15:_u(9,V)}}catch(ot){dn(V,V.return,ot)}if(V===I){nt=null;break e}var Me=V.sibling;if(Me!==null){Me.return=V.return,nt=Me;break e}nt=V.return}}if(Lt=B,ks(),jn&&typeof jn.onPostCommitFiberRoot=="function")try{jn.onPostCommitFiberRoot(di,n)}catch{}p=!0}return p}finally{xt=l,br.transition=s}}return!1}function Lg(n,s,l){s=ca(l,s),s=Jp(n,s,1),n=Ps(n,s,1),s=_A(),n!==null&&(Hn(n,1,s),OA(n,s))}function dn(n,s,l){if(n.tag===3)Lg(n,n,l);else for(;s!==null;){if(s.tag===3){Lg(s,n,l);break}else if(s.tag===1){var p=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(js===null||!js.has(p))){n=ca(l,n),n=qp(s,n,1),s=Ps(s,n,1),n=_A(),s!==null&&(Hn(s,1,n),OA(s,n));break}}s=s.return}}function ay(n,s,l){var p=n.pingCache;p!==null&&p.delete(s),s=_A(),n.pingedLanes|=n.suspendedLanes&l,Gn===n&&(tA&l)===l&&(Ln===4||Ln===3&&(tA&130023424)===tA&&500>It()-Zd?Fo(n,0):$d|=l),OA(n,s)}function kg(n,s){s===0&&((n.mode&1)===0?s=1:(s=Ft,Ft<<=1,(Ft&130023424)===0&&(Ft=4194304)));var l=_A();n=is(n,s),n!==null&&(Hn(n,s,l),OA(n,l))}function ly(n){var s=n.memoizedState,l=0;s!==null&&(l=s.retryLane),kg(n,l)}function uy(n,s){var l=0;switch(n.tag){case 13:var p=n.stateNode,B=n.memoizedState;B!==null&&(l=B.retryLane);break;case 19:p=n.stateNode;break;default:throw Error(t(314))}p!==null&&p.delete(s),kg(n,l)}var Tg;Tg=function(n,s,l){if(n!==null)if(n.memoizedProps!==s.pendingProps||PA.current)jA=!0;else{if((n.lanes&l)===0&&(s.flags&128)===0)return jA=!1,qB(n,s,l);jA=(n.flags&131072)!==0}else jA=!1,nn&&(s.flags&1048576)!==0&&hp(s,iu,s.index);switch(s.lanes=0,s.tag){case 2:var p=s.type;Bu(n,s),n=s.pendingProps;var B=Aa(s,oA.current);la(s,l),B=Qd(null,s,p,n,B,l);var x=Ud();return s.flags|=1,typeof B=="object"&&B!==null&&typeof B.render=="function"&&B.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,NA(p)?(x=!0,nu(s)):x=!1,s.memoizedState=B.state!==null&&B.state!==void 0?B.state:null,wd(s),B.updater=vu,s.stateNode=B,B._reactInternals=s,kd(s,p,n,l),s=jd(null,s,p,!0,x,l)):(s.tag=0,nn&&x&&ld(s),yA(null,s,B,l),s=s.child),s;case 16:p=s.elementType;e:{switch(Bu(n,s),n=s.pendingProps,B=p._init,p=B(p._payload),s.type=p,B=s.tag=dy(p),n=Jr(p,n),B){case 0:s=Nd(null,s,p,n,l);break e;case 1:s=sg(null,s,p,n,l);break e;case 11:s=tg(null,s,p,n,l);break e;case 14:s=ng(null,s,p,Jr(p.type,n),l);break e}throw Error(t(306,p,""))}return s;case 0:return p=s.type,B=s.pendingProps,B=s.elementType===p?B:Jr(p,B),Nd(n,s,p,B,l);case 1:return p=s.type,B=s.pendingProps,B=s.elementType===p?B:Jr(p,B),sg(n,s,p,B,l);case 3:e:{if(og(s),n===null)throw Error(t(387));p=s.pendingProps,x=s.memoizedState,B=x.element,_p(n,s),cu(s,p,null,l);var I=s.memoizedState;if(p=I.element,x.isDehydrated)if(x={element:p,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},s.updateQueue.baseState=x,s.memoizedState=x,s.flags&256){B=ca(Error(t(423)),s),s=ag(n,s,p,l,B);break e}else if(p!==B){B=ca(Error(t(424)),s),s=ag(n,s,p,l,B);break e}else for(tr=Ci(s.stateNode.containerInfo.firstChild),er=s,nn=!0,Zr=null,l=Bp(s,null,p,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(sa(),p===B){s=os(n,s,l);break e}yA(n,s,p,l)}s=s.child}return s;case 5:return bp(s),n===null&&dd(s),p=s.type,B=s.pendingProps,x=n!==null?n.memoizedProps:null,I=B.children,wt(p,B)?I=null:x!==null&&wt(p,x)&&(s.flags|=32),ig(n,s),yA(n,s,I,l),s.child;case 6:return n===null&&dd(s),null;case 13:return lg(n,s,l);case 4:return Bd(s,s.stateNode.containerInfo),p=s.pendingProps,n===null?s.child=oa(s,null,p,l):yA(n,s,p,l),s.child;case 11:return p=s.type,B=s.pendingProps,B=s.elementType===p?B:Jr(p,B),tg(n,s,p,B,l);case 7:return yA(n,s,s.pendingProps,l),s.child;case 8:return yA(n,s,s.pendingProps.children,l),s.child;case 12:return yA(n,s,s.pendingProps.children,l),s.child;case 10:e:{if(p=s.type._context,B=s.pendingProps,x=s.memoizedProps,I=B.value,Gt(au,p._currentValue),p._currentValue=I,x!==null)if(re(x.value,I)){if(x.children===B.children&&!PA.current){s=os(n,s,l);break e}}else for(x=s.child,x!==null&&(x.return=s);x!==null;){var V=x.dependencies;if(V!==null){I=x.child;for(var ee=V.firstContext;ee!==null;){if(ee.context===p){if(x.tag===1){ee=ss(-1,l&-l),ee.tag=2;var ye=x.updateQueue;if(ye!==null){ye=ye.shared;var ke=ye.pending;ke===null?ee.next=ee:(ee.next=ke.next,ke.next=ee),ye.pending=ee}}x.lanes|=l,ee=x.alternate,ee!==null&&(ee.lanes|=l),md(x.return,l,s),V.lanes|=l;break}ee=ee.next}}else if(x.tag===10)I=x.type===s.type?null:x.child;else if(x.tag===18){if(I=x.return,I===null)throw Error(t(341));I.lanes|=l,V=I.alternate,V!==null&&(V.lanes|=l),md(I,l,s),I=x.sibling}else I=x.child;if(I!==null)I.return=x;else for(I=x;I!==null;){if(I===s){I=null;break}if(x=I.sibling,x!==null){x.return=I.return,I=x;break}I=I.return}x=I}yA(n,s,B.children,l),s=s.child}return s;case 9:return B=s.type,p=s.pendingProps.children,la(s,l),B=Cr(B),p=p(B),s.flags|=1,yA(n,s,p,l),s.child;case 14:return p=s.type,B=Jr(p,s.pendingProps),B=Jr(p.type,B),ng(n,s,p,B,l);case 15:return Ag(n,s,s.type,s.pendingProps,l);case 17:return p=s.type,B=s.pendingProps,B=s.elementType===p?B:Jr(p,B),Bu(n,s),s.tag=1,NA(p)?(n=!0,nu(s)):n=!1,la(s,l),$p(s,p,B),kd(s,p,B,l),jd(null,s,p,!0,n,l);case 19:return cg(n,s,l);case 22:return rg(n,s,l)}throw Error(t(156,s.tag))};function Pg(n,s){return ho(n,s)}function cy(n,s,l,p){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qr(n,s,l,p){return new cy(n,s,l,p)}function Ah(n){return n=n.prototype,!(!n||!n.isReactComponent)}function dy(n){if(typeof n=="function")return Ah(n)?1:0;if(n!=null){if(n=n.$$typeof,n===qe)return 11;if(n===et)return 14}return 2}function Rs(n,s){var l=n.alternate;return l===null?(l=Qr(n.tag,s,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=s,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&14680064,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,s=n.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l}function Iu(n,s,l,p,B,x){var I=2;if(p=n,typeof n=="function")Ah(n)&&(I=1);else if(typeof n=="string")I=5;else e:switch(n){case xe:return Io(l.children,B,x,s);case X:I=8,B|=8;break;case Ae:return n=Qr(12,l,s,B|2),n.elementType=Ae,n.lanes=x,n;case Ze:return n=Qr(13,l,s,B),n.elementType=Ze,n.lanes=x,n;case be:return n=Qr(19,l,s,B),n.elementType=be,n.lanes=x,n;case Qe:return Lu(l,B,x,s);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case ve:I=10;break e;case Ee:I=9;break e;case qe:I=11;break e;case et:I=14;break e;case se:I=16,p=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return s=Qr(I,l,s,B),s.elementType=n,s.type=p,s.lanes=x,s}function Io(n,s,l,p){return n=Qr(7,n,p,s),n.lanes=l,n}function Lu(n,s,l,p){return n=Qr(22,n,p,s),n.elementType=Qe,n.lanes=l,n.stateNode={isHidden:!1},n}function rh(n,s,l){return n=Qr(6,n,null,s),n.lanes=l,n}function ih(n,s,l){return s=Qr(4,n.children!==null?n.children:[],n.key,s),s.lanes=l,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}function hy(n,s,l,p,B){this.tag=s,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nr(0),this.expirationTimes=Nr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nr(0),this.identifierPrefix=p,this.onRecoverableError=B,this.mutableSourceEagerHydrationData=null}function sh(n,s,l,p,B,x,I,V,ee){return n=new hy(n,s,l,V,ee),s===1?(s=1,x===!0&&(s|=8)):s=0,x=Qr(3,null,null,s),n.current=x,x.stateNode=n,x.memoizedState={element:p,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},wd(x),n}function fy(n,s,l){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:q,key:p==null?null:""+p,children:n,containerInfo:s,implementation:l}}function Ng(n){if(!n)return Ls;n=n._reactInternals;e:{if(En(n)!==n||n.tag!==1)throw Error(t(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(NA(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(n.tag===1){var l=n.type;if(NA(l))return up(n,l,s)}return s}function jg(n,s,l,p,B,x,I,V,ee){return n=sh(l,p,!0,n,B,x,I,V,ee),n.context=Ng(null),l=n.current,p=_A(),B=Os(l),x=ss(p,B),x.callback=s??null,Ps(l,x,B),n.current.lanes=B,Hn(n,B,p),OA(n,p),n}function ku(n,s,l,p){var B=s.current,x=_A(),I=Os(B);return l=Ng(l),s.context===null?s.context=l:s.pendingContext=l,s=ss(x,I),s.payload={element:n},p=p===void 0?null:p,p!==null&&(s.callback=p),n=Ps(B,s,I),n!==null&&(Yr(n,B,I,x),uu(n,B,I)),I}function Tu(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Hg(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<s?l:s}}function oh(n,s){Hg(n,s),(n=n.alternate)&&Hg(n,s)}function py(){return null}var Og=typeof reportError=="function"?reportError:function(n){console.error(n)};function ah(n){this._internalRoot=n}Pu.prototype.render=ah.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(t(409));ku(n,s,null,null)},Pu.prototype.unmount=ah.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;Eo(function(){ku(null,n,null,null)}),s[Nt]=null}};function Pu(n){this._internalRoot=n}Pu.prototype.unstable_scheduleHydration=function(n){if(n){var s=Bs();n={blockedOn:null,target:n,priority:s};for(var l=0;l<qt.length&&s!==0&&s<qt[l].priority;l++);qt.splice(l,0,n),l===0&&Jn(n)}};function lh(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Nu(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Dg(){}function gy(n,s,l,p,B){if(B){if(typeof p=="function"){var x=p;p=function(){var ye=Tu(I);x.call(ye)}}var I=jg(s,p,n,0,null,!1,!1,"",Dg);return n._reactRootContainer=I,n[Nt]=I.current,Us(n.nodeType===8?n.parentNode:n),Eo(),I}for(;B=n.lastChild;)n.removeChild(B);if(typeof p=="function"){var V=p;p=function(){var ye=Tu(ee);V.call(ye)}}var ee=sh(n,0,!1,null,null,!1,!1,"",Dg);return n._reactRootContainer=ee,n[Nt]=ee.current,Us(n.nodeType===8?n.parentNode:n),Eo(function(){ku(s,ee,l,p)}),ee}function ju(n,s,l,p,B){var x=l._reactRootContainer;if(x){var I=x;if(typeof B=="function"){var V=B;B=function(){var ee=Tu(I);V.call(ee)}}ku(s,I,n,B)}else I=gy(l,s,n,B,p);return Tu(I)}_t=function(n){switch(n.tag){case 3:var s=n.stateNode;if(s.current.memoizedState.isDehydrated){var l=dt(s.pendingLanes);l!==0&&(Zn(s,l|1),OA(s,It()),(Lt&6)===0&&(fa=It()+500,ks()))}break;case 13:Eo(function(){var p=is(n,1);if(p!==null){var B=_A();Yr(p,n,1,B)}}),oh(n,1)}},fr=function(n){if(n.tag===13){var s=is(n,134217728);if(s!==null){var l=_A();Yr(s,n,134217728,l)}oh(n,134217728)}},ws=function(n){if(n.tag===13){var s=Os(n),l=is(n,s);if(l!==null){var p=_A();Yr(l,n,s,p)}oh(n,s)}},Bs=function(){return xt},pn=function(n,s){var l=xt;try{return xt=n,s()}finally{xt=l}},Ge=function(n,s,l){switch(s){case"input":if(Li(n,l),s=l.name,l.type==="radio"&&s!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var p=l[s];if(p!==n&&p.form===n.form){var B=ta(p);if(!B)throw Error(t(90));Qt(p),Li(p,B)}}}break;case"textarea":ao(n,l);break;case"select":s=l.value,s!=null&&fn(n,!!l.multiple,s,!1)}},Mo=eh,Ko=Eo;var my={usingClientEntryPoint:!1,Events:[es,ts,ta,lo,vs,eh]},hl={findFiberByHostInstance:Yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vy={bundleType:hl.bundleType,version:hl.version,rendererPackageName:hl.rendererPackageName,rendererConfig:hl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=co(n),n===null?null:n.stateNode},findFiberByHostInstance:hl.findFiberByHostInstance||py,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hu.isDisabled&&Hu.supportsFiber)try{di=Hu.inject(vy),jn=Hu}catch{}}return DA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=my,DA.createPortal=function(n,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lh(s))throw Error(t(200));return fy(n,s,null,l)},DA.createRoot=function(n,s){if(!lh(n))throw Error(t(299));var l=!1,p="",B=Og;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(p=s.identifierPrefix),s.onRecoverableError!==void 0&&(B=s.onRecoverableError)),s=sh(n,1,!1,null,null,l,!1,p,B),n[Nt]=s.current,Us(n.nodeType===8?n.parentNode:n),new ah(s)},DA.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=co(s),n=n===null?null:n.stateNode,n},DA.flushSync=function(n){return Eo(n)},DA.hydrate=function(n,s,l){if(!Nu(s))throw Error(t(200));return ju(null,n,s,!0,l)},DA.hydrateRoot=function(n,s,l){if(!lh(n))throw Error(t(405));var p=l!=null&&l.hydratedSources||null,B=!1,x="",I=Og;if(l!=null&&(l.unstable_strictMode===!0&&(B=!0),l.identifierPrefix!==void 0&&(x=l.identifierPrefix),l.onRecoverableError!==void 0&&(I=l.onRecoverableError)),s=jg(s,null,n,1,l??null,B,!1,x,I),n[Nt]=s.current,Us(n),p)for(n=0;n<p.length;n++)l=p[n],B=l._getVersion,B=B(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,B]:s.mutableSourceEagerHydrationData.push(l,B);return new Pu(s)},DA.render=function(n,s,l){if(!Nu(s))throw Error(t(200));return ju(null,n,s,!1,l)},DA.unmountComponentAtNode=function(n){if(!Nu(n))throw Error(t(40));return n._reactRootContainer?(Eo(function(){ju(null,null,n,!1,function(){n._reactRootContainer=null,n[Nt]=null})}),!0):!1},DA.unstable_batchedUpdates=eh,DA.unstable_renderSubtreeIntoContainer=function(n,s,l,p){if(!Nu(l))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return ju(n,s,l,!1,p)},DA.version="18.3.1-next-f1338f8080-20240426",DA}var $g;function Ov(){if($g)return dh.exports;$g=1;function A(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(A)}catch(e){console.error(e)}}return A(),dh.exports=Fy(),dh.exports}var Zg;function Sy(){if(Zg)return Ou;Zg=1;var A=Ov();return Ou.createRoot=A.createRoot,Ou.hydrateRoot=A.hydrateRoot,Ou}var Iy=Sy();const Ly=Kl(Iy);Ov();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jl(){return jl=Object.assign?Object.assign.bind():function(A){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(A[i]=t[i])}return A},jl.apply(this,arguments)}var Zs;(function(A){A.Pop="POP",A.Push="PUSH",A.Replace="REPLACE"})(Zs||(Zs={}));const Jg="popstate";function ky(A){A===void 0&&(A={});function e(i,o){let{pathname:u,search:d,hash:g}=i.location;return Jh("",{pathname:u,search:d,hash:g},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:Qc(o)}return Py(e,t,null,A)}function an(A,e){if(A===!1||A===null||typeof A>"u")throw new Error(e)}function Dv(A,e){if(!A){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Ty(){return Math.random().toString(36).substr(2,8)}function qg(A,e){return{usr:A.state,key:A.key,idx:e}}function Jh(A,e,t,i){return t===void 0&&(t=null),jl({pathname:typeof A=="string"?A:A.pathname,search:"",hash:""},typeof e=="string"?Va(e):e,{state:t,key:e&&e.key||i||Ty()})}function Qc(A){let{pathname:e="/",search:t="",hash:i=""}=A;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Va(A){let e={};if(A){let t=A.indexOf("#");t>=0&&(e.hash=A.substr(t),A=A.substr(0,t));let i=A.indexOf("?");i>=0&&(e.search=A.substr(i),A=A.substr(0,i)),A&&(e.pathname=A)}return e}function Py(A,e,t,i){i===void 0&&(i={});let{window:o=document.defaultView,v5Compat:u=!1}=i,d=o.history,g=Zs.Pop,m=null,y=C();y==null&&(y=0,d.replaceState(jl({},d.state,{idx:y}),""));function C(){return(d.state||{idx:null}).idx}function b(){g=Zs.Pop;let W=C(),D=W==null?null:W-y;y=W,m&&m({action:g,location:N.location,delta:D})}function S(W,D){g=Zs.Push;let R=Jh(N.location,W,D);y=C()+1;let J=qg(R,y),M=N.createHref(R);try{d.pushState(J,"",M)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;o.location.assign(M)}u&&m&&m({action:g,location:N.location,delta:1})}function O(W,D){g=Zs.Replace;let R=Jh(N.location,W,D);y=C();let J=qg(R,y),M=N.createHref(R);d.replaceState(J,"",M),u&&m&&m({action:g,location:N.location,delta:0})}function P(W){let D=o.location.origin!=="null"?o.location.origin:o.location.href,R=typeof W=="string"?W:Qc(W);return R=R.replace(/ $/,"%20"),an(D,"No window.location.(origin|href) available to create URL for href: "+R),new URL(R,D)}let N={get action(){return g},get location(){return A(o,d)},listen(W){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(Jg,b),m=W,()=>{o.removeEventListener(Jg,b),m=null}},createHref(W){return e(o,W)},createURL:P,encodeLocation(W){let D=P(W);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:S,replace:O,go(W){return d.go(W)}};return N}var Xg;(function(A){A.data="data",A.deferred="deferred",A.redirect="redirect",A.error="error"})(Xg||(Xg={}));function Ny(A,e,t){return t===void 0&&(t="/"),jy(A,e,t)}function jy(A,e,t,i){let o=typeof e=="string"?Va(e):e,u=Ra(o.pathname||"/",t);if(u==null)return null;let d=Rv(A);Hy(d);let g=null;for(let m=0;g==null&&m<d.length;++m){let y=Zy(u);g=Wy(d[m],y)}return g}function Rv(A,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let o=(u,d,g)=>{let m={relativePath:g===void 0?u.path||"":g,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};m.relativePath.startsWith("/")&&(an(m.relativePath.startsWith(i),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(i.length));let y=eo([i,m.relativePath]),C=t.concat(m);u.children&&u.children.length>0&&(an(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+y+'".')),Rv(u.children,e,C,y)),!(u.path==null&&!u.index)&&e.push({path:y,score:Gy(y,u.index),routesMeta:C})};return A.forEach((u,d)=>{var g;if(u.path===""||!((g=u.path)!=null&&g.includes("?")))o(u,d);else for(let m of Mv(u.path))o(u,d,m)}),e}function Mv(A){let e=A.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(i.length===0)return o?[u,""]:[u];let d=Mv(i.join("/")),g=[];return g.push(...d.map(m=>m===""?u:[u,m].join("/"))),o&&g.push(...d),g.map(m=>A.startsWith("/")&&m===""?"/":m)}function Hy(A){A.sort((e,t)=>e.score!==t.score?t.score-e.score:zy(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const Oy=/^:[\w-]+$/,Dy=3,Ry=2,My=1,Ky=10,Vy=-2,Yg=A=>A==="*";function Gy(A,e){let t=A.split("/"),i=t.length;return t.some(Yg)&&(i+=Vy),e&&(i+=Ry),t.filter(o=>!Yg(o)).reduce((o,u)=>o+(Oy.test(u)?Dy:u===""?My:Ky),i)}function zy(A,e){return A.length===e.length&&A.slice(0,-1).every((i,o)=>i===e[o])?A[A.length-1]-e[e.length-1]:0}function Wy(A,e,t){let{routesMeta:i}=A,o={},u="/",d=[];for(let g=0;g<i.length;++g){let m=i[g],y=g===i.length-1,C=u==="/"?e:e.slice(u.length)||"/",b=qh({path:m.relativePath,caseSensitive:m.caseSensitive,end:y},C),S=m.route;if(!b)return null;Object.assign(o,b.params),d.push({params:o,pathname:eo([u,b.pathname]),pathnameBase:Yy(eo([u,b.pathnameBase])),route:S}),b.pathnameBase!=="/"&&(u=eo([u,b.pathnameBase]))}return d}function qh(A,e){typeof A=="string"&&(A={path:A,caseSensitive:!1,end:!0});let[t,i]=$y(A.path,A.caseSensitive,A.end),o=e.match(t);if(!o)return null;let u=o[0],d=u.replace(/(.)\/+$/,"$1"),g=o.slice(1);return{params:i.reduce((y,C,b)=>{let{paramName:S,isOptional:O}=C;if(S==="*"){let N=g[b]||"";d=u.slice(0,u.length-N.length).replace(/(.)\/+$/,"$1")}const P=g[b];return O&&!P?y[S]=void 0:y[S]=(P||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:d,pattern:A}}function $y(A,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),Dv(A==="*"||!A.endsWith("*")||A.endsWith("/*"),'Route path "'+A+'" will be treated as if it were '+('"'+A.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+A.replace(/\*$/,"/*")+'".'));let i=[],o="^"+A.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,g,m)=>(i.push({paramName:g,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return A.endsWith("*")?(i.push({paramName:"*"}),o+=A==="*"||A==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":A!==""&&A!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function Zy(A){try{return A.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Dv(!1,'The URL path "'+A+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),A}}function Ra(A,e){if(e==="/")return A;if(!A.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=A.charAt(t);return i&&i!=="/"?null:A.slice(t)||"/"}function Jy(A,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:o=""}=typeof A=="string"?Va(A):A;return{pathname:t?t.startsWith("/")?t:qy(t,e):e,search:e0(i),hash:t0(o)}}function qy(A,e){let t=e.replace(/\/+$/,"").split("/");return A.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function ph(A,e,t,i){return"Cannot include a '"+A+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Xy(A){return A.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function zf(A,e){let t=Xy(A);return e?t.map((i,o)=>o===t.length-1?i.pathname:i.pathnameBase):t.map(i=>i.pathnameBase)}function Wf(A,e,t,i){i===void 0&&(i=!1);let o;typeof A=="string"?o=Va(A):(o=jl({},A),an(!o.pathname||!o.pathname.includes("?"),ph("?","pathname","search",o)),an(!o.pathname||!o.pathname.includes("#"),ph("#","pathname","hash",o)),an(!o.search||!o.search.includes("#"),ph("#","search","hash",o)));let u=A===""||o.pathname==="",d=u?"/":o.pathname,g;if(d==null)g=t;else{let b=e.length-1;if(!i&&d.startsWith("..")){let S=d.split("/");for(;S[0]==="..";)S.shift(),b-=1;o.pathname=S.join("/")}g=b>=0?e[b]:"/"}let m=Jy(o,g),y=d&&d!=="/"&&d.endsWith("/"),C=(u||d===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(y||C)&&(m.pathname+="/"),m}const eo=A=>A.join("/").replace(/\/\/+/g,"/"),Yy=A=>A.replace(/\/+$/,"").replace(/^\/*/,"/"),e0=A=>!A||A==="?"?"":A.startsWith("?")?A:"?"+A,t0=A=>!A||A==="#"?"":A.startsWith("#")?A:"#"+A;function n0(A){return A!=null&&typeof A.status=="number"&&typeof A.statusText=="string"&&typeof A.internal=="boolean"&&"data"in A}const Kv=["post","put","patch","delete"];new Set(Kv);const A0=["get",...Kv];new Set(A0);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hl(){return Hl=Object.assign?Object.assign.bind():function(A){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(A[i]=t[i])}return A},Hl.apply(this,arguments)}const Mc=F.createContext(null),Vv=F.createContext(null),ps=F.createContext(null),Kc=F.createContext(null),gs=F.createContext({outlet:null,matches:[],isDataRoute:!1}),Gv=F.createContext(null);function r0(A,e){let{relative:t}=e===void 0?{}:e;Ga()||an(!1);let{basename:i,navigator:o}=F.useContext(ps),{hash:u,pathname:d,search:g}=Vc(A,{relative:t}),m=d;return i!=="/"&&(m=d==="/"?i:eo([i,d])),o.createHref({pathname:m,search:g,hash:u})}function Ga(){return F.useContext(Kc)!=null}function za(){return Ga()||an(!1),F.useContext(Kc).location}function zv(A){F.useContext(ps).static||F.useLayoutEffect(A)}function Vl(){let{isDataRoute:A}=F.useContext(gs);return A?m0():i0()}function i0(){Ga()||an(!1);let A=F.useContext(Mc),{basename:e,future:t,navigator:i}=F.useContext(ps),{matches:o}=F.useContext(gs),{pathname:u}=za(),d=JSON.stringify(zf(o,t.v7_relativeSplatPath)),g=F.useRef(!1);return zv(()=>{g.current=!0}),F.useCallback(function(y,C){if(C===void 0&&(C={}),!g.current)return;if(typeof y=="number"){i.go(y);return}let b=Wf(y,JSON.parse(d),u,C.relative==="path");A==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:eo([e,b.pathname])),(C.replace?i.replace:i.push)(b,C.state,C)},[e,i,d,u,A])}function $f(){let{matches:A}=F.useContext(gs),e=A[A.length-1];return e?e.params:{}}function Vc(A,e){let{relative:t}=e===void 0?{}:e,{future:i}=F.useContext(ps),{matches:o}=F.useContext(gs),{pathname:u}=za(),d=JSON.stringify(zf(o,i.v7_relativeSplatPath));return F.useMemo(()=>Wf(A,JSON.parse(d),u,t==="path"),[A,d,u,t])}function s0(A,e){return o0(A,e)}function o0(A,e,t,i){Ga()||an(!1);let{navigator:o}=F.useContext(ps),{matches:u}=F.useContext(gs),d=u[u.length-1],g=d?d.params:{};d&&d.pathname;let m=d?d.pathnameBase:"/";d&&d.route;let y=za(),C;if(e){var b;let W=typeof e=="string"?Va(e):e;m==="/"||(b=W.pathname)!=null&&b.startsWith(m)||an(!1),C=W}else C=y;let S=C.pathname||"/",O=S;if(m!=="/"){let W=m.replace(/^\//,"").split("/");O="/"+S.replace(/^\//,"").split("/").slice(W.length).join("/")}let P=Ny(A,{pathname:O}),N=d0(P&&P.map(W=>Object.assign({},W,{params:Object.assign({},g,W.params),pathname:eo([m,o.encodeLocation?o.encodeLocation(W.pathname).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?m:eo([m,o.encodeLocation?o.encodeLocation(W.pathnameBase).pathname:W.pathnameBase])})),u,t,i);return e&&N?F.createElement(Kc.Provider,{value:{location:Hl({pathname:"/",search:"",hash:"",state:null,key:"default"},C),navigationType:Zs.Pop}},N):N}function a0(){let A=g0(),e=n0(A)?A.status+" "+A.statusText:A instanceof Error?A.message:JSON.stringify(A),t=A instanceof Error?A.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),t?F.createElement("pre",{style:o},t):null,null)}const l0=F.createElement(a0,null);class u0 extends F.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?F.createElement(gs.Provider,{value:this.props.routeContext},F.createElement(Gv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function c0(A){let{routeContext:e,match:t,children:i}=A,o=F.useContext(Mc);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),F.createElement(gs.Provider,{value:e},i)}function d0(A,e,t,i){var o;if(e===void 0&&(e=[]),t===void 0&&(t=null),i===void 0&&(i=null),A==null){var u;if(!t)return null;if(t.errors)A=t.matches;else if((u=i)!=null&&u.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)A=t.matches;else return null}let d=A,g=(o=t)==null?void 0:o.errors;if(g!=null){let C=d.findIndex(b=>b.route.id&&g?.[b.route.id]!==void 0);C>=0||an(!1),d=d.slice(0,Math.min(d.length,C+1))}let m=!1,y=-1;if(t&&i&&i.v7_partialHydration)for(let C=0;C<d.length;C++){let b=d[C];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(y=C),b.route.id){let{loaderData:S,errors:O}=t,P=b.route.loader&&S[b.route.id]===void 0&&(!O||O[b.route.id]===void 0);if(b.route.lazy||P){m=!0,y>=0?d=d.slice(0,y+1):d=[d[0]];break}}}return d.reduceRight((C,b,S)=>{let O,P=!1,N=null,W=null;t&&(O=g&&b.route.id?g[b.route.id]:void 0,N=b.route.errorElement||l0,m&&(y<0&&S===0?(v0("route-fallback"),P=!0,W=null):y===S&&(P=!0,W=b.route.hydrateFallbackElement||null)));let D=e.concat(d.slice(0,S+1)),R=()=>{let J;return O?J=N:P?J=W:b.route.Component?J=F.createElement(b.route.Component,null):b.route.element?J=b.route.element:J=C,F.createElement(c0,{match:b,routeContext:{outlet:C,matches:D,isDataRoute:t!=null},children:J})};return t&&(b.route.ErrorBoundary||b.route.errorElement||S===0)?F.createElement(u0,{location:t.location,revalidation:t.revalidation,component:N,error:O,children:R(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):R()},null)}var Wv=(function(A){return A.UseBlocker="useBlocker",A.UseRevalidator="useRevalidator",A.UseNavigateStable="useNavigate",A})(Wv||{}),$v=(function(A){return A.UseBlocker="useBlocker",A.UseLoaderData="useLoaderData",A.UseActionData="useActionData",A.UseRouteError="useRouteError",A.UseNavigation="useNavigation",A.UseRouteLoaderData="useRouteLoaderData",A.UseMatches="useMatches",A.UseRevalidator="useRevalidator",A.UseNavigateStable="useNavigate",A.UseRouteId="useRouteId",A})($v||{});function h0(A){let e=F.useContext(Mc);return e||an(!1),e}function f0(A){let e=F.useContext(Vv);return e||an(!1),e}function p0(A){let e=F.useContext(gs);return e||an(!1),e}function Zv(A){let e=p0(),t=e.matches[e.matches.length-1];return t.route.id||an(!1),t.route.id}function g0(){var A;let e=F.useContext(Gv),t=f0(),i=Zv();return e!==void 0?e:(A=t.errors)==null?void 0:A[i]}function m0(){let{router:A}=h0(Wv.UseNavigateStable),e=Zv($v.UseNavigateStable),t=F.useRef(!1);return zv(()=>{t.current=!0}),F.useCallback(function(o,u){u===void 0&&(u={}),t.current&&(typeof o=="number"?A.navigate(o):A.navigate(o,Hl({fromRouteId:e},u)))},[A,e])}const em={};function v0(A,e,t){em[A]||(em[A]=!0)}function w0(A,e){A?.v7_startTransition,A?.v7_relativeSplatPath}function tm(A){let{to:e,replace:t,state:i,relative:o}=A;Ga()||an(!1);let{future:u,static:d}=F.useContext(ps),{matches:g}=F.useContext(gs),{pathname:m}=za(),y=Vl(),C=Wf(e,zf(g,u.v7_relativeSplatPath),m,o==="path"),b=JSON.stringify(C);return F.useEffect(()=>y(JSON.parse(b),{replace:t,state:i,relative:o}),[y,b,o,t,i]),null}function Qn(A){an(!1)}function B0(A){let{basename:e="/",children:t=null,location:i,navigationType:o=Zs.Pop,navigator:u,static:d=!1,future:g}=A;Ga()&&an(!1);let m=e.replace(/^\/*/,"/"),y=F.useMemo(()=>({basename:m,navigator:u,static:d,future:Hl({v7_relativeSplatPath:!1},g)}),[m,g,u,d]);typeof i=="string"&&(i=Va(i));let{pathname:C="/",search:b="",hash:S="",state:O=null,key:P="default"}=i,N=F.useMemo(()=>{let W=Ra(C,m);return W==null?null:{location:{pathname:W,search:b,hash:S,state:O,key:P},navigationType:o}},[m,C,b,S,O,P,o]);return N==null?null:F.createElement(ps.Provider,{value:y},F.createElement(Kc.Provider,{children:t,value:N}))}function y0(A){let{children:e,location:t}=A;return s0(Xh(e),t)}new Promise(()=>{});function Xh(A,e){e===void 0&&(e=[]);let t=[];return F.Children.forEach(A,(i,o)=>{if(!F.isValidElement(i))return;let u=[...e,o];if(i.type===F.Fragment){t.push.apply(t,Xh(i.props.children,u));return}i.type!==Qn&&an(!1),!i.props.index||!i.props.children||an(!1);let d={id:i.props.id||u.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(d.children=Xh(i.props.children,u)),t.push(d)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Uc(){return Uc=Object.assign?Object.assign.bind():function(A){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(A[i]=t[i])}return A},Uc.apply(this,arguments)}function Jv(A,e){if(A==null)return{};var t={},i=Object.keys(A),o,u;for(u=0;u<i.length;u++)o=i[u],!(e.indexOf(o)>=0)&&(t[o]=A[o]);return t}function _0(A){return!!(A.metaKey||A.altKey||A.ctrlKey||A.shiftKey)}function C0(A,e){return A.button===0&&(!e||e==="_self")&&!_0(A)}const x0=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],b0=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Q0="6";try{window.__reactRouterVersion=Q0}catch{}const U0=F.createContext({isTransitioning:!1}),E0="startTransition",nm=Qy[E0];function F0(A){let{basename:e,children:t,future:i,window:o}=A,u=F.useRef();u.current==null&&(u.current=ky({window:o,v5Compat:!0}));let d=u.current,[g,m]=F.useState({action:d.action,location:d.location}),{v7_startTransition:y}=i||{},C=F.useCallback(b=>{y&&nm?nm(()=>m(b)):m(b)},[m,y]);return F.useLayoutEffect(()=>d.listen(C),[d,C]),F.useEffect(()=>w0(i),[i]),F.createElement(B0,{basename:e,children:t,location:g.location,navigationType:g.action,navigator:d,future:i})}const S0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",I0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ai=F.forwardRef(function(e,t){let{onClick:i,relative:o,reloadDocument:u,replace:d,state:g,target:m,to:y,preventScrollReset:C,viewTransition:b}=e,S=Jv(e,x0),{basename:O}=F.useContext(ps),P,N=!1;if(typeof y=="string"&&I0.test(y)&&(P=y,S0))try{let J=new URL(window.location.href),M=y.startsWith("//")?new URL(J.protocol+y):new URL(y),$=Ra(M.pathname,O);M.origin===J.origin&&$!=null?y=$+M.search+M.hash:N=!0}catch{}let W=r0(y,{relative:o}),D=k0(y,{replace:d,state:g,target:m,preventScrollReset:C,relative:o,viewTransition:b});function R(J){i&&i(J),J.defaultPrevented||D(J)}return F.createElement("a",Uc({},S,{href:P||W,onClick:N||u?i:R,ref:t,target:m}))}),ga=F.forwardRef(function(e,t){let{"aria-current":i="page",caseSensitive:o=!1,className:u="",end:d=!1,style:g,to:m,viewTransition:y,children:C}=e,b=Jv(e,b0),S=Vc(m,{relative:b.relative}),O=za(),P=F.useContext(Vv),{navigator:N,basename:W}=F.useContext(ps),D=P!=null&&T0(S)&&y===!0,R=N.encodeLocation?N.encodeLocation(S).pathname:S.pathname,J=O.pathname,M=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;o||(J=J.toLowerCase(),M=M?M.toLowerCase():null,R=R.toLowerCase()),M&&W&&(M=Ra(M,W)||M);const $=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let q=J===R||!d&&J.startsWith(R)&&J.charAt($)==="/",xe=M!=null&&(M===R||!d&&M.startsWith(R)&&M.charAt(R.length)==="/"),X={isActive:q,isPending:xe,isTransitioning:D},Ae=q?i:void 0,ve;typeof u=="function"?ve=u(X):ve=[u,q?"active":null,xe?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let Ee=typeof g=="function"?g(X):g;return F.createElement(Ai,Uc({},b,{"aria-current":Ae,className:ve,ref:t,style:Ee,to:m,viewTransition:y}),typeof C=="function"?C(X):C)});var Yh;(function(A){A.UseScrollRestoration="useScrollRestoration",A.UseSubmit="useSubmit",A.UseSubmitFetcher="useSubmitFetcher",A.UseFetcher="useFetcher",A.useViewTransitionState="useViewTransitionState"})(Yh||(Yh={}));var Am;(function(A){A.UseFetcher="useFetcher",A.UseFetchers="useFetchers",A.UseScrollRestoration="useScrollRestoration"})(Am||(Am={}));function L0(A){let e=F.useContext(Mc);return e||an(!1),e}function k0(A,e){let{target:t,replace:i,state:o,preventScrollReset:u,relative:d,viewTransition:g}=e===void 0?{}:e,m=Vl(),y=za(),C=Vc(A,{relative:d});return F.useCallback(b=>{if(C0(b,t)){b.preventDefault();let S=i!==void 0?i:Qc(y)===Qc(C);m(A,{replace:S,state:o,preventScrollReset:u,relative:d,viewTransition:g})}},[y,m,C,i,o,t,A,u,d,g])}function T0(A,e){e===void 0&&(e={});let t=F.useContext(U0);t==null&&an(!1);let{basename:i}=L0(Yh.useViewTransitionState),o=Vc(A,{relative:e.relative});if(!t.isTransitioning)return!1;let u=Ra(t.currentLocation.pathname,i)||t.currentLocation.pathname,d=Ra(t.nextLocation.pathname,i)||t.nextLocation.pathname;return qh(o.pathname,d)!=null||qh(o.pathname,u)!=null}var gc={exports:{}},P0=gc.exports,rm;function N0(){return rm||(rm=1,(function(A,e){(function(t,i){A.exports=i()})(P0,function(){var t=function(h,v){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,U){_.__proto__=U}||function(_,U){for(var E in U)Object.prototype.hasOwnProperty.call(U,E)&&(_[E]=U[E])})(h,v)},i=function(){return(i=Object.assign||function(h){for(var v,_=1,U=arguments.length;_<U;_++)for(var E in v=arguments[_])Object.prototype.hasOwnProperty.call(v,E)&&(h[E]=v[E]);return h}).apply(this,arguments)};function o(h,v,_){for(var U,E=0,k=v.length;E<k;E++)!U&&E in v||((U=U||Array.prototype.slice.call(v,0,E))[E]=v[E]);return h.concat(U||Array.prototype.slice.call(v))}var u=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:yy,d=Object.keys,g=Array.isArray;function m(h,v){return typeof v!="object"||d(v).forEach(function(_){h[_]=v[_]}),h}typeof Promise>"u"||u.Promise||(u.Promise=Promise);var y=Object.getPrototypeOf,C={}.hasOwnProperty;function b(h,v){return C.call(h,v)}function S(h,v){typeof v=="function"&&(v=v(y(h))),(typeof Reflect>"u"?d:Reflect.ownKeys)(v).forEach(function(_){P(h,_,v[_])})}var O=Object.defineProperty;function P(h,v,_,U){O(h,v,m(_&&b(_,"get")&&typeof _.get=="function"?{get:_.get,set:_.set,configurable:!0}:{value:_,configurable:!0,writable:!0},U))}function N(h){return{from:function(v){return h.prototype=Object.create(v.prototype),P(h.prototype,"constructor",h),{extend:S.bind(null,h.prototype)}}}}var W=Object.getOwnPropertyDescriptor,D=[].slice;function R(h,v,_){return D.call(h,v,_)}function J(h,v){return v(h)}function M(h){if(!h)throw new Error("Assertion Failed")}function $(h){u.setImmediate?setImmediate(h):setTimeout(h,0)}function q(h,v){if(typeof v=="string"&&b(h,v))return h[v];if(!v)return h;if(typeof v!="string"){for(var _=[],U=0,E=v.length;U<E;++U){var k=q(h,v[U]);_.push(k)}return _}var j=v.indexOf(".");if(j!==-1){var G=h[v.substr(0,j)];return G==null?void 0:q(G,v.substr(j+1))}}function xe(h,v,_){if(h&&v!==void 0&&!("isFrozen"in Object&&Object.isFrozen(h)))if(typeof v!="string"&&"length"in v){M(typeof _!="string"&&"length"in _);for(var U=0,E=v.length;U<E;++U)xe(h,v[U],_[U])}else{var k,j,G=v.indexOf(".");G!==-1?(k=v.substr(0,G),(j=v.substr(G+1))===""?_===void 0?g(h)&&!isNaN(parseInt(k))?h.splice(k,1):delete h[k]:h[k]=_:xe(G=!(G=h[k])||!b(h,k)?h[k]={}:G,j,_)):_===void 0?g(h)&&!isNaN(parseInt(v))?h.splice(v,1):delete h[v]:h[v]=_}}function X(h){var v,_={};for(v in h)b(h,v)&&(_[v]=h[v]);return _}var Ae=[].concat;function ve(h){return Ae.apply([],h)}var QA="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(ve([8,16,32,64].map(function(h){return["Int","Uint","Float"].map(function(v){return v+h+"Array"})}))).filter(function(h){return u[h]}),Ee=new Set(QA.map(function(h){return u[h]})),qe=null;function Ze(h){return qe=new WeakMap,h=(function v(_){if(!_||typeof _!="object")return _;var U=qe.get(_);if(U)return U;if(g(_)){U=[],qe.set(_,U);for(var E=0,k=_.length;E<k;++E)U.push(v(_[E]))}else if(Ee.has(_.constructor))U=_;else{var j,G=y(_);for(j in U=G===Object.prototype?{}:Object.create(G),qe.set(_,U),_)b(_,j)&&(U[j]=v(_[j]))}return U})(h),qe=null,h}var be={}.toString;function et(h){return be.call(h).slice(8,-1)}var se=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Qe=typeof se=="symbol"?function(h){var v;return h!=null&&(v=h[se])&&v.apply(h)}:function(){return null};function ge(h,v){return v=h.indexOf(v),0<=v&&h.splice(v,1),0<=v}var Pe={};function K(h){var v,_,U,E;if(arguments.length===1){if(g(h))return h.slice();if(this===Pe&&typeof h=="string")return[h];if(E=Qe(h)){for(_=[];!(U=E.next()).done;)_.push(U.value);return _}if(h==null)return[h];if(typeof(v=h.length)!="number")return[h];for(_=new Array(v);v--;)_[v]=h[v];return _}for(v=arguments.length,_=new Array(v);v--;)_[v]=arguments[v];return _}var H=typeof Symbol<"u"?function(h){return h[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},ii=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Fn=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(ii),le={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Ie(h,v){this.name=h,this.message=v}function Fe(h,v){return h+". Errors: "+Object.keys(v).map(function(_){return v[_].toString()}).filter(function(_,U,E){return E.indexOf(_)===U}).join(`
`)}function Ne(h,v,_,U){this.failures=v,this.failedKeys=U,this.successCount=_,this.message=Fe(h,v)}function Oe(h,v){this.name="BulkError",this.failures=Object.keys(v).map(function(_){return v[_]}),this.failuresByPos=v,this.message=Fe(h,this.failures)}N(Ie).from(Error).extend({toString:function(){return this.name+": "+this.message}}),N(Ne).from(Ie),N(Oe).from(Ie);var At=Fn.reduce(function(h,v){return h[v]=v+"Error",h},{}),mt=Ie,De=Fn.reduce(function(h,v){var _=v+"Error";function U(E,k){this.name=_,E?typeof E=="string"?(this.message="".concat(E).concat(k?`
 `+k:""),this.inner=k||null):typeof E=="object"&&(this.message="".concat(E.name," ").concat(E.message),this.inner=E):(this.message=le[v]||_,this.inner=null)}return N(U).from(mt),h[v]=U,h},{});De.Syntax=SyntaxError,De.Type=TypeError,De.Range=RangeError;var Ot=ii.reduce(function(h,v){return h[v+"Error"]=De[v],h},{}),fA=Fn.reduce(function(h,v){return["Syntax","Type","Range"].indexOf(v)===-1&&(h[v+"Error"]=De[v]),h},{});function Qt(){}function bA(h){return h}function io(h,v){return h==null||h===bA?v:function(_){return v(h(_))}}function MA(h,v){return function(){h.apply(this,arguments),v.apply(this,arguments)}}function so(h,v){return h===Qt?v:function(){var _=h.apply(this,arguments);_!==void 0&&(arguments[0]=_);var U=this.onsuccess,E=this.onerror;this.onsuccess=null,this.onerror=null;var k=v.apply(this,arguments);return U&&(this.onsuccess=this.onsuccess?MA(U,this.onsuccess):U),E&&(this.onerror=this.onerror?MA(E,this.onerror):E),k!==void 0?k:_}}function Li(h,v){return h===Qt?v:function(){h.apply(this,arguments);var _=this.onsuccess,U=this.onerror;this.onsuccess=this.onerror=null,v.apply(this,arguments),_&&(this.onsuccess=this.onsuccess?MA(_,this.onsuccess):_),U&&(this.onerror=this.onerror?MA(U,this.onerror):U)}}function ki(h,v){return h===Qt?v:function(_){var U=h.apply(this,arguments);m(_,U);var E=this.onsuccess,k=this.onerror;return this.onsuccess=null,this.onerror=null,_=v.apply(this,arguments),E&&(this.onsuccess=this.onsuccess?MA(E,this.onsuccess):E),k&&(this.onerror=this.onerror?MA(k,this.onerror):k),U===void 0?_===void 0?void 0:_:m(U,_)}}function oo(h,v){return h===Qt?v:function(){return v.apply(this,arguments)!==!1&&h.apply(this,arguments)}}function rr(h,v){return h===Qt?v:function(){var _=h.apply(this,arguments);if(_&&typeof _.then=="function"){for(var U=this,E=arguments.length,k=new Array(E);E--;)k[E]=arguments[E];return _.then(function(){return v.apply(U,k)})}return v.apply(this,arguments)}}fA.ModifyError=Ne,fA.DexieError=Ie,fA.BulkError=Oe;var fn=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Ti(h){fn=h}var Ir={},ao=100,QA=typeof Promise>"u"?[]:(function(){var h=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[h,y(h),h];var v=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[v,y(v),h]})(),ii=QA[0],Fn=QA[1],QA=QA[2],Fn=Fn&&Fn.then,UA=ii&&ii.constructor,Lr=!!QA,si=function(h,v){pA.push([h,v]),KA&&(queueMicrotask(Ko),KA=!1)},ir=!0,KA=!0,kr=[],oi=[],ai=bA,VA={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Qt,pgp:!1,env:{},finalize:Qt},rt=VA,pA=[],GA=0,li=[];function Ge(h){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var v=this._PSD=rt;if(typeof h!="function"){if(h!==Ir)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&ms(this,this._value))}this._state=null,this._value=null,++v.ref,(function _(U,E){try{E(function(k){if(U._state===null){if(k===U)throw new TypeError("A promise cannot be resolved with itself.");var j=U._lib&&or();k&&typeof k.then=="function"?_(U,function(G,Y){k instanceof Ge?k._then(G,Y):k.then(G,Y)}):(U._state=!0,U._value=k,lo(U)),j&&WA()}},ms.bind(null,U))}catch(k){ms(U,k)}})(this,h)}var zA={get:function(){var h=rt,v=Pr;function _(U,E){var k=this,j=!h.global&&(h!==rt||v!==Pr),G=j&&!En(),Y=new Ge(function(ne,re){vs(k,new sr(ho(U,h,j,G),ho(E,h,j,G),ne,re,h))});return this._consoleTask&&(Y._consoleTask=this._consoleTask),Y}return _.prototype=Ir,_},set:function(h){P(this,"then",h&&h.prototype===Ir?zA:{get:function(){return h},set:zA.set})}};function sr(h,v,_,U,E){this.onFulfilled=typeof h=="function"?h:null,this.onRejected=typeof v=="function"?v:null,this.resolve=_,this.reject=U,this.psd=E}function ms(h,v){var _,U;oi.push(v),h._state===null&&(_=h._lib&&or(),v=ai(v),h._state=!1,h._value=v,U=h,kr.some(function(E){return E._value===U._value})||kr.push(U),lo(h),_&&WA())}function lo(h){var v=h._listeners;h._listeners=[];for(var _=0,U=v.length;_<U;++_)vs(h,v[_]);var E=h._PSD;--E.ref||E.finalize(),GA===0&&(++GA,si(function(){--GA==0&&Tr()},[]))}function vs(h,v){if(h._state!==null){var _=h._state?v.onFulfilled:v.onRejected;if(_===null)return(h._state?v.resolve:v.reject)(h._value);++v.psd.ref,++GA,si(Mo,[_,h,v])}else h._listeners.push(v)}function Mo(h,v,_){try{var U,E=v._value;!v._state&&oi.length&&(oi=[]),U=fn&&v._consoleTask?v._consoleTask.run(function(){return h(E)}):h(E),v._state||oi.indexOf(E)!==-1||(function(k){for(var j=kr.length;j;)if(kr[--j]._value===k._value)return kr.splice(j,1)})(v),_.resolve(U)}catch(k){_.reject(k)}finally{--GA==0&&Tr(),--_.psd.ref||_.psd.finalize()}}function Ko(){cr(VA,function(){or()&&WA()})}function or(){var h=ir;return KA=ir=!1,h}function WA(){var h,v,_;do for(;0<pA.length;)for(h=pA,pA=[],_=h.length,v=0;v<_;++v){var U=h[v];U[0].apply(null,U[1])}while(0<pA.length);KA=ir=!0}function Tr(){var h=kr;kr=[],h.forEach(function(U){U._PSD.onunhandled.call(null,U._value,U)});for(var v=li.slice(0),_=v.length;_;)v[--_]()}function ui(h){return new Ge(Ir,!1,h)}function kt(h,v){var _=rt;return function(){var U=or(),E=rt;try{return ur(_,!0),h.apply(this,arguments)}catch(k){v&&v(k)}finally{ur(E,!1),U&&WA()}}}S(Ge.prototype,{then:zA,_then:function(h,v){vs(this,new sr(null,null,h,v,rt))},catch:function(h){if(arguments.length===1)return this.then(null,h);var v=h,_=arguments[1];return typeof v=="function"?this.then(null,function(U){return(U instanceof v?_:ui)(U)}):this.then(null,function(U){return(U&&U.name===v?_:ui)(U)})},finally:function(h){return this.then(function(v){return Ge.resolve(h()).then(function(){return v})},function(v){return Ge.resolve(h()).then(function(){return ui(v)})})},timeout:function(h,v){var _=this;return h<1/0?new Ge(function(U,E){var k=setTimeout(function(){return E(new De.Timeout(v))},h);_.then(U,E).finally(clearTimeout.bind(null,k))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&P(Ge.prototype,Symbol.toStringTag,"Dexie.Promise"),VA.env=co(),S(Ge,{all:function(){var h=K.apply(null,arguments).map(EA);return new Ge(function(v,_){h.length===0&&v([]);var U=h.length;h.forEach(function(E,k){return Ge.resolve(E).then(function(j){h[k]=j,--U||v(h)},_)})})},resolve:function(h){return h instanceof Ge?h:h&&typeof h.then=="function"?new Ge(function(v,_){h.then(v,_)}):new Ge(Ir,!0,h)},reject:ui,race:function(){var h=K.apply(null,arguments).map(EA);return new Ge(function(v,_){h.map(function(U){return Ge.resolve(U).then(v,_)})})},PSD:{get:function(){return rt},set:function(h){return rt=h}},totalEchoes:{get:function(){return Pr}},newPSD:$A,usePSD:cr,scheduler:{get:function(){return si},set:function(h){si=h}},rejectionMapper:{get:function(){return ai},set:function(h){ai=h}},follow:function(h,v){return new Ge(function(_,U){return $A(function(E,k){var j=rt;j.unhandleds=[],j.onunhandled=k,j.finalize=MA(function(){var G,Y=this;G=function(){Y.unhandleds.length===0?E():k(Y.unhandleds[0])},li.push(function ne(){G(),li.splice(li.indexOf(ne),1)}),++GA,si(function(){--GA==0&&Tr()},[])},j.finalize),h()},v,_,U)})}}),UA&&(UA.allSettled&&P(Ge,"allSettled",function(){var h=K.apply(null,arguments).map(EA);return new Ge(function(v){h.length===0&&v([]);var _=h.length,U=new Array(_);h.forEach(function(E,k){return Ge.resolve(E).then(function(j){return U[k]={status:"fulfilled",value:j}},function(j){return U[k]={status:"rejected",reason:j}}).then(function(){return--_||v(U)})})})}),UA.any&&typeof AggregateError<"u"&&P(Ge,"any",function(){var h=K.apply(null,arguments).map(EA);return new Ge(function(v,_){h.length===0&&_(new AggregateError([]));var U=h.length,E=new Array(U);h.forEach(function(k,j){return Ge.resolve(k).then(function(G){return v(G)},function(G){E[j]=G,--U||_(new AggregateError(E))})})})}),UA.withResolvers&&(Ge.withResolvers=UA.withResolvers));var ln={awaits:0,echoes:0,id:0},Nn=0,tt=[],ar=0,Pr=0,Vo=0;function $A(h,v,_,U){var E=rt,k=Object.create(E);return k.parent=E,k.ref=0,k.global=!1,k.id=++Vo,VA.env,k.env=Lr?{Promise:Ge,PromiseProp:{value:Ge,configurable:!0,writable:!0},all:Ge.all,race:Ge.race,allSettled:Ge.allSettled,any:Ge.any,resolve:Ge.resolve,reject:Ge.reject}:{},v&&m(k,v),++E.ref,k.finalize=function(){--this.parent.ref||this.parent.finalize()},U=cr(k,h,_,U),k.ref===0&&k.finalize(),U}function lr(){return ln.id||(ln.id=++Nn),++ln.awaits,ln.echoes+=ao,ln.id}function En(){return!!ln.awaits&&(--ln.awaits==0&&(ln.id=0),ln.echoes=ln.awaits*ao,!0)}function EA(h){return ln.echoes&&h&&h.constructor===UA?(lr(),h.then(function(v){return En(),v},function(v){return En(),Zt(v)})):h}function uo(){var h=tt[tt.length-1];tt.pop(),ur(h,!1)}function ur(h,v){var _,U=rt;(v?!ln.echoes||ar++&&h===rt:!ar||--ar&&h===rt)||queueMicrotask(v?(function(E){++Pr,ln.echoes&&--ln.echoes!=0||(ln.echoes=ln.awaits=ln.id=0),tt.push(rt),ur(E,!0)}).bind(null,h):uo),h!==rt&&(rt=h,U===VA&&(VA.env=co()),Lr&&(_=VA.env.Promise,v=h.env,(U.global||h.global)&&(Object.defineProperty(u,"Promise",v.PromiseProp),_.all=v.all,_.race=v.race,_.resolve=v.resolve,_.reject=v.reject,v.allSettled&&(_.allSettled=v.allSettled),v.any&&(_.any=v.any))))}function co(){var h=u.Promise;return Lr?{Promise:h,PromiseProp:Object.getOwnPropertyDescriptor(u,"Promise"),all:h.all,race:h.race,allSettled:h.allSettled,any:h.any,resolve:h.resolve,reject:h.reject}:{}}function cr(h,v,_,U,E){var k=rt;try{return ur(h,!0),v(_,U,E)}finally{ur(k,!1)}}function ho(h,v,_,U){return typeof h!="function"?h:function(){var E=rt;_&&lr(),ur(v,!0);try{return h.apply(this,arguments)}finally{ur(E,!1),U&&queueMicrotask(En)}}}function Pi(h){Promise===UA&&ln.echoes===0?ar===0?h():enqueueNativeMicroTask(h):setTimeout(h,0)}(""+Fn).indexOf("[native code]")===-1&&(lr=En=Qt);var Zt=Ge.reject,FA="",It="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Go="String expected.",dr=[],Ni="__dbnames",ci="readonly",ji="readwrite";function rA(h,v){return h?v?function(){return h.apply(this,arguments)&&v.apply(this,arguments)}:h:v}var di={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function jn(h){return typeof h!="string"||/\./.test(h)?function(v){return v}:function(v){return v[h]===void 0&&h in v&&delete(v=Ze(v))[h],v}}function hi(){throw De.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function ze(h,v){try{var _=Dt(h),U=Dt(v);if(_!==U)return _==="Array"?1:U==="Array"?-1:_==="binary"?1:U==="binary"?-1:_==="string"?1:U==="string"?-1:_==="Date"?1:U!=="Date"?NaN:-1;switch(_){case"number":case"Date":case"string":return v<h?1:h<v?-1:0;case"binary":return(function(E,k){for(var j=E.length,G=k.length,Y=j<G?j:G,ne=0;ne<Y;++ne)if(E[ne]!==k[ne])return E[ne]<k[ne]?-1:1;return j===G?0:j<G?-1:1})(Hi(h),Hi(v));case"Array":return(function(E,k){for(var j=E.length,G=k.length,Y=j<G?j:G,ne=0;ne<Y;++ne){var re=ze(E[ne],k[ne]);if(re!==0)return re}return j===G?0:j<G?-1:1})(h,v)}}catch{}return NaN}function Dt(h){var v=typeof h;return v!="object"?v:ArrayBuffer.isView(h)?"binary":(h=et(h),h==="ArrayBuffer"?"binary":h)}function Hi(h){return h instanceof Uint8Array?h:ArrayBuffer.isView(h)?new Uint8Array(h.buffer,h.byteOffset,h.byteLength):new Uint8Array(h)}function ZA(h,v,_){var U=h.schema.yProps;return U?(v&&0<_.numFailures&&(v=v.filter(function(E,k){return!_.failures[k]})),Promise.all(U.map(function(E){return E=E.updatesTable,v?h.db.table(E).where("k").anyOf(v).delete():h.db.table(E).clear()})).then(function(){return _})):_}var SA=(Ft.prototype._trans=function(h,v,_){var U=this._tx||rt.trans,E=this.name,k=fn&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(h==="readonly"?"read":"write"," ").concat(this.name));function j(ne,re,z){if(!z.schema[E])throw new De.NotFound("Table "+E+" not part of transaction");return v(z.idbtrans,z)}var G=or();try{var Y=U&&U.db._novip===this.db._novip?U===rt.trans?U._promise(h,j,_):$A(function(){return U._promise(h,j,_)},{trans:U,transless:rt.transless||rt}):(function ne(re,z,de,te){if(re.idbdb&&(re._state.openComplete||rt.letThrough||re._vip)){var oe=re._createTransaction(z,de,re._dbSchema);try{oe.create(),re._state.PR1398_maxLoop=3}catch(ue){return ue.name===At.InvalidState&&re.isOpen()&&0<--re._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),re.close({disableAutoOpen:!1}),re.open().then(function(){return ne(re,z,de,te)})):Zt(ue)}return oe._promise(z,function(ue,ae){return $A(function(){return rt.trans=oe,te(ue,ae,oe)})}).then(function(ue){if(z==="readwrite")try{oe.idbtrans.commit()}catch{}return z==="readonly"?ue:oe._completion.then(function(){return ue})})}if(re._state.openComplete)return Zt(new De.DatabaseClosed(re._state.dbOpenError));if(!re._state.isBeingOpened){if(!re._state.autoOpen)return Zt(new De.DatabaseClosed);re.open().catch(Qt)}return re._state.dbReadyPromise.then(function(){return ne(re,z,de,te)})})(this.db,h,[this.name],j);return k&&(Y._consoleTask=k,Y=Y.catch(function(ne){return console.trace(ne),Zt(ne)})),Y}finally{G&&WA()}},Ft.prototype.get=function(h,v){var _=this;return h&&h.constructor===Object?this.where(h).first(v):h==null?Zt(new De.Type("Invalid argument to Table.get()")):this._trans("readonly",function(U){return _.core.get({trans:U,key:h}).then(function(E){return _.hook.reading.fire(E)})}).then(v)},Ft.prototype.where=function(h){if(typeof h=="string")return new this.db.WhereClause(this,h);if(g(h))return new this.db.WhereClause(this,"[".concat(h.join("+"),"]"));var v=d(h);if(v.length===1)return this.where(v[0]).equals(h[v[0]]);var _=this.schema.indexes.concat(this.schema.primKey).filter(function(G){if(G.compound&&v.every(function(ne){return 0<=G.keyPath.indexOf(ne)})){for(var Y=0;Y<v.length;++Y)if(v.indexOf(G.keyPath[Y])===-1)return!1;return!0}return!1}).sort(function(G,Y){return G.keyPath.length-Y.keyPath.length})[0];if(_&&this.db._maxKey!==FA){var k=_.keyPath.slice(0,v.length);return this.where(k).equals(k.map(function(Y){return h[Y]}))}!_&&fn&&console.warn("The query ".concat(JSON.stringify(h)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(v.join("+"),"]"));var U=this.schema.idxByName;function E(G,Y){return ze(G,Y)===0}var j=v.reduce(function(z,Y){var ne=z[0],re=z[1],z=U[Y],de=h[Y];return[ne||z,ne||!z?rA(re,z&&z.multi?function(te){return te=q(te,Y),g(te)&&te.some(function(oe){return E(de,oe)})}:function(te){return E(de,q(te,Y))}):re]},[null,null]),k=j[0],j=j[1];return k?this.where(k.name).equals(h[k.keyPath]).filter(j):_?this.filter(j):this.where(v).equals("")},Ft.prototype.filter=function(h){return this.toCollection().and(h)},Ft.prototype.count=function(h){return this.toCollection().count(h)},Ft.prototype.offset=function(h){return this.toCollection().offset(h)},Ft.prototype.limit=function(h){return this.toCollection().limit(h)},Ft.prototype.each=function(h){return this.toCollection().each(h)},Ft.prototype.toArray=function(h){return this.toCollection().toArray(h)},Ft.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Ft.prototype.orderBy=function(h){return new this.db.Collection(new this.db.WhereClause(this,g(h)?"[".concat(h.join("+"),"]"):h))},Ft.prototype.reverse=function(){return this.toCollection().reverse()},Ft.prototype.mapToClass=function(h){var v,_=this.db,U=this.name;function E(){return v!==null&&v.apply(this,arguments)||this}(this.schema.mappedClass=h).prototype instanceof hi&&((function(Y,ne){if(typeof ne!="function"&&ne!==null)throw new TypeError("Class extends value "+String(ne)+" is not a constructor or null");function re(){this.constructor=Y}t(Y,ne),Y.prototype=ne===null?Object.create(ne):(re.prototype=ne.prototype,new re)})(E,v=h),Object.defineProperty(E.prototype,"db",{get:function(){return _},enumerable:!1,configurable:!0}),E.prototype.table=function(){return U},h=E);for(var k=new Set,j=h.prototype;j;j=y(j))Object.getOwnPropertyNames(j).forEach(function(Y){return k.add(Y)});function G(Y){if(!Y)return Y;var ne,re=Object.create(h.prototype);for(ne in Y)if(!k.has(ne))try{re[ne]=Y[ne]}catch{}return re}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=G,this.hook("reading",G),h},Ft.prototype.defineClass=function(){return this.mapToClass(function(h){m(this,h)})},Ft.prototype.add=function(h,v){var _=this,U=this.schema.primKey,E=U.auto,k=U.keyPath,j=h;return k&&E&&(j=jn(k)(h)),this._trans("readwrite",function(G){return _.core.mutate({trans:G,type:"add",keys:v!=null?[v]:null,values:[j]})}).then(function(G){return G.numFailures?Ge.reject(G.failures[0]):G.lastResult}).then(function(G){if(k)try{xe(h,k,G)}catch{}return G})},Ft.prototype.update=function(h,v){return typeof h!="object"||g(h)?this.where(":id").equals(h).modify(v):(h=q(h,this.schema.primKey.keyPath),h===void 0?Zt(new De.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(h).modify(v))},Ft.prototype.put=function(h,v){var _=this,U=this.schema.primKey,E=U.auto,k=U.keyPath,j=h;return k&&E&&(j=jn(k)(h)),this._trans("readwrite",function(G){return _.core.mutate({trans:G,type:"put",values:[j],keys:v!=null?[v]:null})}).then(function(G){return G.numFailures?Ge.reject(G.failures[0]):G.lastResult}).then(function(G){if(k)try{xe(h,k,G)}catch{}return G})},Ft.prototype.delete=function(h){var v=this;return this._trans("readwrite",function(_){return v.core.mutate({trans:_,type:"delete",keys:[h]}).then(function(U){return ZA(v,[h],U)}).then(function(U){return U.numFailures?Ge.reject(U.failures[0]):void 0})})},Ft.prototype.clear=function(){var h=this;return this._trans("readwrite",function(v){return h.core.mutate({trans:v,type:"deleteRange",range:di}).then(function(_){return ZA(h,null,_)})}).then(function(v){return v.numFailures?Ge.reject(v.failures[0]):void 0})},Ft.prototype.bulkGet=function(h){var v=this;return this._trans("readonly",function(_){return v.core.getMany({keys:h,trans:_}).then(function(U){return U.map(function(E){return v.hook.reading.fire(E)})})})},Ft.prototype.bulkAdd=function(h,v,_){var U=this,E=Array.isArray(v)?v:void 0,k=(_=_||(E?void 0:v))?_.allKeys:void 0;return this._trans("readwrite",function(j){var ne=U.schema.primKey,G=ne.auto,ne=ne.keyPath;if(ne&&E)throw new De.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(E&&E.length!==h.length)throw new De.InvalidArgument("Arguments objects and keys must have the same length");var Y=h.length,ne=ne&&G?h.map(jn(ne)):h;return U.core.mutate({trans:j,type:"add",keys:E,values:ne,wantResults:k}).then(function(oe){var z=oe.numFailures,de=oe.results,te=oe.lastResult,oe=oe.failures;if(z===0)return k?de:te;throw new Oe("".concat(U.name,".bulkAdd(): ").concat(z," of ").concat(Y," operations failed"),oe)})})},Ft.prototype.bulkPut=function(h,v,_){var U=this,E=Array.isArray(v)?v:void 0,k=(_=_||(E?void 0:v))?_.allKeys:void 0;return this._trans("readwrite",function(j){var ne=U.schema.primKey,G=ne.auto,ne=ne.keyPath;if(ne&&E)throw new De.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(E&&E.length!==h.length)throw new De.InvalidArgument("Arguments objects and keys must have the same length");var Y=h.length,ne=ne&&G?h.map(jn(ne)):h;return U.core.mutate({trans:j,type:"put",keys:E,values:ne,wantResults:k}).then(function(oe){var z=oe.numFailures,de=oe.results,te=oe.lastResult,oe=oe.failures;if(z===0)return k?de:te;throw new Oe("".concat(U.name,".bulkPut(): ").concat(z," of ").concat(Y," operations failed"),oe)})})},Ft.prototype.bulkUpdate=function(h){var v=this,_=this.core,U=h.map(function(j){return j.key}),E=h.map(function(j){return j.changes}),k=[];return this._trans("readwrite",function(j){return _.getMany({trans:j,keys:U,cache:"clone"}).then(function(G){var Y=[],ne=[];h.forEach(function(z,de){var te=z.key,oe=z.changes,ue=G[de];if(ue){for(var ae=0,ce=Object.keys(oe);ae<ce.length;ae++){var Be=ce[ae],_e=oe[Be];if(Be===v.schema.primKey.keyPath){if(ze(_e,te)!==0)throw new De.Constraint("Cannot update primary key in bulkUpdate()")}else xe(ue,Be,_e)}k.push(de),Y.push(te),ne.push(ue)}});var re=Y.length;return _.mutate({trans:j,type:"put",keys:Y,values:ne,updates:{keys:U,changeSpecs:E}}).then(function(z){var de=z.numFailures,te=z.failures;if(de===0)return re;for(var oe=0,ue=Object.keys(te);oe<ue.length;oe++){var ae,ce=ue[oe],Be=k[Number(ce)];Be!=null&&(ae=te[ce],delete te[ce],te[Be]=ae)}throw new Oe("".concat(v.name,".bulkUpdate(): ").concat(de," of ").concat(re," operations failed"),te)})})})},Ft.prototype.bulkDelete=function(h){var v=this,_=h.length;return this._trans("readwrite",function(U){return v.core.mutate({trans:U,type:"delete",keys:h}).then(function(E){return ZA(v,h,E)})}).then(function(j){var E=j.numFailures,k=j.lastResult,j=j.failures;if(E===0)return k;throw new Oe("".concat(v.name,".bulkDelete(): ").concat(E," of ").concat(_," operations failed"),j)})},Ft);function Ft(){}function dt(h){function v(j,G){if(G){for(var Y=arguments.length,ne=new Array(Y-1);--Y;)ne[Y-1]=arguments[Y];return _[j].subscribe.apply(null,ne),h}if(typeof j=="string")return _[j]}var _={};v.addEventType=k;for(var U=1,E=arguments.length;U<E;++U)k(arguments[U]);return v;function k(j,G,Y){if(typeof j!="object"){var ne;G=G||oo;var re={subscribers:[],fire:Y=Y||Qt,subscribe:function(z){re.subscribers.indexOf(z)===-1&&(re.subscribers.push(z),re.fire=G(re.fire,z))},unsubscribe:function(z){re.subscribers=re.subscribers.filter(function(de){return de!==z}),re.fire=re.subscribers.reduce(G,Y)}};return _[j]=v[j]=re}d(ne=j).forEach(function(z){var de=ne[z];if(g(de))k(z,ne[z][0],ne[z][1]);else{if(de!=="asap")throw new De.InvalidArgument("Invalid event config");var te=k(z,bA,function(){for(var oe=arguments.length,ue=new Array(oe);oe--;)ue[oe]=arguments[oe];te.subscribers.forEach(function(ae){$(function(){ae.apply(null,ue)})})})}})}}function Tt(h,v){return N(v).from({prototype:h}),v}function hr(h,v){return!(h.filter||h.algorithm||h.or)&&(v?h.justLimit:!h.replayFilter)}function fi(h,v){h.filter=rA(h.filter,v)}function Cn(h,v,_){var U=h.replayFilter;h.replayFilter=U?function(){return rA(U(),v())}:v,h.justLimit=_&&!U}function Oi(h,v){if(h.isPrimKey)return v.primaryKey;var _=v.getIndexByKeyPath(h.index);if(!_)throw new De.Schema("KeyPath "+h.index+" on object store "+v.name+" is not indexed");return _}function Nr(h,v,_){var U=Oi(h,v.schema);return v.openCursor({trans:_,values:!h.keysOnly,reverse:h.dir==="prev",unique:!!h.unique,query:{index:U,range:h.range}})}function Hn(h,v,_,U){var E=h.replayFilter?rA(h.filter,h.replayFilter()):h.filter;if(h.or){var k={},j=function(G,Y,ne){var re,z;E&&!E(Y,ne,function(de){return Y.stop(de)},function(de){return Y.fail(de)})||((z=""+(re=Y.primaryKey))=="[object ArrayBuffer]"&&(z=""+new Uint8Array(re)),b(k,z)||(k[z]=!0,v(G,Y,ne)))};return Promise.all([h.or._iterate(j,_),Jt(Nr(h,U,_),h.algorithm,j,!h.keysOnly&&h.valueMapper)])}return Jt(Nr(h,U,_),rA(h.algorithm,E),v,!h.keysOnly&&h.valueMapper)}function Jt(h,v,_,U){var E=kt(U?function(k,j,G){return _(U(k),j,G)}:_);return h.then(function(k){if(k)return k.start(function(){var j=function(){return k.continue()};v&&!v(k,function(G){return j=G},function(G){k.stop(G),j=Qt},function(G){k.fail(G),j=Qt})||E(k.value,k,function(G){return j=G}),j()})})}var Zn=(xt.prototype.execute=function(h){var v=this["@@propmod"];if(v.add!==void 0){var _=v.add;if(g(_))return o(o([],g(h)?h:[],!0),_).sort();if(typeof _=="number")return(Number(h)||0)+_;if(typeof _=="bigint")try{return BigInt(h)+_}catch{return BigInt(0)+_}throw new TypeError("Invalid term ".concat(_))}if(v.remove!==void 0){var U=v.remove;if(g(U))return g(h)?h.filter(function(E){return!U.includes(E)}).sort():[];if(typeof U=="number")return Number(h)-U;if(typeof U=="bigint")try{return BigInt(h)-U}catch{return BigInt(0)-U}throw new TypeError("Invalid subtrahend ".concat(U))}return _=(_=v.replacePrefix)===null||_===void 0?void 0:_[0],_&&typeof h=="string"&&h.startsWith(_)?v.replacePrefix[1]+h.substring(_.length):h},xt);function xt(h){this["@@propmod"]=h}var pi=(_t.prototype._read=function(h,v){var _=this._ctx;return _.error?_.table._trans(null,Zt.bind(null,_.error)):_.table._trans("readonly",h).then(v)},_t.prototype._write=function(h){var v=this._ctx;return v.error?v.table._trans(null,Zt.bind(null,v.error)):v.table._trans("readwrite",h,"locked")},_t.prototype._addAlgorithm=function(h){var v=this._ctx;v.algorithm=rA(v.algorithm,h)},_t.prototype._iterate=function(h,v){return Hn(this._ctx,h,v,this._ctx.table.core)},_t.prototype.clone=function(h){var v=Object.create(this.constructor.prototype),_=Object.create(this._ctx);return h&&m(_,h),v._ctx=_,v},_t.prototype.raw=function(){return this._ctx.valueMapper=null,this},_t.prototype.each=function(h){var v=this._ctx;return this._read(function(_){return Hn(v,h,_,v.table.core)})},_t.prototype.count=function(h){var v=this;return this._read(function(_){var U=v._ctx,E=U.table.core;if(hr(U,!0))return E.count({trans:_,query:{index:Oi(U,E.schema),range:U.range}}).then(function(j){return Math.min(j,U.limit)});var k=0;return Hn(U,function(){return++k,!1},_,E).then(function(){return k})}).then(h)},_t.prototype.sortBy=function(h,v){var _=h.split(".").reverse(),U=_[0],E=_.length-1;function k(Y,ne){return ne?k(Y[_[ne]],ne-1):Y[U]}var j=this._ctx.dir==="next"?1:-1;function G(Y,ne){return ze(k(Y,E),k(ne,E))*j}return this.toArray(function(Y){return Y.sort(G)}).then(v)},_t.prototype.toArray=function(h){var v=this;return this._read(function(_){var U=v._ctx;if(U.dir==="next"&&hr(U,!0)&&0<U.limit){var E=U.valueMapper,k=Oi(U,U.table.core.schema);return U.table.core.query({trans:_,limit:U.limit,values:!0,query:{index:k,range:U.range}}).then(function(G){return G=G.result,E?G.map(E):G})}var j=[];return Hn(U,function(G){return j.push(G)},_,U.table.core).then(function(){return j})},h)},_t.prototype.offset=function(h){var v=this._ctx;return h<=0||(v.offset+=h,hr(v)?Cn(v,function(){var _=h;return function(U,E){return _===0||(_===1?--_:E(function(){U.advance(_),_=0}),!1)}}):Cn(v,function(){var _=h;return function(){return--_<0}})),this},_t.prototype.limit=function(h){return this._ctx.limit=Math.min(this._ctx.limit,h),Cn(this._ctx,function(){var v=h;return function(_,U,E){return--v<=0&&U(E),0<=v}},!0),this},_t.prototype.until=function(h,v){return fi(this._ctx,function(_,U,E){return!h(_.value)||(U(E),v)}),this},_t.prototype.first=function(h){return this.limit(1).toArray(function(v){return v[0]}).then(h)},_t.prototype.last=function(h){return this.reverse().first(h)},_t.prototype.filter=function(h){var v;return fi(this._ctx,function(_){return h(_.value)}),(v=this._ctx).isMatch=rA(v.isMatch,h),this},_t.prototype.and=function(h){return this.filter(h)},_t.prototype.or=function(h){return new this.db.WhereClause(this._ctx.table,h,this)},_t.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},_t.prototype.desc=function(){return this.reverse()},_t.prototype.eachKey=function(h){var v=this._ctx;return v.keysOnly=!v.isMatch,this.each(function(_,U){h(U.key,U)})},_t.prototype.eachUniqueKey=function(h){return this._ctx.unique="unique",this.eachKey(h)},_t.prototype.eachPrimaryKey=function(h){var v=this._ctx;return v.keysOnly=!v.isMatch,this.each(function(_,U){h(U.primaryKey,U)})},_t.prototype.keys=function(h){var v=this._ctx;v.keysOnly=!v.isMatch;var _=[];return this.each(function(U,E){_.push(E.key)}).then(function(){return _}).then(h)},_t.prototype.primaryKeys=function(h){var v=this._ctx;if(v.dir==="next"&&hr(v,!0)&&0<v.limit)return this._read(function(U){var E=Oi(v,v.table.core.schema);return v.table.core.query({trans:U,values:!1,limit:v.limit,query:{index:E,range:v.range}})}).then(function(U){return U.result}).then(h);v.keysOnly=!v.isMatch;var _=[];return this.each(function(U,E){_.push(E.primaryKey)}).then(function(){return _}).then(h)},_t.prototype.uniqueKeys=function(h){return this._ctx.unique="unique",this.keys(h)},_t.prototype.firstKey=function(h){return this.limit(1).keys(function(v){return v[0]}).then(h)},_t.prototype.lastKey=function(h){return this.reverse().firstKey(h)},_t.prototype.distinct=function(){var h=this._ctx,h=h.index&&h.table.schema.idxByName[h.index];if(!h||!h.multi)return this;var v={};return fi(this._ctx,function(E){var U=E.primaryKey.toString(),E=b(v,U);return v[U]=!0,!E}),this},_t.prototype.modify=function(h){var v=this,_=this._ctx;return this._write(function(U){var E,k,j;j=typeof h=="function"?h:(E=d(h),k=E.length,function(ce){for(var Be=!1,_e=0;_e<k;++_e){var Ce=E[_e],Se=h[Ce],Re=q(ce,Ce);Se instanceof Zn?(xe(ce,Ce,Se.execute(Re)),Be=!0):Re!==Se&&(xe(ce,Ce,Se),Be=!0)}return Be});var G=_.table.core,z=G.schema.primaryKey,Y=z.outbound,ne=z.extractKey,re=200,z=v.db._options.modifyChunkSize;z&&(re=typeof z=="object"?z[G.name]||z["*"]||200:z);function de(ce,Ce){var _e=Ce.failures,Ce=Ce.numFailures;oe+=ce-Ce;for(var Se=0,Re=d(_e);Se<Re.length;Se++){var He=Re[Se];te.push(_e[He])}}var te=[],oe=0,ue=[],ae=h===fr;return v.clone().primaryKeys().then(function(ce){function Be(Ce){var Se=Math.min(re,ce.length-Ce),Re=ce.slice(Ce,Ce+Se);return(ae?Promise.resolve([]):G.getMany({trans:U,keys:Re,cache:"immutable"})).then(function(He){var Te=[],Ve=[],Ke=Y?[]:null,We=ae?Re:[];if(!ae)for(var gt=0;gt<Se;++gt){var Ct=He[gt],lt={value:Ze(Ct),primKey:ce[Ce+gt]};j.call(lt,lt.value,lt)!==!1&&(lt.value==null?We.push(ce[Ce+gt]):Y||ze(ne(Ct),ne(lt.value))===0?(Ve.push(lt.value),Y&&Ke.push(ce[Ce+gt])):(We.push(ce[Ce+gt]),Te.push(lt.value)))}return Promise.resolve(0<Te.length&&G.mutate({trans:U,type:"add",values:Te}).then(function(Rt){for(var pt in Rt.failures)We.splice(parseInt(pt),1);de(Te.length,Rt)})).then(function(){return(0<Ve.length||_e&&typeof h=="object")&&G.mutate({trans:U,type:"put",keys:Ke,values:Ve,criteria:_e,changeSpec:typeof h!="function"&&h,isAdditionalChunk:0<Ce}).then(function(Rt){return de(Ve.length,Rt)})}).then(function(){return(0<We.length||_e&&ae)&&G.mutate({trans:U,type:"delete",keys:We,criteria:_e,isAdditionalChunk:0<Ce}).then(function(Rt){return ZA(_.table,We,Rt)}).then(function(Rt){return de(We.length,Rt)})}).then(function(){return ce.length>Ce+Se&&Be(Ce+re)})})}var _e=hr(_)&&_.limit===1/0&&(typeof h!="function"||ae)&&{index:_.index,range:_.range};return Be(0).then(function(){if(0<te.length)throw new Ne("Error modifying one or more objects",te,oe,ue);return ce.length})})})},_t.prototype.delete=function(){var h=this._ctx,v=h.range;return!hr(h)||h.table.schema.yProps||!h.isPrimKey&&v.type!==3?this.modify(fr):this._write(function(_){var U=h.table.core.schema.primaryKey,E=v;return h.table.core.count({trans:_,query:{index:U,range:E}}).then(function(k){return h.table.core.mutate({trans:_,type:"deleteRange",range:E}).then(function(Y){var G=Y.failures,Y=Y.numFailures;if(Y)throw new Ne("Could not delete some values",Object.keys(G).map(function(ne){return G[ne]}),k-Y);return k-Y})})})},_t);function _t(){}var fr=function(h,v){return v.value=null};function ws(h,v){return h<v?-1:h===v?0:1}function Bs(h,v){return v<h?-1:h===v?0:1}function pn(h,v,_){return h=h instanceof gA?new h.Collection(h):h,h._ctx.error=new(_||TypeError)(v),h}function IA(h){return new h.Collection(h,function(){return LA("")}).limit(0)}function JA(h,v,_,U){var E,k,j,G,Y,ne,re,z=_.length;if(!_.every(function(oe){return typeof oe=="string"}))return pn(h,Go);function de(oe){E=oe==="next"?function(ae){return ae.toUpperCase()}:function(ae){return ae.toLowerCase()},k=oe==="next"?function(ae){return ae.toLowerCase()}:function(ae){return ae.toUpperCase()},j=oe==="next"?ws:Bs;var ue=_.map(function(ae){return{lower:k(ae),upper:E(ae)}}).sort(function(ae,ce){return j(ae.lower,ce.lower)});G=ue.map(function(ae){return ae.upper}),Y=ue.map(function(ae){return ae.lower}),re=(ne=oe)==="next"?"":U}de("next"),h=new h.Collection(h,function(){return un(G[0],Y[z-1]+U)}),h._ondirectionchange=function(oe){de(oe)};var te=0;return h._addAlgorithm(function(oe,ue,ae){var ce=oe.key;if(typeof ce!="string")return!1;var Be=k(ce);if(v(Be,Y,te))return!0;for(var _e=null,Ce=te;Ce<z;++Ce){var Se=(function(Re,He,Te,Ve,Ke,We){for(var gt=Math.min(Re.length,Ve.length),Ct=-1,lt=0;lt<gt;++lt){var Rt=He[lt];if(Rt!==Ve[lt])return Ke(Re[lt],Te[lt])<0?Re.substr(0,lt)+Te[lt]+Te.substr(lt+1):Ke(Re[lt],Ve[lt])<0?Re.substr(0,lt)+Ve[lt]+Te.substr(lt+1):0<=Ct?Re.substr(0,Ct)+He[Ct]+Te.substr(Ct+1):null;Ke(Re[lt],Rt)<0&&(Ct=lt)}return gt<Ve.length&&We==="next"?Re+Te.substr(Re.length):gt<Re.length&&We==="prev"?Re.substr(0,Te.length):Ct<0?null:Re.substr(0,Ct)+Ve[Ct]+Te.substr(Ct+1)})(ce,Be,G[Ce],Y[Ce],j,ne);Se===null&&_e===null?te=Ce+1:(_e===null||0<j(_e,Se))&&(_e=Se)}return ue(_e!==null?function(){oe.continue(_e+re)}:ae),!1}),h}function un(h,v,_,U){return{type:2,lower:h,upper:v,lowerOpen:_,upperOpen:U}}function LA(h){return{type:1,lower:h,upper:h}}var gA=(Object.defineProperty(Vt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Vt.prototype.between=function(h,v,_,U){_=_!==!1,U=U===!0;try{return 0<this._cmp(h,v)||this._cmp(h,v)===0&&(_||U)&&(!_||!U)?IA(this):new this.Collection(this,function(){return un(h,v,!_,!U)})}catch{return pn(this,It)}},Vt.prototype.equals=function(h){return h==null?pn(this,It):new this.Collection(this,function(){return LA(h)})},Vt.prototype.above=function(h){return h==null?pn(this,It):new this.Collection(this,function(){return un(h,void 0,!0)})},Vt.prototype.aboveOrEqual=function(h){return h==null?pn(this,It):new this.Collection(this,function(){return un(h,void 0,!1)})},Vt.prototype.below=function(h){return h==null?pn(this,It):new this.Collection(this,function(){return un(void 0,h,!1,!0)})},Vt.prototype.belowOrEqual=function(h){return h==null?pn(this,It):new this.Collection(this,function(){return un(void 0,h)})},Vt.prototype.startsWith=function(h){return typeof h!="string"?pn(this,Go):this.between(h,h+FA,!0,!0)},Vt.prototype.startsWithIgnoreCase=function(h){return h===""?this.startsWith(h):JA(this,function(v,_){return v.indexOf(_[0])===0},[h],FA)},Vt.prototype.equalsIgnoreCase=function(h){return JA(this,function(v,_){return v===_[0]},[h],"")},Vt.prototype.anyOfIgnoreCase=function(){var h=K.apply(Pe,arguments);return h.length===0?IA(this):JA(this,function(v,_){return _.indexOf(v)!==-1},h,"")},Vt.prototype.startsWithAnyOfIgnoreCase=function(){var h=K.apply(Pe,arguments);return h.length===0?IA(this):JA(this,function(v,_){return _.some(function(U){return v.indexOf(U)===0})},h,FA)},Vt.prototype.anyOf=function(){var h=this,v=K.apply(Pe,arguments),_=this._cmp;try{v.sort(_)}catch{return pn(this,It)}if(v.length===0)return IA(this);var U=new this.Collection(this,function(){return un(v[0],v[v.length-1])});U._ondirectionchange=function(k){_=k==="next"?h._ascending:h._descending,v.sort(_)};var E=0;return U._addAlgorithm(function(k,j,G){for(var Y=k.key;0<_(Y,v[E]);)if(++E===v.length)return j(G),!1;return _(Y,v[E])===0||(j(function(){k.continue(v[E])}),!1)}),U},Vt.prototype.notEqual=function(h){return this.inAnyRange([[-1/0,h],[h,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Vt.prototype.noneOf=function(){var h=K.apply(Pe,arguments);if(h.length===0)return new this.Collection(this);try{h.sort(this._ascending)}catch{return pn(this,It)}var v=h.reduce(function(_,U){return _?_.concat([[_[_.length-1][1],U]]):[[-1/0,U]]},null);return v.push([h[h.length-1],this.db._maxKey]),this.inAnyRange(v,{includeLowers:!1,includeUppers:!1})},Vt.prototype.inAnyRange=function(ce,v){var _=this,U=this._cmp,E=this._ascending,k=this._descending,j=this._min,G=this._max;if(ce.length===0)return IA(this);if(!ce.every(function(Be){return Be[0]!==void 0&&Be[1]!==void 0&&E(Be[0],Be[1])<=0}))return pn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",De.InvalidArgument);var Y=!v||v.includeLowers!==!1,ne=v&&v.includeUppers===!0,re,z=E;function de(Be,_e){return z(Be[0],_e[0])}try{(re=ce.reduce(function(Be,_e){for(var Ce=0,Se=Be.length;Ce<Se;++Ce){var Re=Be[Ce];if(U(_e[0],Re[1])<0&&0<U(_e[1],Re[0])){Re[0]=j(Re[0],_e[0]),Re[1]=G(Re[1],_e[1]);break}}return Ce===Se&&Be.push(_e),Be},[])).sort(de)}catch{return pn(this,It)}var te=0,oe=ne?function(Be){return 0<E(Be,re[te][1])}:function(Be){return 0<=E(Be,re[te][1])},ue=Y?function(Be){return 0<k(Be,re[te][0])}:function(Be){return 0<=k(Be,re[te][0])},ae=oe,ce=new this.Collection(this,function(){return un(re[0][0],re[re.length-1][1],!Y,!ne)});return ce._ondirectionchange=function(Be){z=Be==="next"?(ae=oe,E):(ae=ue,k),re.sort(de)},ce._addAlgorithm(function(Be,_e,Ce){for(var Se,Re=Be.key;ae(Re);)if(++te===re.length)return _e(Ce),!1;return!oe(Se=Re)&&!ue(Se)||(_._cmp(Re,re[te][1])===0||_._cmp(Re,re[te][0])===0||_e(function(){z===E?Be.continue(re[te][0]):Be.continue(re[te][1])}),!1)}),ce},Vt.prototype.startsWithAnyOf=function(){var h=K.apply(Pe,arguments);return h.every(function(v){return typeof v=="string"})?h.length===0?IA(this):this.inAnyRange(h.map(function(v){return[v,v+FA]})):pn(this,"startsWithAnyOf() only works with strings")},Vt);function Vt(){}function at(h){return kt(function(v){return qt(v),h(v.target.error),!1})}function qt(h){h.stopPropagation&&h.stopPropagation(),h.preventDefault&&h.preventDefault()}var St="storagemutated",Di="x-storagemutated-1",On=dt(null,St),fo=(Jn.prototype._lock=function(){return M(!rt.global),++this._reculock,this._reculock!==1||rt.global||(rt.lockOwnerFor=this),this},Jn.prototype._unlock=function(){if(M(!rt.global),--this._reculock==0)for(rt.global||(rt.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var h=this._blockedFuncs.shift();try{cr(h[1],h[0])}catch{}}return this},Jn.prototype._locked=function(){return this._reculock&&rt.lockOwnerFor!==this},Jn.prototype.create=function(h){var v=this;if(!this.mode)return this;var _=this.db.idbdb,U=this.db._state.dbOpenError;if(M(!this.idbtrans),!h&&!_)switch(U&&U.name){case"DatabaseClosedError":throw new De.DatabaseClosed(U);case"MissingAPIError":throw new De.MissingAPI(U.message,U);default:throw new De.OpenFailed(U)}if(!this.active)throw new De.TransactionInactive;return M(this._completion._state===null),(h=this.idbtrans=h||(this.db.core||_).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=kt(function(E){qt(E),v._reject(h.error)}),h.onabort=kt(function(E){qt(E),v.active&&v._reject(new De.Abort(h.error)),v.active=!1,v.on("abort").fire(E)}),h.oncomplete=kt(function(){v.active=!1,v._resolve(),"mutatedParts"in h&&On.storagemutated.fire(h.mutatedParts)}),this},Jn.prototype._promise=function(h,v,_){var U=this;if(h==="readwrite"&&this.mode!=="readwrite")return Zt(new De.ReadOnly("Transaction is readonly"));if(!this.active)return Zt(new De.TransactionInactive);if(this._locked())return new Ge(function(k,j){U._blockedFuncs.push([function(){U._promise(h,v,_).then(k,j)},rt])});if(_)return $A(function(){var k=new Ge(function(j,G){U._lock();var Y=v(j,G,U);Y&&Y.then&&Y.then(j,G)});return k.finally(function(){return U._unlock()}),k._lib=!0,k});var E=new Ge(function(k,j){var G=v(k,j,U);G&&G.then&&G.then(k,j)});return E._lib=!0,E},Jn.prototype._root=function(){return this.parent?this.parent._root():this},Jn.prototype.waitFor=function(h){var v,_=this._root(),U=Ge.resolve(h);_._waitingFor?_._waitingFor=_._waitingFor.then(function(){return U}):(_._waitingFor=U,_._waitingQueue=[],v=_.idbtrans.objectStore(_.storeNames[0]),(function k(){for(++_._spinCount;_._waitingQueue.length;)_._waitingQueue.shift()();_._waitingFor&&(v.get(-1/0).onsuccess=k)})());var E=_._waitingFor;return new Ge(function(k,j){U.then(function(G){return _._waitingQueue.push(kt(k.bind(null,G)))},function(G){return _._waitingQueue.push(kt(j.bind(null,G)))}).finally(function(){_._waitingFor===E&&(_._waitingFor=null)})})},Jn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new De.Abort))},Jn.prototype.table=function(h){var v=this._memoizedTables||(this._memoizedTables={});if(b(v,h))return v[h];var _=this.schema[h];if(!_)throw new De.NotFound("Table "+h+" not part of transaction");return _=new this.db.Table(h,_,this),_.core=this.db.core.table(h),v[h]=_},Jn);function Jn(){}function iA(h,v,_,U,E,k,j,G){return{name:h,keyPath:v,unique:_,multi:U,auto:E,compound:k,src:(_&&!j?"&":"")+(U?"*":"")+(E?"++":"")+Ri(v),type:G}}function Ri(h){return typeof h=="string"?h:h?"["+[].join.call(h,"+")+"]":""}function jr(h,v,_){return{name:h,primKey:v,indexes:_,mappedClass:null,idxByName:(U=function(E){return[E.name,E]},_.reduce(function(E,k,j){return j=U(k,j),j&&(E[j[0]]=j[1]),E},{}))};var U}var Ht=function(h){try{return h.only([[]]),Ht=function(){return[[]]},[[]]}catch{return Ht=function(){return FA},FA}};function qn(h){return h==null?function(){}:typeof h=="string"?(v=h).split(".").length===1?function(_){return _[v]}:function(_){return q(_,v)}:function(_){return q(_,h)};var v}function pr(h){return[].slice.call(h)}var Mi=0;function Ki(h){return h==null?":id":typeof h=="string"?h:"[".concat(h.join("+"),"]")}function zo(h,v,Y){function U(ae){if(ae.type===3)return null;if(ae.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var te=ae.lower,oe=ae.upper,ue=ae.lowerOpen,ae=ae.upperOpen;return te===void 0?oe===void 0?null:v.upperBound(oe,!!ae):oe===void 0?v.lowerBound(te,!!ue):v.bound(te,oe,!!ue,!!ae)}function E(de){var te,oe=de.name;return{name:oe,schema:de,mutate:function(ue){var ae=ue.trans,ce=ue.type,Be=ue.keys,_e=ue.values,Ce=ue.range;return new Promise(function(Se,Re){Se=kt(Se);var He=ae.objectStore(oe),Te=He.keyPath==null,Ve=ce==="put"||ce==="add";if(!Ve&&ce!=="delete"&&ce!=="deleteRange")throw new Error("Invalid operation type: "+ce);var Ke,We=(Be||_e||{length:1}).length;if(Be&&_e&&Be.length!==_e.length)throw new Error("Given keys array must have same length as given values array.");if(We===0)return Se({numFailures:0,failures:{},results:[],lastResult:void 0});function gt(en){++Rt,qt(en)}var Ct=[],lt=[],Rt=0;if(ce==="deleteRange"){if(Ce.type===4)return Se({numFailures:Rt,failures:lt,results:[],lastResult:void 0});Ce.type===3?Ct.push(Ke=He.clear()):Ct.push(Ke=He.delete(U(Ce)))}else{var Te=Ve?Te?[_e,Be]:[_e,null]:[Be,null],pt=Te[0],Yt=Te[1];if(Ve)for(var vn=0;vn<We;++vn)Ct.push(Ke=Yt&&Yt[vn]!==void 0?He[ce](pt[vn],Yt[vn]):He[ce](pt[vn])),Ke.onerror=gt;else for(vn=0;vn<We;++vn)Ct.push(Ke=He[ce](pt[vn])),Ke.onerror=gt}function Kn(en){en=en.target.result,Ct.forEach(function(TA,bs){return TA.error!=null&&(lt[bs]=TA.error)}),Se({numFailures:Rt,failures:lt,results:ce==="delete"?Be:Ct.map(function(TA){return TA.result}),lastResult:en})}Ke.onerror=function(en){gt(en),Kn(en)},Ke.onsuccess=Kn})},getMany:function(ue){var ae=ue.trans,ce=ue.keys;return new Promise(function(Be,_e){Be=kt(Be);for(var Ce,Se=ae.objectStore(oe),Re=ce.length,He=new Array(Re),Te=0,Ve=0,Ke=function(Ct){Ct=Ct.target,He[Ct._pos]=Ct.result,++Ve===Te&&Be(He)},We=at(_e),gt=0;gt<Re;++gt)ce[gt]!=null&&((Ce=Se.get(ce[gt]))._pos=gt,Ce.onsuccess=Ke,Ce.onerror=We,++Te);Te===0&&Be(He)})},get:function(ue){var ae=ue.trans,ce=ue.key;return new Promise(function(Be,_e){Be=kt(Be);var Ce=ae.objectStore(oe).get(ce);Ce.onsuccess=function(Se){return Be(Se.target.result)},Ce.onerror=at(_e)})},query:(te=ne,function(ue){return new Promise(function(ae,ce){ae=kt(ae);var Be,_e,Ce,Te=ue.trans,Se=ue.values,Re=ue.limit,Ke=ue.query,He=Re===1/0?void 0:Re,Ve=Ke.index,Ke=Ke.range,Te=Te.objectStore(oe),Ve=Ve.isPrimaryKey?Te:Te.index(Ve.name),Ke=U(Ke);if(Re===0)return ae({result:[]});te?((He=Se?Ve.getAll(Ke,He):Ve.getAllKeys(Ke,He)).onsuccess=function(We){return ae({result:We.target.result})},He.onerror=at(ce)):(Be=0,_e=!Se&&"openKeyCursor"in Ve?Ve.openKeyCursor(Ke):Ve.openCursor(Ke),Ce=[],_e.onsuccess=function(We){var gt=_e.result;return gt?(Ce.push(Se?gt.value:gt.primaryKey),++Be===Re?ae({result:Ce}):void gt.continue()):ae({result:Ce})},_e.onerror=at(ce))})}),openCursor:function(ue){var ae=ue.trans,ce=ue.values,Be=ue.query,_e=ue.reverse,Ce=ue.unique;return new Promise(function(Se,Re){Se=kt(Se);var Ve=Be.index,He=Be.range,Te=ae.objectStore(oe),Te=Ve.isPrimaryKey?Te:Te.index(Ve.name),Ve=_e?Ce?"prevunique":"prev":Ce?"nextunique":"next",Ke=!ce&&"openKeyCursor"in Te?Te.openKeyCursor(U(He),Ve):Te.openCursor(U(He),Ve);Ke.onerror=at(Re),Ke.onsuccess=kt(function(We){var gt,Ct,lt,Rt,pt=Ke.result;pt?(pt.___id=++Mi,pt.done=!1,gt=pt.continue.bind(pt),Ct=(Ct=pt.continuePrimaryKey)&&Ct.bind(pt),lt=pt.advance.bind(pt),Rt=function(){throw new Error("Cursor not stopped")},pt.trans=ae,pt.stop=pt.continue=pt.continuePrimaryKey=pt.advance=function(){throw new Error("Cursor not started")},pt.fail=kt(Re),pt.next=function(){var Yt=this,vn=1;return this.start(function(){return vn--?Yt.continue():Yt.stop()}).then(function(){return Yt})},pt.start=function(Yt){function vn(){if(Ke.result)try{Yt()}catch(en){pt.fail(en)}else pt.done=!0,pt.start=function(){throw new Error("Cursor behind last entry")},pt.stop()}var Kn=new Promise(function(en,TA){en=kt(en),Ke.onerror=at(TA),pt.fail=TA,pt.stop=function(bs){pt.stop=pt.continue=pt.continuePrimaryKey=pt.advance=Rt,en(bs)}});return Ke.onsuccess=kt(function(en){Ke.onsuccess=vn,vn()}),pt.continue=gt,pt.continuePrimaryKey=Ct,pt.advance=lt,vn(),Kn},Se(pt)):Se(null)},Re)})},count:function(ue){var ae=ue.query,ce=ue.trans,Be=ae.index,_e=ae.range;return new Promise(function(Ce,Se){var Re=ce.objectStore(oe),He=Be.isPrimaryKey?Re:Re.index(Be.name),Re=U(_e),He=Re?He.count(Re):He.count();He.onsuccess=kt(function(Te){return Ce(Te.target.result)}),He.onerror=at(Se)})}}}var k,j,G,re=(j=Y,G=pr((k=h).objectStoreNames),{schema:{name:k.name,tables:G.map(function(de){return j.objectStore(de)}).map(function(de){var te=de.keyPath,ae=de.autoIncrement,oe=g(te),ue={},ae={name:de.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:te==null,compound:oe,keyPath:te,autoIncrement:ae,unique:!0,extractKey:qn(te)},indexes:pr(de.indexNames).map(function(ce){return de.index(ce)}).map(function(Ce){var Be=Ce.name,_e=Ce.unique,Se=Ce.multiEntry,Ce=Ce.keyPath,Se={name:Be,compound:g(Ce),keyPath:Ce,unique:_e,multiEntry:Se,extractKey:qn(Ce)};return ue[Ki(Ce)]=Se}),getIndexByKeyPath:function(ce){return ue[Ki(ce)]}};return ue[":id"]=ae.primaryKey,te!=null&&(ue[Ki(te)]=ae.primaryKey),ae})},hasGetAll:0<G.length&&"getAll"in j.objectStore(G[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),Y=re.schema,ne=re.hasGetAll,re=Y.tables.map(E),z={};return re.forEach(function(de){return z[de.name]=de}),{stack:"dbcore",transaction:h.transaction.bind(h),table:function(de){if(!z[de])throw new Error("Table '".concat(de,"' not found"));return z[de]},MIN_KEY:-1/0,MAX_KEY:Ht(v),schema:Y}}function Vi(h,v,_,U){var E=_.IDBKeyRange;return _.indexedDB,{dbcore:(U=zo(v,E,U),h.dbcore.reduce(function(k,j){return j=j.create,i(i({},k),j(k))},U))}}function Hr(h,U){var _=U.db,U=Vi(h._middlewares,_,h._deps,U);h.core=U.dbcore,h.tables.forEach(function(E){var k=E.name;h.core.schema.tables.some(function(j){return j.name===k})&&(E.core=h.core.table(k),h[k]instanceof h.Table&&(h[k].core=E.core))})}function Or(h,v,_,U){_.forEach(function(E){var k=U[E];v.forEach(function(j){var G=(function Y(ne,re){return W(ne,re)||(ne=y(ne))&&Y(ne,re)})(j,E);(!G||"value"in G&&G.value===void 0)&&(j===h.Transaction.prototype||j instanceof h.Transaction?P(j,E,{get:function(){return this.table(E)},set:function(Y){O(this,E,{value:Y,writable:!0,configurable:!0,enumerable:!0})}}):j[E]=new h.Table(E,k))})})}function yt(h,v){v.forEach(function(_){for(var U in _)_[U]instanceof h.Table&&delete _[U]})}function gr(h,v){return h._cfg.version-v._cfg.version}function Xn(h,v,_,U){var E=h._dbSchema;_.objectStoreNames.contains("$meta")&&!E.$meta&&(E.$meta=jr("$meta",ys("")[0],[]),h._storeNames.push("$meta"));var k=h._createTransaction("readwrite",h._storeNames,E);k.create(_),k._completion.catch(U);var j=k._reject.bind(k),G=rt.transless||rt;$A(function(){return rt.trans=k,rt.transless=G,v!==0?(Hr(h,_),ne=v,((Y=k).storeNames.includes("$meta")?Y.table("$meta").get("version").then(function(re){return re??ne}):Ge.resolve(ne)).then(function(re){return de=re,te=k,oe=_,ue=[],re=(z=h)._versions,ae=z._dbSchema=gn(0,z.idbdb,oe),(re=re.filter(function(ce){return ce._cfg.version>=de})).length!==0?(re.forEach(function(ce){ue.push(function(){var Be=ae,_e=ce._cfg.dbschema;qA(z,Be,oe),qA(z,_e,oe),ae=z._dbSchema=_e;var Ce=Gi(Be,_e);Ce.add.forEach(function(Ve){gi(oe,Ve[0],Ve[1].primKey,Ve[1].indexes)}),Ce.change.forEach(function(Ve){if(Ve.recreate)throw new De.Upgrade("Not yet support for changing primary key");var Ke=oe.objectStore(Ve.name);Ve.add.forEach(function(We){return zi(Ke,We)}),Ve.change.forEach(function(We){Ke.deleteIndex(We.name),zi(Ke,We)}),Ve.del.forEach(function(We){return Ke.deleteIndex(We)})});var Se=ce._cfg.contentUpgrade;if(Se&&ce._cfg.version>de){Hr(z,oe),te._memoizedTables={};var Re=X(_e);Ce.del.forEach(function(Ve){Re[Ve]=Be[Ve]}),yt(z,[z.Transaction.prototype]),Or(z,[z.Transaction.prototype],d(Re),Re),te.schema=Re;var He,Te=H(Se);return Te&&lr(),Ce=Ge.follow(function(){var Ve;(He=Se(te))&&Te&&(Ve=En.bind(null,null),He.then(Ve,Ve))}),He&&typeof He.then=="function"?Ge.resolve(He):Ce.then(function(){return He})}}),ue.push(function(Be){var _e,Ce,Se=ce._cfg.dbschema;_e=Se,Ce=Be,[].slice.call(Ce.db.objectStoreNames).forEach(function(Re){return _e[Re]==null&&Ce.db.deleteObjectStore(Re)}),yt(z,[z.Transaction.prototype]),Or(z,[z.Transaction.prototype],z._storeNames,z._dbSchema),te.schema=z._dbSchema}),ue.push(function(Be){z.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(z.idbdb.version/10)===ce._cfg.version?(z.idbdb.deleteObjectStore("$meta"),delete z._dbSchema.$meta,z._storeNames=z._storeNames.filter(function(_e){return _e!=="$meta"})):Be.objectStore("$meta").put(ce._cfg.version,"version"))})}),(function ce(){return ue.length?Ge.resolve(ue.shift()(te.idbtrans)).then(ce):Ge.resolve()})().then(function(){Dr(ae,oe)})):Ge.resolve();var z,de,te,oe,ue,ae}).catch(j)):(d(E).forEach(function(re){gi(_,re,E[re].primKey,E[re].indexes)}),Hr(h,_),void Ge.follow(function(){return h.on.populate.fire(k)}).catch(j));var Y,ne})}function mr(h,v){Dr(h._dbSchema,v),v.db.version%10!=0||v.objectStoreNames.contains("$meta")||v.db.createObjectStore("$meta").add(Math.ceil(v.db.version/10-1),"version");var _=gn(0,h.idbdb,v);qA(h,h._dbSchema,v);for(var U=0,E=Gi(_,h._dbSchema).change;U<E.length;U++){var k=(function(j){if(j.change.length||j.recreate)return console.warn("Unable to patch indexes of table ".concat(j.name," because it has changes on the type of index or primary key.")),{value:void 0};var G=v.objectStore(j.name);j.add.forEach(function(Y){fn&&console.debug("Dexie upgrade patch: Creating missing index ".concat(j.name,".").concat(Y.src)),zi(G,Y)})})(E[U]);if(typeof k=="object")return k.value}}function Gi(h,v){var _,U={del:[],add:[],change:[]};for(_ in h)v[_]||U.del.push(_);for(_ in v){var E=h[_],k=v[_];if(E){var j={name:_,def:k,recreate:!1,del:[],add:[],change:[]};if(""+(E.primKey.keyPath||"")!=""+(k.primKey.keyPath||"")||E.primKey.auto!==k.primKey.auto)j.recreate=!0,U.change.push(j);else{var G=E.idxByName,Y=k.idxByName,ne=void 0;for(ne in G)Y[ne]||j.del.push(ne);for(ne in Y){var re=G[ne],z=Y[ne];re?re.src!==z.src&&j.change.push(z):j.add.push(z)}(0<j.del.length||0<j.add.length||0<j.change.length)&&U.change.push(j)}}else U.add.push([_,k])}return U}function gi(h,v,_,U){var E=h.db.createObjectStore(v,_.keyPath?{keyPath:_.keyPath,autoIncrement:_.auto}:{autoIncrement:_.auto});return U.forEach(function(k){return zi(E,k)}),E}function Dr(h,v){d(h).forEach(function(_){v.db.objectStoreNames.contains(_)||(fn&&console.debug("Dexie: Creating missing table",_),gi(v,_,h[_].primKey,h[_].indexes))})}function zi(h,v){h.createIndex(v.name,v.keyPath,{unique:v.unique,multiEntry:v.multi})}function gn(h,v,_){var U={};return R(v.objectStoreNames,0).forEach(function(E){for(var k=_.objectStore(E),j=iA(Ri(ne=k.keyPath),ne||"",!0,!1,!!k.autoIncrement,ne&&typeof ne!="string",!0),G=[],Y=0;Y<k.indexNames.length;++Y){var re=k.index(k.indexNames[Y]),ne=re.keyPath,re=iA(re.name,ne,!!re.unique,!!re.multiEntry,!1,ne&&typeof ne!="string",!1);G.push(re)}U[E]=jr(E,j,G)}),U}function qA(h,v,_){for(var U=_.db.objectStoreNames,E=0;E<U.length;++E){var k=U[E],j=_.objectStore(k);h._hasGetAll="getAll"in j;for(var G=0;G<j.indexNames.length;++G){var Y=j.indexNames[G],ne=j.index(Y).keyPath,re=typeof ne=="string"?ne:"["+R(ne).join("+")+"]";!v[k]||(ne=v[k].idxByName[re])&&(ne.name=Y,delete v[k].idxByName[re],v[k].idxByName[Y]=ne)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&u.WorkerGlobalScope&&u instanceof u.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(h._hasGetAll=!1)}function ys(h){return h.split(",").map(function(v,_){var k=v.split(":"),U=(E=k[1])===null||E===void 0?void 0:E.trim(),E=(v=k[0].trim()).replace(/([&*]|\+\+)/g,""),k=/^\[/.test(E)?E.match(/^\[(.*)\]$/)[1].split("+"):E;return iA(E,k||null,/\&/.test(v),/\*/.test(v),/\+\+/.test(v),g(k),_===0,U)})}var Rr=(mi.prototype._createTableSchema=jr,mi.prototype._parseIndexSyntax=ys,mi.prototype._parseStoresSpec=function(h,v){var _=this;d(h).forEach(function(U){if(h[U]!==null){var E=_._parseIndexSyntax(h[U]),k=E.shift();if(!k)throw new De.Schema("Invalid schema for table "+U+": "+h[U]);if(k.unique=!0,k.multi)throw new De.Schema("Primary key cannot be multiEntry*");E.forEach(function(j){if(j.auto)throw new De.Schema("Only primary key can be marked as autoIncrement (++)");if(!j.keyPath)throw new De.Schema("Index must have a name and cannot be an empty string")}),E=_._createTableSchema(U,k,E),v[U]=E}})},mi.prototype.stores=function(_){var v=this.db;this._cfg.storesSource=this._cfg.storesSource?m(this._cfg.storesSource,_):_;var _=v._versions,U={},E={};return _.forEach(function(k){m(U,k._cfg.storesSource),E=k._cfg.dbschema={},k._parseStoresSpec(U,E)}),v._dbSchema=E,yt(v,[v._allTables,v,v.Transaction.prototype]),Or(v,[v._allTables,v,v.Transaction.prototype,this._cfg.tables],d(E),E),v._storeNames=d(E),this},mi.prototype.upgrade=function(h){return this._cfg.contentUpgrade=rr(this._cfg.contentUpgrade||Qt,h),this},mi);function mi(){}function Dn(h,v){var _=h._dbNamesDB;return _||(_=h._dbNamesDB=new mn(Ni,{addons:[],indexedDB:h,IDBKeyRange:v})).version(1).stores({dbnames:"name"}),_.table("dbnames")}function Wi(h){return h&&typeof h.databases=="function"}function vr(h){return $A(function(){return rt.letThrough=!0,h()})}function Yn(h){return!("from"in h)}var cn=function(h,v){if(!this){var _=new cn;return h&&"d"in h&&m(_,h),_}m(this,arguments.length?{d:1,from:h,to:1<arguments.length?v:h}:{d:0})};function vi(h,v,_){var U=ze(v,_);if(!isNaN(U)){if(0<U)throw RangeError();if(Yn(h))return m(h,{from:v,to:_,d:1});var E=h.l,U=h.r;if(ze(_,h.from)<0)return E?vi(E,v,_):h.l={from:v,to:_,d:1,l:null,r:null},po(h);if(0<ze(v,h.to))return U?vi(U,v,_):h.r={from:v,to:_,d:1,l:null,r:null},po(h);ze(v,h.from)<0&&(h.from=v,h.l=null,h.d=U?U.d+1:1),0<ze(_,h.to)&&(h.to=_,h.r=null,h.d=h.l?h.l.d+1:1),_=!h.r,E&&!h.l&&Mr(h,E),U&&_&&Mr(h,U)}}function Mr(h,v){Yn(v)||(function _(U,Y){var k=Y.from,j=Y.to,G=Y.l,Y=Y.r;vi(U,k,j),G&&_(U,G),Y&&_(U,Y)})(h,v)}function Wo(h,v){var _=Kr(v),U=_.next();if(U.done)return!1;for(var E=U.value,k=Kr(h),j=k.next(E.from),G=j.value;!U.done&&!j.done;){if(ze(G.from,E.to)<=0&&0<=ze(G.to,E.from))return!0;ze(E.from,G.from)<0?E=(U=_.next(G.from)).value:G=(j=k.next(E.from)).value}return!1}function Kr(h){var v=Yn(h)?null:{s:0,n:h};return{next:function(_){for(var U=0<arguments.length;v;)switch(v.s){case 0:if(v.s=1,U)for(;v.n.l&&ze(_,v.n.from)<0;)v={up:v,n:v.n.l,s:1};else for(;v.n.l;)v={up:v,n:v.n.l,s:1};case 1:if(v.s=2,!U||ze(_,v.n.to)<=0)return{value:v.n,done:!1};case 2:if(v.n.r){v.s=3,v={up:v,n:v.n.r,s:0};continue}case 3:v=v.up}return{done:!0}}}}function po(h){var v,_,U=(((v=h.r)===null||v===void 0?void 0:v.d)||0)-(((_=h.l)===null||_===void 0?void 0:_.d)||0),E=1<U?"r":U<-1?"l":"";E&&(v=E=="r"?"l":"r",_=i({},h),U=h[E],h.from=U.from,h.to=U.to,h[E]=U[E],_[E]=U[v],(h[v]=_).d=$o(_)),h.d=$o(h)}function $o(_){var v=_.r,_=_.l;return(v?_?Math.max(v.d,_.d):v.d:_?_.d:0)+1}function _s(h,v){return d(v).forEach(function(_){h[_]?Mr(h[_],v[_]):h[_]=(function U(E){var k,j,G={};for(k in E)b(E,k)&&(j=E[k],G[k]=!j||typeof j!="object"||Ee.has(j.constructor)?j:U(j));return G})(v[_])}),h}function $i(h,v){return h.all||v.all||Object.keys(h).some(function(_){return v[_]&&Wo(v[_],h[_])})}S(cn.prototype,((Fn={add:function(h){return Mr(this,h),this},addKey:function(h){return vi(this,h,h),this},addKeys:function(h){var v=this;return h.forEach(function(_){return vi(v,_,_)}),this},hasKey:function(h){var v=Kr(this).next(h).value;return v&&ze(v.from,h)<=0&&0<=ze(v.to,h)}})[se]=function(){return Kr(this)},Fn));var Vr={},Zi={},Cs=!1;function Gr(h){_s(Zi,h),Cs||(Cs=!0,setTimeout(function(){Cs=!1,XA(Zi,!(Zi={}))},0))}function XA(h,v){v===void 0&&(v=!1);var _=new Set;if(h.all)for(var U=0,E=Object.values(Vr);U<E.length;U++)Zo(j=E[U],h,_,v);else for(var k in h){var j,G=/^idb\:\/\/(.*)\/(.*)\//.exec(k);G&&(k=G[1],G=G[2],(j=Vr["idb://".concat(k,"/").concat(G)])&&Zo(j,h,_,v))}_.forEach(function(Y){return Y()})}function Zo(h,v,_,U){for(var E=[],k=0,j=Object.entries(h.queries.query);k<j.length;k++){for(var G=j[k],Y=G[0],ne=[],re=0,z=G[1];re<z.length;re++){var de=z[re];$i(v,de.obsSet)?de.subscribers.forEach(function(ae){return _.add(ae)}):U&&ne.push(de)}U&&E.push([Y,ne])}if(U)for(var te=0,oe=E;te<oe.length;te++){var ue=oe[te],Y=ue[0],ne=ue[1];h.queries.query[Y]=ne}}function zr(h){var v=h._state,_=h._deps.indexedDB;if(v.isBeingOpened||h.idbdb)return v.dbReadyPromise.then(function(){return v.dbOpenError?Zt(v.dbOpenError):h});v.isBeingOpened=!0,v.dbOpenError=null,v.openComplete=!1;var U=v.openCanceller,E=Math.round(10*h.verno),k=!1;function j(){if(v.openCanceller!==U)throw new De.DatabaseClosed("db.open() was cancelled")}function G(){return new Ge(function(de,te){if(j(),!_)throw new De.MissingAPI;var oe=h.name,ue=v.autoSchema||!E?_.open(oe):_.open(oe,E);if(!ue)throw new De.MissingAPI;ue.onerror=at(te),ue.onblocked=kt(h._fireOnBlocked),ue.onupgradeneeded=kt(function(ae){var ce;re=ue.transaction,v.autoSchema&&!h._options.allowEmptyDB?(ue.onerror=qt,re.abort(),ue.result.close(),(ce=_.deleteDatabase(oe)).onsuccess=ce.onerror=kt(function(){te(new De.NoSuchDatabase("Database ".concat(oe," doesnt exist")))})):(re.onerror=at(te),ae=ae.oldVersion>Math.pow(2,62)?0:ae.oldVersion,z=ae<1,h.idbdb=ue.result,k&&mr(h,re),Xn(h,ae/10,re,te))},te),ue.onsuccess=kt(function(){re=null;var ae,ce,Be,_e,Ce,Se=h.idbdb=ue.result,Re=R(Se.objectStoreNames);if(0<Re.length)try{var He=Se.transaction((_e=Re).length===1?_e[0]:_e,"readonly");if(v.autoSchema)ce=Se,Be=He,(ae=h).verno=ce.version/10,Be=ae._dbSchema=gn(0,ce,Be),ae._storeNames=R(ce.objectStoreNames,0),Or(ae,[ae._allTables],d(Be),Be);else if(qA(h,h._dbSchema,He),((Ce=Gi(gn(0,(Ce=h).idbdb,He),Ce._dbSchema)).add.length||Ce.change.some(function(Te){return Te.add.length||Te.change.length}))&&!k)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Se.close(),E=Se.version+1,k=!0,de(G());Hr(h,He)}catch{}dr.push(h),Se.onversionchange=kt(function(Te){v.vcFired=!0,h.on("versionchange").fire(Te)}),Se.onclose=kt(function(Te){h.on("close").fire(Te)}),z&&(Ce=h._deps,He=oe,Se=Ce.indexedDB,Ce=Ce.IDBKeyRange,Wi(Se)||He===Ni||Dn(Se,Ce).put({name:He}).catch(Qt)),de()},te)}).catch(function(de){switch(de?.name){case"UnknownError":if(0<v.PR1398_maxLoop)return v.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),G();break;case"VersionError":if(0<E)return E=0,G()}return Ge.reject(de)})}var Y,ne=v.dbReadyResolve,re=null,z=!1;return Ge.race([U,(typeof navigator>"u"?Ge.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(de){function te(){return indexedDB.databases().finally(de)}Y=setInterval(te,100),te()}).finally(function(){return clearInterval(Y)}):Promise.resolve()).then(G)]).then(function(){return j(),v.onReadyBeingFired=[],Ge.resolve(vr(function(){return h.on.ready.fire(h.vip)})).then(function de(){if(0<v.onReadyBeingFired.length){var te=v.onReadyBeingFired.reduce(rr,Qt);return v.onReadyBeingFired=[],Ge.resolve(vr(function(){return te(h.vip)})).then(de)}})}).finally(function(){v.openCanceller===U&&(v.onReadyBeingFired=null,v.isBeingOpened=!1)}).catch(function(de){v.dbOpenError=de;try{re&&re.abort()}catch{}return U===v.openCanceller&&h._close(),Zt(de)}).finally(function(){v.openComplete=!0,ne()}).then(function(){var de;return z&&(de={},h.tables.forEach(function(te){te.schema.indexes.forEach(function(oe){oe.name&&(de["idb://".concat(h.name,"/").concat(te.name,"/").concat(oe.name)]=new cn(-1/0,[[[]]]))}),de["idb://".concat(h.name,"/").concat(te.name,"/")]=de["idb://".concat(h.name,"/").concat(te.name,"/:dels")]=new cn(-1/0,[[[]]])}),On(St).fire(de),XA(de,!0)),h})}function Rn(h){function v(k){return h.next(k)}var _=E(v),U=E(function(k){return h.throw(k)});function E(k){return function(Y){var G=k(Y),Y=G.value;return G.done?Y:Y&&typeof Y.then=="function"?Y.then(_,U):g(Y)?Promise.all(Y).then(_,U):_(Y)}}return E(v)()}function Ji(h,v,_){for(var U=g(h)?h.slice():[h],E=0;E<_;++E)U.push(v);return U}var Jo={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(h){return i(i({},h),{table:function(v){var _=h.table(v),U=_.schema,E={},k=[];function j(z,de,te){var oe=Ki(z),ue=E[oe]=E[oe]||[],ae=z==null?0:typeof z=="string"?1:z.length,ce=0<de,ce=i(i({},te),{name:ce?"".concat(oe,"(virtual-from:").concat(te.name,")"):te.name,lowLevelIndex:te,isVirtual:ce,keyTail:de,keyLength:ae,extractKey:qn(z),unique:!ce&&te.unique});return ue.push(ce),ce.isPrimaryKey||k.push(ce),1<ae&&j(ae===2?z[0]:z.slice(0,ae-1),de+1,te),ue.sort(function(Be,_e){return Be.keyTail-_e.keyTail}),ce}v=j(U.primaryKey.keyPath,0,U.primaryKey),E[":id"]=[v];for(var G=0,Y=U.indexes;G<Y.length;G++){var ne=Y[G];j(ne.keyPath,0,ne)}function re(z){var de,te=z.query.index;return te.isVirtual?i(i({},z),{query:{index:te.lowLevelIndex,range:(de=z.query.range,te=te.keyTail,{type:de.type===1?2:de.type,lower:Ji(de.lower,de.lowerOpen?h.MAX_KEY:h.MIN_KEY,te),lowerOpen:!0,upper:Ji(de.upper,de.upperOpen?h.MIN_KEY:h.MAX_KEY,te),upperOpen:!0})}}):z}return i(i({},_),{schema:i(i({},U),{primaryKey:v,indexes:k,getIndexByKeyPath:function(z){return(z=E[Ki(z)])&&z[0]}}),count:function(z){return _.count(re(z))},query:function(z){return _.query(re(z))},openCursor:function(z){var de=z.query.index,te=de.keyTail,oe=de.isVirtual,ue=de.keyLength;return oe?_.openCursor(re(z)).then(function(ce){return ce&&ae(ce)}):_.openCursor(z);function ae(ce){return Object.create(ce,{continue:{value:function(Be){Be!=null?ce.continue(Ji(Be,z.reverse?h.MAX_KEY:h.MIN_KEY,te)):z.unique?ce.continue(ce.key.slice(0,ue).concat(z.reverse?h.MIN_KEY:h.MAX_KEY,te)):ce.continue()}},continuePrimaryKey:{value:function(Be,_e){ce.continuePrimaryKey(Ji(Be,h.MAX_KEY,te),_e)}},primaryKey:{get:function(){return ce.primaryKey}},key:{get:function(){var Be=ce.key;return ue===1?Be[0]:Be.slice(0,ue)}},value:{get:function(){return ce.value}}})}}})}})}};function xs(h,v,_,U){return _=_||{},U=U||"",d(h).forEach(function(E){var k,j,G;b(v,E)?(k=h[E],j=v[E],typeof k=="object"&&typeof j=="object"&&k&&j?(G=et(k))!==et(j)?_[U+E]=v[E]:G==="Object"?xs(k,j,_,U+E+"."):k!==j&&(_[U+E]=v[E]):k!==j&&(_[U+E]=v[E])):_[U+E]=void 0}),d(v).forEach(function(E){b(h,E)||(_[U+E]=v[E])}),_}function qi(h,v){return v.type==="delete"?v.keys:v.keys||v.values.map(h.extractKey)}var go={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(h){return i(i({},h),{table:function(v){var _=h.table(v),U=_.schema.primaryKey;return i(i({},_),{mutate:function(E){var k=rt.trans,j=k.table(v).hook,G=j.deleting,Y=j.creating,ne=j.updating;switch(E.type){case"add":if(Y.fire===Qt)break;return k._promise("readwrite",function(){return re(E)},!0);case"put":if(Y.fire===Qt&&ne.fire===Qt)break;return k._promise("readwrite",function(){return re(E)},!0);case"delete":if(G.fire===Qt)break;return k._promise("readwrite",function(){return re(E)},!0);case"deleteRange":if(G.fire===Qt)break;return k._promise("readwrite",function(){return(function z(de,te,oe){return _.query({trans:de,values:!1,query:{index:U,range:te},limit:oe}).then(function(ue){var ae=ue.result;return re({type:"delete",keys:ae,trans:de}).then(function(ce){return 0<ce.numFailures?Promise.reject(ce.failures[0]):ae.length<oe?{failures:[],numFailures:0,lastResult:void 0}:z(de,i(i({},te),{lower:ae[ae.length-1],lowerOpen:!0}),oe)})})})(E.trans,E.range,1e4)},!0)}return _.mutate(E);function re(z){var de,te,oe,ue=rt.trans,ae=z.keys||qi(U,z);if(!ae)throw new Error("Keys missing");return(z=z.type==="add"||z.type==="put"?i(i({},z),{keys:ae}):i({},z)).type!=="delete"&&(z.values=o([],z.values)),z.keys&&(z.keys=o([],z.keys)),de=_,oe=ae,((te=z).type==="add"?Promise.resolve([]):de.getMany({trans:te.trans,keys:oe,cache:"immutable"})).then(function(ce){var Be=ae.map(function(_e,Ce){var Se,Re,He,Te=ce[Ce],Ve={onerror:null,onsuccess:null};return z.type==="delete"?G.fire.call(Ve,_e,Te,ue):z.type==="add"||Te===void 0?(Se=Y.fire.call(Ve,_e,z.values[Ce],ue),_e==null&&Se!=null&&(z.keys[Ce]=_e=Se,U.outbound||xe(z.values[Ce],U.keyPath,_e))):(Se=xs(Te,z.values[Ce]),(Re=ne.fire.call(Ve,Se,_e,Te,ue))&&(He=z.values[Ce],Object.keys(Re).forEach(function(Ke){b(He,Ke)?He[Ke]=Re[Ke]:xe(He,Ke,Re[Ke])}))),Ve});return _.mutate(z).then(function(_e){for(var Ce=_e.failures,Se=_e.results,Re=_e.numFailures,_e=_e.lastResult,He=0;He<ae.length;++He){var Te=(Se||ae)[He],Ve=Be[He];Te==null?Ve.onerror&&Ve.onerror(Ce[He]):Ve.onsuccess&&Ve.onsuccess(z.type==="put"&&ce[He]?z.values[He]:Te)}return{failures:Ce,results:Se,numFailures:Re,lastResult:_e}}).catch(function(_e){return Be.forEach(function(Ce){return Ce.onerror&&Ce.onerror(_e)}),Promise.reject(_e)})})}}})}})}};function qo(h,v,_){try{if(!v||v.keys.length<h.length)return null;for(var U=[],E=0,k=0;E<v.keys.length&&k<h.length;++E)ze(v.keys[E],h[k])===0&&(U.push(_?Ze(v.values[E]):v.values[E]),++k);return U.length===h.length?U:null}catch{return null}}var Za={stack:"dbcore",level:-1,create:function(h){return{table:function(v){var _=h.table(v);return i(i({},_),{getMany:function(U){if(!U.cache)return _.getMany(U);var E=qo(U.keys,U.trans._cache,U.cache==="clone");return E?Ge.resolve(E):_.getMany(U).then(function(k){return U.trans._cache={keys:U.keys,values:U.cache==="clone"?Ze(k):k},k})},mutate:function(U){return U.type!=="add"&&(U.trans._cache=null),_.mutate(U)}})}}}};function mo(h,v){return h.trans.mode==="readonly"&&!!h.subscr&&!h.trans.explicit&&h.trans.db._options.cache!=="disabled"&&!v.schema.primaryKey.outbound}function Xo(h,v){switch(h){case"query":return v.values&&!v.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var mA={stack:"dbcore",level:0,name:"Observability",create:function(h){var v=h.schema.name,_=new cn(h.MIN_KEY,h.MAX_KEY);return i(i({},h),{transaction:function(U,E,k){if(rt.subscr&&E!=="readonly")throw new De.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(rt.querier));return h.transaction(U,E,k)},table:function(U){var E=h.table(U),k=E.schema,j=k.primaryKey,z=k.indexes,G=j.extractKey,Y=j.outbound,ne=j.autoIncrement&&z.filter(function(te){return te.compound&&te.keyPath.includes(j.keyPath)}),re=i(i({},E),{mutate:function(te){function oe(Ke){return Ke="idb://".concat(v,"/").concat(U,"/").concat(Ke),_e[Ke]||(_e[Ke]=new cn)}var ue,ae,ce,Be=te.trans,_e=te.mutatedParts||(te.mutatedParts={}),Ce=oe(""),Se=oe(":dels"),Re=te.type,Ve=te.type==="deleteRange"?[te.range]:te.type==="delete"?[te.keys]:te.values.length<50?[qi(j,te).filter(function(Ke){return Ke}),te.values]:[],He=Ve[0],Te=Ve[1],Ve=te.trans._cache;return g(He)?(Ce.addKeys(He),(Ve=Re==="delete"||He.length===Te.length?qo(He,Ve):null)||Se.addKeys(He),(Ve||Te)&&(ue=oe,ae=Ve,ce=Te,k.indexes.forEach(function(Ke){var We=ue(Ke.name||"");function gt(lt){return lt!=null?Ke.extractKey(lt):null}function Ct(lt){return Ke.multiEntry&&g(lt)?lt.forEach(function(Rt){return We.addKey(Rt)}):We.addKey(lt)}(ae||ce).forEach(function(lt,Yt){var pt=ae&&gt(ae[Yt]),Yt=ce&&gt(ce[Yt]);ze(pt,Yt)!==0&&(pt!=null&&Ct(pt),Yt!=null&&Ct(Yt))})}))):He?(Te={from:(Te=He.lower)!==null&&Te!==void 0?Te:h.MIN_KEY,to:(Te=He.upper)!==null&&Te!==void 0?Te:h.MAX_KEY},Se.add(Te),Ce.add(Te)):(Ce.add(_),Se.add(_),k.indexes.forEach(function(Ke){return oe(Ke.name).add(_)})),E.mutate(te).then(function(Ke){return!He||te.type!=="add"&&te.type!=="put"||(Ce.addKeys(Ke.results),ne&&ne.forEach(function(We){for(var gt=te.values.map(function(pt){return We.extractKey(pt)}),Ct=We.keyPath.findIndex(function(pt){return pt===j.keyPath}),lt=0,Rt=Ke.results.length;lt<Rt;++lt)gt[lt][Ct]=Ke.results[lt];oe(We.name).addKeys(gt)})),Be.mutatedParts=_s(Be.mutatedParts||{},_e),Ke})}}),z=function(oe){var ue=oe.query,oe=ue.index,ue=ue.range;return[oe,new cn((oe=ue.lower)!==null&&oe!==void 0?oe:h.MIN_KEY,(ue=ue.upper)!==null&&ue!==void 0?ue:h.MAX_KEY)]},de={get:function(te){return[j,new cn(te.key)]},getMany:function(te){return[j,new cn().addKeys(te.keys)]},count:z,query:z,openCursor:z};return d(de).forEach(function(te){re[te]=function(oe){var ue=rt.subscr,ae=!!ue,ce=mo(rt,E)&&Xo(te,oe)?oe.obsSet={}:ue;if(ae){var Be=function(Te){return Te="idb://".concat(v,"/").concat(U,"/").concat(Te),ce[Te]||(ce[Te]=new cn)},_e=Be(""),Ce=Be(":dels"),ue=de[te](oe),ae=ue[0],ue=ue[1];if((te==="query"&&ae.isPrimaryKey&&!oe.values?Ce:Be(ae.name||"")).add(ue),!ae.isPrimaryKey){if(te!=="count"){var Se=te==="query"&&Y&&oe.values&&E.query(i(i({},oe),{values:!1}));return E[te].apply(this,arguments).then(function(Te){if(te==="query"){if(Y&&oe.values)return Se.then(function(gt){return gt=gt.result,_e.addKeys(gt),Te});var Ve=oe.values?Te.result.map(G):Te.result;(oe.values?_e:Ce).addKeys(Ve)}else if(te==="openCursor"){var Ke=Te,We=oe.values;return Ke&&Object.create(Ke,{key:{get:function(){return Ce.addKey(Ke.primaryKey),Ke.key}},primaryKey:{get:function(){var gt=Ke.primaryKey;return Ce.addKey(gt),gt}},value:{get:function(){return We&&_e.addKey(Ke.primaryKey),Ke.value}}})}return Te})}Ce.add(_)}}return E[te].apply(this,arguments)}}),re}})}};function YA(h,v,_){if(_.numFailures===0)return v;if(v.type==="deleteRange")return null;var U=v.keys?v.keys.length:"values"in v&&v.values?v.values.length:1;return _.numFailures===U?null:(v=i({},v),g(v.keys)&&(v.keys=v.keys.filter(function(E,k){return!(k in _.failures)})),"values"in v&&g(v.values)&&(v.values=v.values.filter(function(E,k){return!(k in _.failures)})),v)}function Wr(h,v){return _=h,((U=v).lower===void 0||(U.lowerOpen?0<ze(_,U.lower):0<=ze(_,U.lower)))&&(h=h,(v=v).upper===void 0||(v.upperOpen?ze(h,v.upper)<0:ze(h,v.upper)<=0));var _,U}function kA(h,v,de,U,E,k){if(!de||de.length===0)return h;var j=v.query.index,G=j.multiEntry,Y=v.query.range,ne=U.schema.primaryKey.extractKey,re=j.extractKey,z=(j.lowLevelIndex||j).extractKey,de=de.reduce(function(te,oe){var ue=te,ae=[];if(oe.type==="add"||oe.type==="put")for(var ce=new cn,Be=oe.values.length-1;0<=Be;--Be){var _e,Ce=oe.values[Be],Se=ne(Ce);ce.hasKey(Se)||(_e=re(Ce),(G&&g(_e)?_e.some(function(Ke){return Wr(Ke,Y)}):Wr(_e,Y))&&(ce.addKey(Se),ae.push(Ce)))}switch(oe.type){case"add":var Re=new cn().addKeys(v.values?te.map(function(We){return ne(We)}):te),ue=te.concat(v.values?ae.filter(function(We){return We=ne(We),!Re.hasKey(We)&&(Re.addKey(We),!0)}):ae.map(function(We){return ne(We)}).filter(function(We){return!Re.hasKey(We)&&(Re.addKey(We),!0)}));break;case"put":var He=new cn().addKeys(oe.values.map(function(We){return ne(We)}));ue=te.filter(function(We){return!He.hasKey(v.values?ne(We):We)}).concat(v.values?ae:ae.map(function(We){return ne(We)}));break;case"delete":var Te=new cn().addKeys(oe.keys);ue=te.filter(function(We){return!Te.hasKey(v.values?ne(We):We)});break;case"deleteRange":var Ve=oe.range;ue=te.filter(function(We){return!Wr(ne(We),Ve)})}return ue},h);return de===h?h:(de.sort(function(te,oe){return ze(z(te),z(oe))||ze(ne(te),ne(oe))}),v.limit&&v.limit<1/0&&(de.length>v.limit?de.length=v.limit:h.length===v.limit&&de.length<v.limit&&(E.dirty=!0)),k?Object.freeze(de):de)}function vo(h,v){return ze(h.lower,v.lower)===0&&ze(h.upper,v.upper)===0&&!!h.lowerOpen==!!v.lowerOpen&&!!h.upperOpen==!!v.upperOpen}function $r(h,v){return(function(_,U,E,k){if(_===void 0)return U!==void 0?-1:0;if(U===void 0)return 1;if((U=ze(_,U))===0){if(E&&k)return 0;if(E)return 1;if(k)return-1}return U})(h.lower,v.lower,h.lowerOpen,v.lowerOpen)<=0&&0<=(function(_,U,E,k){if(_===void 0)return U!==void 0?1:0;if(U===void 0)return-1;if((U=ze(_,U))===0){if(E&&k)return 0;if(E)return-1;if(k)return 1}return U})(h.upper,v.upper,h.upperOpen,v.upperOpen)}function Yo(h,v,_,U){h.subscribers.add(_),U.addEventListener("abort",function(){var E,k;h.subscribers.delete(_),h.subscribers.size===0&&(E=h,k=v,setTimeout(function(){E.subscribers.size===0&&ge(k,E)},3e3))})}var wi={stack:"dbcore",level:0,name:"Cache",create:function(h){var v=h.schema.name;return i(i({},h),{transaction:function(_,U,E){var k,j,G=h.transaction(_,U,E);return U==="readwrite"&&(j=(k=new AbortController).signal,E=function(Y){return function(){if(k.abort(),U==="readwrite"){for(var ne=new Set,re=0,z=_;re<z.length;re++){var de=z[re],te=Vr["idb://".concat(v,"/").concat(de)];if(te){var oe=h.table(de),ue=te.optimisticOps.filter(function(We){return We.trans===G});if(G._explicit&&Y&&G.mutatedParts)for(var ae=0,ce=Object.values(te.queries.query);ae<ce.length;ae++)for(var Be=0,_e=(Re=ce[ae]).slice();Be<_e.length;Be++)$i((He=_e[Be]).obsSet,G.mutatedParts)&&(ge(Re,He),He.subscribers.forEach(function(We){return ne.add(We)}));else if(0<ue.length){te.optimisticOps=te.optimisticOps.filter(function(We){return We.trans!==G});for(var Ce=0,Se=Object.values(te.queries.query);Ce<Se.length;Ce++)for(var Re,He,Te,Ve=0,Ke=(Re=Se[Ce]).slice();Ve<Ke.length;Ve++)(He=Ke[Ve]).res!=null&&G.mutatedParts&&(Y&&!He.dirty?(Te=Object.isFrozen(He.res),Te=kA(He.res,He.req,ue,oe,He,Te),He.dirty?(ge(Re,He),He.subscribers.forEach(function(We){return ne.add(We)})):Te!==He.res&&(He.res=Te,He.promise=Ge.resolve({result:Te}))):(He.dirty&&ge(Re,He),He.subscribers.forEach(function(We){return ne.add(We)})))}}}ne.forEach(function(We){return We()})}}},G.addEventListener("abort",E(!1),{signal:j}),G.addEventListener("error",E(!1),{signal:j}),G.addEventListener("complete",E(!0),{signal:j})),G},table:function(_){var U=h.table(_),E=U.schema.primaryKey;return i(i({},U),{mutate:function(k){var j=rt.trans;if(E.outbound||j.db._options.cache==="disabled"||j.explicit||j.idbtrans.mode!=="readwrite")return U.mutate(k);var G=Vr["idb://".concat(v,"/").concat(_)];return G?(j=U.mutate(k),k.type!=="add"&&k.type!=="put"||!(50<=k.values.length||qi(E,k).some(function(Y){return Y==null}))?(G.optimisticOps.push(k),k.mutatedParts&&Gr(k.mutatedParts),j.then(function(Y){0<Y.numFailures&&(ge(G.optimisticOps,k),(Y=YA(0,k,Y))&&G.optimisticOps.push(Y),k.mutatedParts&&Gr(k.mutatedParts))}),j.catch(function(){ge(G.optimisticOps,k),k.mutatedParts&&Gr(k.mutatedParts)})):j.then(function(Y){var ne=YA(0,i(i({},k),{values:k.values.map(function(re,z){var de;return Y.failures[z]?re:(re=(de=E.keyPath)!==null&&de!==void 0&&de.includes(".")?Ze(re):i({},re),xe(re,E.keyPath,Y.results[z]),re)})}),Y);G.optimisticOps.push(ne),queueMicrotask(function(){return k.mutatedParts&&Gr(k.mutatedParts)})}),j):U.mutate(k)},query:function(k){if(!mo(rt,U)||!Xo("query",k))return U.query(k);var j=((ne=rt.trans)===null||ne===void 0?void 0:ne.db._options.cache)==="immutable",z=rt,G=z.requery,Y=z.signal,ne=(function(oe,ue,ae,ce){var Be=Vr["idb://".concat(oe,"/").concat(ue)];if(!Be)return[];if(!(ue=Be.queries[ae]))return[null,!1,Be,null];var _e=ue[(ce.query?ce.query.index.name:null)||""];if(!_e)return[null,!1,Be,null];switch(ae){case"query":var Ce=_e.find(function(Se){return Se.req.limit===ce.limit&&Se.req.values===ce.values&&vo(Se.req.query.range,ce.query.range)});return Ce?[Ce,!0,Be,_e]:[_e.find(function(Se){return("limit"in Se.req?Se.req.limit:1/0)>=ce.limit&&(!ce.values||Se.req.values)&&$r(Se.req.query.range,ce.query.range)}),!1,Be,_e];case"count":return Ce=_e.find(function(Se){return vo(Se.req.query.range,ce.query.range)}),[Ce,!!Ce,Be,_e]}})(v,_,"query",k),re=ne[0],z=ne[1],de=ne[2],te=ne[3];return re&&z?re.obsSet=k.obsSet:(z=U.query(k).then(function(oe){var ue=oe.result;if(re&&(re.res=ue),j){for(var ae=0,ce=ue.length;ae<ce;++ae)Object.freeze(ue[ae]);Object.freeze(ue)}else oe.result=Ze(ue);return oe}).catch(function(oe){return te&&re&&ge(te,re),Promise.reject(oe)}),re={obsSet:k.obsSet,promise:z,subscribers:new Set,type:"query",req:k,dirty:!1},te?te.push(re):(te=[re],(de=de||(Vr["idb://".concat(v,"/").concat(_)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[k.query.index.name||""]=te)),Yo(re,te,G,Y),re.promise.then(function(oe){return{result:kA(oe.result,k,de?.optimisticOps,U,re,j)}})}})}})}};function Bi(h,v){return new Proxy(h,{get:function(_,U,E){return U==="db"?v:Reflect.get(_,U,E)}})}var mn=(Xt.prototype.version=function(h){if(isNaN(h)||h<.1)throw new De.Type("Given version is not a positive number");if(h=Math.round(10*h)/10,this.idbdb||this._state.isBeingOpened)throw new De.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,h);var v=this._versions,_=v.filter(function(U){return U._cfg.version===h})[0];return _||(_=new this.Version(h),v.push(_),v.sort(gr),_.stores({}),this._state.autoSchema=!1,_)},Xt.prototype._whenReady=function(h){var v=this;return this.idbdb&&(this._state.openComplete||rt.letThrough||this._vip)?h():new Ge(function(_,U){if(v._state.openComplete)return U(new De.DatabaseClosed(v._state.dbOpenError));if(!v._state.isBeingOpened){if(!v._state.autoOpen)return void U(new De.DatabaseClosed);v.open().catch(Qt)}v._state.dbReadyPromise.then(_,U)}).then(h)},Xt.prototype.use=function(h){var v=h.stack,_=h.create,U=h.level,E=h.name;return E&&this.unuse({stack:v,name:E}),h=this._middlewares[v]||(this._middlewares[v]=[]),h.push({stack:v,create:_,level:U??10,name:E}),h.sort(function(k,j){return k.level-j.level}),this},Xt.prototype.unuse=function(h){var v=h.stack,_=h.name,U=h.create;return v&&this._middlewares[v]&&(this._middlewares[v]=this._middlewares[v].filter(function(E){return U?E.create!==U:!!_&&E.name!==_})),this},Xt.prototype.open=function(){var h=this;return cr(VA,function(){return zr(h)})},Xt.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var h=this._state,v=dr.indexOf(this);if(0<=v&&dr.splice(v,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}h.isBeingOpened||(h.dbReadyPromise=new Ge(function(_){h.dbReadyResolve=_}),h.openCanceller=new Ge(function(_,U){h.cancelOpen=U}))},Xt.prototype.close=function(_){var v=(_===void 0?{disableAutoOpen:!0}:_).disableAutoOpen,_=this._state;v?(_.isBeingOpened&&_.cancelOpen(new De.DatabaseClosed),this._close(),_.autoOpen=!1,_.dbOpenError=new De.DatabaseClosed):(this._close(),_.autoOpen=this._options.autoOpen||_.isBeingOpened,_.openComplete=!1,_.dbOpenError=null)},Xt.prototype.delete=function(h){var v=this;h===void 0&&(h={disableAutoOpen:!0});var _=0<arguments.length&&typeof arguments[0]!="object",U=this._state;return new Ge(function(E,k){function j(){v.close(h);var G=v._deps.indexedDB.deleteDatabase(v.name);G.onsuccess=kt(function(){var Y,ne,re;Y=v._deps,ne=v.name,re=Y.indexedDB,Y=Y.IDBKeyRange,Wi(re)||ne===Ni||Dn(re,Y).delete(ne).catch(Qt),E()}),G.onerror=at(k),G.onblocked=v._fireOnBlocked}if(_)throw new De.InvalidArgument("Invalid closeOptions argument to db.delete()");U.isBeingOpened?U.dbReadyPromise.then(j):j()})},Xt.prototype.backendDB=function(){return this.idbdb},Xt.prototype.isOpen=function(){return this.idbdb!==null},Xt.prototype.hasBeenClosed=function(){var h=this._state.dbOpenError;return h&&h.name==="DatabaseClosed"},Xt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Xt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Xt.prototype,"tables",{get:function(){var h=this;return d(this._allTables).map(function(v){return h._allTables[v]})},enumerable:!1,configurable:!0}),Xt.prototype.transaction=function(){var h=(function(v,_,U){var E=arguments.length;if(E<2)throw new De.InvalidArgument("Too few arguments");for(var k=new Array(E-1);--E;)k[E-1]=arguments[E];return U=k.pop(),[v,ve(k),U]}).apply(this,arguments);return this._transaction.apply(this,h)},Xt.prototype._transaction=function(h,v,_){var U=this,E=rt.trans;E&&E.db===this&&h.indexOf("!")===-1||(E=null);var k,j,G=h.indexOf("?")!==-1;h=h.replace("!","").replace("?","");try{if(j=v.map(function(ne){if(ne=ne instanceof U.Table?ne.name:ne,typeof ne!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return ne}),h=="r"||h===ci)k=ci;else{if(h!="rw"&&h!=ji)throw new De.InvalidArgument("Invalid transaction mode: "+h);k=ji}if(E){if(E.mode===ci&&k===ji){if(!G)throw new De.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");E=null}E&&j.forEach(function(ne){if(E&&E.storeNames.indexOf(ne)===-1){if(!G)throw new De.SubTransaction("Table "+ne+" not included in parent transaction.");E=null}}),G&&E&&!E.active&&(E=null)}}catch(ne){return E?E._promise(null,function(re,z){z(ne)}):Zt(ne)}var Y=(function ne(re,z,de,te,oe){return Ge.resolve().then(function(){var ue=rt.transless||rt,ae=re._createTransaction(z,de,re._dbSchema,te);if(ae.explicit=!0,ue={trans:ae,transless:ue},te)ae.idbtrans=te.idbtrans;else try{ae.create(),ae.idbtrans._explicit=!0,re._state.PR1398_maxLoop=3}catch(_e){return _e.name===At.InvalidState&&re.isOpen()&&0<--re._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),re.close({disableAutoOpen:!1}),re.open().then(function(){return ne(re,z,de,null,oe)})):Zt(_e)}var ce,Be=H(oe);return Be&&lr(),ue=Ge.follow(function(){var _e;(ce=oe.call(ae,ae))&&(Be?(_e=En.bind(null,null),ce.then(_e,_e)):typeof ce.next=="function"&&typeof ce.throw=="function"&&(ce=Rn(ce)))},ue),(ce&&typeof ce.then=="function"?Ge.resolve(ce).then(function(_e){return ae.active?_e:Zt(new De.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):ue.then(function(){return ce})).then(function(_e){return te&&ae._resolve(),ae._completion.then(function(){return _e})}).catch(function(_e){return ae._reject(_e),Zt(_e)})})}).bind(null,this,k,j,E,_);return E?E._promise(k,Y,"lock"):rt.trans?cr(rt.transless,function(){return U._whenReady(Y)}):this._whenReady(Y)},Xt.prototype.table=function(h){if(!b(this._allTables,h))throw new De.InvalidTable("Table ".concat(h," does not exist"));return this._allTables[h]},Xt);function Xt(h,v){var _=this;this._middlewares={},this.verno=0;var U=Xt.dependencies;this._options=v=i({addons:Xt.addons,autoOpen:!0,indexedDB:U.indexedDB,IDBKeyRange:U.IDBKeyRange,cache:"cloned"},v),this._deps={indexedDB:v.indexedDB,IDBKeyRange:v.IDBKeyRange},U=v.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var E,k,j,G,Y,ne={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Qt,dbReadyPromise:null,cancelOpen:Qt,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:v.autoOpen};ne.dbReadyPromise=new Ge(function(z){ne.dbReadyResolve=z}),ne.openCanceller=new Ge(function(z,de){ne.cancelOpen=de}),this._state=ne,this.name=h,this.on=dt(this,"populate","blocked","versionchange","close",{ready:[rr,Qt]}),this.once=function(z,de){var te=function(){for(var oe=[],ue=0;ue<arguments.length;ue++)oe[ue]=arguments[ue];_.on(z).unsubscribe(te),de.apply(_,oe)};return _.on(z,te)},this.on.ready.subscribe=J(this.on.ready.subscribe,function(z){return function(de,te){Xt.vip(function(){var oe,ue=_._state;ue.openComplete?(ue.dbOpenError||Ge.resolve().then(de),te&&z(de)):ue.onReadyBeingFired?(ue.onReadyBeingFired.push(de),te&&z(de)):(z(de),oe=_,te||z(function ae(){oe.on.ready.unsubscribe(de),oe.on.ready.unsubscribe(ae)}))})}}),this.Collection=(E=this,Tt(pi.prototype,function(ce,ae){this.db=E;var te=di,oe=null;if(ae)try{te=ae()}catch(Be){oe=Be}var ue=ce._ctx,ae=ue.table,ce=ae.hook.reading.fire;this._ctx={table:ae,index:ue.index,isPrimKey:!ue.index||ae.schema.primKey.keyPath&&ue.index===ae.schema.primKey.name,range:te,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:oe,or:ue.or,valueMapper:ce!==bA?ce:null}})),this.Table=(k=this,Tt(SA.prototype,function(z,de,te){this.db=k,this._tx=te,this.name=z,this.schema=de,this.hook=k._allTables[z]?k._allTables[z].hook:dt(null,{creating:[so,Qt],reading:[io,bA],updating:[ki,Qt],deleting:[Li,Qt]})})),this.Transaction=(j=this,Tt(fo.prototype,function(z,de,te,oe,ue){var ae=this;z!=="readonly"&&de.forEach(function(ce){ce=(ce=te[ce])===null||ce===void 0?void 0:ce.yProps,ce&&(de=de.concat(ce.map(function(Be){return Be.updatesTable})))}),this.db=j,this.mode=z,this.storeNames=de,this.schema=te,this.chromeTransactionDurability=oe,this.idbtrans=null,this.on=dt(this,"complete","error","abort"),this.parent=ue||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Ge(function(ce,Be){ae._resolve=ce,ae._reject=Be}),this._completion.then(function(){ae.active=!1,ae.on.complete.fire()},function(ce){var Be=ae.active;return ae.active=!1,ae.on.error.fire(ce),ae.parent?ae.parent._reject(ce):Be&&ae.idbtrans&&ae.idbtrans.abort(),Zt(ce)})})),this.Version=(G=this,Tt(Rr.prototype,function(z){this.db=G,this._cfg={version:z,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(Y=this,Tt(gA.prototype,function(z,de,te){if(this.db=Y,this._ctx={table:z,index:de===":id"?null:de,or:te},this._cmp=this._ascending=ze,this._descending=function(oe,ue){return ze(ue,oe)},this._max=function(oe,ue){return 0<ze(oe,ue)?oe:ue},this._min=function(oe,ue){return ze(oe,ue)<0?oe:ue},this._IDBKeyRange=Y._deps.IDBKeyRange,!this._IDBKeyRange)throw new De.MissingAPI})),this.on("versionchange",function(z){0<z.newVersion?console.warn("Another connection wants to upgrade database '".concat(_.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(_.name,"'. Closing db now to resume the delete request.")),_.close({disableAutoOpen:!1})}),this.on("blocked",function(z){!z.newVersion||z.newVersion<z.oldVersion?console.warn("Dexie.delete('".concat(_.name,"') was blocked")):console.warn("Upgrade '".concat(_.name,"' blocked by other connection holding version ").concat(z.oldVersion/10))}),this._maxKey=Ht(v.IDBKeyRange),this._createTransaction=function(z,de,te,oe){return new _.Transaction(z,de,te,_._options.chromeTransactionDurability,oe)},this._fireOnBlocked=function(z){_.on("blocked").fire(z),dr.filter(function(de){return de.name===_.name&&de!==_&&!de._state.vcFired}).map(function(de){return de.on("versionchange").fire(z)})},this.use(Za),this.use(wi),this.use(mA),this.use(Jo),this.use(go);var re=new Proxy(this,{get:function(z,de,te){if(de==="_vip")return!0;if(de==="table")return function(ue){return Bi(_.table(ue),re)};var oe=Reflect.get(z,de,te);return oe instanceof SA?Bi(oe,re):de==="tables"?oe.map(function(ue){return Bi(ue,re)}):de==="_createTransaction"?function(){return Bi(oe.apply(this,arguments),re)}:oe}});this.vip=re,U.forEach(function(z){return z(_)})}var vA,Fn=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",ea=(yi.prototype.subscribe=function(h,v,_){return this._subscribe(h&&typeof h!="function"?h:{next:h,error:v,complete:_})},yi.prototype[Fn]=function(){return this},yi);function yi(h){this._subscribe=h}try{vA={indexedDB:u.indexedDB||u.mozIndexedDB||u.webkitIndexedDB||u.msIndexedDB,IDBKeyRange:u.IDBKeyRange||u.webkitIDBKeyRange}}catch{vA={indexedDB:null,IDBKeyRange:null}}function _i(h){var v,_=!1,U=new ea(function(E){var k=H(h),j,G=!1,Y={},ne={},re={get closed(){return G},unsubscribe:function(){G||(G=!0,j&&j.abort(),z&&On.storagemutated.unsubscribe(te))}};E.start&&E.start(re);var z=!1,de=function(){return Pi(oe)},te=function(ue){_s(Y,ue),$i(ne,Y)&&de()},oe=function(){var ue,ae,ce;!G&&vA.indexedDB&&(Y={},ue={},j&&j.abort(),j=new AbortController,ce=(function(Be){var _e=or();try{k&&lr();var Ce=$A(h,Be);return Ce=k?Ce.finally(En):Ce}finally{_e&&WA()}})(ae={subscr:ue,signal:j.signal,requery:de,querier:h,trans:null}),Promise.resolve(ce).then(function(Be){_=!0,v=Be,G||ae.signal.aborted||(Y={},(function(_e){for(var Ce in _e)if(b(_e,Ce))return;return 1})(ne=ue)||z||(On(St,te),z=!0),Pi(function(){return!G&&E.next&&E.next(Be)}))},function(Be){_=!1,["DatabaseClosedError","AbortError"].includes(Be?.name)||G||Pi(function(){G||E.error&&E.error(Be)})}))};return setTimeout(de,0),re});return U.hasValue=function(){return _},U.getValue=function(){return v},U}var rn=mn;function wo(h){var v=wr;try{wr=!0,On.storagemutated.fire(h),XA(h,!0)}finally{wr=v}}S(rn,i(i({},fA),{delete:function(h){return new rn(h,{addons:[]}).delete()},exists:function(h){return new rn(h,{addons:[]}).open().then(function(v){return v.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(h){try{return v=rn.dependencies,_=v.indexedDB,v=v.IDBKeyRange,(Wi(_)?Promise.resolve(_.databases()).then(function(U){return U.map(function(E){return E.name}).filter(function(E){return E!==Ni})}):Dn(_,v).toCollection().primaryKeys()).then(h)}catch{return Zt(new De.MissingAPI)}var v,_},defineClass:function(){return function(h){m(this,h)}},ignoreTransaction:function(h){return rt.trans?cr(rt.transless,h):h()},vip:vr,async:function(h){return function(){try{var v=Rn(h.apply(this,arguments));return v&&typeof v.then=="function"?v:Ge.resolve(v)}catch(_){return Zt(_)}}},spawn:function(h,v,_){try{var U=Rn(h.apply(_,v||[]));return U&&typeof U.then=="function"?U:Ge.resolve(U)}catch(E){return Zt(E)}},currentTransaction:{get:function(){return rt.trans||null}},waitFor:function(h,v){return v=Ge.resolve(typeof h=="function"?rn.ignoreTransaction(h):h).timeout(v||6e4),rt.trans?rt.trans.waitFor(v):v},Promise:Ge,debug:{get:function(){return fn},set:function(h){Ti(h)}},derive:N,extend:m,props:S,override:J,Events:dt,on:On,liveQuery:_i,extendObservabilitySet:_s,getByKeyPath:q,setByKeyPath:xe,delByKeyPath:function(h,v){typeof v=="string"?xe(h,v,void 0):"length"in v&&[].map.call(v,function(_){xe(h,_,void 0)})},shallowClone:X,deepClone:Ze,getObjectDiff:xs,cmp:ze,asap:$,minKey:-1/0,addons:[],connections:dr,errnames:At,dependencies:vA,cache:Vr,semVer:"4.2.0",version:"4.2.0".split(".").map(function(h){return parseInt(h)}).reduce(function(h,v,_){return h+v/Math.pow(10,2*_)})})),rn.maxKey=Ht(rn.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(On(St,function(h){wr||(h=new CustomEvent(Di,{detail:h}),wr=!0,dispatchEvent(h),wr=!1)}),addEventListener(Di,function(h){h=h.detail,wr||wo(h)}));var Mn,wr=!1,wA=function(){};return typeof BroadcastChannel<"u"&&((wA=function(){(Mn=new BroadcastChannel(Di)).onmessage=function(h){return h.data&&wo(h.data)}})(),typeof Mn.unref=="function"&&Mn.unref(),On(St,function(h){wr||Mn.postMessage(h)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(h){if(!mn.disableBfCache&&h.persisted){fn&&console.debug("Dexie: handling persisted pagehide"),Mn?.close();for(var v=0,_=dr;v<_.length;v++)_[v].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(h){!mn.disableBfCache&&h.persisted&&(fn&&console.debug("Dexie: handling persisted pageshow"),wA(),wo({all:new cn(-1/0,[[]])}))})),Ge.rejectionMapper=function(h,v){return!h||h instanceof Ie||h instanceof TypeError||h instanceof SyntaxError||!h.name||!Ot[h.name]?h:(v=new Ot[h.name](v||h.message,h),"stack"in h&&P(v,"stack",{get:function(){return this.inner.stack}}),v)},Ti(fn),i(mn,Object.freeze({__proto__:null,Dexie:mn,liveQuery:_i,Entity:hi,cmp:ze,PropModification:Zn,replacePrefix:function(h,v){return new Zn({replacePrefix:[h,v]})},add:function(h){return new Zn({add:h})},remove:function(h){return new Zn({remove:h})},default:mn,RangeSet:cn,mergeRanges:Mr,rangesOverlap:Wo}),{default:mn}),mn})})(gc)),gc.exports}var j0=N0();const ef=Kl(j0),im=Symbol.for("Dexie"),Ec=globalThis[im]||(globalThis[im]=ef);if(ef.semVer!==Ec.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${ef.semVer} and ${Ec.semVer}`);const{liveQuery:qv,mergeRanges:GI,rangesOverlap:zI,RangeSet:WI,cmp:$I,Entity:ZI,PropModification:JI,replacePrefix:qI,add:XI,remove:YI,DexieYProvider:e1}=Ec;class H0 extends Ec{jobs;notes;photos;measurements;calcResults;chemProducts;chemLabels;outbox;tracks;waterQuality;checklists;audioNotes;timeEntries;tasks;fishSessions;fishCounts;fishRuns;fishStops;chemRefs;profiles;jobLogs;acreage;depthPoints;ponds;miscPoints;addressBank;constructor(){super("tpm_field_db"),this.version(1).stores({jobs:"id, clientName, createdAt, updatedAt",notes:"id, jobId, createdAt",photos:"id, jobId, createdAt",measurements:"id, jobId, createdAt",calcResults:"id, jobId, createdAt",chemProducts:"id, brand, active",outbox:"id, type, op, createdAt"}),this.version(2).stores({chemLabels:"id, productId, createdAt"}),this.version(3).stores({jobs:"id, clientName, createdAt, updatedAt, createdBy"}),this.version(4).stores({tracks:"id, jobId, createdAt",waterQuality:"id, jobId, createdAt, kind",checklists:"id, jobId, createdAt, kind"}),this.version(5).stores({audioNotes:"id, jobId, createdAt"}),this.version(6).stores({timeEntries:"id, jobId, date",tasks:"id, jobId, createdAt, done",fishSessions:"id, jobId, startedAt, endedAt",fishCounts:"id, sessionId, species"}),this.version(7).stores({chemRefs:"id, name"}),this.version(8).stores({profiles:"id"}),this.version(9).stores({jobLogs:"id, jobId, ts, kind"}),this.version(10).stores({acreage:"id, createdAt"}),this.version(11).stores({depthPoints:"id, jobId, createdAt"}),this.version(12).stores({ponds:"id, jobId, createdAt"}),this.version(13).stores({miscPoints:"id, jobId, createdAt"}),this.version(14).stores({fishRuns:"id, createdAt",fishStops:"id, runId, seq"}),this.version(15).stores({addressBank:"id, clientName, address"})}}const pe=new H0,Zf="vplm_backup_history",Xv="vplm_backup_latest";let gh=null;function $t(A){typeof window>"u"||(gh&&clearTimeout(gh),gh=window.setTimeout(()=>{iw(`auto:${A}`).catch(e=>console.warn("Backup snapshot failed",e))},1500))}async function sm(A){await pe.notes.put(A),await Gl({id:A.id,type:"note",op:"create",payload:A,createdAt:A.createdAt})}async function Yv(A){await pe.photos.put(A),await Gl({id:A.id,type:"photo",op:"create",payload:A,createdAt:A.createdAt})}async function O0(A){await pe.measurements.put(A),await Gl({id:A.id,type:"measurement",op:"create",payload:A,createdAt:A.createdAt})}async function Gl(A){await pe.outbox.put(A),$t(`outbox:${A.type}`)}async function D0(A){await pe.jobs.put(A),await Gl({id:A.id,type:"job",op:"create",payload:A,createdAt:A.createdAt})}async function R0(A,e){const t=e.updatedAt||new Date().toISOString();await pe.jobs.update(A,{...e,updatedAt:t})}async function ew(A){await pe.chemProducts.put(A)}async function M0(A){await pe.chemLabels.put(A)}async function K0(){const[A,e,t,i,o,u,d,g]=await Promise.all([pe.jobs.toArray(),pe.notes.toArray(),pe.photos.toArray(),pe.measurements.toArray(),pe.calcResults.toArray(),pe.chemProducts.toArray(),pe.chemLabels?.toArray?.()??Promise.resolve([]),pe.outbox.toArray()]);return{jobs:A,notes:e,photos:t,measurements:i,calcResults:o,chemProducts:u,chemLabels:d,outbox:g}}async function V0(A){await pe.waterQuality.put(A),await Gl({id:A.id,type:"job",op:"update",payload:{waterQuality:!0,jobId:A.jobId},createdAt:A.createdAt}),$t("waterQuality:save")}async function G0(A){await pe.checklists.put(A),$t("checklist:save")}async function tw(A){const{blob:e,data:t,mimeType:i,...o}=A;let u;e?u=new Uint8Array(await e.arrayBuffer()):t instanceof Uint8Array?u=new Uint8Array(t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)):t instanceof ArrayBuffer&&(u=new Uint8Array(t));const d={...o,mimeType:i||e?.type||"audio/webm",...u?{data:u}:{}};await pe.audioNotes.put(d),$t("audioNote:save")}async function om(A,e){await pe.audioNotes.update(A,e),$t("audioNote:update")}async function z0(A){await pe.fishRuns.put(A),$t("fishRun:save")}async function mc(){return pe.fishRuns.orderBy("createdAt").reverse().toArray()}async function W0(A){await pe.fishStops.where("runId").equals(A).delete(),await pe.fishRuns.delete(A),$t("fishRun:delete")}async function $0(A){await pe.fishStops.put(A),$t("fishStop:add")}async function am(A,e){await pe.fishStops.update(A,e),$t("fishStop:update")}async function ma(A){return pe.fishStops.where("runId").equals(A).sortBy("seq")}async function hn(A,e,t,i){const o={id:crypto.randomUUID(),jobId:A,ts:new Date().toISOString(),kind:e,message:t,actor:i};await pe.jobLogs.put(o),$t("jobLog:save")}async function Z0(A){return pe.jobLogs.where("jobId").equals(A).reverse().sortBy("ts")}function _n(){try{return localStorage.getItem("defaultEmployee")||void 0}catch{return}}async function J0(A){await pe.acreage.put(A),$t("acreage:save")}async function mh(){return pe.acreage.orderBy("createdAt").reverse().toArray()}async function lm(A){return pe.acreage.get(A)}async function q0(A){await pe.depthPoints.put(A),$t("depth:add")}async function vh(A){return pe.depthPoints.where("jobId").equals(A).toArray()}async function X0(A){await pe.depthPoints.delete(A),$t("depth:delete")}async function Y0(A){await pe.ponds.put(A),$t("pond:save")}async function Du(A){return pe.ponds.where("jobId").equals(A).toArray()}async function e_(A){await pe.ponds.delete(A),$t("pond:delete")}async function t_(A){await pe.addressBank.put(A),$t("addressBank:save")}async function n_(A){await pe.addressBank.delete(A),$t("addressBank:delete")}async function A_(A){await pe.miscPoints.put(A),$t("misc:add")}async function wh(A){return pe.miscPoints.where("jobId").equals(A).toArray()}async function r_(A){await pe.miscPoints.delete(A),$t("misc:delete")}async function vc(A){return pe.timeEntries.where("jobId").equals(A).sortBy("arrivalAt")}async function nw(A,e){const t=new Date().toISOString();if(await pe.timeEntries.where("jobId").equals(A).filter(u=>!u.departureAt).first())throw new Error("Already clocked in for this job. Clock out before starting another entry.");const o={id:crypto.randomUUID(),jobId:A,date:e,arrivalAt:t};return await pe.timeEntries.put(o),$t("time:start"),o}async function Aw(A){const e=new Date().toISOString(),t=await pe.timeEntries.where("jobId").equals(A).filter(o=>!o.departureAt).last();if(!t)throw new Error("No active clock-in found for this job.");const i={...t,departureAt:e};return await pe.timeEntries.put(i),$t("time:stop"),i}async function i_(A){await pe.tasks.put(A),$t("task:add")}async function s_(A,e){await pe.tasks.update(A,{done:e}),$t("task:update")}async function Ru(A){return pe.tasks.where("jobId").equals(A).toArray()}async function o_(A){await pe.tasks.delete(A),$t("task:delete")}async function a_(A){const e={id:crypto.randomUUID(),jobId:A,startedAt:new Date().toISOString()};return await pe.fishSessions.put(e),e}async function l_(A){await pe.fishSessions.update(A,{endedAt:new Date().toISOString()})}async function u_(A,e,t){const i=await pe.fishCounts.where({sessionId:A,species:e}).first();i?await pe.fishCounts.update(i.id,{count:Math.max(0,i.count+t)}):await pe.fishCounts.put({id:crypto.randomUUID(),sessionId:A,species:e,count:Math.max(0,t)})}async function c_(A){return pe.fishCounts.where("sessionId").equals(A).toArray()}async function rw(A){await pe.chemRefs.put(A),$t("chemRef:save")}async function tf(){return pe.chemRefs.toArray()}async function d_(A){await pe.profiles.put(A),$t("profile:save")}async function h_(A="me"){return pe.profiles.get(A)}async function iw(A){const e=typeof localStorage>"u"?null:localStorage,t=await p_(),i={id:typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():`${Date.now()}`,createdAt:new Date().toISOString(),reason:A,data:t};if(e)try{const o=wc(),u=[i,...o];u.length>20&&(u.length=20),e.setItem(Zf,JSON.stringify(u)),e.setItem(Xv,JSON.stringify(i))}catch(o){console.warn("Unable to persist backup history",o)}return i}function wc(){if(typeof localStorage>"u")return[];try{const A=localStorage.getItem(Zf);if(!A)return[];const e=JSON.parse(A);if(Array.isArray(e))return e}catch(A){console.warn("Unable to read backup history",A)}return[]}function f_(){if(!(typeof localStorage>"u"))try{localStorage.removeItem(Zf),localStorage.removeItem(Xv)}catch(A){console.warn("Unable to clear backup history",A)}}async function p_(){const[A,e,t,i,o,u,d,g,m,y,C]=await Promise.all([pe.jobs.toArray(),pe.notes.toArray(),pe.audioNotes.toArray(),pe.photos.toArray(),pe.measurements.toArray(),pe.timeEntries.toArray(),pe.tasks.toArray(),pe.fishRuns.toArray(),pe.fishStops.toArray(),pe.addressBank.toArray(),pe.outbox.toArray()]),b=await Promise.all(t.map(async O=>{const{blob:P,data:N,...W}=O;let D=null;try{if(N)D=um(N instanceof Uint8Array?N:new Uint8Array(N));else if(P){const R=new Uint8Array(await P.arrayBuffer());D=um(R)}}catch(R){console.warn("Failed to encode audio note backup",R)}return{...W,audioBase64:D}})),S=i.map(({blob:O,...P})=>({...P,hasBlob:!!O}));return{jobs:A,notes:e,audioNotes:b,photos:S,measurements:o,timeEntries:u,tasks:d,fishRuns:g,fishStops:m,addressBank:y,outbox:C}}function um(A){const e=A instanceof Uint8Array?A:new Uint8Array(A);let t="";const i=32768;for(let o=0;o<e.length;o+=i){const u=e.subarray(o,o+i);t+=String.fromCharCode(...u)}return typeof btoa=="function"?btoa(t):typeof Buffer<"u"?Buffer.from(e).toString("base64"):""}const g_="http://127.0.0.1:3333",sw=g_.replace(/\/$/,""),nf=!!sw;function m_(){try{return localStorage.getItem("auth_token")}catch{return null}}async function Af(A,e={}){if(!nf)throw new Error("Remote API is not configured");const t={"Content-Type":"application/json",...e.headers},i=m_();i&&(t.Authorization=`Bearer ${i}`);const o=await fetch(`${sw}${A}`,{...e,headers:t});if(!o.ok){let d=o.statusText;try{d=(await o.json()).error||d}catch{}throw new Error(d)}return(o.headers.get("Content-Type")||"").includes("application/json")?o.json():o.text()}const rf="users_local";function zl(){try{const e=localStorage.getItem(rf);if(e)return JSON.parse(e)}catch{}const A=[{id:"dev-local-8303072466",phone:"8303072466",name:"Developer 1",role:"developer",password:"Bman200four!"},{id:"dev-local-8303078689",phone:"8303078689",name:"Developer 2",role:"developer",password:"BR@DTH@30$$"}];try{localStorage.setItem(rf,JSON.stringify(A))}catch{}return A}function ow(A){try{localStorage.setItem(rf,JSON.stringify(A))}catch{}}function Bc(){return zl()}function v_(A){return zl().find(e=>String(e.phone)===String(A))}function w_(A){const e=zl();let t=e.find(i=>i.phone===A.phone);return t?(t.name=A.name??t.name,t.role=A.role||t.role,t.password=A.password||t.password):(t={id:crypto.randomUUID(),phone:A.phone,name:A.name,role:A.role||"user",password:A.password},e.push(t)),ow(e),t}function B_(A){const e=zl().filter(t=>t.id!==A);ow(e)}function y_(A,e){return zl().find(o=>String(o.phone)===String(A)&&String(o.password||"")===String(e))||null}const sf="mapbox_access_token";function aw(){try{return localStorage.getItem(sf)}catch{return null}}function __(A){try{A?localStorage.setItem(sf,A):localStorage.removeItem(sf)}catch{}}const C_={headers:{Accept:"application/json","User-Agent":"VPLM Portal (autocomplete)"}};async function x_(A){const e=A.trim();if(!e)return[];const t=aw();if(t)try{const i=new URL(`https://api.mapbox.com/geocoding/v5/mapbox.places/${encodeURIComponent(e)}.json`);i.searchParams.set("autocomplete","true"),i.searchParams.set("limit","6"),i.searchParams.set("types","address,place,poi"),i.searchParams.set("access_token",t);const o=await fetch(i.toString());if(!o.ok)throw new Error(`Mapbox error: ${o.status}`);const u=await o.json();if(u&&Array.isArray(u.features))return u.features.map(d=>{const g=d.context||[],m=C=>{const b=g.find(S=>typeof S.id=="string"&&S.id.startsWith(C));return b?.text||b?.short_code||void 0},y=d.properties||{};return{id:String(d.id||d.place_name),label:d.place_name||d.text,addressLine:d.text||d.place_name,city:y.place||m("place"),region:y.region||m("region"),postalCode:y.postcode||m("postcode"),country:y.country||m("country"),lat:typeof d.center?.[1]=="number"?d.center[1]:d.geometry?.coordinates?.[1],lon:typeof d.center?.[0]=="number"?d.center[0]:d.geometry?.coordinates?.[0],source:"mapbox"}})}catch(i){console.warn("Mapbox autocomplete fallback",i)}try{const i=new URL("https://nominatim.openstreetmap.org/search");i.searchParams.set("format","jsonv2"),i.searchParams.set("addressdetails","1"),i.searchParams.set("limit","6"),i.searchParams.set("q",e);const o=await fetch(i.toString(),C_);if(!o.ok)throw new Error(`Nominatim error: ${o.status}`);const u=await o.json();if(Array.isArray(u))return u.map(d=>{const g=d.address||{};return{id:String(d.place_id||d.osm_id||d.display_name),label:d.display_name,addressLine:d.display_name,city:g.city||g.town||g.village,region:g.state,postalCode:g.postcode,country:g.country,lat:d.lat?Number(d.lat):void 0,lon:d.lon?Number(d.lon):void 0,source:"osm"}})}catch(i){console.warn("OSM autocomplete failed",i)}return[]}function Wl({id:A,label:e,value:t,placeholder:i,required:o,disabled:u,autoFocus:d,helpText:g,onChange:m,onSelect:y,onEnter:C}){const[b,S]=F.useState(!1),[O,P]=F.useState(!1),[N,W]=F.useState([]),[D,R]=F.useState(-1),J=F.useRef(null),M=F.useRef(0),$=F.useRef(new Map),q=F.useRef(!1);F.useEffect(()=>{const Ae=ve=>{J.current&&(J.current.contains(ve.target)||S(!1))};return document.addEventListener("mousedown",Ae),()=>document.removeEventListener("mousedown",Ae)},[]),F.useEffect(()=>{const Ae=t.trim();if(!Ae){W([]),S(!1);return}if(q.current){q.current=!1;return}if(Ae.length<3){W([]),S(!1);return}const ve=Ae.toLowerCase(),Ee=$.current.get(ve);if(Ee&&Date.now()-Ee.ts<300*1e3){W(Ee.data),S(Ee.data.length>0),R(Ee.data.length>0?0:-1),P(!1);return}const qe=++M.current;P(!0);const Ze=setTimeout(async()=>{try{const be=await x_(Ae);M.current===qe&&(W(be),S(be.length>0),R(be.length>0?0:-1),$.current.set(ve,{ts:Date.now(),data:be}))}finally{M.current===qe&&P(!1)}},350);return()=>clearTimeout(Ze)},[t]);function xe(Ae){m(Ae.label),y?.(Ae),W([]),S(!1),R(-1),q.current=!0}function X(Ae){!b||N.length===0||(Ae.key==="ArrowDown"?(Ae.preventDefault(),R(ve=>(ve+1)%N.length)):Ae.key==="ArrowUp"?(Ae.preventDefault(),R(ve=>(ve-1+N.length)%N.length)):Ae.key==="Enter"?D>=0&&N[D]?(Ae.preventDefault(),xe(N[D])):C&&(Ae.preventDefault(),C()):Ae.key==="Escape"&&S(!1))}return c.jsxs("div",{ref:J,className:"autocomplete",children:[e?c.jsxs("label",{className:"label",htmlFor:A,children:[e,o?c.jsx("span",{"aria-hidden":!0,style:{color:"var(--danger)",marginLeft:2},children:"*"}):null]}):null,c.jsxs("div",{className:"autocomplete__control",children:[c.jsx("input",{id:A,className:"input",autoFocus:d,placeholder:i,required:o,disabled:u,value:t,onChange:Ae=>m(Ae.target.value),onFocus:()=>{N.length>0&&S(!0)},onKeyDown:X}),O&&c.jsx("span",{className:"autocomplete__spinner","aria-hidden":!0})]}),g&&c.jsx("small",{className:"muted",children:g}),b&&N.length>0&&c.jsx("ul",{className:"autocomplete__list",role:"listbox",children:N.map((Ae,ve)=>c.jsxs("li",{role:"option","aria-selected":ve===D,className:ve===D?"active":"",onMouseDown:Ee=>{Ee.preventDefault(),xe(Ae)},onMouseEnter:()=>R(ve),children:[c.jsx("strong",{children:Ae.addressLine}),c.jsx("div",{className:"muted",style:{fontSize:12},children:Ae.label})]},Ae.id))})]})}function b_({onCreated:A}){const[e,t]=F.useState(""),[i,o]=F.useState(""),[u,d]=F.useState(""),[g,m]=F.useState(""),[y,C]=F.useState(""),[b,S]=F.useState(""),[O,P]=F.useState(""),[N,W]=F.useState([]),[D,R]=F.useState([]),[J,M]=F.useState([]),[$,q]=F.useState(null);F.useEffect(()=>{const se=localStorage.getItem("defaultEmployee");se&&P(se),Af("/users").then(Qe=>{W(Qe.users||[])}).catch(()=>{W(Bc())}),(async()=>{try{const Qe=await pe.jobs.toArray(),ge=new Set,Pe=new Set;Qe.forEach(K=>{K.city&&ge.add(K.city),K.county&&Pe.add(K.county)}),R(Array.from(ge).sort()),M(Array.from(Pe).sort())}catch{}})()},[]);const[xe,X]=F.useState(!1),[Ae,ve]=F.useState(""),[Ee,qe]=F.useState(!1);function Ze(se){d(se),q(null)}function be(se){d(se.label),q({lat:se.lat,lon:se.lon}),!g&&se.city&&m(se.city),!b&&se.postalCode&&S(se.postalCode)}async function et(se){if(se.preventDefault(),!!e.trim()){qe(!0);try{const Qe=crypto.randomUUID(),ge=new Date().toISOString();let Pe,K;if(xe&&"geolocation"in navigator)try{const H=await new Promise((le,Ie)=>{navigator.geolocation.getCurrentPosition(le,Ie,{enableHighAccuracy:!0,timeout:1e4})});Pe=H.coords.latitude,K=H.coords.longitude,ve("Location captured.")}catch{ve("Could not capture location. Ensure you are on site and allow location access.")}else $?.lat!=null&&$?.lon!=null&&(Pe=$.lat,K=$.lon);await D0({id:Qe,clientName:e,siteName:i,address:u,city:g||void 0,county:y||void 0,zip:b||void 0,lat:Pe,lon:K,createdBy:O||void 0,createdAt:ge,updatedAt:ge}),t(""),o(""),d(""),q(null),m(""),C(""),S(""),P(""),A(Qe)}finally{qe(!1)}}}return c.jsxs("form",{onSubmit:et,style:{display:"grid",gap:10,maxWidth:760,gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))"},children:[c.jsxs("label",{className:"label",children:["Client Name",c.jsx("input",{className:"input",value:e,onChange:se=>t(se.target.value),required:!0})]}),c.jsxs("label",{className:"label",children:["Site Name",c.jsx("input",{className:"input",value:i,onChange:se=>o(se.target.value)})]}),c.jsx("div",{style:{gridColumn:"1 / -1"},children:c.jsx(Wl,{id:"job-address",label:"Address",value:u,onChange:Ze,onSelect:be,placeholder:"Start typing an address"})}),c.jsxs("label",{className:"label",children:["City",c.jsx("input",{className:"input",list:"cities-list",value:g,onChange:se=>m(se.target.value)}),c.jsx("datalist",{id:"cities-list",children:D.map(se=>c.jsx("option",{value:se},se))})]}),c.jsxs("label",{className:"label",children:["County",c.jsx("input",{className:"input",list:"counties-list",value:y,onChange:se=>C(se.target.value)}),c.jsx("datalist",{id:"counties-list",children:J.map(se=>c.jsx("option",{value:se},se))})]}),c.jsxs("label",{className:"label",children:["Zip",c.jsx("input",{className:"input",value:b,onChange:se=>S(se.target.value),pattern:"^\\d{5}(?:-\\d{4})?$",title:"Enter 5-digit ZIP or ZIP+4"})]}),c.jsxs("label",{className:"label",style:{gridColumn:"1 / -1"},children:["Employee Name",c.jsx("input",{list:"employees-list",value:O,onChange:se=>P(se.target.value),placeholder:"Your name"}),c.jsx("datalist",{id:"employees-list",children:N.map(se=>c.jsx("option",{value:se.name||se.phone},se.id))})]}),c.jsxs("label",{style:{display:"flex",gap:8,alignItems:"center"},children:[c.jsx("input",{type:"checkbox",checked:xe,onChange:se=>X(se.target.checked)}),"Store current location (must be on site and allow location access)"]}),Ae&&c.jsx("small",{style:{color:"#555"},children:Ae}),c.jsx("div",{style:{gridColumn:"1 / -1"},children:c.jsx("button",{className:"btn",type:"submit",disabled:Ee,children:Ee?"Creating...":"Create Job"})})]})}function lw({items:A}){const e=F.useId();return c.jsx("div",{className:"accordion",children:A.map((t,i)=>c.jsx(Q_,{base:e,index:i,item:t},i))})}function Q_({base:A,index:e,item:t}){const[i,o]=F.useState(!!t.startOpen),u=`${A}-panel-${e}`,d=`${A}-btn-${e}`,g=t.accent?`accent-${t.accent}`:"accent-green",m=F.useRef(null),y=F.useRef(null);return F.useEffect(()=>{if(i){const C=m.current;requestAnimationFrame(()=>{try{C?.dispatchEvent(new CustomEvent("accordion:open",{bubbles:!0}))}catch{}try{y.current?.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}catch{}})}},[i]),c.jsxs("section",{ref:y,className:`accordion-item ${g}`,children:[c.jsxs("button",{id:d,className:"accordion-button","aria-expanded":i,"aria-controls":u,onClick:()=>o(C=>!C),children:[c.jsx("span",{children:t.label}),c.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,children:c.jsx("path",{d:"M6 9l6 6 6-6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),c.jsx("div",{ref:m,id:u,role:"region","aria-labelledby":d,hidden:!i,className:"accordion-panel",children:t.content})]})}var Bl={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var U_=Bl.exports,cm;function E_(){return cm||(cm=1,(function(A,e){(function(t,i){i(e)})(U_,(function(t){var i="1.9.4";function o(r){var a,f,w,Q;for(f=1,w=arguments.length;f<w;f++){Q=arguments[f];for(a in Q)r[a]=Q[a]}return r}var u=Object.create||(function(){function r(){}return function(a){return r.prototype=a,new r}})();function d(r,a){var f=Array.prototype.slice;if(r.bind)return r.bind.apply(r,f.call(arguments,1));var w=f.call(arguments,2);return function(){return r.apply(a,w.length?w.concat(f.call(arguments)):arguments)}}var g=0;function m(r){return"_leaflet_id"in r||(r._leaflet_id=++g),r._leaflet_id}function y(r,a,f){var w,Q,T,Z;return Z=function(){w=!1,Q&&(T.apply(f,Q),Q=!1)},T=function(){w?Q=arguments:(r.apply(f,arguments),setTimeout(Z,a),w=!0)},T}function C(r,a,f){var w=a[1],Q=a[0],T=w-Q;return r===w&&f?r:((r-Q)%T+T)%T+Q}function b(){return!1}function S(r,a){if(a===!1)return r;var f=Math.pow(10,a===void 0?6:a);return Math.round(r*f)/f}function O(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function P(r){return O(r).split(/\s+/)}function N(r,a){Object.prototype.hasOwnProperty.call(r,"options")||(r.options=r.options?u(r.options):{});for(var f in a)r.options[f]=a[f];return r.options}function W(r,a,f){var w=[];for(var Q in r)w.push(encodeURIComponent(f?Q.toUpperCase():Q)+"="+encodeURIComponent(r[Q]));return(!a||a.indexOf("?")===-1?"?":"&")+w.join("&")}var D=/\{ *([\w_ -]+) *\}/g;function R(r,a){return r.replace(D,function(f,w){var Q=a[w];if(Q===void 0)throw new Error("No value provided for variable "+f);return typeof Q=="function"&&(Q=Q(a)),Q})}var J=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};function M(r,a){for(var f=0;f<r.length;f++)if(r[f]===a)return f;return-1}var $="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function q(r){return window["webkit"+r]||window["moz"+r]||window["ms"+r]}var xe=0;function X(r){var a=+new Date,f=Math.max(0,16-(a-xe));return xe=a+f,window.setTimeout(r,f)}var Ae=window.requestAnimationFrame||q("RequestAnimationFrame")||X,ve=window.cancelAnimationFrame||q("CancelAnimationFrame")||q("CancelRequestAnimationFrame")||function(r){window.clearTimeout(r)};function Ee(r,a,f){if(f&&Ae===X)r.call(a);else return Ae.call(window,d(r,a))}function qe(r){r&&ve.call(window,r)}var Ze={__proto__:null,extend:o,create:u,bind:d,get lastId(){return g},stamp:m,throttle:y,wrapNum:C,falseFn:b,formatNum:S,trim:O,splitWords:P,setOptions:N,getParamString:W,template:R,isArray:J,indexOf:M,emptyImageUrl:$,requestFn:Ae,cancelFn:ve,requestAnimFrame:Ee,cancelAnimFrame:qe};function be(){}be.extend=function(r){var a=function(){N(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},f=a.__super__=this.prototype,w=u(f);w.constructor=a,a.prototype=w;for(var Q in this)Object.prototype.hasOwnProperty.call(this,Q)&&Q!=="prototype"&&Q!=="__super__"&&(a[Q]=this[Q]);return r.statics&&o(a,r.statics),r.includes&&(et(r.includes),o.apply(null,[w].concat(r.includes))),o(w,r),delete w.statics,delete w.includes,w.options&&(w.options=f.options?u(f.options):{},o(w.options,r.options)),w._initHooks=[],w.callInitHooks=function(){if(!this._initHooksCalled){f.callInitHooks&&f.callInitHooks.call(this),this._initHooksCalled=!0;for(var T=0,Z=w._initHooks.length;T<Z;T++)w._initHooks[T].call(this)}},a},be.include=function(r){var a=this.prototype.options;return o(this.prototype,r),r.options&&(this.prototype.options=a,this.mergeOptions(r.options)),this},be.mergeOptions=function(r){return o(this.prototype.options,r),this},be.addInitHook=function(r){var a=Array.prototype.slice.call(arguments,1),f=typeof r=="function"?r:function(){this[r].apply(this,a)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(f),this};function et(r){if(!(typeof L>"u"||!L||!L.Mixin)){r=J(r)?r:[r];for(var a=0;a<r.length;a++)r[a]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var se={on:function(r,a,f){if(typeof r=="object")for(var w in r)this._on(w,r[w],a);else{r=P(r);for(var Q=0,T=r.length;Q<T;Q++)this._on(r[Q],a,f)}return this},off:function(r,a,f){if(!arguments.length)delete this._events;else if(typeof r=="object")for(var w in r)this._off(w,r[w],a);else{r=P(r);for(var Q=arguments.length===1,T=0,Z=r.length;T<Z;T++)Q?this._off(r[T]):this._off(r[T],a,f)}return this},_on:function(r,a,f,w){if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}if(this._listens(r,a,f)===!1){f===this&&(f=void 0);var Q={fn:a,ctx:f};w&&(Q.once=!0),this._events=this._events||{},this._events[r]=this._events[r]||[],this._events[r].push(Q)}},_off:function(r,a,f){var w,Q,T;if(this._events&&(w=this._events[r],!!w)){if(arguments.length===1){if(this._firingCount)for(Q=0,T=w.length;Q<T;Q++)w[Q].fn=b;delete this._events[r];return}if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}var Z=this._listens(r,a,f);if(Z!==!1){var he=w[Z];this._firingCount&&(he.fn=b,this._events[r]=w=w.slice()),w.splice(Z,1)}}},fire:function(r,a,f){if(!this.listens(r,f))return this;var w=o({},a,{type:r,target:this,sourceTarget:a&&a.sourceTarget||this});if(this._events){var Q=this._events[r];if(Q){this._firingCount=this._firingCount+1||1;for(var T=0,Z=Q.length;T<Z;T++){var he=Q[T],we=he.fn;he.once&&this.off(r,we,he.ctx),we.call(he.ctx||this,w)}this._firingCount--}}return f&&this._propagateEvent(w),this},listens:function(r,a,f,w){typeof r!="string"&&console.warn('"string" type argument expected');var Q=a;typeof a!="function"&&(w=!!a,Q=void 0,f=void 0);var T=this._events&&this._events[r];if(T&&T.length&&this._listens(r,Q,f)!==!1)return!0;if(w){for(var Z in this._eventParents)if(this._eventParents[Z].listens(r,a,f,w))return!0}return!1},_listens:function(r,a,f){if(!this._events)return!1;var w=this._events[r]||[];if(!a)return!!w.length;f===this&&(f=void 0);for(var Q=0,T=w.length;Q<T;Q++)if(w[Q].fn===a&&w[Q].ctx===f)return Q;return!1},once:function(r,a,f){if(typeof r=="object")for(var w in r)this._on(w,r[w],a,!0);else{r=P(r);for(var Q=0,T=r.length;Q<T;Q++)this._on(r[Q],a,f,!0)}return this},addEventParent:function(r){return this._eventParents=this._eventParents||{},this._eventParents[m(r)]=r,this},removeEventParent:function(r){return this._eventParents&&delete this._eventParents[m(r)],this},_propagateEvent:function(r){for(var a in this._eventParents)this._eventParents[a].fire(r.type,o({layer:r.target,propagatedFrom:r.target},r),!0)}};se.addEventListener=se.on,se.removeEventListener=se.clearAllEventListeners=se.off,se.addOneTimeEventListener=se.once,se.fireEvent=se.fire,se.hasEventListeners=se.listens;var Qe=be.extend(se);function ge(r,a,f){this.x=f?Math.round(r):r,this.y=f?Math.round(a):a}var Pe=Math.trunc||function(r){return r>0?Math.floor(r):Math.ceil(r)};ge.prototype={clone:function(){return new ge(this.x,this.y)},add:function(r){return this.clone()._add(K(r))},_add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.clone()._subtract(K(r))},_subtract:function(r){return this.x-=r.x,this.y-=r.y,this},divideBy:function(r){return this.clone()._divideBy(r)},_divideBy:function(r){return this.x/=r,this.y/=r,this},multiplyBy:function(r){return this.clone()._multiplyBy(r)},_multiplyBy:function(r){return this.x*=r,this.y*=r,this},scaleBy:function(r){return new ge(this.x*r.x,this.y*r.y)},unscaleBy:function(r){return new ge(this.x/r.x,this.y/r.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Pe(this.x),this.y=Pe(this.y),this},distanceTo:function(r){r=K(r);var a=r.x-this.x,f=r.y-this.y;return Math.sqrt(a*a+f*f)},equals:function(r){return r=K(r),r.x===this.x&&r.y===this.y},contains:function(r){return r=K(r),Math.abs(r.x)<=Math.abs(this.x)&&Math.abs(r.y)<=Math.abs(this.y)},toString:function(){return"Point("+S(this.x)+", "+S(this.y)+")"}};function K(r,a,f){return r instanceof ge?r:J(r)?new ge(r[0],r[1]):r==null?r:typeof r=="object"&&"x"in r&&"y"in r?new ge(r.x,r.y):new ge(r,a,f)}function H(r,a){if(r)for(var f=a?[r,a]:r,w=0,Q=f.length;w<Q;w++)this.extend(f[w])}H.prototype={extend:function(r){var a,f;if(!r)return this;if(r instanceof ge||typeof r[0]=="number"||"x"in r)a=f=K(r);else if(r=le(r),a=r.min,f=r.max,!a||!f)return this;return!this.min&&!this.max?(this.min=a.clone(),this.max=f.clone()):(this.min.x=Math.min(a.x,this.min.x),this.max.x=Math.max(f.x,this.max.x),this.min.y=Math.min(a.y,this.min.y),this.max.y=Math.max(f.y,this.max.y)),this},getCenter:function(r){return K((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,r)},getBottomLeft:function(){return K(this.min.x,this.max.y)},getTopRight:function(){return K(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(r){var a,f;return typeof r[0]=="number"||r instanceof ge?r=K(r):r=le(r),r instanceof H?(a=r.min,f=r.max):a=f=r,a.x>=this.min.x&&f.x<=this.max.x&&a.y>=this.min.y&&f.y<=this.max.y},intersects:function(r){r=le(r);var a=this.min,f=this.max,w=r.min,Q=r.max,T=Q.x>=a.x&&w.x<=f.x,Z=Q.y>=a.y&&w.y<=f.y;return T&&Z},overlaps:function(r){r=le(r);var a=this.min,f=this.max,w=r.min,Q=r.max,T=Q.x>a.x&&w.x<f.x,Z=Q.y>a.y&&w.y<f.y;return T&&Z},isValid:function(){return!!(this.min&&this.max)},pad:function(r){var a=this.min,f=this.max,w=Math.abs(a.x-f.x)*r,Q=Math.abs(a.y-f.y)*r;return le(K(a.x-w,a.y-Q),K(f.x+w,f.y+Q))},equals:function(r){return r?(r=le(r),this.min.equals(r.getTopLeft())&&this.max.equals(r.getBottomRight())):!1}};function le(r,a){return!r||r instanceof H?r:new H(r,a)}function Ie(r,a){if(r)for(var f=a?[r,a]:r,w=0,Q=f.length;w<Q;w++)this.extend(f[w])}Ie.prototype={extend:function(r){var a=this._southWest,f=this._northEast,w,Q;if(r instanceof Ne)w=r,Q=r;else if(r instanceof Ie){if(w=r._southWest,Q=r._northEast,!w||!Q)return this}else return r?this.extend(Oe(r)||Fe(r)):this;return!a&&!f?(this._southWest=new Ne(w.lat,w.lng),this._northEast=new Ne(Q.lat,Q.lng)):(a.lat=Math.min(w.lat,a.lat),a.lng=Math.min(w.lng,a.lng),f.lat=Math.max(Q.lat,f.lat),f.lng=Math.max(Q.lng,f.lng)),this},pad:function(r){var a=this._southWest,f=this._northEast,w=Math.abs(a.lat-f.lat)*r,Q=Math.abs(a.lng-f.lng)*r;return new Ie(new Ne(a.lat-w,a.lng-Q),new Ne(f.lat+w,f.lng+Q))},getCenter:function(){return new Ne((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Ne(this.getNorth(),this.getWest())},getSouthEast:function(){return new Ne(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(r){typeof r[0]=="number"||r instanceof Ne||"lat"in r?r=Oe(r):r=Fe(r);var a=this._southWest,f=this._northEast,w,Q;return r instanceof Ie?(w=r.getSouthWest(),Q=r.getNorthEast()):w=Q=r,w.lat>=a.lat&&Q.lat<=f.lat&&w.lng>=a.lng&&Q.lng<=f.lng},intersects:function(r){r=Fe(r);var a=this._southWest,f=this._northEast,w=r.getSouthWest(),Q=r.getNorthEast(),T=Q.lat>=a.lat&&w.lat<=f.lat,Z=Q.lng>=a.lng&&w.lng<=f.lng;return T&&Z},overlaps:function(r){r=Fe(r);var a=this._southWest,f=this._northEast,w=r.getSouthWest(),Q=r.getNorthEast(),T=Q.lat>a.lat&&w.lat<f.lat,Z=Q.lng>a.lng&&w.lng<f.lng;return T&&Z},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(r,a){return r?(r=Fe(r),this._southWest.equals(r.getSouthWest(),a)&&this._northEast.equals(r.getNorthEast(),a)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Fe(r,a){return r instanceof Ie?r:new Ie(r,a)}function Ne(r,a,f){if(isNaN(r)||isNaN(a))throw new Error("Invalid LatLng object: ("+r+", "+a+")");this.lat=+r,this.lng=+a,f!==void 0&&(this.alt=+f)}Ne.prototype={equals:function(r,a){if(!r)return!1;r=Oe(r);var f=Math.max(Math.abs(this.lat-r.lat),Math.abs(this.lng-r.lng));return f<=(a===void 0?1e-9:a)},toString:function(r){return"LatLng("+S(this.lat,r)+", "+S(this.lng,r)+")"},distanceTo:function(r){return mt.distance(this,Oe(r))},wrap:function(){return mt.wrapLatLng(this)},toBounds:function(r){var a=180*r/40075017,f=a/Math.cos(Math.PI/180*this.lat);return Fe([this.lat-a,this.lng-f],[this.lat+a,this.lng+f])},clone:function(){return new Ne(this.lat,this.lng,this.alt)}};function Oe(r,a,f){return r instanceof Ne?r:J(r)&&typeof r[0]!="object"?r.length===3?new Ne(r[0],r[1],r[2]):r.length===2?new Ne(r[0],r[1]):null:r==null?r:typeof r=="object"&&"lat"in r?new Ne(r.lat,"lng"in r?r.lng:r.lon,r.alt):a===void 0?null:new Ne(r,a,f)}var At={latLngToPoint:function(r,a){var f=this.projection.project(r),w=this.scale(a);return this.transformation._transform(f,w)},pointToLatLng:function(r,a){var f=this.scale(a),w=this.transformation.untransform(r,f);return this.projection.unproject(w)},project:function(r){return this.projection.project(r)},unproject:function(r){return this.projection.unproject(r)},scale:function(r){return 256*Math.pow(2,r)},zoom:function(r){return Math.log(r/256)/Math.LN2},getProjectedBounds:function(r){if(this.infinite)return null;var a=this.projection.bounds,f=this.scale(r),w=this.transformation.transform(a.min,f),Q=this.transformation.transform(a.max,f);return new H(w,Q)},infinite:!1,wrapLatLng:function(r){var a=this.wrapLng?C(r.lng,this.wrapLng,!0):r.lng,f=this.wrapLat?C(r.lat,this.wrapLat,!0):r.lat,w=r.alt;return new Ne(f,a,w)},wrapLatLngBounds:function(r){var a=r.getCenter(),f=this.wrapLatLng(a),w=a.lat-f.lat,Q=a.lng-f.lng;if(w===0&&Q===0)return r;var T=r.getSouthWest(),Z=r.getNorthEast(),he=new Ne(T.lat-w,T.lng-Q),we=new Ne(Z.lat-w,Z.lng-Q);return new Ie(he,we)}},mt=o({},At,{wrapLng:[-180,180],R:6371e3,distance:function(r,a){var f=Math.PI/180,w=r.lat*f,Q=a.lat*f,T=Math.sin((a.lat-r.lat)*f/2),Z=Math.sin((a.lng-r.lng)*f/2),he=T*T+Math.cos(w)*Math.cos(Q)*Z*Z,we=2*Math.atan2(Math.sqrt(he),Math.sqrt(1-he));return this.R*we}}),De=6378137,Ot={R:De,MAX_LATITUDE:85.0511287798,project:function(r){var a=Math.PI/180,f=this.MAX_LATITUDE,w=Math.max(Math.min(f,r.lat),-f),Q=Math.sin(w*a);return new ge(this.R*r.lng*a,this.R*Math.log((1+Q)/(1-Q))/2)},unproject:function(r){var a=180/Math.PI;return new Ne((2*Math.atan(Math.exp(r.y/this.R))-Math.PI/2)*a,r.x*a/this.R)},bounds:(function(){var r=De*Math.PI;return new H([-r,-r],[r,r])})()};function fA(r,a,f,w){if(J(r)){this._a=r[0],this._b=r[1],this._c=r[2],this._d=r[3];return}this._a=r,this._b=a,this._c=f,this._d=w}fA.prototype={transform:function(r,a){return this._transform(r.clone(),a)},_transform:function(r,a){return a=a||1,r.x=a*(this._a*r.x+this._b),r.y=a*(this._c*r.y+this._d),r},untransform:function(r,a){return a=a||1,new ge((r.x/a-this._b)/this._a,(r.y/a-this._d)/this._c)}};function Qt(r,a,f,w){return new fA(r,a,f,w)}var bA=o({},mt,{code:"EPSG:3857",projection:Ot,transformation:(function(){var r=.5/(Math.PI*Ot.R);return Qt(r,.5,-r,.5)})()}),io=o({},bA,{code:"EPSG:900913"});function MA(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function so(r,a){var f="",w,Q,T,Z,he,we;for(w=0,T=r.length;w<T;w++){for(he=r[w],Q=0,Z=he.length;Q<Z;Q++)we=he[Q],f+=(Q?"L":"M")+we.x+" "+we.y;f+=a?tt.svg?"z":"x":""}return f||"M0 0"}var Li=document.documentElement.style,ki="ActiveXObject"in window,oo=ki&&!document.addEventListener,rr="msLaunchUri"in navigator&&!("documentMode"in document),fn=Nn("webkit"),Ti=Nn("android"),Ir=Nn("android 2")||Nn("android 3"),ao=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ii=Ti&&Nn("Google")&&ao<537&&!("AudioNode"in window),QA=!!window.opera,UA=!rr&&Nn("chrome"),Lr=Nn("gecko")&&!fn&&!QA&&!ki,si=!UA&&Nn("safari"),ir=Nn("phantom"),KA="OTransition"in Li,kr=navigator.platform.indexOf("Win")===0,oi=ki&&"transition"in Li,ai="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ir,VA="MozPerspective"in Li,rt=!window.L_DISABLE_3D&&(oi||ai||VA)&&!KA&&!ir,pA=typeof orientation<"u"||Nn("mobile"),GA=pA&&fn,li=pA&&ai,Ge=!window.PointerEvent&&window.MSPointerEvent,zA=!!(window.PointerEvent||Ge),sr="ontouchstart"in window||!!window.TouchEvent,ms=!window.L_NO_TOUCH&&(sr||zA),lo=pA&&QA,vs=pA&&Lr,Mo=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ko=(function(){var r=!1;try{var a=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassiveEventSupport",b,a),window.removeEventListener("testPassiveEventSupport",b,a)}catch{}return r})(),or=(function(){return!!document.createElement("canvas").getContext})(),WA=!!(document.createElementNS&&MA("svg").createSVGRect),Tr=!!WA&&(function(){var r=document.createElement("div");return r.innerHTML="<svg/>",(r.firstChild&&r.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),ui=!WA&&(function(){try{var r=document.createElement("div");r.innerHTML='<v:shape adj="1"/>';var a=r.firstChild;return a.style.behavior="url(#default#VML)",a&&typeof a.adj=="object"}catch{return!1}})(),kt=navigator.platform.indexOf("Mac")===0,ln=navigator.platform.indexOf("Linux")===0;function Nn(r){return navigator.userAgent.toLowerCase().indexOf(r)>=0}var tt={ie:ki,ielt9:oo,edge:rr,webkit:fn,android:Ti,android23:Ir,androidStock:ii,opera:QA,chrome:UA,gecko:Lr,safari:si,phantom:ir,opera12:KA,win:kr,ie3d:oi,webkit3d:ai,gecko3d:VA,any3d:rt,mobile:pA,mobileWebkit:GA,mobileWebkit3d:li,msPointer:Ge,pointer:zA,touch:ms,touchNative:sr,mobileOpera:lo,mobileGecko:vs,retina:Mo,passiveEvents:Ko,canvas:or,svg:WA,vml:ui,inlineSvg:Tr,mac:kt,linux:ln},ar=tt.msPointer?"MSPointerDown":"pointerdown",Pr=tt.msPointer?"MSPointerMove":"pointermove",Vo=tt.msPointer?"MSPointerUp":"pointerup",$A=tt.msPointer?"MSPointerCancel":"pointercancel",lr={touchstart:ar,touchmove:Pr,touchend:Vo,touchcancel:$A},En={touchstart:It,touchmove:FA,touchend:FA,touchcancel:FA},EA={},uo=!1;function ur(r,a,f){return a==="touchstart"&&Zt(),En[a]?(f=En[a].bind(this,f),r.addEventListener(lr[a],f,!1),f):(console.warn("wrong event specified:",a),b)}function co(r,a,f){if(!lr[a]){console.warn("wrong event specified:",a);return}r.removeEventListener(lr[a],f,!1)}function cr(r){EA[r.pointerId]=r}function ho(r){EA[r.pointerId]&&(EA[r.pointerId]=r)}function Pi(r){delete EA[r.pointerId]}function Zt(){uo||(document.addEventListener(ar,cr,!0),document.addEventListener(Pr,ho,!0),document.addEventListener(Vo,Pi,!0),document.addEventListener($A,Pi,!0),uo=!0)}function FA(r,a){if(a.pointerType!==(a.MSPOINTER_TYPE_MOUSE||"mouse")){a.touches=[];for(var f in EA)a.touches.push(EA[f]);a.changedTouches=[a],r(a)}}function It(r,a){a.MSPOINTER_TYPE_TOUCH&&a.pointerType===a.MSPOINTER_TYPE_TOUCH&&Ht(a),FA(r,a)}function Go(r){var a={},f,w;for(w in r)f=r[w],a[w]=f&&f.bind?f.bind(r):f;return r=a,a.type="dblclick",a.detail=2,a.isTrusted=!1,a._simulated=!0,a}var dr=200;function Ni(r,a){r.addEventListener("dblclick",a);var f=0,w;function Q(T){if(T.detail!==1){w=T.detail;return}if(!(T.pointerType==="mouse"||T.sourceCapabilities&&!T.sourceCapabilities.firesTouchEvents)){var Z=pr(T);if(!(Z.some(function(we){return we instanceof HTMLLabelElement&&we.attributes.for})&&!Z.some(function(we){return we instanceof HTMLInputElement||we instanceof HTMLSelectElement}))){var he=Date.now();he-f<=dr?(w++,w===2&&a(Go(T))):w=1,f=he}}}return r.addEventListener("click",Q),{dblclick:a,simDblclick:Q}}function ci(r,a){r.removeEventListener("dblclick",a.dblclick),r.removeEventListener("click",a.simDblclick)}var ji=Nr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),rA=Nr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),di=rA==="webkitTransition"||rA==="OTransition"?rA+"End":"transitionend";function jn(r){return typeof r=="string"?document.getElementById(r):r}function hi(r,a){var f=r.style[a]||r.currentStyle&&r.currentStyle[a];if((!f||f==="auto")&&document.defaultView){var w=document.defaultView.getComputedStyle(r,null);f=w?w[a]:null}return f==="auto"?null:f}function ze(r,a,f){var w=document.createElement(r);return w.className=a||"",f&&f.appendChild(w),w}function Dt(r){var a=r.parentNode;a&&a.removeChild(r)}function Hi(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function ZA(r){var a=r.parentNode;a&&a.lastChild!==r&&a.appendChild(r)}function SA(r){var a=r.parentNode;a&&a.firstChild!==r&&a.insertBefore(r,a.firstChild)}function Ft(r,a){if(r.classList!==void 0)return r.classList.contains(a);var f=fi(r);return f.length>0&&new RegExp("(^|\\s)"+a+"(\\s|$)").test(f)}function dt(r,a){if(r.classList!==void 0)for(var f=P(a),w=0,Q=f.length;w<Q;w++)r.classList.add(f[w]);else if(!Ft(r,a)){var T=fi(r);hr(r,(T?T+" ":"")+a)}}function Tt(r,a){r.classList!==void 0?r.classList.remove(a):hr(r,O((" "+fi(r)+" ").replace(" "+a+" "," ")))}function hr(r,a){r.className.baseVal===void 0?r.className=a:r.className.baseVal=a}function fi(r){return r.correspondingElement&&(r=r.correspondingElement),r.className.baseVal===void 0?r.className:r.className.baseVal}function Cn(r,a){"opacity"in r.style?r.style.opacity=a:"filter"in r.style&&Oi(r,a)}function Oi(r,a){var f=!1,w="DXImageTransform.Microsoft.Alpha";try{f=r.filters.item(w)}catch{if(a===1)return}a=Math.round(a*100),f?(f.Enabled=a!==100,f.Opacity=a):r.style.filter+=" progid:"+w+"(opacity="+a+")"}function Nr(r){for(var a=document.documentElement.style,f=0;f<r.length;f++)if(r[f]in a)return r[f];return!1}function Hn(r,a,f){var w=a||new ge(0,0);r.style[ji]=(tt.ie3d?"translate("+w.x+"px,"+w.y+"px)":"translate3d("+w.x+"px,"+w.y+"px,0)")+(f?" scale("+f+")":"")}function Jt(r,a){r._leaflet_pos=a,tt.any3d?Hn(r,a):(r.style.left=a.x+"px",r.style.top=a.y+"px")}function Zn(r){return r._leaflet_pos||new ge(0,0)}var xt,pi,_t;if("onselectstart"in document)xt=function(){at(window,"selectstart",Ht)},pi=function(){St(window,"selectstart",Ht)};else{var fr=Nr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);xt=function(){if(fr){var r=document.documentElement.style;_t=r[fr],r[fr]="none"}},pi=function(){fr&&(document.documentElement.style[fr]=_t,_t=void 0)}}function ws(){at(window,"dragstart",Ht)}function Bs(){St(window,"dragstart",Ht)}var pn,IA;function JA(r){for(;r.tabIndex===-1;)r=r.parentNode;r.style&&(un(),pn=r,IA=r.style.outlineStyle,r.style.outlineStyle="none",at(window,"keydown",un))}function un(){pn&&(pn.style.outlineStyle=IA,pn=void 0,IA=void 0,St(window,"keydown",un))}function LA(r){do r=r.parentNode;while((!r.offsetWidth||!r.offsetHeight)&&r!==document.body);return r}function gA(r){var a=r.getBoundingClientRect();return{x:a.width/r.offsetWidth||1,y:a.height/r.offsetHeight||1,boundingClientRect:a}}var Vt={__proto__:null,TRANSFORM:ji,TRANSITION:rA,TRANSITION_END:di,get:jn,getStyle:hi,create:ze,remove:Dt,empty:Hi,toFront:ZA,toBack:SA,hasClass:Ft,addClass:dt,removeClass:Tt,setClass:hr,getClass:fi,setOpacity:Cn,testProp:Nr,setTransform:Hn,setPosition:Jt,getPosition:Zn,get disableTextSelection(){return xt},get enableTextSelection(){return pi},disableImageDrag:ws,enableImageDrag:Bs,preventOutline:JA,restoreOutline:un,getSizedParentNode:LA,getScale:gA};function at(r,a,f,w){if(a&&typeof a=="object")for(var Q in a)fo(r,Q,a[Q],f);else{a=P(a);for(var T=0,Z=a.length;T<Z;T++)fo(r,a[T],f,w)}return this}var qt="_leaflet_events";function St(r,a,f,w){if(arguments.length===1)Di(r),delete r[qt];else if(a&&typeof a=="object")for(var Q in a)Jn(r,Q,a[Q],f);else if(a=P(a),arguments.length===2)Di(r,function(he){return M(a,he)!==-1});else for(var T=0,Z=a.length;T<Z;T++)Jn(r,a[T],f,w);return this}function Di(r,a){for(var f in r[qt]){var w=f.split(/\d/)[0];(!a||a(w))&&Jn(r,w,null,null,f)}}var On={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function fo(r,a,f,w){var Q=a+m(f)+(w?"_"+m(w):"");if(r[qt]&&r[qt][Q])return this;var T=function(he){return f.call(w||r,he||window.event)},Z=T;!tt.touchNative&&tt.pointer&&a.indexOf("touch")===0?T=ur(r,a,T):tt.touch&&a==="dblclick"?T=Ni(r,T):"addEventListener"in r?a==="touchstart"||a==="touchmove"||a==="wheel"||a==="mousewheel"?r.addEventListener(On[a]||a,T,tt.passiveEvents?{passive:!1}:!1):a==="mouseenter"||a==="mouseleave"?(T=function(he){he=he||window.event,Vi(r,he)&&Z(he)},r.addEventListener(On[a],T,!1)):r.addEventListener(a,Z,!1):r.attachEvent("on"+a,T),r[qt]=r[qt]||{},r[qt][Q]=T}function Jn(r,a,f,w,Q){Q=Q||a+m(f)+(w?"_"+m(w):"");var T=r[qt]&&r[qt][Q];if(!T)return this;!tt.touchNative&&tt.pointer&&a.indexOf("touch")===0?co(r,a,T):tt.touch&&a==="dblclick"?ci(r,T):"removeEventListener"in r?r.removeEventListener(On[a]||a,T,!1):r.detachEvent("on"+a,T),r[qt][Q]=null}function iA(r){return r.stopPropagation?r.stopPropagation():r.originalEvent?r.originalEvent._stopped=!0:r.cancelBubble=!0,this}function Ri(r){return fo(r,"wheel",iA),this}function jr(r){return at(r,"mousedown touchstart dblclick contextmenu",iA),r._leaflet_disable_click=!0,this}function Ht(r){return r.preventDefault?r.preventDefault():r.returnValue=!1,this}function qn(r){return Ht(r),iA(r),this}function pr(r){if(r.composedPath)return r.composedPath();for(var a=[],f=r.target;f;)a.push(f),f=f.parentNode;return a}function Mi(r,a){if(!a)return new ge(r.clientX,r.clientY);var f=gA(a),w=f.boundingClientRect;return new ge((r.clientX-w.left)/f.x-a.clientLeft,(r.clientY-w.top)/f.y-a.clientTop)}var Ki=tt.linux&&tt.chrome?window.devicePixelRatio:tt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function zo(r){return tt.edge?r.wheelDeltaY/2:r.deltaY&&r.deltaMode===0?-r.deltaY/Ki:r.deltaY&&r.deltaMode===1?-r.deltaY*20:r.deltaY&&r.deltaMode===2?-r.deltaY*60:r.deltaX||r.deltaZ?0:r.wheelDelta?(r.wheelDeltaY||r.wheelDelta)/2:r.detail&&Math.abs(r.detail)<32765?-r.detail*20:r.detail?r.detail/-32765*60:0}function Vi(r,a){var f=a.relatedTarget;if(!f)return!0;try{for(;f&&f!==r;)f=f.parentNode}catch{return!1}return f!==r}var Hr={__proto__:null,on:at,off:St,stopPropagation:iA,disableScrollPropagation:Ri,disableClickPropagation:jr,preventDefault:Ht,stop:qn,getPropagationPath:pr,getMousePosition:Mi,getWheelDelta:zo,isExternalTarget:Vi,addListener:at,removeListener:St},Or=Qe.extend({run:function(r,a,f,w){this.stop(),this._el=r,this._inProgress=!0,this._duration=f||.25,this._easeOutPower=1/Math.max(w||.5,.2),this._startPos=Zn(r),this._offset=a.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Ee(this._animate,this),this._step()},_step:function(r){var a=+new Date-this._startTime,f=this._duration*1e3;a<f?this._runFrame(this._easeOut(a/f),r):(this._runFrame(1),this._complete())},_runFrame:function(r,a){var f=this._startPos.add(this._offset.multiplyBy(r));a&&f._round(),Jt(this._el,f),this.fire("step")},_complete:function(){qe(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(r){return 1-Math.pow(1-r,this._easeOutPower)}}),yt=Qe.extend({options:{crs:bA,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(r,a){a=N(this,a),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(r),this._initLayout(),this._onResize=d(this._onResize,this),this._initEvents(),a.maxBounds&&this.setMaxBounds(a.maxBounds),a.zoom!==void 0&&(this._zoom=this._limitZoom(a.zoom)),a.center&&a.zoom!==void 0&&this.setView(Oe(a.center),a.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=rA&&tt.any3d&&!tt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),at(this._proxy,di,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(r,a,f){if(a=a===void 0?this._zoom:this._limitZoom(a),r=this._limitCenter(Oe(r),a,this.options.maxBounds),f=f||{},this._stop(),this._loaded&&!f.reset&&f!==!0){f.animate!==void 0&&(f.zoom=o({animate:f.animate},f.zoom),f.pan=o({animate:f.animate,duration:f.duration},f.pan));var w=this._zoom!==a?this._tryAnimatedZoom&&this._tryAnimatedZoom(r,a,f.zoom):this._tryAnimatedPan(r,f.pan);if(w)return clearTimeout(this._sizeTimer),this}return this._resetView(r,a,f.pan&&f.pan.noMoveStart),this},setZoom:function(r,a){return this._loaded?this.setView(this.getCenter(),r,{zoom:a}):(this._zoom=r,this)},zoomIn:function(r,a){return r=r||(tt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+r,a)},zoomOut:function(r,a){return r=r||(tt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-r,a)},setZoomAround:function(r,a,f){var w=this.getZoomScale(a),Q=this.getSize().divideBy(2),T=r instanceof ge?r:this.latLngToContainerPoint(r),Z=T.subtract(Q).multiplyBy(1-1/w),he=this.containerPointToLatLng(Q.add(Z));return this.setView(he,a,{zoom:f})},_getBoundsCenterZoom:function(r,a){a=a||{},r=r.getBounds?r.getBounds():Fe(r);var f=K(a.paddingTopLeft||a.padding||[0,0]),w=K(a.paddingBottomRight||a.padding||[0,0]),Q=this.getBoundsZoom(r,!1,f.add(w));if(Q=typeof a.maxZoom=="number"?Math.min(a.maxZoom,Q):Q,Q===1/0)return{center:r.getCenter(),zoom:Q};var T=w.subtract(f).divideBy(2),Z=this.project(r.getSouthWest(),Q),he=this.project(r.getNorthEast(),Q),we=this.unproject(Z.add(he).divideBy(2).add(T),Q);return{center:we,zoom:Q}},fitBounds:function(r,a){if(r=Fe(r),!r.isValid())throw new Error("Bounds are not valid.");var f=this._getBoundsCenterZoom(r,a);return this.setView(f.center,f.zoom,a)},fitWorld:function(r){return this.fitBounds([[-90,-180],[90,180]],r)},panTo:function(r,a){return this.setView(r,this._zoom,{pan:a})},panBy:function(r,a){if(r=K(r).round(),a=a||{},!r.x&&!r.y)return this.fire("moveend");if(a.animate!==!0&&!this.getSize().contains(r))return this._resetView(this.unproject(this.project(this.getCenter()).add(r)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Or,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),a.noMoveStart||this.fire("movestart"),a.animate!==!1){dt(this._mapPane,"leaflet-pan-anim");var f=this._getMapPanePos().subtract(r).round();this._panAnim.run(this._mapPane,f,a.duration||.25,a.easeLinearity)}else this._rawPanBy(r),this.fire("move").fire("moveend");return this},flyTo:function(r,a,f){if(f=f||{},f.animate===!1||!tt.any3d)return this.setView(r,a,f);this._stop();var w=this.project(this.getCenter()),Q=this.project(r),T=this.getSize(),Z=this._zoom;r=Oe(r),a=a===void 0?Z:a;var he=Math.max(T.x,T.y),we=he*this.getZoomScale(Z,a),Ue=Q.distanceTo(w)||1,$e=1.42,ct=$e*$e;function wt(Nt){var Ss=Nt?-1:1,id=Nt?we:he,sd=we*we-he*he+Ss*ct*ct*Ue*Ue,Yi=2*id*ct*Ue,es=sd/Yi,ts=Math.sqrt(es*es+1)-es,ta=ts<1e-9?-18:Math.log(ts);return ta}function Sn(Nt){return(Math.exp(Nt)-Math.exp(-Nt))/2}function xn(Nt){return(Math.exp(Nt)+Math.exp(-Nt))/2}function BA(Nt){return Sn(Nt)/xn(Nt)}var sA=wt(0);function Es(Nt){return he*(xn(sA)/xn(sA+$e*Nt))}function Ya(Nt){return he*(xn(sA)*BA(sA+$e*Nt)-Sn(sA))/ct}function Ci(Nt){return 1-Math.pow(1-Nt,1.5)}var eu=Date.now(),Xi=(wt(1)-sA)/$e,Br=f.duration?1e3*f.duration:1e3*Xi*.8;function Fs(){var Nt=(Date.now()-eu)/Br,Ss=Ci(Nt)*Xi;Nt<=1?(this._flyToFrame=Ee(Fs,this),this._move(this.unproject(w.add(Q.subtract(w).multiplyBy(Ya(Ss)/Ue)),Z),this.getScaleZoom(he/Es(Ss),Z),{flyTo:!0})):this._move(r,a)._moveEnd(!0)}return this._moveStart(!0,f.noMoveStart),Fs.call(this),this},flyToBounds:function(r,a){var f=this._getBoundsCenterZoom(r,a);return this.flyTo(f.center,f.zoom,a)},setMaxBounds:function(r){return r=Fe(r),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),r.isValid()?(this.options.maxBounds=r,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(r){var a=this.options.minZoom;return this.options.minZoom=r,this._loaded&&a!==r&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(r):this},setMaxZoom:function(r){var a=this.options.maxZoom;return this.options.maxZoom=r,this._loaded&&a!==r&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(r):this},panInsideBounds:function(r,a){this._enforcingBounds=!0;var f=this.getCenter(),w=this._limitCenter(f,this._zoom,Fe(r));return f.equals(w)||this.panTo(w,a),this._enforcingBounds=!1,this},panInside:function(r,a){a=a||{};var f=K(a.paddingTopLeft||a.padding||[0,0]),w=K(a.paddingBottomRight||a.padding||[0,0]),Q=this.project(this.getCenter()),T=this.project(r),Z=this.getPixelBounds(),he=le([Z.min.add(f),Z.max.subtract(w)]),we=he.getSize();if(!he.contains(T)){this._enforcingBounds=!0;var Ue=T.subtract(he.getCenter()),$e=he.extend(T).getSize().subtract(we);Q.x+=Ue.x<0?-$e.x:$e.x,Q.y+=Ue.y<0?-$e.y:$e.y,this.panTo(this.unproject(Q),a),this._enforcingBounds=!1}return this},invalidateSize:function(r){if(!this._loaded)return this;r=o({animate:!1,pan:!0},r===!0?{animate:!0}:r);var a=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var f=this.getSize(),w=a.divideBy(2).round(),Q=f.divideBy(2).round(),T=w.subtract(Q);return!T.x&&!T.y?this:(r.animate&&r.pan?this.panBy(T):(r.pan&&this._rawPanBy(T),this.fire("move"),r.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(d(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:a,newSize:f}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(r){if(r=this._locateOptions=o({timeout:1e4,watch:!1},r),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var a=d(this._handleGeolocationResponse,this),f=d(this._handleGeolocationError,this);return r.watch?this._locationWatchId=navigator.geolocation.watchPosition(a,f,r):navigator.geolocation.getCurrentPosition(a,f,r),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(r){if(this._container._leaflet_id){var a=r.code,f=r.message||(a===1?"permission denied":a===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:a,message:"Geolocation error: "+f+"."})}},_handleGeolocationResponse:function(r){if(this._container._leaflet_id){var a=r.coords.latitude,f=r.coords.longitude,w=new Ne(a,f),Q=w.toBounds(r.coords.accuracy*2),T=this._locateOptions;if(T.setView){var Z=this.getBoundsZoom(Q);this.setView(w,T.maxZoom?Math.min(Z,T.maxZoom):Z)}var he={latlng:w,bounds:Q,timestamp:r.timestamp};for(var we in r.coords)typeof r.coords[we]=="number"&&(he[we]=r.coords[we]);this.fire("locationfound",he)}},addHandler:function(r,a){if(!a)return this;var f=this[r]=new a(this);return this._handlers.push(f),this.options[r]&&f.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Dt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(qe(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var r;for(r in this._layers)this._layers[r].remove();for(r in this._panes)Dt(this._panes[r]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(r,a){var f="leaflet-pane"+(r?" leaflet-"+r.replace("Pane","")+"-pane":""),w=ze("div",f,a||this._mapPane);return r&&(this._panes[r]=w),w},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var r=this.getPixelBounds(),a=this.unproject(r.getBottomLeft()),f=this.unproject(r.getTopRight());return new Ie(a,f)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(r,a,f){r=Fe(r),f=K(f||[0,0]);var w=this.getZoom()||0,Q=this.getMinZoom(),T=this.getMaxZoom(),Z=r.getNorthWest(),he=r.getSouthEast(),we=this.getSize().subtract(f),Ue=le(this.project(he,w),this.project(Z,w)).getSize(),$e=tt.any3d?this.options.zoomSnap:1,ct=we.x/Ue.x,wt=we.y/Ue.y,Sn=a?Math.max(ct,wt):Math.min(ct,wt);return w=this.getScaleZoom(Sn,w),$e&&(w=Math.round(w/($e/100))*($e/100),w=a?Math.ceil(w/$e)*$e:Math.floor(w/$e)*$e),Math.max(Q,Math.min(T,w))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ge(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(r,a){var f=this._getTopLeftPoint(r,a);return new H(f,f.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(r){return this.options.crs.getProjectedBounds(r===void 0?this.getZoom():r)},getPane:function(r){return typeof r=="string"?this._panes[r]:r},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(r,a){var f=this.options.crs;return a=a===void 0?this._zoom:a,f.scale(r)/f.scale(a)},getScaleZoom:function(r,a){var f=this.options.crs;a=a===void 0?this._zoom:a;var w=f.zoom(r*f.scale(a));return isNaN(w)?1/0:w},project:function(r,a){return a=a===void 0?this._zoom:a,this.options.crs.latLngToPoint(Oe(r),a)},unproject:function(r,a){return a=a===void 0?this._zoom:a,this.options.crs.pointToLatLng(K(r),a)},layerPointToLatLng:function(r){var a=K(r).add(this.getPixelOrigin());return this.unproject(a)},latLngToLayerPoint:function(r){var a=this.project(Oe(r))._round();return a._subtract(this.getPixelOrigin())},wrapLatLng:function(r){return this.options.crs.wrapLatLng(Oe(r))},wrapLatLngBounds:function(r){return this.options.crs.wrapLatLngBounds(Fe(r))},distance:function(r,a){return this.options.crs.distance(Oe(r),Oe(a))},containerPointToLayerPoint:function(r){return K(r).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(r){return K(r).add(this._getMapPanePos())},containerPointToLatLng:function(r){var a=this.containerPointToLayerPoint(K(r));return this.layerPointToLatLng(a)},latLngToContainerPoint:function(r){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Oe(r)))},mouseEventToContainerPoint:function(r){return Mi(r,this._container)},mouseEventToLayerPoint:function(r){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(r))},mouseEventToLatLng:function(r){return this.layerPointToLatLng(this.mouseEventToLayerPoint(r))},_initContainer:function(r){var a=this._container=jn(r);if(a){if(a._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");at(a,"scroll",this._onScroll,this),this._containerId=m(a)},_initLayout:function(){var r=this._container;this._fadeAnimated=this.options.fadeAnimation&&tt.any3d,dt(r,"leaflet-container"+(tt.touch?" leaflet-touch":"")+(tt.retina?" leaflet-retina":"")+(tt.ielt9?" leaflet-oldie":"")+(tt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var a=hi(r,"position");a!=="absolute"&&a!=="relative"&&a!=="fixed"&&a!=="sticky"&&(r.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var r=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Jt(this._mapPane,new ge(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(dt(r.markerPane,"leaflet-zoom-hide"),dt(r.shadowPane,"leaflet-zoom-hide"))},_resetView:function(r,a,f){Jt(this._mapPane,new ge(0,0));var w=!this._loaded;this._loaded=!0,a=this._limitZoom(a),this.fire("viewprereset");var Q=this._zoom!==a;this._moveStart(Q,f)._move(r,a)._moveEnd(Q),this.fire("viewreset"),w&&this.fire("load")},_moveStart:function(r,a){return r&&this.fire("zoomstart"),a||this.fire("movestart"),this},_move:function(r,a,f,w){a===void 0&&(a=this._zoom);var Q=this._zoom!==a;return this._zoom=a,this._lastCenter=r,this._pixelOrigin=this._getNewPixelOrigin(r),w?f&&f.pinch&&this.fire("zoom",f):((Q||f&&f.pinch)&&this.fire("zoom",f),this.fire("move",f)),this},_moveEnd:function(r){return r&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return qe(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(r){Jt(this._mapPane,this._getMapPanePos().subtract(r))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(r){this._targets={},this._targets[m(this._container)]=this;var a=r?St:at;a(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&a(window,"resize",this._onResize,this),tt.any3d&&this.options.transform3DLimit&&(r?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){qe(this._resizeRequest),this._resizeRequest=Ee(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var r=this._getMapPanePos();Math.max(Math.abs(r.x),Math.abs(r.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(r,a){for(var f=[],w,Q=a==="mouseout"||a==="mouseover",T=r.target||r.srcElement,Z=!1;T;){if(w=this._targets[m(T)],w&&(a==="click"||a==="preclick")&&this._draggableMoved(w)){Z=!0;break}if(w&&w.listens(a,!0)&&(Q&&!Vi(T,r)||(f.push(w),Q))||T===this._container)break;T=T.parentNode}return!f.length&&!Z&&!Q&&this.listens(a,!0)&&(f=[this]),f},_isClickDisabled:function(r){for(;r&&r!==this._container;){if(r._leaflet_disable_click)return!0;r=r.parentNode}},_handleDOMEvent:function(r){var a=r.target||r.srcElement;if(!(!this._loaded||a._leaflet_disable_events||r.type==="click"&&this._isClickDisabled(a))){var f=r.type;f==="mousedown"&&JA(a),this._fireDOMEvent(r,f)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(r,a,f){if(r.type==="click"){var w=o({},r);w.type="preclick",this._fireDOMEvent(w,w.type,f)}var Q=this._findEventTargets(r,a);if(f){for(var T=[],Z=0;Z<f.length;Z++)f[Z].listens(a,!0)&&T.push(f[Z]);Q=T.concat(Q)}if(Q.length){a==="contextmenu"&&Ht(r);var he=Q[0],we={originalEvent:r};if(r.type!=="keypress"&&r.type!=="keydown"&&r.type!=="keyup"){var Ue=he.getLatLng&&(!he._radius||he._radius<=10);we.containerPoint=Ue?this.latLngToContainerPoint(he.getLatLng()):this.mouseEventToContainerPoint(r),we.layerPoint=this.containerPointToLayerPoint(we.containerPoint),we.latlng=Ue?he.getLatLng():this.layerPointToLatLng(we.layerPoint)}for(Z=0;Z<Q.length;Z++)if(Q[Z].fire(a,we,!0),we.originalEvent._stopped||Q[Z].options.bubblingMouseEvents===!1&&M(this._mouseEvents,a)!==-1)return}},_draggableMoved:function(r){return r=r.dragging&&r.dragging.enabled()?r:this,r.dragging&&r.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var r=0,a=this._handlers.length;r<a;r++)this._handlers[r].disable()},whenReady:function(r,a){return this._loaded?r.call(a||this,{target:this}):this.on("load",r,a),this},_getMapPanePos:function(){return Zn(this._mapPane)||new ge(0,0)},_moved:function(){var r=this._getMapPanePos();return r&&!r.equals([0,0])},_getTopLeftPoint:function(r,a){var f=r&&a!==void 0?this._getNewPixelOrigin(r,a):this.getPixelOrigin();return f.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(r,a){var f=this.getSize()._divideBy(2);return this.project(r,a)._subtract(f)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(r,a,f){var w=this._getNewPixelOrigin(f,a);return this.project(r,a)._subtract(w)},_latLngBoundsToNewLayerBounds:function(r,a,f){var w=this._getNewPixelOrigin(f,a);return le([this.project(r.getSouthWest(),a)._subtract(w),this.project(r.getNorthWest(),a)._subtract(w),this.project(r.getSouthEast(),a)._subtract(w),this.project(r.getNorthEast(),a)._subtract(w)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(r){return this.latLngToLayerPoint(r).subtract(this._getCenterLayerPoint())},_limitCenter:function(r,a,f){if(!f)return r;var w=this.project(r,a),Q=this.getSize().divideBy(2),T=new H(w.subtract(Q),w.add(Q)),Z=this._getBoundsOffset(T,f,a);return Math.abs(Z.x)<=1&&Math.abs(Z.y)<=1?r:this.unproject(w.add(Z),a)},_limitOffset:function(r,a){if(!a)return r;var f=this.getPixelBounds(),w=new H(f.min.add(r),f.max.add(r));return r.add(this._getBoundsOffset(w,a))},_getBoundsOffset:function(r,a,f){var w=le(this.project(a.getNorthEast(),f),this.project(a.getSouthWest(),f)),Q=w.min.subtract(r.min),T=w.max.subtract(r.max),Z=this._rebound(Q.x,-T.x),he=this._rebound(Q.y,-T.y);return new ge(Z,he)},_rebound:function(r,a){return r+a>0?Math.round(r-a)/2:Math.max(0,Math.ceil(r))-Math.max(0,Math.floor(a))},_limitZoom:function(r){var a=this.getMinZoom(),f=this.getMaxZoom(),w=tt.any3d?this.options.zoomSnap:1;return w&&(r=Math.round(r/w)*w),Math.max(a,Math.min(f,r))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Tt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(r,a){var f=this._getCenterOffset(r)._trunc();return(a&&a.animate)!==!0&&!this.getSize().contains(f)?!1:(this.panBy(f,a),!0)},_createAnimProxy:function(){var r=this._proxy=ze("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(r),this.on("zoomanim",function(a){var f=ji,w=this._proxy.style[f];Hn(this._proxy,this.project(a.center,a.zoom),this.getZoomScale(a.zoom,1)),w===this._proxy.style[f]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Dt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var r=this.getCenter(),a=this.getZoom();Hn(this._proxy,this.project(r,a),this.getZoomScale(a,1))},_catchTransitionEnd:function(r){this._animatingZoom&&r.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(r,a,f){if(this._animatingZoom)return!0;if(f=f||{},!this._zoomAnimated||f.animate===!1||this._nothingToAnimate()||Math.abs(a-this._zoom)>this.options.zoomAnimationThreshold)return!1;var w=this.getZoomScale(a),Q=this._getCenterOffset(r)._divideBy(1-1/w);return f.animate!==!0&&!this.getSize().contains(Q)?!1:(Ee(function(){this._moveStart(!0,f.noMoveStart||!1)._animateZoom(r,a,!0)},this),!0)},_animateZoom:function(r,a,f,w){this._mapPane&&(f&&(this._animatingZoom=!0,this._animateToCenter=r,this._animateToZoom=a,dt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:r,zoom:a,noUpdate:w}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(d(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Tt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function gr(r,a){return new yt(r,a)}var Xn=be.extend({options:{position:"topright"},initialize:function(r){N(this,r)},getPosition:function(){return this.options.position},setPosition:function(r){var a=this._map;return a&&a.removeControl(this),this.options.position=r,a&&a.addControl(this),this},getContainer:function(){return this._container},addTo:function(r){this.remove(),this._map=r;var a=this._container=this.onAdd(r),f=this.getPosition(),w=r._controlCorners[f];return dt(a,"leaflet-control"),f.indexOf("bottom")!==-1?w.insertBefore(a,w.firstChild):w.appendChild(a),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Dt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(r){this._map&&r&&r.screenX>0&&r.screenY>0&&this._map.getContainer().focus()}}),mr=function(r){return new Xn(r)};yt.include({addControl:function(r){return r.addTo(this),this},removeControl:function(r){return r.remove(),this},_initControlPos:function(){var r=this._controlCorners={},a="leaflet-",f=this._controlContainer=ze("div",a+"control-container",this._container);function w(Q,T){var Z=a+Q+" "+a+T;r[Q+T]=ze("div",Z,f)}w("top","left"),w("top","right"),w("bottom","left"),w("bottom","right")},_clearControlPos:function(){for(var r in this._controlCorners)Dt(this._controlCorners[r]);Dt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Gi=Xn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(r,a,f,w){return f<w?-1:w<f?1:0}},initialize:function(r,a,f){N(this,f),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var w in r)this._addLayer(r[w],w);for(w in a)this._addLayer(a[w],w,!0)},onAdd:function(r){this._initLayout(),this._update(),this._map=r,r.on("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(r){return Xn.prototype.addTo.call(this,r),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(r,a){return this._addLayer(r,a),this._map?this._update():this},addOverlay:function(r,a){return this._addLayer(r,a,!0),this._map?this._update():this},removeLayer:function(r){r.off("add remove",this._onLayerChange,this);var a=this._getLayer(m(r));return a&&this._layers.splice(this._layers.indexOf(a),1),this._map?this._update():this},expand:function(){dt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var r=this._map.getSize().y-(this._container.offsetTop+50);return r<this._section.clientHeight?(dt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=r+"px"):Tt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Tt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var r="leaflet-control-layers",a=this._container=ze("div",r),f=this.options.collapsed;a.setAttribute("aria-haspopup",!0),jr(a),Ri(a);var w=this._section=ze("section",r+"-list");f&&(this._map.on("click",this.collapse,this),at(a,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var Q=this._layersLink=ze("a",r+"-toggle",a);Q.href="#",Q.title="Layers",Q.setAttribute("role","button"),at(Q,{keydown:function(T){T.keyCode===13&&this._expandSafely()},click:function(T){Ht(T),this._expandSafely()}},this),f||this.expand(),this._baseLayersList=ze("div",r+"-base",w),this._separator=ze("div",r+"-separator",w),this._overlaysList=ze("div",r+"-overlays",w),a.appendChild(w)},_getLayer:function(r){for(var a=0;a<this._layers.length;a++)if(this._layers[a]&&m(this._layers[a].layer)===r)return this._layers[a]},_addLayer:function(r,a,f){this._map&&r.on("add remove",this._onLayerChange,this),this._layers.push({layer:r,name:a,overlay:f}),this.options.sortLayers&&this._layers.sort(d(function(w,Q){return this.options.sortFunction(w.layer,Q.layer,w.name,Q.name)},this)),this.options.autoZIndex&&r.setZIndex&&(this._lastZIndex++,r.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Hi(this._baseLayersList),Hi(this._overlaysList),this._layerControlInputs=[];var r,a,f,w,Q=0;for(f=0;f<this._layers.length;f++)w=this._layers[f],this._addItem(w),a=a||w.overlay,r=r||!w.overlay,Q+=w.overlay?0:1;return this.options.hideSingleBase&&(r=r&&Q>1,this._baseLayersList.style.display=r?"":"none"),this._separator.style.display=a&&r?"":"none",this},_onLayerChange:function(r){this._handlingClick||this._update();var a=this._getLayer(m(r.target)),f=a.overlay?r.type==="add"?"overlayadd":"overlayremove":r.type==="add"?"baselayerchange":null;f&&this._map.fire(f,a)},_createRadioElement:function(r,a){var f='<input type="radio" class="leaflet-control-layers-selector" name="'+r+'"'+(a?' checked="checked"':"")+"/>",w=document.createElement("div");return w.innerHTML=f,w.firstChild},_addItem:function(r){var a=document.createElement("label"),f=this._map.hasLayer(r.layer),w;r.overlay?(w=document.createElement("input"),w.type="checkbox",w.className="leaflet-control-layers-selector",w.defaultChecked=f):w=this._createRadioElement("leaflet-base-layers_"+m(this),f),this._layerControlInputs.push(w),w.layerId=m(r.layer),at(w,"click",this._onInputClick,this);var Q=document.createElement("span");Q.innerHTML=" "+r.name;var T=document.createElement("span");a.appendChild(T),T.appendChild(w),T.appendChild(Q);var Z=r.overlay?this._overlaysList:this._baseLayersList;return Z.appendChild(a),this._checkDisabledLayers(),a},_onInputClick:function(){if(!this._preventClick){var r=this._layerControlInputs,a,f,w=[],Q=[];this._handlingClick=!0;for(var T=r.length-1;T>=0;T--)a=r[T],f=this._getLayer(a.layerId).layer,a.checked?w.push(f):a.checked||Q.push(f);for(T=0;T<Q.length;T++)this._map.hasLayer(Q[T])&&this._map.removeLayer(Q[T]);for(T=0;T<w.length;T++)this._map.hasLayer(w[T])||this._map.addLayer(w[T]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var r=this._layerControlInputs,a,f,w=this._map.getZoom(),Q=r.length-1;Q>=0;Q--)a=r[Q],f=this._getLayer(a.layerId).layer,a.disabled=f.options.minZoom!==void 0&&w<f.options.minZoom||f.options.maxZoom!==void 0&&w>f.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var r=this._section;this._preventClick=!0,at(r,"click",Ht),this.expand();var a=this;setTimeout(function(){St(r,"click",Ht),a._preventClick=!1})}}),gi=function(r,a,f){return new Gi(r,a,f)},Dr=Xn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(r){var a="leaflet-control-zoom",f=ze("div",a+" leaflet-bar"),w=this.options;return this._zoomInButton=this._createButton(w.zoomInText,w.zoomInTitle,a+"-in",f,this._zoomIn),this._zoomOutButton=this._createButton(w.zoomOutText,w.zoomOutTitle,a+"-out",f,this._zoomOut),this._updateDisabled(),r.on("zoomend zoomlevelschange",this._updateDisabled,this),f},onRemove:function(r){r.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(r){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(r.shiftKey?3:1))},_zoomOut:function(r){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(r.shiftKey?3:1))},_createButton:function(r,a,f,w,Q){var T=ze("a",f,w);return T.innerHTML=r,T.href="#",T.title=a,T.setAttribute("role","button"),T.setAttribute("aria-label",a),jr(T),at(T,"click",qn),at(T,"click",Q,this),at(T,"click",this._refocusOnMap,this),T},_updateDisabled:function(){var r=this._map,a="leaflet-disabled";Tt(this._zoomInButton,a),Tt(this._zoomOutButton,a),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||r._zoom===r.getMinZoom())&&(dt(this._zoomOutButton,a),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||r._zoom===r.getMaxZoom())&&(dt(this._zoomInButton,a),this._zoomInButton.setAttribute("aria-disabled","true"))}});yt.mergeOptions({zoomControl:!0}),yt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Dr,this.addControl(this.zoomControl))});var zi=function(r){return new Dr(r)},gn=Xn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(r){var a="leaflet-control-scale",f=ze("div",a),w=this.options;return this._addScales(w,a+"-line",f),r.on(w.updateWhenIdle?"moveend":"move",this._update,this),r.whenReady(this._update,this),f},onRemove:function(r){r.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(r,a,f){r.metric&&(this._mScale=ze("div",a,f)),r.imperial&&(this._iScale=ze("div",a,f))},_update:function(){var r=this._map,a=r.getSize().y/2,f=r.distance(r.containerPointToLatLng([0,a]),r.containerPointToLatLng([this.options.maxWidth,a]));this._updateScales(f)},_updateScales:function(r){this.options.metric&&r&&this._updateMetric(r),this.options.imperial&&r&&this._updateImperial(r)},_updateMetric:function(r){var a=this._getRoundNum(r),f=a<1e3?a+" m":a/1e3+" km";this._updateScale(this._mScale,f,a/r)},_updateImperial:function(r){var a=r*3.2808399,f,w,Q;a>5280?(f=a/5280,w=this._getRoundNum(f),this._updateScale(this._iScale,w+" mi",w/f)):(Q=this._getRoundNum(a),this._updateScale(this._iScale,Q+" ft",Q/a))},_updateScale:function(r,a,f){r.style.width=Math.round(this.options.maxWidth*f)+"px",r.innerHTML=a},_getRoundNum:function(r){var a=Math.pow(10,(Math.floor(r)+"").length-1),f=r/a;return f=f>=10?10:f>=5?5:f>=3?3:f>=2?2:1,a*f}}),qA=function(r){return new gn(r)},ys='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Rr=Xn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(tt.inlineSvg?ys+" ":"")+"Leaflet</a>"},initialize:function(r){N(this,r),this._attributions={}},onAdd:function(r){r.attributionControl=this,this._container=ze("div","leaflet-control-attribution"),jr(this._container);for(var a in r._layers)r._layers[a].getAttribution&&this.addAttribution(r._layers[a].getAttribution());return this._update(),r.on("layeradd",this._addAttribution,this),this._container},onRemove:function(r){r.off("layeradd",this._addAttribution,this)},_addAttribution:function(r){r.layer.getAttribution&&(this.addAttribution(r.layer.getAttribution()),r.layer.once("remove",function(){this.removeAttribution(r.layer.getAttribution())},this))},setPrefix:function(r){return this.options.prefix=r,this._update(),this},addAttribution:function(r){return r?(this._attributions[r]||(this._attributions[r]=0),this._attributions[r]++,this._update(),this):this},removeAttribution:function(r){return r?(this._attributions[r]&&(this._attributions[r]--,this._update()),this):this},_update:function(){if(this._map){var r=[];for(var a in this._attributions)this._attributions[a]&&r.push(a);var f=[];this.options.prefix&&f.push(this.options.prefix),r.length&&f.push(r.join(", ")),this._container.innerHTML=f.join(' <span aria-hidden="true">|</span> ')}}});yt.mergeOptions({attributionControl:!0}),yt.addInitHook(function(){this.options.attributionControl&&new Rr().addTo(this)});var mi=function(r){return new Rr(r)};Xn.Layers=Gi,Xn.Zoom=Dr,Xn.Scale=gn,Xn.Attribution=Rr,mr.layers=gi,mr.zoom=zi,mr.scale=qA,mr.attribution=mi;var Dn=be.extend({initialize:function(r){this._map=r},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Dn.addTo=function(r,a){return r.addHandler(a,this),this};var Wi={Events:se},vr=tt.touch?"touchstart mousedown":"mousedown",Yn=Qe.extend({options:{clickTolerance:3},initialize:function(r,a,f,w){N(this,w),this._element=r,this._dragStartTarget=a||r,this._preventOutline=f},enable:function(){this._enabled||(at(this._dragStartTarget,vr,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Yn._dragging===this&&this.finishDrag(!0),St(this._dragStartTarget,vr,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(r){if(this._enabled&&(this._moved=!1,!Ft(this._element,"leaflet-zoom-anim"))){if(r.touches&&r.touches.length!==1){Yn._dragging===this&&this.finishDrag();return}if(!(Yn._dragging||r.shiftKey||r.which!==1&&r.button!==1&&!r.touches)&&(Yn._dragging=this,this._preventOutline&&JA(this._element),ws(),xt(),!this._moving)){this.fire("down");var a=r.touches?r.touches[0]:r,f=LA(this._element);this._startPoint=new ge(a.clientX,a.clientY),this._startPos=Zn(this._element),this._parentScale=gA(f);var w=r.type==="mousedown";at(document,w?"mousemove":"touchmove",this._onMove,this),at(document,w?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(r){if(this._enabled){if(r.touches&&r.touches.length>1){this._moved=!0;return}var a=r.touches&&r.touches.length===1?r.touches[0]:r,f=new ge(a.clientX,a.clientY)._subtract(this._startPoint);!f.x&&!f.y||Math.abs(f.x)+Math.abs(f.y)<this.options.clickTolerance||(f.x/=this._parentScale.x,f.y/=this._parentScale.y,Ht(r),this._moved||(this.fire("dragstart"),this._moved=!0,dt(document.body,"leaflet-dragging"),this._lastTarget=r.target||r.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),dt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(f),this._moving=!0,this._lastEvent=r,this._updatePosition())}},_updatePosition:function(){var r={originalEvent:this._lastEvent};this.fire("predrag",r),Jt(this._element,this._newPos),this.fire("drag",r)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(r){Tt(document.body,"leaflet-dragging"),this._lastTarget&&(Tt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),St(document,"mousemove touchmove",this._onMove,this),St(document,"mouseup touchend touchcancel",this._onUp,this),Bs(),pi();var a=this._moved&&this._moving;this._moving=!1,Yn._dragging=!1,a&&this.fire("dragend",{noInertia:r,distance:this._newPos.distanceTo(this._startPos)})}});function cn(r,a,f){var w,Q=[1,4,2,8],T,Z,he,we,Ue,$e,ct,wt;for(T=0,$e=r.length;T<$e;T++)r[T]._code=XA(r[T],a);for(he=0;he<4;he++){for(ct=Q[he],w=[],T=0,$e=r.length,Z=$e-1;T<$e;Z=T++)we=r[T],Ue=r[Z],we._code&ct?Ue._code&ct||(wt=Gr(Ue,we,ct,a,f),wt._code=XA(wt,a),w.push(wt)):(Ue._code&ct&&(wt=Gr(Ue,we,ct,a,f),wt._code=XA(wt,a),w.push(wt)),w.push(we));r=w}return r}function vi(r,a){var f,w,Q,T,Z,he,we,Ue,$e;if(!r||r.length===0)throw new Error("latlngs not passed");Rn(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var ct=Oe([0,0]),wt=Fe(r),Sn=wt.getNorthWest().distanceTo(wt.getSouthWest())*wt.getNorthEast().distanceTo(wt.getNorthWest());Sn<1700&&(ct=Mr(r));var xn=r.length,BA=[];for(f=0;f<xn;f++){var sA=Oe(r[f]);BA.push(a.project(Oe([sA.lat-ct.lat,sA.lng-ct.lng])))}for(he=we=Ue=0,f=0,w=xn-1;f<xn;w=f++)Q=BA[f],T=BA[w],Z=Q.y*T.x-T.y*Q.x,we+=(Q.x+T.x)*Z,Ue+=(Q.y+T.y)*Z,he+=Z*3;he===0?$e=BA[0]:$e=[we/he,Ue/he];var Es=a.unproject(K($e));return Oe([Es.lat+ct.lat,Es.lng+ct.lng])}function Mr(r){for(var a=0,f=0,w=0,Q=0;Q<r.length;Q++){var T=Oe(r[Q]);a+=T.lat,f+=T.lng,w++}return Oe([a/w,f/w])}var Wo={__proto__:null,clipPolygon:cn,polygonCenter:vi,centroid:Mr};function Kr(r,a){if(!a||!r.length)return r.slice();var f=a*a;return r=Vr(r,f),r=_s(r,f),r}function po(r,a,f){return Math.sqrt(zr(r,a,f,!0))}function $o(r,a,f){return zr(r,a,f)}function _s(r,a){var f=r.length,w=typeof Uint8Array<"u"?Uint8Array:Array,Q=new w(f);Q[0]=Q[f-1]=1,$i(r,Q,a,0,f-1);var T,Z=[];for(T=0;T<f;T++)Q[T]&&Z.push(r[T]);return Z}function $i(r,a,f,w,Q){var T=0,Z,he,we;for(he=w+1;he<=Q-1;he++)we=zr(r[he],r[w],r[Q],!0),we>T&&(Z=he,T=we);T>f&&(a[Z]=1,$i(r,a,f,w,Z),$i(r,a,f,Z,Q))}function Vr(r,a){for(var f=[r[0]],w=1,Q=0,T=r.length;w<T;w++)Zo(r[w],r[Q])>a&&(f.push(r[w]),Q=w);return Q<T-1&&f.push(r[T-1]),f}var Zi;function Cs(r,a,f,w,Q){var T=w?Zi:XA(r,f),Z=XA(a,f),he,we,Ue;for(Zi=Z;;){if(!(T|Z))return[r,a];if(T&Z)return!1;he=T||Z,we=Gr(r,a,he,f,Q),Ue=XA(we,f),he===T?(r=we,T=Ue):(a=we,Z=Ue)}}function Gr(r,a,f,w,Q){var T=a.x-r.x,Z=a.y-r.y,he=w.min,we=w.max,Ue,$e;return f&8?(Ue=r.x+T*(we.y-r.y)/Z,$e=we.y):f&4?(Ue=r.x+T*(he.y-r.y)/Z,$e=he.y):f&2?(Ue=we.x,$e=r.y+Z*(we.x-r.x)/T):f&1&&(Ue=he.x,$e=r.y+Z*(he.x-r.x)/T),new ge(Ue,$e,Q)}function XA(r,a){var f=0;return r.x<a.min.x?f|=1:r.x>a.max.x&&(f|=2),r.y<a.min.y?f|=4:r.y>a.max.y&&(f|=8),f}function Zo(r,a){var f=a.x-r.x,w=a.y-r.y;return f*f+w*w}function zr(r,a,f,w){var Q=a.x,T=a.y,Z=f.x-Q,he=f.y-T,we=Z*Z+he*he,Ue;return we>0&&(Ue=((r.x-Q)*Z+(r.y-T)*he)/we,Ue>1?(Q=f.x,T=f.y):Ue>0&&(Q+=Z*Ue,T+=he*Ue)),Z=r.x-Q,he=r.y-T,w?Z*Z+he*he:new ge(Q,T)}function Rn(r){return!J(r[0])||typeof r[0][0]!="object"&&typeof r[0][0]<"u"}function Ji(r){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Rn(r)}function Jo(r,a){var f,w,Q,T,Z,he,we,Ue;if(!r||r.length===0)throw new Error("latlngs not passed");Rn(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var $e=Oe([0,0]),ct=Fe(r),wt=ct.getNorthWest().distanceTo(ct.getSouthWest())*ct.getNorthEast().distanceTo(ct.getNorthWest());wt<1700&&($e=Mr(r));var Sn=r.length,xn=[];for(f=0;f<Sn;f++){var BA=Oe(r[f]);xn.push(a.project(Oe([BA.lat-$e.lat,BA.lng-$e.lng])))}for(f=0,w=0;f<Sn-1;f++)w+=xn[f].distanceTo(xn[f+1])/2;if(w===0)Ue=xn[0];else for(f=0,T=0;f<Sn-1;f++)if(Z=xn[f],he=xn[f+1],Q=Z.distanceTo(he),T+=Q,T>w){we=(T-w)/Q,Ue=[he.x-we*(he.x-Z.x),he.y-we*(he.y-Z.y)];break}var sA=a.unproject(K(Ue));return Oe([sA.lat+$e.lat,sA.lng+$e.lng])}var xs={__proto__:null,simplify:Kr,pointToSegmentDistance:po,closestPointOnSegment:$o,clipSegment:Cs,_getEdgeIntersection:Gr,_getBitCode:XA,_sqClosestPointOnSegment:zr,isFlat:Rn,_flat:Ji,polylineCenter:Jo},qi={project:function(r){return new ge(r.lng,r.lat)},unproject:function(r){return new Ne(r.y,r.x)},bounds:new H([-180,-90],[180,90])},go={R:6378137,R_MINOR:6356752314245179e-9,bounds:new H([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(r){var a=Math.PI/180,f=this.R,w=r.lat*a,Q=this.R_MINOR/f,T=Math.sqrt(1-Q*Q),Z=T*Math.sin(w),he=Math.tan(Math.PI/4-w/2)/Math.pow((1-Z)/(1+Z),T/2);return w=-f*Math.log(Math.max(he,1e-10)),new ge(r.lng*a*f,w)},unproject:function(r){for(var a=180/Math.PI,f=this.R,w=this.R_MINOR/f,Q=Math.sqrt(1-w*w),T=Math.exp(-r.y/f),Z=Math.PI/2-2*Math.atan(T),he=0,we=.1,Ue;he<15&&Math.abs(we)>1e-7;he++)Ue=Q*Math.sin(Z),Ue=Math.pow((1-Ue)/(1+Ue),Q/2),we=Math.PI/2-2*Math.atan(T*Ue)-Z,Z+=we;return new Ne(Z*a,r.x*a/f)}},qo={__proto__:null,LonLat:qi,Mercator:go,SphericalMercator:Ot},Za=o({},mt,{code:"EPSG:3395",projection:go,transformation:(function(){var r=.5/(Math.PI*go.R);return Qt(r,.5,-r,.5)})()}),mo=o({},mt,{code:"EPSG:4326",projection:qi,transformation:Qt(1/180,1,-1/180,.5)}),Xo=o({},At,{projection:qi,transformation:Qt(1,0,-1,0),scale:function(r){return Math.pow(2,r)},zoom:function(r){return Math.log(r)/Math.LN2},distance:function(r,a){var f=a.lng-r.lng,w=a.lat-r.lat;return Math.sqrt(f*f+w*w)},infinite:!0});At.Earth=mt,At.EPSG3395=Za,At.EPSG3857=bA,At.EPSG900913=io,At.EPSG4326=mo,At.Simple=Xo;var mA=Qe.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(r){return r.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(r){return r&&r.removeLayer(this),this},getPane:function(r){return this._map.getPane(r?this.options[r]||r:this.options.pane)},addInteractiveTarget:function(r){return this._map._targets[m(r)]=this,this},removeInteractiveTarget:function(r){return delete this._map._targets[m(r)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(r){var a=r.target;if(a.hasLayer(this)){if(this._map=a,this._zoomAnimated=a._zoomAnimated,this.getEvents){var f=this.getEvents();a.on(f,this),this.once("remove",function(){a.off(f,this)},this)}this.onAdd(a),this.fire("add"),a.fire("layeradd",{layer:this})}}});yt.include({addLayer:function(r){if(!r._layerAdd)throw new Error("The provided object is not a Layer.");var a=m(r);return this._layers[a]?this:(this._layers[a]=r,r._mapToAdd=this,r.beforeAdd&&r.beforeAdd(this),this.whenReady(r._layerAdd,r),this)},removeLayer:function(r){var a=m(r);return this._layers[a]?(this._loaded&&r.onRemove(this),delete this._layers[a],this._loaded&&(this.fire("layerremove",{layer:r}),r.fire("remove")),r._map=r._mapToAdd=null,this):this},hasLayer:function(r){return m(r)in this._layers},eachLayer:function(r,a){for(var f in this._layers)r.call(a,this._layers[f]);return this},_addLayers:function(r){r=r?J(r)?r:[r]:[];for(var a=0,f=r.length;a<f;a++)this.addLayer(r[a])},_addZoomLimit:function(r){(!isNaN(r.options.maxZoom)||!isNaN(r.options.minZoom))&&(this._zoomBoundLayers[m(r)]=r,this._updateZoomLevels())},_removeZoomLimit:function(r){var a=m(r);this._zoomBoundLayers[a]&&(delete this._zoomBoundLayers[a],this._updateZoomLevels())},_updateZoomLevels:function(){var r=1/0,a=-1/0,f=this._getZoomSpan();for(var w in this._zoomBoundLayers){var Q=this._zoomBoundLayers[w].options;r=Q.minZoom===void 0?r:Math.min(r,Q.minZoom),a=Q.maxZoom===void 0?a:Math.max(a,Q.maxZoom)}this._layersMaxZoom=a===-1/0?void 0:a,this._layersMinZoom=r===1/0?void 0:r,f!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var YA=mA.extend({initialize:function(r,a){N(this,a),this._layers={};var f,w;if(r)for(f=0,w=r.length;f<w;f++)this.addLayer(r[f])},addLayer:function(r){var a=this.getLayerId(r);return this._layers[a]=r,this._map&&this._map.addLayer(r),this},removeLayer:function(r){var a=r in this._layers?r:this.getLayerId(r);return this._map&&this._layers[a]&&this._map.removeLayer(this._layers[a]),delete this._layers[a],this},hasLayer:function(r){var a=typeof r=="number"?r:this.getLayerId(r);return a in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(r){var a=Array.prototype.slice.call(arguments,1),f,w;for(f in this._layers)w=this._layers[f],w[r]&&w[r].apply(w,a);return this},onAdd:function(r){this.eachLayer(r.addLayer,r)},onRemove:function(r){this.eachLayer(r.removeLayer,r)},eachLayer:function(r,a){for(var f in this._layers)r.call(a,this._layers[f]);return this},getLayer:function(r){return this._layers[r]},getLayers:function(){var r=[];return this.eachLayer(r.push,r),r},setZIndex:function(r){return this.invoke("setZIndex",r)},getLayerId:function(r){return m(r)}}),Wr=function(r,a){return new YA(r,a)},kA=YA.extend({addLayer:function(r){return this.hasLayer(r)?this:(r.addEventParent(this),YA.prototype.addLayer.call(this,r),this.fire("layeradd",{layer:r}))},removeLayer:function(r){return this.hasLayer(r)?(r in this._layers&&(r=this._layers[r]),r.removeEventParent(this),YA.prototype.removeLayer.call(this,r),this.fire("layerremove",{layer:r})):this},setStyle:function(r){return this.invoke("setStyle",r)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var r=new Ie;for(var a in this._layers){var f=this._layers[a];r.extend(f.getBounds?f.getBounds():f.getLatLng())}return r}}),vo=function(r,a){return new kA(r,a)},$r=be.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(r){N(this,r)},createIcon:function(r){return this._createIcon("icon",r)},createShadow:function(r){return this._createIcon("shadow",r)},_createIcon:function(r,a){var f=this._getIconUrl(r);if(!f){if(r==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var w=this._createImg(f,a&&a.tagName==="IMG"?a:null);return this._setIconStyles(w,r),(this.options.crossOrigin||this.options.crossOrigin==="")&&(w.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),w},_setIconStyles:function(r,a){var f=this.options,w=f[a+"Size"];typeof w=="number"&&(w=[w,w]);var Q=K(w),T=K(a==="shadow"&&f.shadowAnchor||f.iconAnchor||Q&&Q.divideBy(2,!0));r.className="leaflet-marker-"+a+" "+(f.className||""),T&&(r.style.marginLeft=-T.x+"px",r.style.marginTop=-T.y+"px"),Q&&(r.style.width=Q.x+"px",r.style.height=Q.y+"px")},_createImg:function(r,a){return a=a||document.createElement("img"),a.src=r,a},_getIconUrl:function(r){return tt.retina&&this.options[r+"RetinaUrl"]||this.options[r+"Url"]}});function Yo(r){return new $r(r)}var wi=$r.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(r){return typeof wi.imagePath!="string"&&(wi.imagePath=this._detectIconPath()),(this.options.imagePath||wi.imagePath)+$r.prototype._getIconUrl.call(this,r)},_stripUrl:function(r){var a=function(f,w,Q){var T=w.exec(f);return T&&T[Q]};return r=a(r,/^url\((['"])?(.+)\1\)$/,2),r&&a(r,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var r=ze("div","leaflet-default-icon-path",document.body),a=hi(r,"background-image")||hi(r,"backgroundImage");if(document.body.removeChild(r),a=this._stripUrl(a),a)return a;var f=document.querySelector('link[href$="leaflet.css"]');return f?f.href.substring(0,f.href.length-11-1):""}}),Bi=Dn.extend({initialize:function(r){this._marker=r},addHooks:function(){var r=this._marker._icon;this._draggable||(this._draggable=new Yn(r,r,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),dt(r,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Tt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(r){var a=this._marker,f=a._map,w=this._marker.options.autoPanSpeed,Q=this._marker.options.autoPanPadding,T=Zn(a._icon),Z=f.getPixelBounds(),he=f.getPixelOrigin(),we=le(Z.min._subtract(he).add(Q),Z.max._subtract(he).subtract(Q));if(!we.contains(T)){var Ue=K((Math.max(we.max.x,T.x)-we.max.x)/(Z.max.x-we.max.x)-(Math.min(we.min.x,T.x)-we.min.x)/(Z.min.x-we.min.x),(Math.max(we.max.y,T.y)-we.max.y)/(Z.max.y-we.max.y)-(Math.min(we.min.y,T.y)-we.min.y)/(Z.min.y-we.min.y)).multiplyBy(w);f.panBy(Ue,{animate:!1}),this._draggable._newPos._add(Ue),this._draggable._startPos._add(Ue),Jt(a._icon,this._draggable._newPos),this._onDrag(r),this._panRequest=Ee(this._adjustPan.bind(this,r))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(r){this._marker.options.autoPan&&(qe(this._panRequest),this._panRequest=Ee(this._adjustPan.bind(this,r)))},_onDrag:function(r){var a=this._marker,f=a._shadow,w=Zn(a._icon),Q=a._map.layerPointToLatLng(w);f&&Jt(f,w),a._latlng=Q,r.latlng=Q,r.oldLatLng=this._oldLatLng,a.fire("move",r).fire("drag",r)},_onDragEnd:function(r){qe(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",r)}}),mn=mA.extend({options:{icon:new wi,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(r,a){N(this,a),this._latlng=Oe(r)},onAdd:function(r){this._zoomAnimated=this._zoomAnimated&&r.options.markerZoomAnimation,this._zoomAnimated&&r.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(r){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&r.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(r){var a=this._latlng;return this._latlng=Oe(r),this.update(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},setZIndexOffset:function(r){return this.options.zIndexOffset=r,this.update()},getIcon:function(){return this.options.icon},setIcon:function(r){return this.options.icon=r,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var r=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(r)}return this},_initIcon:function(){var r=this.options,a="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),f=r.icon.createIcon(this._icon),w=!1;f!==this._icon&&(this._icon&&this._removeIcon(),w=!0,r.title&&(f.title=r.title),f.tagName==="IMG"&&(f.alt=r.alt||"")),dt(f,a),r.keyboard&&(f.tabIndex="0",f.setAttribute("role","button")),this._icon=f,r.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&at(f,"focus",this._panOnFocus,this);var Q=r.icon.createShadow(this._shadow),T=!1;Q!==this._shadow&&(this._removeShadow(),T=!0),Q&&(dt(Q,a),Q.alt=""),this._shadow=Q,r.opacity<1&&this._updateOpacity(),w&&this.getPane().appendChild(this._icon),this._initInteraction(),Q&&T&&this.getPane(r.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&St(this._icon,"focus",this._panOnFocus,this),Dt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Dt(this._shadow),this._shadow=null},_setPos:function(r){this._icon&&Jt(this._icon,r),this._shadow&&Jt(this._shadow,r),this._zIndex=r.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(r){this._icon&&(this._icon.style.zIndex=this._zIndex+r)},_animateZoom:function(r){var a=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center).round();this._setPos(a)},_initInteraction:function(){if(this.options.interactive&&(dt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Bi)){var r=this.options.draggable;this.dragging&&(r=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Bi(this),r&&this.dragging.enable()}},setOpacity:function(r){return this.options.opacity=r,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var r=this.options.opacity;this._icon&&Cn(this._icon,r),this._shadow&&Cn(this._shadow,r)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var r=this._map;if(r){var a=this.options.icon.options,f=a.iconSize?K(a.iconSize):K(0,0),w=a.iconAnchor?K(a.iconAnchor):K(0,0);r.panInside(this._latlng,{paddingTopLeft:w,paddingBottomRight:f.subtract(w)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Xt(r,a){return new mn(r,a)}var vA=mA.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(r){this._renderer=r.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(r){return N(this,r),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&r&&Object.prototype.hasOwnProperty.call(r,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Fn=vA.extend({options:{fill:!0,radius:10},initialize:function(r,a){N(this,a),this._latlng=Oe(r),this._radius=this.options.radius},setLatLng:function(r){var a=this._latlng;return this._latlng=Oe(r),this.redraw(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(r){return this.options.radius=this._radius=r,this.redraw()},getRadius:function(){return this._radius},setStyle:function(r){var a=r&&r.radius||this._radius;return vA.prototype.setStyle.call(this,r),this.setRadius(a),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var r=this._radius,a=this._radiusY||r,f=this._clickTolerance(),w=[r+f,a+f];this._pxBounds=new H(this._point.subtract(w),this._point.add(w))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(r){return r.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ea(r,a){return new Fn(r,a)}var yi=Fn.extend({initialize:function(r,a,f){if(typeof a=="number"&&(a=o({},f,{radius:a})),N(this,a),this._latlng=Oe(r),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(r){return this._mRadius=r,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var r=[this._radius,this._radiusY||this._radius];return new Ie(this._map.layerPointToLatLng(this._point.subtract(r)),this._map.layerPointToLatLng(this._point.add(r)))},setStyle:vA.prototype.setStyle,_project:function(){var r=this._latlng.lng,a=this._latlng.lat,f=this._map,w=f.options.crs;if(w.distance===mt.distance){var Q=Math.PI/180,T=this._mRadius/mt.R/Q,Z=f.project([a+T,r]),he=f.project([a-T,r]),we=Z.add(he).divideBy(2),Ue=f.unproject(we).lat,$e=Math.acos((Math.cos(T*Q)-Math.sin(a*Q)*Math.sin(Ue*Q))/(Math.cos(a*Q)*Math.cos(Ue*Q)))/Q;(isNaN($e)||$e===0)&&($e=T/Math.cos(Math.PI/180*a)),this._point=we.subtract(f.getPixelOrigin()),this._radius=isNaN($e)?0:we.x-f.project([Ue,r-$e]).x,this._radiusY=we.y-Z.y}else{var ct=w.unproject(w.project(this._latlng).subtract([this._mRadius,0]));this._point=f.latLngToLayerPoint(this._latlng),this._radius=this._point.x-f.latLngToLayerPoint(ct).x}this._updateBounds()}});function _i(r,a,f){return new yi(r,a,f)}var rn=vA.extend({options:{smoothFactor:1,noClip:!1},initialize:function(r,a){N(this,a),this._setLatLngs(r)},getLatLngs:function(){return this._latlngs},setLatLngs:function(r){return this._setLatLngs(r),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(r){for(var a=1/0,f=null,w=zr,Q,T,Z=0,he=this._parts.length;Z<he;Z++)for(var we=this._parts[Z],Ue=1,$e=we.length;Ue<$e;Ue++){Q=we[Ue-1],T=we[Ue];var ct=w(r,Q,T,!0);ct<a&&(a=ct,f=w(r,Q,T))}return f&&(f.distance=Math.sqrt(a)),f},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Jo(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(r,a){return a=a||this._defaultShape(),r=Oe(r),a.push(r),this._bounds.extend(r),this.redraw()},_setLatLngs:function(r){this._bounds=new Ie,this._latlngs=this._convertLatLngs(r)},_defaultShape:function(){return Rn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(r){for(var a=[],f=Rn(r),w=0,Q=r.length;w<Q;w++)f?(a[w]=Oe(r[w]),this._bounds.extend(a[w])):a[w]=this._convertLatLngs(r[w]);return a},_project:function(){var r=new H;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,r),this._bounds.isValid()&&r.isValid()&&(this._rawPxBounds=r,this._updateBounds())},_updateBounds:function(){var r=this._clickTolerance(),a=new ge(r,r);this._rawPxBounds&&(this._pxBounds=new H([this._rawPxBounds.min.subtract(a),this._rawPxBounds.max.add(a)]))},_projectLatlngs:function(r,a,f){var w=r[0]instanceof Ne,Q=r.length,T,Z;if(w){for(Z=[],T=0;T<Q;T++)Z[T]=this._map.latLngToLayerPoint(r[T]),f.extend(Z[T]);a.push(Z)}else for(T=0;T<Q;T++)this._projectLatlngs(r[T],a,f)},_clipPoints:function(){var r=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}var a=this._parts,f,w,Q,T,Z,he,we;for(f=0,Q=0,T=this._rings.length;f<T;f++)for(we=this._rings[f],w=0,Z=we.length;w<Z-1;w++)he=Cs(we[w],we[w+1],r,w,!0),he&&(a[Q]=a[Q]||[],a[Q].push(he[0]),(he[1]!==we[w+1]||w===Z-2)&&(a[Q].push(he[1]),Q++))}},_simplifyPoints:function(){for(var r=this._parts,a=this.options.smoothFactor,f=0,w=r.length;f<w;f++)r[f]=Kr(r[f],a)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(r,a){var f,w,Q,T,Z,he,we=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(f=0,T=this._parts.length;f<T;f++)for(he=this._parts[f],w=0,Z=he.length,Q=Z-1;w<Z;Q=w++)if(!(!a&&w===0)&&po(r,he[Q],he[w])<=we)return!0;return!1}});function wo(r,a){return new rn(r,a)}rn._flat=Ji;var Mn=rn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return vi(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(r){var a=rn.prototype._convertLatLngs.call(this,r),f=a.length;return f>=2&&a[0]instanceof Ne&&a[0].equals(a[f-1])&&a.pop(),a},_setLatLngs:function(r){rn.prototype._setLatLngs.call(this,r),Rn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Rn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var r=this._renderer._bounds,a=this.options.weight,f=new ge(a,a);if(r=new H(r.min.subtract(f),r.max.add(f)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}for(var w=0,Q=this._rings.length,T;w<Q;w++)T=cn(this._rings[w],r,!0),T.length&&this._parts.push(T)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(r){var a=!1,f,w,Q,T,Z,he,we,Ue;if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(T=0,we=this._parts.length;T<we;T++)for(f=this._parts[T],Z=0,Ue=f.length,he=Ue-1;Z<Ue;he=Z++)w=f[Z],Q=f[he],w.y>r.y!=Q.y>r.y&&r.x<(Q.x-w.x)*(r.y-w.y)/(Q.y-w.y)+w.x&&(a=!a);return a||rn.prototype._containsPoint.call(this,r,!0)}});function wr(r,a){return new Mn(r,a)}var wA=kA.extend({initialize:function(r,a){N(this,a),this._layers={},r&&this.addData(r)},addData:function(r){var a=J(r)?r:r.features,f,w,Q;if(a){for(f=0,w=a.length;f<w;f++)Q=a[f],(Q.geometries||Q.geometry||Q.features||Q.coordinates)&&this.addData(Q);return this}var T=this.options;if(T.filter&&!T.filter(r))return this;var Z=h(r,T);return Z?(Z.feature=G(r),Z.defaultOptions=Z.options,this.resetStyle(Z),T.onEachFeature&&T.onEachFeature(r,Z),this.addLayer(Z)):this},resetStyle:function(r){return r===void 0?this.eachLayer(this.resetStyle,this):(r.options=o({},r.defaultOptions),this._setLayerStyle(r,this.options.style),this)},setStyle:function(r){return this.eachLayer(function(a){this._setLayerStyle(a,r)},this)},_setLayerStyle:function(r,a){r.setStyle&&(typeof a=="function"&&(a=a(r.feature)),r.setStyle(a))}});function h(r,a){var f=r.type==="Feature"?r.geometry:r,w=f?f.coordinates:null,Q=[],T=a&&a.pointToLayer,Z=a&&a.coordsToLatLng||_,he,we,Ue,$e;if(!w&&!f)return null;switch(f.type){case"Point":return he=Z(w),v(T,r,he,a);case"MultiPoint":for(Ue=0,$e=w.length;Ue<$e;Ue++)he=Z(w[Ue]),Q.push(v(T,r,he,a));return new kA(Q);case"LineString":case"MultiLineString":return we=U(w,f.type==="LineString"?0:1,Z),new rn(we,a);case"Polygon":case"MultiPolygon":return we=U(w,f.type==="Polygon"?1:2,Z),new Mn(we,a);case"GeometryCollection":for(Ue=0,$e=f.geometries.length;Ue<$e;Ue++){var ct=h({geometry:f.geometries[Ue],type:"Feature",properties:r.properties},a);ct&&Q.push(ct)}return new kA(Q);case"FeatureCollection":for(Ue=0,$e=f.features.length;Ue<$e;Ue++){var wt=h(f.features[Ue],a);wt&&Q.push(wt)}return new kA(Q);default:throw new Error("Invalid GeoJSON object.")}}function v(r,a,f,w){return r?r(a,f):new mn(f,w&&w.markersInheritOptions&&w)}function _(r){return new Ne(r[1],r[0],r[2])}function U(r,a,f){for(var w=[],Q=0,T=r.length,Z;Q<T;Q++)Z=a?U(r[Q],a-1,f):(f||_)(r[Q]),w.push(Z);return w}function E(r,a){return r=Oe(r),r.alt!==void 0?[S(r.lng,a),S(r.lat,a),S(r.alt,a)]:[S(r.lng,a),S(r.lat,a)]}function k(r,a,f,w){for(var Q=[],T=0,Z=r.length;T<Z;T++)Q.push(a?k(r[T],Rn(r[T])?0:a-1,f,w):E(r[T],w));return!a&&f&&Q.length>0&&Q.push(Q[0].slice()),Q}function j(r,a){return r.feature?o({},r.feature,{geometry:a}):G(a)}function G(r){return r.type==="Feature"||r.type==="FeatureCollection"?r:{type:"Feature",properties:{},geometry:r}}var Y={toGeoJSON:function(r){return j(this,{type:"Point",coordinates:E(this.getLatLng(),r)})}};mn.include(Y),yi.include(Y),Fn.include(Y),rn.include({toGeoJSON:function(r){var a=!Rn(this._latlngs),f=k(this._latlngs,a?1:0,!1,r);return j(this,{type:(a?"Multi":"")+"LineString",coordinates:f})}}),Mn.include({toGeoJSON:function(r){var a=!Rn(this._latlngs),f=a&&!Rn(this._latlngs[0]),w=k(this._latlngs,f?2:a?1:0,!0,r);return a||(w=[w]),j(this,{type:(f?"Multi":"")+"Polygon",coordinates:w})}}),YA.include({toMultiPoint:function(r){var a=[];return this.eachLayer(function(f){a.push(f.toGeoJSON(r).geometry.coordinates)}),j(this,{type:"MultiPoint",coordinates:a})},toGeoJSON:function(r){var a=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(a==="MultiPoint")return this.toMultiPoint(r);var f=a==="GeometryCollection",w=[];return this.eachLayer(function(Q){if(Q.toGeoJSON){var T=Q.toGeoJSON(r);if(f)w.push(T.geometry);else{var Z=G(T);Z.type==="FeatureCollection"?w.push.apply(w,Z.features):w.push(Z)}}}),f?j(this,{geometries:w,type:"GeometryCollection"}):{type:"FeatureCollection",features:w}}});function ne(r,a){return new wA(r,a)}var re=ne,z=mA.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(r,a,f){this._url=r,this._bounds=Fe(a),N(this,f)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(dt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Dt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(r){return this.options.opacity=r,this._image&&this._updateOpacity(),this},setStyle:function(r){return r.opacity&&this.setOpacity(r.opacity),this},bringToFront:function(){return this._map&&ZA(this._image),this},bringToBack:function(){return this._map&&SA(this._image),this},setUrl:function(r){return this._url=r,this._image&&(this._image.src=r),this},setBounds:function(r){return this._bounds=Fe(r),this._map&&this._reset(),this},getEvents:function(){var r={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var r=this._url.tagName==="IMG",a=this._image=r?this._url:ze("img");if(dt(a,"leaflet-image-layer"),this._zoomAnimated&&dt(a,"leaflet-zoom-animated"),this.options.className&&dt(a,this.options.className),a.onselectstart=b,a.onmousemove=b,a.onload=d(this.fire,this,"load"),a.onerror=d(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),r){this._url=a.src;return}a.src=this._url,a.alt=this.options.alt},_animateZoom:function(r){var a=this._map.getZoomScale(r.zoom),f=this._map._latLngBoundsToNewLayerBounds(this._bounds,r.zoom,r.center).min;Hn(this._image,f,a)},_reset:function(){var r=this._image,a=new H(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),f=a.getSize();Jt(r,a.min),r.style.width=f.x+"px",r.style.height=f.y+"px"},_updateOpacity:function(){Cn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var r=this.options.errorOverlayUrl;r&&this._url!==r&&(this._url=r,this._image.src=r)},getCenter:function(){return this._bounds.getCenter()}}),de=function(r,a,f){return new z(r,a,f)},te=z.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var r=this._url.tagName==="VIDEO",a=this._image=r?this._url:ze("video");if(dt(a,"leaflet-image-layer"),this._zoomAnimated&&dt(a,"leaflet-zoom-animated"),this.options.className&&dt(a,this.options.className),a.onselectstart=b,a.onmousemove=b,a.onloadeddata=d(this.fire,this,"load"),r){for(var f=a.getElementsByTagName("source"),w=[],Q=0;Q<f.length;Q++)w.push(f[Q].src);this._url=f.length>0?w:[a.src];return}J(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(a.style,"objectFit")&&(a.style.objectFit="fill"),a.autoplay=!!this.options.autoplay,a.loop=!!this.options.loop,a.muted=!!this.options.muted,a.playsInline=!!this.options.playsInline;for(var T=0;T<this._url.length;T++){var Z=ze("source");Z.src=this._url[T],a.appendChild(Z)}}});function oe(r,a,f){return new te(r,a,f)}var ue=z.extend({_initImage:function(){var r=this._image=this._url;dt(r,"leaflet-image-layer"),this._zoomAnimated&&dt(r,"leaflet-zoom-animated"),this.options.className&&dt(r,this.options.className),r.onselectstart=b,r.onmousemove=b}});function ae(r,a,f){return new ue(r,a,f)}var ce=mA.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(r,a){r&&(r instanceof Ne||J(r))?(this._latlng=Oe(r),N(this,a)):(N(this,r),this._source=a),this.options.content&&(this._content=this.options.content)},openOn:function(r){return r=arguments.length?r:this._source._map,r.hasLayer(this)||r.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(r){return this._map?this.close():(arguments.length?this._source=r:r=this._source,this._prepareOpen(),this.openOn(r._map)),this},onAdd:function(r){this._zoomAnimated=r._zoomAnimated,this._container||this._initLayout(),r._fadeAnimated&&Cn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),r._fadeAnimated&&Cn(this._container,1),this.bringToFront(),this.options.interactive&&(dt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(r){r._fadeAnimated?(Cn(this._container,0),this._removeTimeout=setTimeout(d(Dt,void 0,this._container),200)):Dt(this._container),this.options.interactive&&(Tt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(r){return this._latlng=Oe(r),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(r){return this._content=r,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var r={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ZA(this._container),this},bringToBack:function(){return this._map&&SA(this._container),this},_prepareOpen:function(r){var a=this._source;if(!a._map)return!1;if(a instanceof kA){a=null;var f=this._source._layers;for(var w in f)if(f[w]._map){a=f[w];break}if(!a)return!1;this._source=a}if(!r)if(a.getCenter)r=a.getCenter();else if(a.getLatLng)r=a.getLatLng();else if(a.getBounds)r=a.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(r),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var r=this._contentNode,a=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof a=="string")r.innerHTML=a;else{for(;r.hasChildNodes();)r.removeChild(r.firstChild);r.appendChild(a)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var r=this._map.latLngToLayerPoint(this._latlng),a=K(this.options.offset),f=this._getAnchor();this._zoomAnimated?Jt(this._container,r.add(f)):a=a.add(r).add(f);var w=this._containerBottom=-a.y,Q=this._containerLeft=-Math.round(this._containerWidth/2)+a.x;this._container.style.bottom=w+"px",this._container.style.left=Q+"px"}},_getAnchor:function(){return[0,0]}});yt.include({_initOverlay:function(r,a,f,w){var Q=a;return Q instanceof r||(Q=new r(w).setContent(a)),f&&Q.setLatLng(f),Q}}),mA.include({_initOverlay:function(r,a,f,w){var Q=f;return Q instanceof r?(N(Q,w),Q._source=this):(Q=a&&!w?a:new r(w,this),Q.setContent(f)),Q}});var Be=ce.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(r){return r=arguments.length?r:this._source._map,!r.hasLayer(this)&&r._popup&&r._popup.options.autoClose&&r.removeLayer(r._popup),r._popup=this,ce.prototype.openOn.call(this,r)},onAdd:function(r){ce.prototype.onAdd.call(this,r),r.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof vA||this._source.on("preclick",iA))},onRemove:function(r){ce.prototype.onRemove.call(this,r),r.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof vA||this._source.off("preclick",iA))},getEvents:function(){var r=ce.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(r.preclick=this.close),this.options.keepInView&&(r.moveend=this._adjustPan),r},_initLayout:function(){var r="leaflet-popup",a=this._container=ze("div",r+" "+(this.options.className||"")+" leaflet-zoom-animated"),f=this._wrapper=ze("div",r+"-content-wrapper",a);if(this._contentNode=ze("div",r+"-content",f),jr(a),Ri(this._contentNode),at(a,"contextmenu",iA),this._tipContainer=ze("div",r+"-tip-container",a),this._tip=ze("div",r+"-tip",this._tipContainer),this.options.closeButton){var w=this._closeButton=ze("a",r+"-close-button",a);w.setAttribute("role","button"),w.setAttribute("aria-label","Close popup"),w.href="#close",w.innerHTML='<span aria-hidden="true">&#215;</span>',at(w,"click",function(Q){Ht(Q),this.close()},this)}},_updateLayout:function(){var r=this._contentNode,a=r.style;a.width="",a.whiteSpace="nowrap";var f=r.offsetWidth;f=Math.min(f,this.options.maxWidth),f=Math.max(f,this.options.minWidth),a.width=f+1+"px",a.whiteSpace="",a.height="";var w=r.offsetHeight,Q=this.options.maxHeight,T="leaflet-popup-scrolled";Q&&w>Q?(a.height=Q+"px",dt(r,T)):Tt(r,T),this._containerWidth=this._container.offsetWidth},_animateZoom:function(r){var a=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center),f=this._getAnchor();Jt(this._container,a.add(f))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var r=this._map,a=parseInt(hi(this._container,"marginBottom"),10)||0,f=this._container.offsetHeight+a,w=this._containerWidth,Q=new ge(this._containerLeft,-f-this._containerBottom);Q._add(Zn(this._container));var T=r.layerPointToContainerPoint(Q),Z=K(this.options.autoPanPadding),he=K(this.options.autoPanPaddingTopLeft||Z),we=K(this.options.autoPanPaddingBottomRight||Z),Ue=r.getSize(),$e=0,ct=0;T.x+w+we.x>Ue.x&&($e=T.x+w-Ue.x+we.x),T.x-$e-he.x<0&&($e=T.x-he.x),T.y+f+we.y>Ue.y&&(ct=T.y+f-Ue.y+we.y),T.y-ct-he.y<0&&(ct=T.y-he.y),($e||ct)&&(this.options.keepInView&&(this._autopanning=!0),r.fire("autopanstart").panBy([$e,ct]))}},_getAnchor:function(){return K(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),_e=function(r,a){return new Be(r,a)};yt.mergeOptions({closePopupOnClick:!0}),yt.include({openPopup:function(r,a,f){return this._initOverlay(Be,r,a,f).openOn(this),this},closePopup:function(r){return r=arguments.length?r:this._popup,r&&r.close(),this}}),mA.include({bindPopup:function(r,a){return this._popup=this._initOverlay(Be,this._popup,r,a),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(r){return this._popup&&(this instanceof kA||(this._popup._source=this),this._popup._prepareOpen(r||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(r){return this._popup&&this._popup.setContent(r),this},getPopup:function(){return this._popup},_openPopup:function(r){if(!(!this._popup||!this._map)){qn(r);var a=r.layer||r.target;if(this._popup._source===a&&!(a instanceof vA)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(r.latlng);return}this._popup._source=a,this.openPopup(r.latlng)}},_movePopup:function(r){this._popup.setLatLng(r.latlng)},_onKeyPress:function(r){r.originalEvent.keyCode===13&&this._openPopup(r)}});var Ce=ce.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(r){ce.prototype.onAdd.call(this,r),this.setOpacity(this.options.opacity),r.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(r){ce.prototype.onRemove.call(this,r),r.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var r=ce.prototype.getEvents.call(this);return this.options.permanent||(r.preclick=this.close),r},_initLayout:function(){var r="leaflet-tooltip",a=r+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ze("div",a),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+m(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(r){var a,f,w=this._map,Q=this._container,T=w.latLngToContainerPoint(w.getCenter()),Z=w.layerPointToContainerPoint(r),he=this.options.direction,we=Q.offsetWidth,Ue=Q.offsetHeight,$e=K(this.options.offset),ct=this._getAnchor();he==="top"?(a=we/2,f=Ue):he==="bottom"?(a=we/2,f=0):he==="center"?(a=we/2,f=Ue/2):he==="right"?(a=0,f=Ue/2):he==="left"?(a=we,f=Ue/2):Z.x<T.x?(he="right",a=0,f=Ue/2):(he="left",a=we+($e.x+ct.x)*2,f=Ue/2),r=r.subtract(K(a,f,!0)).add($e).add(ct),Tt(Q,"leaflet-tooltip-right"),Tt(Q,"leaflet-tooltip-left"),Tt(Q,"leaflet-tooltip-top"),Tt(Q,"leaflet-tooltip-bottom"),dt(Q,"leaflet-tooltip-"+he),Jt(Q,r)},_updatePosition:function(){var r=this._map.latLngToLayerPoint(this._latlng);this._setPosition(r)},setOpacity:function(r){this.options.opacity=r,this._container&&Cn(this._container,r)},_animateZoom:function(r){var a=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center);this._setPosition(a)},_getAnchor:function(){return K(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Se=function(r,a){return new Ce(r,a)};yt.include({openTooltip:function(r,a,f){return this._initOverlay(Ce,r,a,f).openOn(this),this},closeTooltip:function(r){return r.close(),this}}),mA.include({bindTooltip:function(r,a){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ce,this._tooltip,r,a),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(r){if(!(!r&&this._tooltipHandlersAdded)){var a=r?"off":"on",f={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?f.add=this._openTooltip:(f.mouseover=this._openTooltip,f.mouseout=this.closeTooltip,f.click=this._openTooltip,this._map?this._addFocusListeners():f.add=this._addFocusListeners),this._tooltip.options.sticky&&(f.mousemove=this._moveTooltip),this[a](f),this._tooltipHandlersAdded=!r}},openTooltip:function(r){return this._tooltip&&(this instanceof kA||(this._tooltip._source=this),this._tooltip._prepareOpen(r)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(r){return this._tooltip&&this._tooltip.setContent(r),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(r){var a=typeof r.getElement=="function"&&r.getElement();a&&(at(a,"focus",function(){this._tooltip._source=r,this.openTooltip()},this),at(a,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(r){var a=typeof r.getElement=="function"&&r.getElement();a&&a.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(r){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var a=this;this._map.once("moveend",function(){a._openOnceFlag=!1,a._openTooltip(r)});return}this._tooltip._source=r.layer||r.target,this.openTooltip(this._tooltip.options.sticky?r.latlng:void 0)}},_moveTooltip:function(r){var a=r.latlng,f,w;this._tooltip.options.sticky&&r.originalEvent&&(f=this._map.mouseEventToContainerPoint(r.originalEvent),w=this._map.containerPointToLayerPoint(f),a=this._map.layerPointToLatLng(w)),this._tooltip.setLatLng(a)}});var Re=$r.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(r){var a=r&&r.tagName==="DIV"?r:document.createElement("div"),f=this.options;if(f.html instanceof Element?(Hi(a),a.appendChild(f.html)):a.innerHTML=f.html!==!1?f.html:"",f.bgPos){var w=K(f.bgPos);a.style.backgroundPosition=-w.x+"px "+-w.y+"px"}return this._setIconStyles(a,"icon"),a},createShadow:function(){return null}});function He(r){return new Re(r)}$r.Default=wi;var Te=mA.extend({options:{tileSize:256,opacity:1,updateWhenIdle:tt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(r){N(this,r)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(r){r._addZoomLimit(this)},onRemove:function(r){this._removeAllTiles(),Dt(this._container),r._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ZA(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(SA(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(r){return this.options.opacity=r,this._updateOpacity(),this},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var r=this._clampZoom(this._map.getZoom());r!==this._tileZoom&&(this._tileZoom=r,this._updateLevels()),this._update()}return this},getEvents:function(){var r={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=y(this._onMoveEnd,this.options.updateInterval,this)),r.move=this._onMove),this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},createTile:function(){return document.createElement("div")},getTileSize:function(){var r=this.options.tileSize;return r instanceof ge?r:new ge(r,r)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(r){for(var a=this.getPane().children,f=-r(-1/0,1/0),w=0,Q=a.length,T;w<Q;w++)T=a[w].style.zIndex,a[w]!==this._container&&T&&(f=r(f,+T));isFinite(f)&&(this.options.zIndex=f+r(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!tt.ielt9){Cn(this._container,this.options.opacity);var r=+new Date,a=!1,f=!1;for(var w in this._tiles){var Q=this._tiles[w];if(!(!Q.current||!Q.loaded)){var T=Math.min(1,(r-Q.loaded)/200);Cn(Q.el,T),T<1?a=!0:(Q.active?f=!0:this._onOpaqueTile(Q),Q.active=!0)}}f&&!this._noPrune&&this._pruneTiles(),a&&(qe(this._fadeFrame),this._fadeFrame=Ee(this._updateOpacity,this))}},_onOpaqueTile:b,_initContainer:function(){this._container||(this._container=ze("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var r=this._tileZoom,a=this.options.maxZoom;if(r!==void 0){for(var f in this._levels)f=Number(f),this._levels[f].el.children.length||f===r?(this._levels[f].el.style.zIndex=a-Math.abs(r-f),this._onUpdateLevel(f)):(Dt(this._levels[f].el),this._removeTilesAtZoom(f),this._onRemoveLevel(f),delete this._levels[f]);var w=this._levels[r],Q=this._map;return w||(w=this._levels[r]={},w.el=ze("div","leaflet-tile-container leaflet-zoom-animated",this._container),w.el.style.zIndex=a,w.origin=Q.project(Q.unproject(Q.getPixelOrigin()),r).round(),w.zoom=r,this._setZoomTransform(w,Q.getCenter(),Q.getZoom()),b(w.el.offsetWidth),this._onCreateLevel(w)),this._level=w,w}},_onUpdateLevel:b,_onRemoveLevel:b,_onCreateLevel:b,_pruneTiles:function(){if(this._map){var r,a,f=this._map.getZoom();if(f>this.options.maxZoom||f<this.options.minZoom){this._removeAllTiles();return}for(r in this._tiles)a=this._tiles[r],a.retain=a.current;for(r in this._tiles)if(a=this._tiles[r],a.current&&!a.active){var w=a.coords;this._retainParent(w.x,w.y,w.z,w.z-5)||this._retainChildren(w.x,w.y,w.z,w.z+2)}for(r in this._tiles)this._tiles[r].retain||this._removeTile(r)}},_removeTilesAtZoom:function(r){for(var a in this._tiles)this._tiles[a].coords.z===r&&this._removeTile(a)},_removeAllTiles:function(){for(var r in this._tiles)this._removeTile(r)},_invalidateAll:function(){for(var r in this._levels)Dt(this._levels[r].el),this._onRemoveLevel(Number(r)),delete this._levels[r];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(r,a,f,w){var Q=Math.floor(r/2),T=Math.floor(a/2),Z=f-1,he=new ge(+Q,+T);he.z=+Z;var we=this._tileCoordsToKey(he),Ue=this._tiles[we];return Ue&&Ue.active?(Ue.retain=!0,!0):(Ue&&Ue.loaded&&(Ue.retain=!0),Z>w?this._retainParent(Q,T,Z,w):!1)},_retainChildren:function(r,a,f,w){for(var Q=2*r;Q<2*r+2;Q++)for(var T=2*a;T<2*a+2;T++){var Z=new ge(Q,T);Z.z=f+1;var he=this._tileCoordsToKey(Z),we=this._tiles[he];if(we&&we.active){we.retain=!0;continue}else we&&we.loaded&&(we.retain=!0);f+1<w&&this._retainChildren(Q,T,f+1,w)}},_resetView:function(r){var a=r&&(r.pinch||r.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),a,a)},_animateZoom:function(r){this._setView(r.center,r.zoom,!0,r.noUpdate)},_clampZoom:function(r){var a=this.options;return a.minNativeZoom!==void 0&&r<a.minNativeZoom?a.minNativeZoom:a.maxNativeZoom!==void 0&&a.maxNativeZoom<r?a.maxNativeZoom:r},_setView:function(r,a,f,w){var Q=Math.round(a);this.options.maxZoom!==void 0&&Q>this.options.maxZoom||this.options.minZoom!==void 0&&Q<this.options.minZoom?Q=void 0:Q=this._clampZoom(Q);var T=this.options.updateWhenZooming&&Q!==this._tileZoom;(!w||T)&&(this._tileZoom=Q,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),Q!==void 0&&this._update(r),f||this._pruneTiles(),this._noPrune=!!f),this._setZoomTransforms(r,a)},_setZoomTransforms:function(r,a){for(var f in this._levels)this._setZoomTransform(this._levels[f],r,a)},_setZoomTransform:function(r,a,f){var w=this._map.getZoomScale(f,r.zoom),Q=r.origin.multiplyBy(w).subtract(this._map._getNewPixelOrigin(a,f)).round();tt.any3d?Hn(r.el,Q,w):Jt(r.el,Q)},_resetGrid:function(){var r=this._map,a=r.options.crs,f=this._tileSize=this.getTileSize(),w=this._tileZoom,Q=this._map.getPixelWorldBounds(this._tileZoom);Q&&(this._globalTileRange=this._pxBoundsToTileRange(Q)),this._wrapX=a.wrapLng&&!this.options.noWrap&&[Math.floor(r.project([0,a.wrapLng[0]],w).x/f.x),Math.ceil(r.project([0,a.wrapLng[1]],w).x/f.y)],this._wrapY=a.wrapLat&&!this.options.noWrap&&[Math.floor(r.project([a.wrapLat[0],0],w).y/f.x),Math.ceil(r.project([a.wrapLat[1],0],w).y/f.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(r){var a=this._map,f=a._animatingZoom?Math.max(a._animateToZoom,a.getZoom()):a.getZoom(),w=a.getZoomScale(f,this._tileZoom),Q=a.project(r,this._tileZoom).floor(),T=a.getSize().divideBy(w*2);return new H(Q.subtract(T),Q.add(T))},_update:function(r){var a=this._map;if(a){var f=this._clampZoom(a.getZoom());if(r===void 0&&(r=a.getCenter()),this._tileZoom!==void 0){var w=this._getTiledPixelBounds(r),Q=this._pxBoundsToTileRange(w),T=Q.getCenter(),Z=[],he=this.options.keepBuffer,we=new H(Q.getBottomLeft().subtract([he,-he]),Q.getTopRight().add([he,-he]));if(!(isFinite(Q.min.x)&&isFinite(Q.min.y)&&isFinite(Q.max.x)&&isFinite(Q.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Ue in this._tiles){var $e=this._tiles[Ue].coords;($e.z!==this._tileZoom||!we.contains(new ge($e.x,$e.y)))&&(this._tiles[Ue].current=!1)}if(Math.abs(f-this._tileZoom)>1){this._setView(r,f);return}for(var ct=Q.min.y;ct<=Q.max.y;ct++)for(var wt=Q.min.x;wt<=Q.max.x;wt++){var Sn=new ge(wt,ct);if(Sn.z=this._tileZoom,!!this._isValidTile(Sn)){var xn=this._tiles[this._tileCoordsToKey(Sn)];xn?xn.current=!0:Z.push(Sn)}}if(Z.sort(function(sA,Es){return sA.distanceTo(T)-Es.distanceTo(T)}),Z.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var BA=document.createDocumentFragment();for(wt=0;wt<Z.length;wt++)this._addTile(Z[wt],BA);this._level.el.appendChild(BA)}}}},_isValidTile:function(r){var a=this._map.options.crs;if(!a.infinite){var f=this._globalTileRange;if(!a.wrapLng&&(r.x<f.min.x||r.x>f.max.x)||!a.wrapLat&&(r.y<f.min.y||r.y>f.max.y))return!1}if(!this.options.bounds)return!0;var w=this._tileCoordsToBounds(r);return Fe(this.options.bounds).overlaps(w)},_keyToBounds:function(r){return this._tileCoordsToBounds(this._keyToTileCoords(r))},_tileCoordsToNwSe:function(r){var a=this._map,f=this.getTileSize(),w=r.scaleBy(f),Q=w.add(f),T=a.unproject(w,r.z),Z=a.unproject(Q,r.z);return[T,Z]},_tileCoordsToBounds:function(r){var a=this._tileCoordsToNwSe(r),f=new Ie(a[0],a[1]);return this.options.noWrap||(f=this._map.wrapLatLngBounds(f)),f},_tileCoordsToKey:function(r){return r.x+":"+r.y+":"+r.z},_keyToTileCoords:function(r){var a=r.split(":"),f=new ge(+a[0],+a[1]);return f.z=+a[2],f},_removeTile:function(r){var a=this._tiles[r];a&&(Dt(a.el),delete this._tiles[r],this.fire("tileunload",{tile:a.el,coords:this._keyToTileCoords(r)}))},_initTile:function(r){dt(r,"leaflet-tile");var a=this.getTileSize();r.style.width=a.x+"px",r.style.height=a.y+"px",r.onselectstart=b,r.onmousemove=b,tt.ielt9&&this.options.opacity<1&&Cn(r,this.options.opacity)},_addTile:function(r,a){var f=this._getTilePos(r),w=this._tileCoordsToKey(r),Q=this.createTile(this._wrapCoords(r),d(this._tileReady,this,r));this._initTile(Q),this.createTile.length<2&&Ee(d(this._tileReady,this,r,null,Q)),Jt(Q,f),this._tiles[w]={el:Q,coords:r,current:!0},a.appendChild(Q),this.fire("tileloadstart",{tile:Q,coords:r})},_tileReady:function(r,a,f){a&&this.fire("tileerror",{error:a,tile:f,coords:r});var w=this._tileCoordsToKey(r);f=this._tiles[w],f&&(f.loaded=+new Date,this._map._fadeAnimated?(Cn(f.el,0),qe(this._fadeFrame),this._fadeFrame=Ee(this._updateOpacity,this)):(f.active=!0,this._pruneTiles()),a||(dt(f.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:f.el,coords:r})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),tt.ielt9||!this._map._fadeAnimated?Ee(this._pruneTiles,this):setTimeout(d(this._pruneTiles,this),250)))},_getTilePos:function(r){return r.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(r){var a=new ge(this._wrapX?C(r.x,this._wrapX):r.x,this._wrapY?C(r.y,this._wrapY):r.y);return a.z=r.z,a},_pxBoundsToTileRange:function(r){var a=this.getTileSize();return new H(r.min.unscaleBy(a).floor(),r.max.unscaleBy(a).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var r in this._tiles)if(!this._tiles[r].loaded)return!1;return!0}});function Ve(r){return new Te(r)}var Ke=Te.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(r,a){this._url=r,a=N(this,a),a.detectRetina&&tt.retina&&a.maxZoom>0?(a.tileSize=Math.floor(a.tileSize/2),a.zoomReverse?(a.zoomOffset--,a.minZoom=Math.min(a.maxZoom,a.minZoom+1)):(a.zoomOffset++,a.maxZoom=Math.max(a.minZoom,a.maxZoom-1)),a.minZoom=Math.max(0,a.minZoom)):a.zoomReverse?a.minZoom=Math.min(a.maxZoom,a.minZoom):a.maxZoom=Math.max(a.minZoom,a.maxZoom),typeof a.subdomains=="string"&&(a.subdomains=a.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(r,a){return this._url===r&&a===void 0&&(a=!0),this._url=r,a||this.redraw(),this},createTile:function(r,a){var f=document.createElement("img");return at(f,"load",d(this._tileOnLoad,this,a,f)),at(f,"error",d(this._tileOnError,this,a,f)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(f.referrerPolicy=this.options.referrerPolicy),f.alt="",f.src=this.getTileUrl(r),f},getTileUrl:function(r){var a={r:tt.retina?"@2x":"",s:this._getSubdomain(r),x:r.x,y:r.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var f=this._globalTileRange.max.y-r.y;this.options.tms&&(a.y=f),a["-y"]=f}return R(this._url,o(a,this.options))},_tileOnLoad:function(r,a){tt.ielt9?setTimeout(d(r,this,null,a),0):r(null,a)},_tileOnError:function(r,a,f){var w=this.options.errorTileUrl;w&&a.getAttribute("src")!==w&&(a.src=w),r(f,a)},_onTileRemove:function(r){r.tile.onload=null},_getZoomForUrl:function(){var r=this._tileZoom,a=this.options.maxZoom,f=this.options.zoomReverse,w=this.options.zoomOffset;return f&&(r=a-r),r+w},_getSubdomain:function(r){var a=Math.abs(r.x+r.y)%this.options.subdomains.length;return this.options.subdomains[a]},_abortLoading:function(){var r,a;for(r in this._tiles)if(this._tiles[r].coords.z!==this._tileZoom&&(a=this._tiles[r].el,a.onload=b,a.onerror=b,!a.complete)){a.src=$;var f=this._tiles[r].coords;Dt(a),delete this._tiles[r],this.fire("tileabort",{tile:a,coords:f})}},_removeTile:function(r){var a=this._tiles[r];if(a)return a.el.setAttribute("src",$),Te.prototype._removeTile.call(this,r)},_tileReady:function(r,a,f){if(!(!this._map||f&&f.getAttribute("src")===$))return Te.prototype._tileReady.call(this,r,a,f)}});function We(r,a){return new Ke(r,a)}var gt=Ke.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(r,a){this._url=r;var f=o({},this.defaultWmsParams);for(var w in a)w in this.options||(f[w]=a[w]);a=N(this,a);var Q=a.detectRetina&&tt.retina?2:1,T=this.getTileSize();f.width=T.x*Q,f.height=T.y*Q,this.wmsParams=f},onAdd:function(r){this._crs=this.options.crs||r.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var a=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[a]=this._crs.code,Ke.prototype.onAdd.call(this,r)},getTileUrl:function(r){var a=this._tileCoordsToNwSe(r),f=this._crs,w=le(f.project(a[0]),f.project(a[1])),Q=w.min,T=w.max,Z=(this._wmsVersion>=1.3&&this._crs===mo?[Q.y,Q.x,T.y,T.x]:[Q.x,Q.y,T.x,T.y]).join(","),he=Ke.prototype.getTileUrl.call(this,r);return he+W(this.wmsParams,he,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Z},setParams:function(r,a){return o(this.wmsParams,r),a||this.redraw(),this}});function Ct(r,a){return new gt(r,a)}Ke.WMS=gt,We.wms=Ct;var lt=mA.extend({options:{padding:.1},initialize:function(r){N(this,r),m(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),dt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var r={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(r.zoomanim=this._onAnimZoom),r},_onAnimZoom:function(r){this._updateTransform(r.center,r.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(r,a){var f=this._map.getZoomScale(a,this._zoom),w=this._map.getSize().multiplyBy(.5+this.options.padding),Q=this._map.project(this._center,a),T=w.multiplyBy(-f).add(Q).subtract(this._map._getNewPixelOrigin(r,a));tt.any3d?Hn(this._container,T,f):Jt(this._container,T)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var r in this._layers)this._layers[r]._reset()},_onZoomEnd:function(){for(var r in this._layers)this._layers[r]._project()},_updatePaths:function(){for(var r in this._layers)this._layers[r]._update()},_update:function(){var r=this.options.padding,a=this._map.getSize(),f=this._map.containerPointToLayerPoint(a.multiplyBy(-r)).round();this._bounds=new H(f,f.add(a.multiplyBy(1+r*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Rt=lt.extend({options:{tolerance:0},getEvents:function(){var r=lt.prototype.getEvents.call(this);return r.viewprereset=this._onViewPreReset,r},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){lt.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var r=this._container=document.createElement("canvas");at(r,"mousemove",this._onMouseMove,this),at(r,"click dblclick mousedown mouseup contextmenu",this._onClick,this),at(r,"mouseout",this._handleMouseOut,this),r._leaflet_disable_events=!0,this._ctx=r.getContext("2d")},_destroyContainer:function(){qe(this._redrawRequest),delete this._ctx,Dt(this._container),St(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var r;this._redrawBounds=null;for(var a in this._layers)r=this._layers[a],r._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){lt.prototype._update.call(this);var r=this._bounds,a=this._container,f=r.getSize(),w=tt.retina?2:1;Jt(a,r.min),a.width=w*f.x,a.height=w*f.y,a.style.width=f.x+"px",a.style.height=f.y+"px",tt.retina&&this._ctx.scale(2,2),this._ctx.translate(-r.min.x,-r.min.y),this.fire("update")}},_reset:function(){lt.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(r){this._updateDashArray(r),this._layers[m(r)]=r;var a=r._order={layer:r,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=a),this._drawLast=a,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(r){this._requestRedraw(r)},_removePath:function(r){var a=r._order,f=a.next,w=a.prev;f?f.prev=w:this._drawLast=w,w?w.next=f:this._drawFirst=f,delete r._order,delete this._layers[m(r)],this._requestRedraw(r)},_updatePath:function(r){this._extendRedrawBounds(r),r._project(),r._update(),this._requestRedraw(r)},_updateStyle:function(r){this._updateDashArray(r),this._requestRedraw(r)},_updateDashArray:function(r){if(typeof r.options.dashArray=="string"){var a=r.options.dashArray.split(/[, ]+/),f=[],w,Q;for(Q=0;Q<a.length;Q++){if(w=Number(a[Q]),isNaN(w))return;f.push(w)}r.options._dashArray=f}else r.options._dashArray=r.options.dashArray},_requestRedraw:function(r){this._map&&(this._extendRedrawBounds(r),this._redrawRequest=this._redrawRequest||Ee(this._redraw,this))},_extendRedrawBounds:function(r){if(r._pxBounds){var a=(r.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new H,this._redrawBounds.extend(r._pxBounds.min.subtract([a,a])),this._redrawBounds.extend(r._pxBounds.max.add([a,a]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var r=this._redrawBounds;if(r){var a=r.getSize();this._ctx.clearRect(r.min.x,r.min.y,a.x,a.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var r,a=this._redrawBounds;if(this._ctx.save(),a){var f=a.getSize();this._ctx.beginPath(),this._ctx.rect(a.min.x,a.min.y,f.x,f.y),this._ctx.clip()}this._drawing=!0;for(var w=this._drawFirst;w;w=w.next)r=w.layer,(!a||r._pxBounds&&r._pxBounds.intersects(a))&&r._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(r,a){if(this._drawing){var f,w,Q,T,Z=r._parts,he=Z.length,we=this._ctx;if(he){for(we.beginPath(),f=0;f<he;f++){for(w=0,Q=Z[f].length;w<Q;w++)T=Z[f][w],we[w?"lineTo":"moveTo"](T.x,T.y);a&&we.closePath()}this._fillStroke(we,r)}}},_updateCircle:function(r){if(!(!this._drawing||r._empty())){var a=r._point,f=this._ctx,w=Math.max(Math.round(r._radius),1),Q=(Math.max(Math.round(r._radiusY),1)||w)/w;Q!==1&&(f.save(),f.scale(1,Q)),f.beginPath(),f.arc(a.x,a.y/Q,w,0,Math.PI*2,!1),Q!==1&&f.restore(),this._fillStroke(f,r)}},_fillStroke:function(r,a){var f=a.options;f.fill&&(r.globalAlpha=f.fillOpacity,r.fillStyle=f.fillColor||f.color,r.fill(f.fillRule||"evenodd")),f.stroke&&f.weight!==0&&(r.setLineDash&&r.setLineDash(a.options&&a.options._dashArray||[]),r.globalAlpha=f.opacity,r.lineWidth=f.weight,r.strokeStyle=f.color,r.lineCap=f.lineCap,r.lineJoin=f.lineJoin,r.stroke())},_onClick:function(r){for(var a=this._map.mouseEventToLayerPoint(r),f,w,Q=this._drawFirst;Q;Q=Q.next)f=Q.layer,f.options.interactive&&f._containsPoint(a)&&(!(r.type==="click"||r.type==="preclick")||!this._map._draggableMoved(f))&&(w=f);this._fireEvent(w?[w]:!1,r)},_onMouseMove:function(r){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var a=this._map.mouseEventToLayerPoint(r);this._handleMouseHover(r,a)}},_handleMouseOut:function(r){var a=this._hoveredLayer;a&&(Tt(this._container,"leaflet-interactive"),this._fireEvent([a],r,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(r,a){if(!this._mouseHoverThrottled){for(var f,w,Q=this._drawFirst;Q;Q=Q.next)f=Q.layer,f.options.interactive&&f._containsPoint(a)&&(w=f);w!==this._hoveredLayer&&(this._handleMouseOut(r),w&&(dt(this._container,"leaflet-interactive"),this._fireEvent([w],r,"mouseover"),this._hoveredLayer=w)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,r),this._mouseHoverThrottled=!0,setTimeout(d(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(r,a,f){this._map._fireDOMEvent(a,f||a.type,r)},_bringToFront:function(r){var a=r._order;if(a){var f=a.next,w=a.prev;if(f)f.prev=w;else return;w?w.next=f:f&&(this._drawFirst=f),a.prev=this._drawLast,this._drawLast.next=a,a.next=null,this._drawLast=a,this._requestRedraw(r)}},_bringToBack:function(r){var a=r._order;if(a){var f=a.next,w=a.prev;if(w)w.next=f;else return;f?f.prev=w:w&&(this._drawLast=w),a.prev=null,a.next=this._drawFirst,this._drawFirst.prev=a,this._drawFirst=a,this._requestRedraw(r)}}});function pt(r){return tt.canvas?new Rt(r):null}var Yt=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(r){return document.createElement("<lvml:"+r+' class="lvml">')}}catch{}return function(r){return document.createElement("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),vn={_initContainer:function(){this._container=ze("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(lt.prototype._update.call(this),this.fire("update"))},_initPath:function(r){var a=r._container=Yt("shape");dt(a,"leaflet-vml-shape "+(this.options.className||"")),a.coordsize="1 1",r._path=Yt("path"),a.appendChild(r._path),this._updateStyle(r),this._layers[m(r)]=r},_addPath:function(r){var a=r._container;this._container.appendChild(a),r.options.interactive&&r.addInteractiveTarget(a)},_removePath:function(r){var a=r._container;Dt(a),r.removeInteractiveTarget(a),delete this._layers[m(r)]},_updateStyle:function(r){var a=r._stroke,f=r._fill,w=r.options,Q=r._container;Q.stroked=!!w.stroke,Q.filled=!!w.fill,w.stroke?(a||(a=r._stroke=Yt("stroke")),Q.appendChild(a),a.weight=w.weight+"px",a.color=w.color,a.opacity=w.opacity,w.dashArray?a.dashStyle=J(w.dashArray)?w.dashArray.join(" "):w.dashArray.replace(/( *, *)/g," "):a.dashStyle="",a.endcap=w.lineCap.replace("butt","flat"),a.joinstyle=w.lineJoin):a&&(Q.removeChild(a),r._stroke=null),w.fill?(f||(f=r._fill=Yt("fill")),Q.appendChild(f),f.color=w.fillColor||w.color,f.opacity=w.fillOpacity):f&&(Q.removeChild(f),r._fill=null)},_updateCircle:function(r){var a=r._point.round(),f=Math.round(r._radius),w=Math.round(r._radiusY||f);this._setPath(r,r._empty()?"M0 0":"AL "+a.x+","+a.y+" "+f+","+w+" 0,"+65535*360)},_setPath:function(r,a){r._path.v=a},_bringToFront:function(r){ZA(r._container)},_bringToBack:function(r){SA(r._container)}},Kn=tt.vml?Yt:MA,en=lt.extend({_initContainer:function(){this._container=Kn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Kn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Dt(this._container),St(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){lt.prototype._update.call(this);var r=this._bounds,a=r.getSize(),f=this._container;(!this._svgSize||!this._svgSize.equals(a))&&(this._svgSize=a,f.setAttribute("width",a.x),f.setAttribute("height",a.y)),Jt(f,r.min),f.setAttribute("viewBox",[r.min.x,r.min.y,a.x,a.y].join(" ")),this.fire("update")}},_initPath:function(r){var a=r._path=Kn("path");r.options.className&&dt(a,r.options.className),r.options.interactive&&dt(a,"leaflet-interactive"),this._updateStyle(r),this._layers[m(r)]=r},_addPath:function(r){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(r._path),r.addInteractiveTarget(r._path)},_removePath:function(r){Dt(r._path),r.removeInteractiveTarget(r._path),delete this._layers[m(r)]},_updatePath:function(r){r._project(),r._update()},_updateStyle:function(r){var a=r._path,f=r.options;a&&(f.stroke?(a.setAttribute("stroke",f.color),a.setAttribute("stroke-opacity",f.opacity),a.setAttribute("stroke-width",f.weight),a.setAttribute("stroke-linecap",f.lineCap),a.setAttribute("stroke-linejoin",f.lineJoin),f.dashArray?a.setAttribute("stroke-dasharray",f.dashArray):a.removeAttribute("stroke-dasharray"),f.dashOffset?a.setAttribute("stroke-dashoffset",f.dashOffset):a.removeAttribute("stroke-dashoffset")):a.setAttribute("stroke","none"),f.fill?(a.setAttribute("fill",f.fillColor||f.color),a.setAttribute("fill-opacity",f.fillOpacity),a.setAttribute("fill-rule",f.fillRule||"evenodd")):a.setAttribute("fill","none"))},_updatePoly:function(r,a){this._setPath(r,so(r._parts,a))},_updateCircle:function(r){var a=r._point,f=Math.max(Math.round(r._radius),1),w=Math.max(Math.round(r._radiusY),1)||f,Q="a"+f+","+w+" 0 1,0 ",T=r._empty()?"M0 0":"M"+(a.x-f)+","+a.y+Q+f*2+",0 "+Q+-f*2+",0 ";this._setPath(r,T)},_setPath:function(r,a){r._path.setAttribute("d",a)},_bringToFront:function(r){ZA(r._path)},_bringToBack:function(r){SA(r._path)}});tt.vml&&en.include(vn);function TA(r){return tt.svg||tt.vml?new en(r):null}yt.include({getRenderer:function(r){var a=r.options.renderer||this._getPaneRenderer(r.options.pane)||this.options.renderer||this._renderer;return a||(a=this._renderer=this._createRenderer()),this.hasLayer(a)||this.addLayer(a),a},_getPaneRenderer:function(r){if(r==="overlayPane"||r===void 0)return!1;var a=this._paneRenderers[r];return a===void 0&&(a=this._createRenderer({pane:r}),this._paneRenderers[r]=a),a},_createRenderer:function(r){return this.options.preferCanvas&&pt(r)||TA(r)}});var bs=Mn.extend({initialize:function(r,a){Mn.prototype.initialize.call(this,this._boundsToLatLngs(r),a)},setBounds:function(r){return this.setLatLngs(this._boundsToLatLngs(r))},_boundsToLatLngs:function(r){return r=Fe(r),[r.getSouthWest(),r.getNorthWest(),r.getNorthEast(),r.getSouthEast()]}});function rd(r,a){return new bs(r,a)}en.create=Kn,en.pointsToPath=so,wA.geometryToLayer=h,wA.coordsToLatLng=_,wA.coordsToLatLngs=U,wA.latLngToCoords=E,wA.latLngsToCoords=k,wA.getFeature=j,wA.asFeature=G,yt.mergeOptions({boxZoom:!0});var Qs=Dn.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane,this._resetStateTimeout=0,r.on("unload",this._destroy,this)},addHooks:function(){at(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){St(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Dt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(r){if(!r.shiftKey||r.which!==1&&r.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),xt(),ws(),this._startPoint=this._map.mouseEventToContainerPoint(r),at(document,{contextmenu:qn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(r){this._moved||(this._moved=!0,this._box=ze("div","leaflet-zoom-box",this._container),dt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(r);var a=new H(this._point,this._startPoint),f=a.getSize();Jt(this._box,a.min),this._box.style.width=f.x+"px",this._box.style.height=f.y+"px"},_finish:function(){this._moved&&(Dt(this._box),Tt(this._container,"leaflet-crosshair")),pi(),Bs(),St(document,{contextmenu:qn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(r){if(!(r.which!==1&&r.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(d(this._resetState,this),0);var a=new Ie(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(a).fire("boxzoomend",{boxZoomBounds:a})}},_onKeyDown:function(r){r.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});yt.addInitHook("addHandler","boxZoom",Qs),yt.mergeOptions({doubleClickZoom:!0});var Xl=Dn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(r){var a=this._map,f=a.getZoom(),w=a.options.zoomDelta,Q=r.originalEvent.shiftKey?f-w:f+w;a.options.doubleClickZoom==="center"?a.setZoom(Q):a.setZoomAround(r.containerPoint,Q)}});yt.addInitHook("addHandler","doubleClickZoom",Xl),yt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ja=Dn.extend({addHooks:function(){if(!this._draggable){var r=this._map;this._draggable=new Yn(r._mapPane,r._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),r.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),r.on("zoomend",this._onZoomEnd,this),r.whenReady(this._onZoomEnd,this))}dt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Tt(this._map._container,"leaflet-grab"),Tt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var r=this._map;if(r._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var a=Fe(this._map.options.maxBounds);this._offsetLimit=le(this._map.latLngToContainerPoint(a.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(a.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;r.fire("movestart").fire("dragstart"),r.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(r){if(this._map.options.inertia){var a=this._lastTime=+new Date,f=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(f),this._times.push(a),this._prunePositions(a)}this._map.fire("move",r).fire("drag",r)},_prunePositions:function(r){for(;this._positions.length>1&&r-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var r=this._map.getSize().divideBy(2),a=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=a.subtract(r).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(r,a){return r-(r-a)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var r=this._draggable._newPos.subtract(this._draggable._startPos),a=this._offsetLimit;r.x<a.min.x&&(r.x=this._viscousLimit(r.x,a.min.x)),r.y<a.min.y&&(r.y=this._viscousLimit(r.y,a.min.y)),r.x>a.max.x&&(r.x=this._viscousLimit(r.x,a.max.x)),r.y>a.max.y&&(r.y=this._viscousLimit(r.y,a.max.y)),this._draggable._newPos=this._draggable._startPos.add(r)}},_onPreDragWrap:function(){var r=this._worldWidth,a=Math.round(r/2),f=this._initialWorldOffset,w=this._draggable._newPos.x,Q=(w-a+f)%r+a-f,T=(w+a+f)%r-a-f,Z=Math.abs(Q+f)<Math.abs(T+f)?Q:T;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Z},_onDragEnd:function(r){var a=this._map,f=a.options,w=!f.inertia||r.noInertia||this._times.length<2;if(a.fire("dragend",r),w)a.fire("moveend");else{this._prunePositions(+new Date);var Q=this._lastPos.subtract(this._positions[0]),T=(this._lastTime-this._times[0])/1e3,Z=f.easeLinearity,he=Q.multiplyBy(Z/T),we=he.distanceTo([0,0]),Ue=Math.min(f.inertiaMaxSpeed,we),$e=he.multiplyBy(Ue/we),ct=Ue/(f.inertiaDeceleration*Z),wt=$e.multiplyBy(-ct/2).round();!wt.x&&!wt.y?a.fire("moveend"):(wt=a._limitOffset(wt,a.options.maxBounds),Ee(function(){a.panBy(wt,{duration:ct,easeLinearity:Z,noMoveStart:!0,animate:!0})}))}}});yt.addInitHook("addHandler","dragging",Ja),yt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var qa=Dn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(r){this._map=r,this._setPanDelta(r.options.keyboardPanDelta),this._setZoomDelta(r.options.zoomDelta)},addHooks:function(){var r=this._map._container;r.tabIndex<=0&&(r.tabIndex="0"),at(r,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),St(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var r=document.body,a=document.documentElement,f=r.scrollTop||a.scrollTop,w=r.scrollLeft||a.scrollLeft;this._map._container.focus(),window.scrollTo(w,f)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(r){var a=this._panKeys={},f=this.keyCodes,w,Q;for(w=0,Q=f.left.length;w<Q;w++)a[f.left[w]]=[-1*r,0];for(w=0,Q=f.right.length;w<Q;w++)a[f.right[w]]=[r,0];for(w=0,Q=f.down.length;w<Q;w++)a[f.down[w]]=[0,r];for(w=0,Q=f.up.length;w<Q;w++)a[f.up[w]]=[0,-1*r]},_setZoomDelta:function(r){var a=this._zoomKeys={},f=this.keyCodes,w,Q;for(w=0,Q=f.zoomIn.length;w<Q;w++)a[f.zoomIn[w]]=r;for(w=0,Q=f.zoomOut.length;w<Q;w++)a[f.zoomOut[w]]=-r},_addHooks:function(){at(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){St(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(r){if(!(r.altKey||r.ctrlKey||r.metaKey)){var a=r.keyCode,f=this._map,w;if(a in this._panKeys){if(!f._panAnim||!f._panAnim._inProgress)if(w=this._panKeys[a],r.shiftKey&&(w=K(w).multiplyBy(3)),f.options.maxBounds&&(w=f._limitOffset(K(w),f.options.maxBounds)),f.options.worldCopyJump){var Q=f.wrapLatLng(f.unproject(f.project(f.getCenter()).add(w)));f.panTo(Q)}else f.panBy(w)}else if(a in this._zoomKeys)f.setZoom(f.getZoom()+(r.shiftKey?3:1)*this._zoomKeys[a]);else if(a===27&&f._popup&&f._popup.options.closeOnEscapeKey)f.closePopup();else return;qn(r)}}});yt.addInitHook("addHandler","keyboard",qa),yt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Mt=Dn.extend({addHooks:function(){at(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){St(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(r){var a=zo(r),f=this._map.options.wheelDebounceTime;this._delta+=a,this._lastMousePos=this._map.mouseEventToContainerPoint(r),this._startTime||(this._startTime=+new Date);var w=Math.max(f-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(d(this._performZoom,this),w),qn(r)},_performZoom:function(){var r=this._map,a=r.getZoom(),f=this._map.options.zoomSnap||0;r._stop();var w=this._delta/(this._map.options.wheelPxPerZoomLevel*4),Q=4*Math.log(2/(1+Math.exp(-Math.abs(w))))/Math.LN2,T=f?Math.ceil(Q/f)*f:Q,Z=r._limitZoom(a+(this._delta>0?T:-T))-a;this._delta=0,this._startTime=null,Z&&(r.options.scrollWheelZoom==="center"?r.setZoom(a+Z):r.setZoomAround(this._lastMousePos,a+Z))}});yt.addInitHook("addHandler","scrollWheelZoom",Mt);var Xa=600;yt.mergeOptions({tapHold:tt.touchNative&&tt.safari&&tt.mobile,tapTolerance:15});var Bo=Dn.extend({addHooks:function(){at(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){St(this._map._container,"touchstart",this._onDown,this)},_onDown:function(r){if(clearTimeout(this._holdTimeout),r.touches.length===1){var a=r.touches[0];this._startPos=this._newPos=new ge(a.clientX,a.clientY),this._holdTimeout=setTimeout(d(function(){this._cancel(),this._isTapValid()&&(at(document,"touchend",Ht),at(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",a))},this),Xa),at(document,"touchend touchcancel contextmenu",this._cancel,this),at(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function r(){St(document,"touchend",Ht),St(document,"touchend touchcancel",r)},_cancel:function(){clearTimeout(this._holdTimeout),St(document,"touchend touchcancel contextmenu",this._cancel,this),St(document,"touchmove",this._onMove,this)},_onMove:function(r){var a=r.touches[0];this._newPos=new ge(a.clientX,a.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(r,a){var f=new MouseEvent(r,{bubbles:!0,cancelable:!0,view:window,screenX:a.screenX,screenY:a.screenY,clientX:a.clientX,clientY:a.clientY});f._simulated=!0,a.target.dispatchEvent(f)}});yt.addInitHook("addHandler","tapHold",Bo),yt.mergeOptions({touchZoom:tt.touch,bounceAtZoomLimits:!0});var Us=Dn.extend({addHooks:function(){dt(this._map._container,"leaflet-touch-zoom"),at(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Tt(this._map._container,"leaflet-touch-zoom"),St(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(r){var a=this._map;if(!(!r.touches||r.touches.length!==2||a._animatingZoom||this._zooming)){var f=a.mouseEventToContainerPoint(r.touches[0]),w=a.mouseEventToContainerPoint(r.touches[1]);this._centerPoint=a.getSize()._divideBy(2),this._startLatLng=a.containerPointToLatLng(this._centerPoint),a.options.touchZoom!=="center"&&(this._pinchStartLatLng=a.containerPointToLatLng(f.add(w)._divideBy(2))),this._startDist=f.distanceTo(w),this._startZoom=a.getZoom(),this._moved=!1,this._zooming=!0,a._stop(),at(document,"touchmove",this._onTouchMove,this),at(document,"touchend touchcancel",this._onTouchEnd,this),Ht(r)}},_onTouchMove:function(r){if(!(!r.touches||r.touches.length!==2||!this._zooming)){var a=this._map,f=a.mouseEventToContainerPoint(r.touches[0]),w=a.mouseEventToContainerPoint(r.touches[1]),Q=f.distanceTo(w)/this._startDist;if(this._zoom=a.getScaleZoom(Q,this._startZoom),!a.options.bounceAtZoomLimits&&(this._zoom<a.getMinZoom()&&Q<1||this._zoom>a.getMaxZoom()&&Q>1)&&(this._zoom=a._limitZoom(this._zoom)),a.options.touchZoom==="center"){if(this._center=this._startLatLng,Q===1)return}else{var T=f._add(w)._divideBy(2)._subtract(this._centerPoint);if(Q===1&&T.x===0&&T.y===0)return;this._center=a.unproject(a.project(this._pinchStartLatLng,this._zoom).subtract(T),this._zoom)}this._moved||(a._moveStart(!0,!1),this._moved=!0),qe(this._animRequest);var Z=d(a._move,a,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Ee(Z,this,!0),Ht(r)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,qe(this._animRequest),St(document,"touchmove",this._onTouchMove,this),St(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});yt.addInitHook("addHandler","touchZoom",Us),yt.BoxZoom=Qs,yt.DoubleClickZoom=Xl,yt.Drag=Ja,yt.Keyboard=qa,yt.ScrollWheelZoom=Mt,yt.TapHold=Bo,yt.TouchZoom=Us,t.Bounds=H,t.Browser=tt,t.CRS=At,t.Canvas=Rt,t.Circle=yi,t.CircleMarker=Fn,t.Class=be,t.Control=Xn,t.DivIcon=Re,t.DivOverlay=ce,t.DomEvent=Hr,t.DomUtil=Vt,t.Draggable=Yn,t.Evented=Qe,t.FeatureGroup=kA,t.GeoJSON=wA,t.GridLayer=Te,t.Handler=Dn,t.Icon=$r,t.ImageOverlay=z,t.LatLng=Ne,t.LatLngBounds=Ie,t.Layer=mA,t.LayerGroup=YA,t.LineUtil=xs,t.Map=yt,t.Marker=mn,t.Mixin=Wi,t.Path=vA,t.Point=ge,t.PolyUtil=Wo,t.Polygon=Mn,t.Polyline=rn,t.Popup=Be,t.PosAnimation=Or,t.Projection=qo,t.Rectangle=bs,t.Renderer=lt,t.SVG=en,t.SVGOverlay=ue,t.TileLayer=Ke,t.Tooltip=Ce,t.Transformation=fA,t.Util=Ze,t.VideoOverlay=te,t.bind=d,t.bounds=le,t.canvas=pt,t.circle=_i,t.circleMarker=ea,t.control=mr,t.divIcon=He,t.extend=o,t.featureGroup=vo,t.geoJSON=ne,t.geoJson=re,t.gridLayer=Ve,t.icon=Yo,t.imageOverlay=de,t.latLng=Oe,t.latLngBounds=Fe,t.layerGroup=Wr,t.map=gr,t.marker=Xt,t.point=K,t.polygon=wr,t.polyline=wo,t.popup=_e,t.rectangle=rd,t.setOptions=N,t.stamp=m,t.svg=TA,t.svgOverlay=ae,t.tileLayer=We,t.tooltip=Se,t.transformation=Qt,t.version=i,t.videoOverlay=oe;var Yl=window.L;t.noConflict=function(){return window.L=Yl,this},window.L=t}))})(Bl,Bl.exports)),Bl.exports}var F_=E_();const ut=Kl(F_),uw=["audio/mp4;codecs=mp4a.40.2","audio/mp4","audio/mpeg","audio/aac","audio/3gpp","audio/webm;codecs=opus","audio/webm","audio/ogg;codecs=opus","audio/ogg"];class Fi extends Error{issue;constructor(e,t){super(e),this.name="MicrophoneError",this.issue=t}}function of(){return typeof window<"u"&&typeof window.MediaRecorder<"u"}function S_(A=uw){if(!of())return;const e=window.MediaRecorder?.isTypeSupported?.bind(window.MediaRecorder);if(e){for(const t of A)if(e(t))return t}}function I_(A){return A?{audio:{deviceId:{exact:A}}}:{audio:!0}}function yc(A){if(!(A instanceof Error))return new Fi("Microphone error","unknown");const e=A.name||A.code,t=A.message||"Microphone error";switch(e){case"NotAllowedError":case"SecurityError":case"PermissionDeniedError":return new Fi("Microphone permission denied. Allow access in browser settings and try again.","denied");case"NotFoundError":case"DevicesNotFoundError":return new Fi("No microphone is available. Connect one or choose a different input and try again.","no-device");case"NotReadableError":case"AbortError":case"InvalidStateError":case"HardwareUnavailableError":return new Fi("The microphone is in use by another application. Close other apps that use audio and retry.","hardware");default:return new Fi(t,"unknown")}}async function L_(A={}){if(typeof navigator>"u"||!navigator.mediaDevices?.getUserMedia)throw new Fi("Microphone not supported in this browser.","not-supported");try{return await navigator.mediaDevices.getUserMedia(I_(A.deviceId))}catch(e){throw yc(e)}}const k_=uw;function Gc(A){if(A?.blob instanceof Blob&&A.blob.size>0)return A.blob;const e=A?.data;if(!e)return null;let t=null;if(e instanceof ArrayBuffer)t=e;else if(e instanceof Uint8Array)t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);else if(ArrayBuffer.isView(e)){const o=e;t=o.buffer.slice(o.byteOffset,o.byteOffset+o.byteLength)}if(!t)return null;const i=A?.mimeType||"audio/webm";return new Blob([t],{type:i})}const T_=600;function cw(A={}){const[e,t]=F.useState(!1),[i,o]=F.useState(null),[u,d]=F.useState(null),[g,m]=F.useState("unknown"),y=F.useRef(null),C=F.useRef(null),b=F.useRef([]),S=F.useRef(0),O=F.useRef(null),P=F.useRef(null),N=F.useCallback(()=>{if(P.current!=null&&(clearTimeout(P.current),P.current=null),y.current)try{y.current.ondataavailable=null,y.current.onerror=null,y.current.onstop=null}catch{}if(y.current=null,C.current)try{C.current.getTracks().forEach(J=>J.stop())}catch{}C.current=null},[]);F.useEffect(()=>{let J=!1;try{typeof navigator<"u"&&navigator.permissions?.query&&navigator.permissions.query({name:"microphone"}).then($=>{J||(m($.state),$.onchange=()=>{J||m($.state)})}).catch(()=>m("unknown"))}catch{m("unknown")}return()=>{J=!0}},[]),F.useEffect(()=>()=>{y.current&&N()},[N]);const W=F.useCallback(async()=>{if(e)return;if(!of()){const X=new Fi("This browser does not support audio recording.","not-supported");throw o(X.message),d(X.issue),X}o(null),d(null);const J=S_(A.preferredMimeTypes||k_);let M;try{M=await L_({deviceId:A.deviceId}),m("granted")}catch(X){const Ae=X instanceof Fi?X:yc(X);throw o(Ae.message),d(Ae.issue),Ae.issue==="denied"&&m("denied"),Ae}C.current=M;const $=new MediaRecorder(M,J?{mimeType:J}:void 0);y.current=$,b.current=[],S.current=Date.now();const q=()=>{const X=O.current;if(!X)return;P.current!=null&&(clearTimeout(P.current),P.current=null);const Ae=new Blob(b.current,{type:$.mimeType||J||"audio/webm"});b.current=[];const ve=Date.now()-S.current;if(N(),t(!1),O.current=null,!Ae.size||ve<(A.minDurationMs??T_)){const Ee=new Error("No audio captured. Try again.");o(Ee.message),X.reject(Ee);return}X.resolve({blob:Ae,mimeType:Ae.type||"audio/webm",durationMs:ve})},xe=()=>{O.current&&P.current==null&&(P.current=setTimeout(()=>{P.current=null,q()},30))};$.ondataavailable=X=>{X?.data&&(X.data.size>0&&b.current.push(X.data),$.state==="inactive"&&xe())},$.onerror=X=>{const Ae=X.error||new Error("Recording error"),ve=Ae instanceof Fi?Ae:yc(Ae);o(ve.message),d(ve.issue),ve.issue==="denied"&&m("denied"),O.current?.reject(ve),O.current=null,N(),t(!1)},$.onstop=()=>{xe()};try{$.start()}catch{$.start()}t(!0)},[N,e,A.deviceId,A.minDurationMs,A.preferredMimeTypes]),D=F.useCallback(()=>{if(!y.current)return Promise.reject(new Error("No active recording to stop."));if(O.current?.promise)return O.current.promise;let J,M;const $=new Promise((q,xe)=>{J=q,M=xe});O.current={resolve:J,reject:M,promise:$};try{try{y.current?.requestData?.()}catch{}y.current.stop()}catch(q){const xe=q instanceof Fi?q:yc(q);return o(xe.message),d(xe.issue),xe.issue==="denied"&&m("denied"),O.current=null,N(),t(!1),Promise.reject(xe)}return $},[N]),R=F.useCallback(()=>{o(null),d(null)},[]);return{isRecording:e,error:i,issue:u,permission:g,startRecording:W,stopRecording:D,resetError:R,isSupported:of()}}function dw(){try{return localStorage.getItem("openai_api_key")||void 0}catch{return}}function Fc(A){if(!A)return;const e=A.trim();if(!e)return;const t=e.split(/[-_]/)[0]?.toLowerCase();if(!(!t||t.length<2))return t.slice(0,2)}async function P_(A,e){const t=dw();if(!t)throw new Error("Missing OpenAI API key in Settings");if(!A||A.size===0)throw new Error("Audio clip is empty. Record a new memo and try again.");const i=new FormData,o=new File([A],`audio.${N_(A.type)}`,{type:A.type||"audio/webm"});i.append("file",o),i.append("model",e?.model||"whisper-1");const u=Fc(e?.language);u&&i.append("language",u);const d=await fetch("https://api.openai.com/v1/audio/transcriptions",{method:"POST",headers:{Authorization:`Bearer ${t}`},body:i});if(!d.ok){let m="";try{const C=await d.json();m=C?.error?.message||C?.message||""}catch{try{m=await d.text()}catch{m=""}}const y=m?` - ${m}`:"";throw new Error(`Transcription failed: HTTP ${d.status}${y}`)}const g=await d.json();if(!g?.text)throw new Error("No text in transcription response");return g.text}function N_(A){return!A||A.includes("webm")?"webm":A.includes("ogg")?"ogg":A.includes("mp3")?"mp3":A.includes("wav")?"wav":A.includes("m4a")||A.includes("mp4")?"m4a":"webm"}function j_(){const[A,e]=F.useState(()=>({id:crypto.randomUUID(),title:"",createdAt:new Date().toISOString(),plannedAt:new Date().toISOString().slice(0,10)})),[t,i]=F.useState([]),[o,u]=F.useState([]),[d,g]=F.useState([]),m=F.useRef(null),y=F.useRef(null),C=F.useRef(null),b=F.useRef(null),[S,O]=F.useState("aerial"),[P,N]=F.useState(null),W=F.useRef(null),D=F.useRef({}),R=F.useRef([]),[J,M]=F.useState(!1);F.useEffect(()=>{M(!1)},[A]),F.useEffect(()=>{W.current=P},[P]),F.useEffect(()=>{P&&g(X=>X.includes(P)?X:[...X,P])},[P]);async function $(){await z0(A),M(!0),u(await mc())}async function q(){const X={id:crypto.randomUUID(),runId:A.id,seq:t.length+1,createdAt:new Date().toISOString()};await $0(X),g(Ae=>Ae.includes(X.id)?Ae:[...Ae,X.id]),i(await ma(A.id))}F.useEffect(()=>{(async()=>(u(await mc()),i(await ma(A.id))))()},[A.id]),F.useEffect(()=>{g(X=>{if(t.length===0)return[];const Ae=new Set(t.map(Ee=>Ee.id)),ve=X.filter(Ee=>Ae.has(Ee));return ve.length===0?[t[t.length-1].id]:ve.length===X.length&&ve.every((Ee,qe)=>Ee===X[qe])?X:ve})},[t]),F.useEffect(()=>{const X=new Set(t.map(ve=>ve.id)),Ae=D.current;Object.keys(Ae).forEach(ve=>{X.has(ve)||(Ae[ve]=null)})},[t]),F.useEffect(()=>{const X=R.current,Ae=d.filter(ve=>!X.includes(ve));if(Ae.length>0){const ve=Ae[Ae.length-1],Ee=D.current[ve];Ee&&(typeof window<"u"&&typeof window.requestAnimationFrame=="function"?window.requestAnimationFrame(()=>{Ee.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}):Ee.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}))}R.current=[...d]},[d]),F.useEffect(()=>{const X=y.current;if(!m.current)return;if(y.current)X.invalidateSize();else{const Ee=t.find(se=>typeof se.lat=="number"&&typeof se.lon=="number"),qe=Ee?[Ee.lat,Ee.lon]:[30.2672,-97.7431],Ze=ut.map(m.current).setView(qe,Ee?12:6),be=ut.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:" OpenStreetMap contributors",maxZoom:19}).addTo(Ze),et=ut.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",{attribution:"Imagery  Esri, Maxar, Earthstar Geographics",maxZoom:19,opacity:0});et.on("load",()=>et.setOpacity(1)),S==="aerial"&&(be.bringToBack?.(),et.addTo(Ze)),ut.control.scale({imperial:!0,metric:!1}).addTo(Ze),y.current=Ze,C.current=be,b.current=et,Ze.on("click",async se=>{const Qe=W.current;Qe&&(await am(Qe,{lat:se.latlng.lat,lon:se.latlng.lng}),i(await ma(A.id)),N(null))}),setTimeout(()=>Ze.invalidateSize(),150)}const Ae=y.current;Ae.eachLayer(Ee=>{(Ee instanceof ut.Marker||Ee instanceof ut.Polyline)&&Ae.removeLayer(Ee)});const ve=[];t.forEach(Ee=>{typeof Ee.lat=="number"&&typeof Ee.lon=="number"&&(ut.marker([Ee.lat,Ee.lon]).addTo(Ae),ve.push([Ee.lat,Ee.lon]))}),ve.length>=2&&ut.polyline(ve,{color:"#0ea5e9"}).addTo(Ae),ve.length>=1&&Ae.fitBounds(ut.latLngBounds(ve),{padding:[24,24]})},[t]),F.useEffect(()=>{const X=y.current;if(!(!X||!C.current||!b.current))if(S==="aerial")b.current.addTo(X),b.current.setOpacity(0),b.current.once("load",()=>b.current.setOpacity(1)),C.current.bringToBack?.();else{try{X.removeLayer(b.current)}catch{}C.current.addTo(X)}},[S]);function xe(X){N(Ae=>{const ve=Ae===X?null:X;return ve&&g(Ee=>Ee.includes(ve)?Ee:[...Ee,ve]),ve})}return c.jsxs("div",{className:"grid",style:{gap:12},children:[c.jsxs("section",{className:"card",children:[c.jsx("h3",{children:"Fish Run"}),c.jsx("div",{className:"row",style:{gap:8,marginBottom:8},children:c.jsxs("label",{className:"label",children:["Map",c.jsxs("select",{className:"select",value:S,onChange:X=>O(X.target.value),children:[c.jsx("option",{value:"aerial",children:"Aerial"}),c.jsx("option",{value:"street",children:"Street"})]})]})}),o.length>0&&c.jsxs("div",{className:"row",style:{gap:8,marginBottom:8},children:[c.jsxs("label",{className:"label",children:["Load Existing Run",c.jsx("select",{className:"select",value:A.id,onChange:async X=>{const Ae=X.target.value,ve=o.find(Ee=>Ee.id===Ae);ve&&(e(ve),i(await ma(Ae)))},children:[A,...o.filter(X=>X.id!==A.id)].map(X=>c.jsx("option",{value:X.id,children:X.title||X.id},X.id))})]}),c.jsx("button",{className:"btn warn",onClick:async()=>{if(!confirm("Really delete this fish run?"))return;await W0(A.id);const X=await mc();u(X),X[0]?(e(X[0]),i(await ma(X[0].id))):(e({id:crypto.randomUUID(),title:"",createdAt:new Date().toISOString()}),i([]))},children:"Delete Run"})]}),c.jsxs("div",{className:"form-grid",children:[c.jsxs("label",{className:"label",children:["Title",c.jsx("input",{className:"input",value:A.title||"",onChange:X=>e({...A,title:X.target.value})})]}),c.jsxs("label",{className:"label",children:["Planned Date",c.jsx("input",{className:"input",type:"date",value:(A.plannedAt||"").slice(0,10),onChange:X=>e({...A,plannedAt:X.target.value})})]}),c.jsxs("label",{className:"label",style:{gridColumn:"1 / -1"},children:["Notes",c.jsx("textarea",{className:"textarea",value:A.notes||"",onChange:X=>e({...A,notes:X.target.value})})]})]}),c.jsxs("div",{className:"row",style:{marginTop:8},children:[c.jsx("button",{className:"btn",onClick:$,children:J?"Saved":"Save Run"}),c.jsx("button",{className:"btn secondary",onClick:q,children:"Add Stop"})]})]}),c.jsxs("section",{className:"card",children:[c.jsx("h3",{children:"Run Map"}),c.jsx("div",{ref:m,style:{height:300,width:"100%",borderRadius:8,border:"1px solid var(--border, #d4d4d8)"}})]}),t.length===0?c.jsx("div",{className:"muted",children:"No stops yet"}):c.jsx("div",{className:"grid",style:{gap:8},children:t.map(X=>{const Ae=d.includes(X.id),ve=P===X.id?"Awaiting map click...":typeof X.lat=="number"&&typeof X.lon=="number"?`(${X.lat.toFixed(4)}, ${X.lon.toFixed(4)})`:"No location",Ee={display:"flex",gap:8,alignItems:"center",padding:"10px 12px",borderRadius:8,border:"1px solid var(--border, #d4d4d8)",background:"var(--surface, #fff)",cursor:"pointer",marginBottom:Ae?8:0};return c.jsxs("details",{ref:qe=>{D.current[X.id]=qe},open:Ae,className:"accordion",onToggle:qe=>{const Ze=qe.currentTarget.open;g(be=>Ze?be.includes(X.id)?be:[...be,X.id]:be.filter(et=>et!==X.id))},children:[c.jsxs("summary",{className:"accordion__summary",style:Ee,children:[c.jsxs("span",{children:["Stop #",X.seq,X.site?` - ${X.site}`:""]}),c.jsx("small",{className:"muted",style:{marginLeft:"auto"},children:ve})]}),c.jsx(H_,{runId:A.id,stop:X,onChange:async qe=>{await am(X.id,qe),i(await ma(A.id))},onSetFromMap:()=>xe(X.id),awaitingMap:P===X.id})]},X.id)})})]})}function H_({runId:A,stop:e,onChange:t,onSetFromMap:i,awaitingMap:o}){const u=typeof navigator<"u"?navigator.language:"en-US",[d,g]=F.useState(null),[m,y]=F.useState(0);function C(M){t({address:M})}function b(M){const $={address:M.label};M.lat!=null&&($.lat=M.lat),M.lon!=null&&($.lon=M.lon),t($)}const{isRecording:S,startRecording:O,stopRecording:P,error:N,resetError:W,isSupported:D}=cw({minDurationMs:800});F.useEffect(()=>{N&&g(N)},[N]);async function R(){g(null),W();try{await O()}catch(M){const $=M?.message||"Could not start recording.";g($)}}async function J(){try{const M=await P(),$=Math.max(1,Math.round(M.durationMs/1e3)),q=new Date().toISOString(),xe=Fc(u);await tw({id:crypto.randomUUID(),jobId:A,stopId:e.id,blob:M.blob,createdAt:q,mimeType:M.mimeType,lang:xe,durationSec:$}),g("Voice memo saved for this stop."),y(X=>X+1)}catch(M){const $=M?.message||"Could not save voice memo.";g($)}}return c.jsxs("section",{className:"card",children:[c.jsxs("h4",{children:["Stop #",e.seq]}),c.jsxs("div",{className:"form-grid",children:[c.jsxs("label",{className:"label",children:["Client",c.jsx("input",{className:"input",value:e.client||"",onChange:M=>t({client:M.target.value})})]}),c.jsxs("label",{className:"label",children:["Site",c.jsx("input",{className:"input",value:e.site||"",onChange:M=>t({site:M.target.value})})]}),c.jsxs("label",{className:"label",style:{gridColumn:"1 / -1"},children:["Address",c.jsxs("div",{className:"row",style:{gap:8,alignItems:"flex-end"},children:[c.jsx("div",{style:{flex:1},children:c.jsx(Wl,{value:e.address||"",onChange:C,onSelect:b,placeholder:"Start typing address"})}),c.jsx("button",{type:"button",className:"btn secondary",onClick:async()=>{const M=(e.address||"").trim();if(!M){alert("Enter an address first");return}try{const q=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(M)}&limit=1`,{headers:{Accept:"application/json"}})).json();q[0]?await t({lat:Number(q[0].lat),lon:Number(q[0].lon)}):alert("Address not found")}catch($){alert("Geocoding failed: "+($?.message||$))}},children:"Find"})]})]}),c.jsxs("label",{className:"label",children:["Latitude",c.jsx("input",{className:"input",type:"number",value:e.lat??"",onChange:M=>t({lat:M.target.value?Number(M.target.value):void 0})})]}),c.jsxs("label",{className:"label",children:["Longitude",c.jsx("input",{className:"input",type:"number",value:e.lon??"",onChange:M=>t({lon:M.target.value?Number(M.target.value):void 0})})]}),c.jsxs("div",{className:"row",style:{gridColumn:"1 / -1",gap:8,alignItems:"center"},children:[c.jsx("button",{type:"button",className:"btn secondary",onClick:i,title:"Click the run map to set location for this stop",children:o?"Waiting For Map...":"Set From Map"}),c.jsx("small",{className:"muted",children:o?"Click the run map to place this stop.":"Press Set From Map and then click the run map."})]}),c.jsxs("label",{className:"label",children:["Species",c.jsx("input",{className:"input",value:e.species||"",onChange:M=>t({species:M.target.value})})]}),c.jsxs("label",{className:"label",children:["Count",c.jsx("input",{className:"input",type:"number",value:e.count??"",onChange:M=>t({count:Number(M.target.value)||void 0})})]}),c.jsxs("label",{className:"label",children:["Weight (lb)",c.jsx("input",{className:"input",type:"number",value:e.weightLb??"",onChange:M=>t({weightLb:Number(M.target.value)||void 0})})]}),c.jsxs("label",{className:"label",children:["Tank Temp (F)",c.jsx("input",{className:"input",type:"number",value:e.tankTempF??"",onChange:M=>t({tankTempF:Number(M.target.value)||void 0})})]}),c.jsxs("label",{className:"label",children:["Pond Temp (F)",c.jsx("input",{className:"input",type:"number",value:e.pondTempF??"",onChange:M=>t({pondTempF:Number(M.target.value)||void 0})})]}),c.jsxs("label",{className:"label",style:{gridColumn:"1 / -1"},children:["Notes",c.jsx("textarea",{className:"textarea",value:e.note||"",onChange:M=>t({note:M.target.value})})]})]}),c.jsx("div",{className:"row",style:{gap:8,marginTop:8,flexWrap:"wrap"},children:D?S?c.jsx("button",{className:"btn warn",onClick:J,children:"Stop Voice Memo"}):c.jsx("button",{className:"btn",onClick:R,children:"Record Voice Memo"}):c.jsx("button",{className:"btn",disabled:!0,title:"MediaRecorder not supported",children:"Record Voice Memo"})}),d&&c.jsx("div",{className:"muted",style:{marginTop:8,color:d.includes("saved")?"var(--success, #16a34a)":"var(--danger, #dc2626)"},children:d}),c.jsx(O_,{stopId:e.id,refreshKey:m})]})}function O_({stopId:A,refreshKey:e}){const[t,i]=F.useState([]);return F.useEffect(()=>{let o=!0;return(async()=>{const d=await pe.audioNotes.where("stopId").equals(A).reverse().sortBy("createdAt");o&&i(d)})(),()=>{o=!1}},[A,e]),t.length===0?null:c.jsxs("div",{style:{marginTop:8},children:[c.jsx("strong",{children:"Voice Memos"}),c.jsx("ul",{className:"list",children:t.map(o=>c.jsxs("li",{children:[c.jsx("small",{className:"muted",children:new Date(o.createdAt).toLocaleString()}),c.jsx("div",{children:c.jsx(D_,{note:o})})]},o.id))})]})}function D_({note:A}){const e=F.useMemo(()=>Gc(A),[A]),t=F.useMemo(()=>e?URL.createObjectURL(e):void 0,[e]);if(F.useEffect(()=>()=>{t&&URL.revokeObjectURL(t)},[t]),!e||!t)return c.jsx("span",{className:"muted",children:"Audio unavailable"});const i=e.type||A?.mimeType||"audio/webm";return c.jsx("audio",{controls:!0,children:c.jsx("source",{src:t,type:i})})}function R_(){const A=Vl(),[e,t]=F.useState([]),[i,o]=F.useState("");F.useEffect(()=>{(async()=>t(await pe.jobs.toArray()))()},[]);const u=F.useMemo(()=>e.filter(g=>i?(g.createdBy||"").toLowerCase().includes(i.toLowerCase()):!0).sort((g,m)=>new Date(m.createdAt).getTime()-new Date(g.createdAt).getTime()),[e,i]);return c.jsx("div",{className:"grid",children:c.jsx(lw,{items:[{label:"New Job",accent:"green",startOpen:!0,content:c.jsxs("div",{className:"card",style:{background:"linear-gradient(180deg, var(--brand-50), #fff)"},children:[c.jsx("div",{style:{marginBottom:8,color:"var(--muted)"},children:"Create a new job by entering the client and site details. Location can be captured on site."}),c.jsx(b_,{onCreated:d=>A(`/job/${d}`)})]})},{label:"New Fish Run",accent:"cyan",content:c.jsxs("div",{className:"card",style:{background:"linear-gradient(180deg, #ecfeff, #fff)"},children:[c.jsx("div",{style:{marginBottom:8,color:"var(--muted)"},children:"Plan multi-stop fish runs with stops, species, counts/weights, and per-stop notes."}),c.jsx(j_,{})]})},{label:"Recent Jobs",accent:"amber",content:c.jsxs("div",{className:"card",children:[c.jsx("div",{className:"row",style:{marginBottom:8},children:c.jsxs("label",{className:"label",children:["Filter by employee",c.jsx("input",{className:"input",value:i,onChange:d=>o(d.target.value),placeholder:"Employee name"})]})}),u.length===0?c.jsx("p",{className:"muted",children:"No jobs yet."}):c.jsxs("table",{className:"table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Client"}),c.jsx("th",{children:"Site"}),c.jsx("th",{children:"Created"}),c.jsx("th",{children:"Employee"}),c.jsx("th",{children:"Location"}),c.jsx("th",{children:"Actions"})]})}),c.jsx("tbody",{children:u.map(d=>c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx(Ai,{to:`/job/${d.id}`,children:d.clientName})}),c.jsx("td",{children:d.siteName||"-"}),c.jsx("td",{children:new Date(d.createdAt).toLocaleString()}),c.jsx("td",{children:d.createdBy||"-"}),c.jsx("td",{children:typeof d.lat=="number"&&typeof d.lon=="number"?`${d.lat.toFixed(5)}, ${d.lon.toFixed(5)}`:"-"}),c.jsxs("td",{children:[c.jsx(Ai,{className:"btn secondary",to:`/job/${d.id}/summary`,children:"Summary"}),c.jsx("button",{className:"btn warn",style:{marginLeft:6},onClick:()=>M_(d.id),children:"Delete"})]})]},d.id))})]})]})}]})})}async function M_(A){confirm("Delete this job and all related notes, photos, measurements, etc.?")&&(await pe.notes.where("jobId").equals(A).delete(),await pe.photos.where("jobId").equals(A).delete(),await pe.measurements.where("jobId").equals(A).delete(),await pe.waterQuality.where("jobId").equals(A).delete(),await pe.tracks.where("jobId").equals(A).delete(),await pe.checklists.where("jobId").equals(A).delete(),await pe.audioNotes.where("jobId").equals(A).delete(),pe.depthPoints&&await pe.depthPoints.where("jobId").equals(A).delete(),pe.ponds&&await pe.ponds.where("jobId").equals(A).delete(),pe.jobLogs&&await pe.jobLogs.where("jobId").equals(A).delete(),await pe.jobs.delete(A),location.reload())}function K_({jobId:A}){const[e,t]=F.useState(""),[i,o]=F.useState([]),[u,d]=F.useState([]),[g,m]=F.useState([]),[y,C]=F.useState(""),[b,S]=F.useState(null),[O,P]=F.useState(null),[N,W]=F.useState(null),[D,R]=F.useState(""),{isRecording:J,startRecording:M,stopRecording:$,error:q,resetError:xe,isSupported:X}=cw({deviceId:y,minDurationMs:800});F.useEffect(()=>{q&&P(q)},[q]),F.useEffect(()=>{let be=!0;const et=async()=>{const Qe=await pe.audioNotes.where("jobId").equals(A).reverse().sortBy("createdAt");be&&d(Qe)};et();const se=setInterval(et,2e3);return()=>{be=!1,clearInterval(se)}},[A]),F.useEffect(()=>{let be=!0;const et=async()=>{const Qe=await pe.notes.where("jobId").equals(A).reverse().sortBy("createdAt");be&&o(Qe)};et();const se=setInterval(et,2e3);return()=>{be=!1,clearInterval(se)}},[A]),F.useEffect(()=>{async function be(){try{if(!navigator.mediaDevices?.enumerateDevices)return;const se=(await navigator.mediaDevices.enumerateDevices()).filter(Qe=>Qe.kind==="audioinput");m(se),!y&&se[0]?.deviceId&&C(se[0].deviceId)}catch{}}be()},[y]);async function Ae(be){be.preventDefault();const et=e.trim();if(!et)return;const se=new Date().toISOString();await sm({id:crypto.randomUUID(),jobId:A,text:et,createdAt:se}),await hn(A,"note_add",`Added note: ${et.slice(0,40)}`,_n()),t("")}async function ve(){P(null),xe();try{await M()}catch(be){const et=be?.message||"Could not start recording.";P(et)}}async function Ee(){try{const be=await $(),et=Math.max(1,Math.round(be.durationMs/1e3)),se=new Date().toISOString(),Qe=Fc(navigator.language);await tw({id:crypto.randomUUID(),jobId:A,blob:be.blob,createdAt:se,mimeType:be.mimeType,lang:Qe,durationSec:et});const ge=await pe.audioNotes.where("jobId").equals(A).reverse().sortBy("createdAt");d(ge),P(null)}catch(be){const et=be?.message||"Recording did not capture any audio.";P(et)}}async function qe(be){try{if(!dw()){alert("Add an OpenAI API key in Settings to enable transcription.");return}S(be.id);const et=Gc(be);if(!et){alert("Audio data is unavailable. Please re-record this memo and try again.");return}const se=await P_(et,{language:Fc(be.lang)});await om(be.id,{transcript:se}),await hn(A,"audio_transcribed",`Transcribed audio note (${(se||"").slice(0,40)})`,_n());const Qe=await pe.audioNotes.where("jobId").equals(A).reverse().sortBy("createdAt");d(Qe)}catch(et){alert(et?.message||"Transcription failed")}finally{S(null)}}async function Ze(be){if(!be?.transcript)return;const et=`Voice memo transcript: ${be.transcript}`,se=new Date().toISOString(),Qe=crypto.randomUUID();await sm({id:Qe,jobId:A,text:et,createdAt:se}),await om(be.id,{promotedNoteId:Qe}),await hn(A,"note_add",`Converted voice memo to note: ${(be.transcript||"").slice(0,40)}`,_n());const[ge,Pe]=await Promise.all([pe.audioNotes.where("jobId").equals(A).reverse().sortBy("createdAt"),pe.notes.where("jobId").equals(A).reverse().sortBy("createdAt")]);d(ge),o(Pe)}return c.jsxs("div",{className:"grid",style:{gap:12},children:[c.jsxs("form",{className:"row",style:{gap:8},onSubmit:Ae,children:[c.jsx("input",{className:"input",style:{flex:1,minWidth:200},placeholder:"Add a note...",value:e,onChange:be=>t(be.target.value)}),c.jsx("button",{className:"btn",type:"submit",children:"Add"})]}),c.jsxs("div",{className:"row",style:{gap:8,alignItems:"center",flexWrap:"wrap"},children:[g.length>0&&c.jsxs("label",{className:"row",style:{gap:6},children:[c.jsx("span",{className:"muted",children:"Mic"}),c.jsx("select",{className:"select",value:y,onChange:be=>{C(be.target.value),P(null)},children:g.map(be=>c.jsx("option",{value:be.deviceId,children:be.label||"Microphone"},be.deviceId))}),c.jsx("button",{type:"button",className:"btn secondary",onClick:async()=>{try{const be=await navigator.mediaDevices.enumerateDevices();m(be.filter(et=>et.kind==="audioinput"))}catch{}},children:"Refresh"})]}),X?J?c.jsx("button",{className:"btn warn",onClick:Ee,children:"Stop"}):c.jsx("button",{className:"btn",onClick:ve,title:"Requires an available microphone",children:"Record Voice Memo"}):c.jsx("button",{className:"btn",disabled:!0,title:"MediaRecorder not supported",children:"Record Voice Memo"})]}),O&&c.jsx("div",{className:"muted",style:{color:"var(--danger, #dc2626)"},children:O}),i.length>0&&c.jsxs("section",{className:"card",children:[c.jsx("h4",{children:"Text Notes"}),c.jsx("ul",{className:"list",children:i.map(be=>{const et=N===be.id;return c.jsxs("li",{style:{display:"grid",gap:6},children:[c.jsx("small",{className:"muted",children:new Date(be.createdAt).toLocaleString()}),c.jsxs("div",{style:{display:"grid",gap:8},children:[c.jsx("div",{style:{whiteSpace:"pre-wrap"},children:et?c.jsx("textarea",{className:"textarea",value:D,onChange:se=>R(se.target.value),rows:Math.max(2,D.split(`
`).length)}):be.text}),et?c.jsxs("div",{className:"row",style:{gap:6,justifyContent:"flex-end"},children:[c.jsx("button",{className:"btn secondary",onClick:()=>{W(null),R("")},children:"Cancel"}),c.jsx("button",{className:"btn",onClick:async()=>{const se=D.trim();if(!se){alert("Note cannot be empty.");return}await pe.notes.update(be.id,{text:se}),await hn(A,"note_edit",`Updated note: ${se.slice(0,40)}`,_n());const Qe=await pe.notes.where("jobId").equals(A).reverse().sortBy("createdAt");o(Qe),W(null),R("")},children:"Save"})]}):c.jsxs("div",{className:"row",style:{gap:6,justifyContent:"flex-end"},children:[c.jsx("button",{className:"btn secondary",onClick:()=>{W(be.id),R(be.text||"")},children:"Edit"}),c.jsx("button",{className:"btn warn",onClick:async()=>{confirm("Delete this note?")&&(await pe.notes.delete(be.id),o(await pe.notes.where("jobId").equals(A).reverse().sortBy("createdAt")))},children:"Delete"})]})]})]},be.id)})})]}),u.length===0?c.jsx("div",{className:"muted",children:"No voice memos yet."}):c.jsx("div",{className:"grid",style:{gap:8},children:u.map(be=>c.jsxs("div",{className:"card",style:{padding:8},children:[c.jsxs("div",{className:"row",style:{justifyContent:"space-between",alignItems:"center"},children:[c.jsx("small",{className:"muted",children:new Date(be.createdAt).toLocaleString()}),c.jsxs("div",{className:"row",style:{gap:8},children:[c.jsx(V_,{note:be}),c.jsx("button",{className:"btn",disabled:!!b,onClick:()=>qe(be),children:b===be.id?"Transcribing...":"Transcribe"}),c.jsx("button",{className:"btn warn",onClick:async()=>{confirm("Delete this voice memo?")&&(await pe.audioNotes.delete(be.id),d(await pe.audioNotes.where("jobId").equals(A).reverse().sortBy("createdAt")))},children:"Delete"})]})]}),be.transcript&&c.jsxs("div",{style:{marginTop:6},children:[c.jsx("strong",{children:"Transcript:"})," ",c.jsx("div",{children:be.transcript}),c.jsx("div",{className:"row",style:{marginTop:6,gap:8},children:c.jsx("button",{className:"btn secondary",disabled:!!be.promotedNoteId,onClick:()=>Ze(be),children:be.promotedNoteId?"Saved To Notes":"Save Transcript as Note"})})]})]},be.id))})]})}function V_({note:A}){const e=F.useMemo(()=>Gc(A),[A]),t=F.useMemo(()=>e?URL.createObjectURL(e):void 0,[e]);if(F.useEffect(()=>()=>{t&&URL.revokeObjectURL(t)},[t]),!t||!e)return c.jsx("span",{className:"muted",children:"Audio unavailable"});const i=e.type||A?.mimeType||"audio/webm";return c.jsxs("audio",{controls:!0,children:[c.jsx("source",{src:t,type:i}),"Your browser does not support audio playback."]})}function G_({jobId:A}){const[e,t]=F.useState(""),[i,o]=F.useState("ft"),[u,d]=F.useState("depth");async function g(m){m.preventDefault();const y=Number(e);if(!Number.isFinite(y))return;const C=new Date().toISOString();await O0({id:crypto.randomUUID(),jobId:A,unit:i,kind:u,value:y,createdAt:C}),await hn(A,"measurement_add",`Added ${u}: ${y} ${i}`,_n()),t("")}return c.jsxs("form",{onSubmit:g,className:"row",children:[c.jsxs("select",{className:"select",value:u,onChange:m=>d(m.target.value),children:[c.jsx("option",{value:"length",children:"Length"}),c.jsx("option",{value:"width",children:"Width"}),c.jsx("option",{value:"depth",children:"Depth"}),c.jsx("option",{value:"perimeter",children:"Perimeter"}),c.jsx("option",{value:"depthSample",children:"Depth Sample"}),c.jsx("option",{value:"custom",children:"Custom"})]}),c.jsx("input",{className:"input",value:e,onChange:m=>t(m.target.value),placeholder:"Value",style:{width:160}}),c.jsxs("select",{className:"select",value:i,onChange:m=>o(m.target.value),children:[c.jsx("option",{value:"ft",children:"ft"}),c.jsx("option",{value:"in",children:"in"}),c.jsx("option",{value:"yd",children:"yd"}),c.jsx("option",{value:"m",children:"m"}),c.jsx("option",{value:"cm",children:"cm"})]}),c.jsx("button",{className:"btn",type:"submit",children:"Add"})]})}function z_({jobId:A}){const e=F.useRef(null),[t,i]=F.useState(null);async function o(u){const d=u.target.files?.[0];if(!d)return;const g=URL.createObjectURL(d);i(g);const m=new Date().toISOString();let y={};try{if("geolocation"in navigator){const C=await new Promise((b,S)=>navigator.geolocation.getCurrentPosition(b,S,{enableHighAccuracy:!0,timeout:8e3}));y.lat=C.coords.latitude,y.lon=C.coords.longitude,y.accuracy=C.coords.accuracy}}catch{}await Yv({id:crypto.randomUUID(),jobId:A,localUri:g,blob:d,caption:"",createdAt:m,exif:y}),await hn(A,"photo_add","Added photo",_n())}return c.jsxs("div",{className:"row",children:[c.jsx("input",{className:"input",ref:e,type:"file",accept:"image/*",capture:"environment",onChange:o}),t&&c.jsx("img",{className:"rounded",alt:"preview",src:t,style:{maxWidth:200,height:"auto"}})]})}function W_({onAdded:A}){const[e,t]=F.useState(""),[i,o]=F.useState(""),[u,d]=F.useState("liquid"),[g,m]=F.useState(""),[y,C]=F.useState(""),[b,S]=F.useState("acre-foot"),[O,P]=F.useState("algae"),[N,W]=F.useState(""),[D,R]=F.useState(""),[J,M]=F.useState("lbs/ac-ft"),[$,q]=F.useState(null);async function xe(X){X.preventDefault();const Ae=e.toLowerCase().replace(/[^a-z0-9]+/g,"_")+"_"+Math.random().toString(36).slice(2,6),ve={id:Ae,brand:e,active:i,form:u,strength:g||void 0,labelNotes:y||void 0,doseRules:[{target:O,basis:b,minRate:Number(N)||0,maxRate:Number(D)||0,unit:J}]};if(await ew(ve),$){const Ee=$;await M0({id:crypto.randomUUID(),productId:Ae,filename:$.name,mimeType:$.type||"application/pdf",size:$.size,blob:Ee,createdAt:new Date().toISOString()})}t(""),o(""),m(""),C(""),W(""),R(""),q(null),A(ve)}return c.jsxs("form",{onSubmit:xe,className:"grid",children:[c.jsxs("label",{className:"label",children:["Brand",c.jsx("input",{className:"input",value:e,onChange:X=>t(X.target.value),required:!0})]}),c.jsxs("label",{className:"label",children:["Active",c.jsx("input",{className:"input",value:i,onChange:X=>o(X.target.value),required:!0})]}),c.jsxs("label",{className:"label",children:["Form",c.jsxs("select",{className:"select",value:u,onChange:X=>d(X.target.value),children:[c.jsx("option",{value:"liquid",children:"liquid"}),c.jsx("option",{value:"granular",children:"granular"}),c.jsx("option",{value:"crystal",children:"crystal"}),c.jsx("option",{value:"other",children:"other"})]})]}),c.jsxs("label",{className:"label",children:["Strength",c.jsx("input",{className:"input",value:g,onChange:X=>m(X.target.value),placeholder:"e.g., % a.i."})]}),c.jsxs("label",{className:"label",children:["Label Notes",c.jsx("textarea",{className:"textarea",value:y,onChange:X=>C(X.target.value)})]}),c.jsxs("fieldset",{style:{display:"grid",gap:6},children:[c.jsx("legend",{children:"Dose Rule"}),c.jsxs("label",{className:"label",children:["Target",c.jsxs("select",{className:"select",value:O,onChange:X=>P(X.target.value),children:[c.jsx("option",{value:"algae",children:"algae"}),c.jsx("option",{value:"weeds",children:"weeds"}),c.jsx("option",{value:"bacteria",children:"bacteria"}),c.jsx("option",{value:"other",children:"other"})]})]}),c.jsxs("label",{className:"label",children:["Basis",c.jsxs("select",{className:"select",value:b,onChange:X=>S(X.target.value),children:[c.jsx("option",{value:"surface-acre",children:"surface-acre"}),c.jsx("option",{value:"acre-foot",children:"acre-foot"}),c.jsx("option",{value:"ppm",children:"ppm"}),c.jsx("option",{value:"gal-per-1000gal",children:"gal-per-1000gal"})]})]}),c.jsxs("label",{className:"label",children:["Min Rate",c.jsx("input",{className:"input",value:N,onChange:X=>W(X.target.value),placeholder:"e.g., 2.72"})]}),c.jsxs("label",{className:"label",children:["Max Rate",c.jsx("input",{className:"input",value:D,onChange:X=>R(X.target.value),placeholder:"e.g., 5.44"})]}),c.jsxs("label",{className:"label",children:["Unit",c.jsx("input",{className:"input",value:J,onChange:X=>M(X.target.value),placeholder:"e.g., lbs/ac-ft"})]})]}),c.jsxs("label",{className:"label",children:["Label PDF (optional)",c.jsx("input",{className:"input",type:"file",accept:"application/pdf",onChange:X=>q(X.target.files?.[0]||null)})]}),c.jsx("button",{className:"btn",type:"submit",children:"Add Chemical"})]})}function $_({onSelect:A}){const[e,t]=F.useState(""),[i,o]=F.useState([]),[u,d]=F.useState(!1);F.useEffect(()=>{(async()=>{const y=await pe.chemProducts.toArray();if(y.length>0)o(y);else try{const b=await(await fetch("/data/chemicals.json")).json();o(b);for(const S of b)await ew(S)}catch{o([])}})()},[]);const g=i.filter(m=>[m.id,m.brand,m.active].some(y=>y.toLowerCase().includes(e.toLowerCase())));return c.jsxs("div",{children:[c.jsxs("div",{className:"row",children:[c.jsx("input",{className:"input",placeholder:"Search chemicals",value:e,onChange:m=>t(m.target.value)}),c.jsx("button",{className:"btn secondary",onClick:()=>d(m=>!m),children:u?"Close":"Add Chemical"})]}),u&&c.jsx("div",{className:"card",style:{marginTop:8},children:c.jsx(W_,{onAdded:m=>{d(!1),o(y=>[m,...y])}})}),c.jsx("ul",{children:g.map(m=>c.jsx("li",{children:c.jsxs("button",{className:"btn ghost",onClick:()=>A(m),style:{textAlign:"left"},children:[c.jsx("strong",{children:m.brand})," - ",m.active," [",m.form,"]"]})},m.id))})]})}function hw(A){const e=F.useMemo(()=>A?URL.createObjectURL(A):void 0,[A]);return F.useEffect(()=>()=>{e&&URL.revokeObjectURL(e)},[e]),e}function Z_({p:A}){const t=hw(A.blob)||A.localUri;return c.jsx("img",{src:t,alt:A.caption||"photo",style:{width:120,height:120,objectFit:"cover",borderRadius:8}},A.id)}function J_({jobId:A}){const[e,t]=F.useState([]),[i,o]=F.useState(null);return F.useEffect(()=>{let u=!0;return(async()=>{const g=await pe.photos.where("jobId").equals(A).reverse().sortBy("createdAt");u&&t(g)})(),()=>{u=!1}},[A]),e.length===0?c.jsx("p",{children:"No photos yet."}):c.jsxs(c.Fragment,{children:[c.jsx("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:e.map((u,d)=>c.jsx("div",{onClick:()=>o({open:!0,index:d}),style:{cursor:"pointer"},children:c.jsx(Z_,{p:u})},u.id))}),i?.open&&c.jsx(q_,{photos:e,index:i.index,onClose:()=>o(null),onPrev:()=>o(u=>({open:!0,index:(u.index+e.length-1)%e.length})),onNext:()=>o(u=>({open:!0,index:(u.index+1)%e.length}))})]})}function q_({photos:A,index:e,onClose:t,onPrev:i,onNext:o}){const u=A[e],d=hw(u.blob)||u.localUri;return d?c.jsxs("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.85)",display:"grid",placeItems:"center",zIndex:9999},onClick:t,children:[c.jsxs("div",{style:{position:"absolute",top:16,right:16,display:"flex",gap:8},children:[c.jsx("button",{className:"btn",onClick:t,children:"Close"}),c.jsx("button",{className:"btn warn",onClick:async g=>{g.stopPropagation(),confirm("Really delete this photo?")&&(await pe.photos.delete(u.id),t(),location.reload())},children:"Delete"})]}),c.jsx("button",{className:"btn",style:{position:"absolute",left:16,top:"50%"},onClick:g=>{g.stopPropagation(),i()},children:"<"}),c.jsx("img",{src:d,alt:u.caption||"photo",style:{maxWidth:"92vw",maxHeight:"92vh",objectFit:"contain",borderRadius:8},onClick:g=>g.stopPropagation()}),c.jsx("button",{className:"btn",style:{position:"absolute",right:16,top:"50%"},onClick:g=>{g.stopPropagation(),o()},children:">"})]}):null}/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var af=function(A,e){return af=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])},af(A,e)};function ri(A,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");af(A,e);function t(){this.constructor=A}A.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var lf=function(){return lf=Object.assign||function(e){for(var t,i=1,o=arguments.length;i<o;i++){t=arguments[i];for(var u in t)Object.prototype.hasOwnProperty.call(t,u)&&(e[u]=t[u])}return e},lf.apply(this,arguments)};function xA(A,e,t,i){function o(u){return u instanceof t?u:new t(function(d){d(u)})}return new(t||(t=Promise))(function(u,d){function g(C){try{y(i.next(C))}catch(b){d(b)}}function m(C){try{y(i.throw(C))}catch(b){d(b)}}function y(C){C.done?u(C.value):o(C.value).then(g,m)}y((i=i.apply(A,[])).next())})}function dA(A,e){var t={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},i,o,u,d;return d={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function g(y){return function(C){return m([y,C])}}function m(y){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,o&&(u=y[0]&2?o.return:y[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,y[1])).done)return u;switch(o=0,u&&(y=[y[0]&2,u.value]),y[0]){case 0:case 1:u=y;break;case 4:return t.label++,{value:y[1],done:!1};case 5:t.label++,o=y[1],y=[0];continue;case 7:y=t.ops.pop(),t.trys.pop();continue;default:if(u=t.trys,!(u=u.length>0&&u[u.length-1])&&(y[0]===6||y[0]===2)){t=0;continue}if(y[0]===3&&(!u||y[1]>u[0]&&y[1]<u[3])){t.label=y[1];break}if(y[0]===6&&t.label<u[1]){t.label=u[1],u=y;break}if(u&&t.label<u[2]){t.label=u[2],t.ops.push(y);break}u[2]&&t.ops.pop(),t.trys.pop();continue}y=e.call(A,t)}catch(C){y=[6,C],o=0}finally{i=u=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}}function Mu(A,e,t){if(arguments.length===2)for(var i=0,o=e.length,u;i<o;i++)(u||!(i in e))&&(u||(u=Array.prototype.slice.call(e,0,i)),u[i]=e[i]);return A.concat(u||e)}var fs=(function(){function A(e,t,i,o){this.left=e,this.top=t,this.width=i,this.height=o}return A.prototype.add=function(e,t,i,o){return new A(this.left+e,this.top+t,this.width+i,this.height+o)},A.fromClientRect=function(e,t){return new A(t.left+e.windowBounds.left,t.top+e.windowBounds.top,t.width,t.height)},A.fromDOMRectList=function(e,t){var i=Array.from(t).find(function(o){return o.width!==0});return i?new A(i.left+e.windowBounds.left,i.top+e.windowBounds.top,i.width,i.height):A.EMPTY},A.EMPTY=new A(0,0,0,0),A})(),zc=function(A,e){return fs.fromClientRect(A,e.getBoundingClientRect())},X_=function(A){var e=A.body,t=A.documentElement;if(!e||!t)throw new Error("Unable to get document size");var i=Math.max(Math.max(e.scrollWidth,t.scrollWidth),Math.max(e.offsetWidth,t.offsetWidth),Math.max(e.clientWidth,t.clientWidth)),o=Math.max(Math.max(e.scrollHeight,t.scrollHeight),Math.max(e.offsetHeight,t.offsetHeight),Math.max(e.clientHeight,t.clientHeight));return new fs(0,0,i,o)},Wc=function(A){for(var e=[],t=0,i=A.length;t<i;){var o=A.charCodeAt(t++);if(o>=55296&&o<=56319&&t<i){var u=A.charCodeAt(t++);(u&64512)===56320?e.push(((o&1023)<<10)+(u&1023)+65536):(e.push(o),t--)}else e.push(o)}return e},yn=function(){for(var A=[],e=0;e<arguments.length;e++)A[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,A);var t=A.length;if(!t)return"";for(var i=[],o=-1,u="";++o<t;){var d=A[o];d<=65535?i.push(d):(d-=65536,i.push((d>>10)+55296,d%1024+56320)),(o+1===t||i.length>16384)&&(u+=String.fromCharCode.apply(String,i),i.length=0)}return u},dm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Y_=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Ku=0;Ku<dm.length;Ku++)Y_[dm.charCodeAt(Ku)]=Ku;var hm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",yl=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Vu=0;Vu<hm.length;Vu++)yl[hm.charCodeAt(Vu)]=Vu;var eC=function(A){var e=A.length*.75,t=A.length,i,o=0,u,d,g,m;A[A.length-1]==="="&&(e--,A[A.length-2]==="="&&e--);var y=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),C=Array.isArray(y)?y:new Uint8Array(y);for(i=0;i<t;i+=4)u=yl[A.charCodeAt(i)],d=yl[A.charCodeAt(i+1)],g=yl[A.charCodeAt(i+2)],m=yl[A.charCodeAt(i+3)],C[o++]=u<<2|d>>4,C[o++]=(d&15)<<4|g>>2,C[o++]=(g&3)<<6|m&63;return y},tC=function(A){for(var e=A.length,t=[],i=0;i<e;i+=2)t.push(A[i+1]<<8|A[i]);return t},nC=function(A){for(var e=A.length,t=[],i=0;i<e;i+=4)t.push(A[i+3]<<24|A[i+2]<<16|A[i+1]<<8|A[i]);return t},Oo=5,Jf=11,Bh=2,AC=Jf-Oo,fw=65536>>Oo,rC=1<<Oo,yh=rC-1,iC=1024>>Oo,sC=fw+iC,oC=sC,aC=32,lC=oC+aC,uC=65536>>Jf,cC=1<<AC,dC=cC-1,fm=function(A,e,t){return A.slice?A.slice(e,t):new Uint16Array(Array.prototype.slice.call(A,e,t))},hC=function(A,e,t){return A.slice?A.slice(e,t):new Uint32Array(Array.prototype.slice.call(A,e,t))},fC=function(A,e){var t=eC(A),i=Array.isArray(t)?nC(t):new Uint32Array(t),o=Array.isArray(t)?tC(t):new Uint16Array(t),u=24,d=fm(o,u/2,i[4]/2),g=i[5]===2?fm(o,(u+i[4])/2):hC(i,Math.ceil((u+i[4])/4));return new pC(i[0],i[1],i[2],i[3],d,g)},pC=(function(){function A(e,t,i,o,u,d){this.initialValue=e,this.errorValue=t,this.highStart=i,this.highValueIndex=o,this.index=u,this.data=d}return A.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>Oo],t=(t<<Bh)+(e&yh),this.data[t];if(e<=65535)return t=this.index[fw+(e-55296>>Oo)],t=(t<<Bh)+(e&yh),this.data[t];if(e<this.highStart)return t=lC-uC+(e>>Jf),t=this.index[t],t+=e>>Oo&dC,t=this.index[t],t=(t<<Bh)+(e&yh),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},A})(),pm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",gC=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Gu=0;Gu<pm.length;Gu++)gC[pm.charCodeAt(Gu)]=Gu;var mC="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",gm=50,vC=1,pw=2,gw=3,wC=4,BC=5,mm=7,mw=8,vm=9,Js=10,uf=11,wm=12,cf=13,yC=14,_l=15,df=16,zu=17,pl=18,_C=19,Bm=20,hf=21,gl=22,_h=23,va=24,Ar=25,Cl=26,xl=27,wa=28,CC=29,No=30,xC=31,Wu=32,$u=33,ff=34,pf=35,gf=36,Ol=37,mf=38,_c=39,Cc=40,Ch=41,vw=42,bC=43,QC=[9001,65288],ww="!",Et="",Zu="",vf=fC(mC),ls=[No,gf],wf=[vC,pw,gw,BC],Bw=[Js,mw],ym=[xl,Cl],UC=wf.concat(Bw),_m=[mf,_c,Cc,ff,pf],EC=[_l,cf],FC=function(A,e){e===void 0&&(e="strict");var t=[],i=[],o=[];return A.forEach(function(u,d){var g=vf.get(u);if(g>gm?(o.push(!0),g-=gm):o.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(u)!==-1)return i.push(d),t.push(df);if(g===wC||g===uf){if(d===0)return i.push(d),t.push(No);var m=t[d-1];return UC.indexOf(m)===-1?(i.push(i[d-1]),t.push(m)):(i.push(d),t.push(No))}if(i.push(d),g===xC)return t.push(e==="strict"?hf:Ol);if(g===vw||g===CC)return t.push(No);if(g===bC)return u>=131072&&u<=196605||u>=196608&&u<=262141?t.push(Ol):t.push(No);t.push(g)}),[i,t,o]},xh=function(A,e,t,i){var o=i[t];if(Array.isArray(A)?A.indexOf(o)!==-1:A===o)for(var u=t;u<=i.length;){u++;var d=i[u];if(d===e)return!0;if(d!==Js)break}if(o===Js)for(var u=t;u>0;){u--;var g=i[u];if(Array.isArray(A)?A.indexOf(g)!==-1:A===g)for(var m=t;m<=i.length;){m++;var d=i[m];if(d===e)return!0;if(d!==Js)break}if(g!==Js)break}return!1},Cm=function(A,e){for(var t=A;t>=0;){var i=e[t];if(i===Js)t--;else return i}return 0},SC=function(A,e,t,i,o){if(t[i]===0)return Et;var u=i-1;if(Array.isArray(o)&&o[u]===!0)return Et;var d=u-1,g=u+1,m=e[u],y=d>=0?e[d]:0,C=e[g];if(m===pw&&C===gw)return Et;if(wf.indexOf(m)!==-1)return ww;if(wf.indexOf(C)!==-1||Bw.indexOf(C)!==-1)return Et;if(Cm(u,e)===mw)return Zu;if(vf.get(A[u])===uf||(m===Wu||m===$u)&&vf.get(A[g])===uf||m===mm||C===mm||m===vm||[Js,cf,_l].indexOf(m)===-1&&C===vm||[zu,pl,_C,va,wa].indexOf(C)!==-1||Cm(u,e)===gl||xh(_h,gl,u,e)||xh([zu,pl],hf,u,e)||xh(wm,wm,u,e))return Et;if(m===Js)return Zu;if(m===_h||C===_h)return Et;if(C===df||m===df)return Zu;if([cf,_l,hf].indexOf(C)!==-1||m===yC||y===gf&&EC.indexOf(m)!==-1||m===wa&&C===gf||C===Bm||ls.indexOf(C)!==-1&&m===Ar||ls.indexOf(m)!==-1&&C===Ar||m===xl&&[Ol,Wu,$u].indexOf(C)!==-1||[Ol,Wu,$u].indexOf(m)!==-1&&C===Cl||ls.indexOf(m)!==-1&&ym.indexOf(C)!==-1||ym.indexOf(m)!==-1&&ls.indexOf(C)!==-1||[xl,Cl].indexOf(m)!==-1&&(C===Ar||[gl,_l].indexOf(C)!==-1&&e[g+1]===Ar)||[gl,_l].indexOf(m)!==-1&&C===Ar||m===Ar&&[Ar,wa,va].indexOf(C)!==-1)return Et;if([Ar,wa,va,zu,pl].indexOf(C)!==-1)for(var b=u;b>=0;){var S=e[b];if(S===Ar)return Et;if([wa,va].indexOf(S)!==-1)b--;else break}if([xl,Cl].indexOf(C)!==-1)for(var b=[zu,pl].indexOf(m)!==-1?d:u;b>=0;){var S=e[b];if(S===Ar)return Et;if([wa,va].indexOf(S)!==-1)b--;else break}if(mf===m&&[mf,_c,ff,pf].indexOf(C)!==-1||[_c,ff].indexOf(m)!==-1&&[_c,Cc].indexOf(C)!==-1||[Cc,pf].indexOf(m)!==-1&&C===Cc||_m.indexOf(m)!==-1&&[Bm,Cl].indexOf(C)!==-1||_m.indexOf(C)!==-1&&m===xl||ls.indexOf(m)!==-1&&ls.indexOf(C)!==-1||m===va&&ls.indexOf(C)!==-1||ls.concat(Ar).indexOf(m)!==-1&&C===gl&&QC.indexOf(A[g])===-1||ls.concat(Ar).indexOf(C)!==-1&&m===pl)return Et;if(m===Ch&&C===Ch){for(var O=t[u],P=1;O>0&&(O--,e[O]===Ch);)P++;if(P%2!==0)return Et}return m===Wu&&C===$u?Et:Zu},IC=function(A,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var t=FC(A,e.lineBreak),i=t[0],o=t[1],u=t[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(o=o.map(function(g){return[Ar,No,vw].indexOf(g)!==-1?Ol:g}));var d=e.wordBreak==="keep-all"?u.map(function(g,m){return g&&A[m]>=19968&&A[m]<=40959}):void 0;return[i,o,d]},LC=(function(){function A(e,t,i,o){this.codePoints=e,this.required=t===ww,this.start=i,this.end=o}return A.prototype.slice=function(){return yn.apply(void 0,this.codePoints.slice(this.start,this.end))},A})(),kC=function(A,e){var t=Wc(A),i=IC(t,e),o=i[0],u=i[1],d=i[2],g=t.length,m=0,y=0;return{next:function(){if(y>=g)return{done:!0,value:null};for(var C=Et;y<g&&(C=SC(t,u,o,++y,d))===Et;);if(C!==Et||y===g){var b=new LC(t,C,m,y);return m=y,{value:b,done:!1}}return{done:!0,value:null}}}},TC=1,PC=2,$l=4,xm=8,Sc=10,bm=47,Fl=92,NC=9,jC=32,Ju=34,ml=61,HC=35,OC=36,DC=37,qu=39,Xu=40,vl=41,RC=95,RA=45,MC=33,KC=60,VC=62,GC=64,zC=91,WC=93,$C=61,ZC=123,Yu=63,JC=125,Qm=124,qC=126,XC=128,Um=65533,bh=42,Ho=43,YC=44,ex=58,tx=59,Dl=46,nx=0,Ax=8,rx=11,ix=14,sx=31,ox=127,Ui=-1,yw=48,_w=97,Cw=101,ax=102,lx=117,ux=122,xw=65,bw=69,Qw=70,cx=85,dx=90,hA=function(A){return A>=yw&&A<=57},hx=function(A){return A>=55296&&A<=57343},Ba=function(A){return hA(A)||A>=xw&&A<=Qw||A>=_w&&A<=ax},fx=function(A){return A>=_w&&A<=ux},px=function(A){return A>=xw&&A<=dx},gx=function(A){return fx(A)||px(A)},mx=function(A){return A>=XC},ec=function(A){return A===Sc||A===NC||A===jC},Ic=function(A){return gx(A)||mx(A)||A===RC},Em=function(A){return Ic(A)||hA(A)||A===RA},vx=function(A){return A>=nx&&A<=Ax||A===rx||A>=ix&&A<=sx||A===ox},Ws=function(A,e){return A!==Fl?!1:e!==Sc},tc=function(A,e,t){return A===RA?Ic(e)||Ws(e,t):Ic(A)?!0:!!(A===Fl&&Ws(A,e))},Qh=function(A,e,t){return A===Ho||A===RA?hA(e)?!0:e===Dl&&hA(t):hA(A===Dl?e:A)},wx=function(A){var e=0,t=1;(A[e]===Ho||A[e]===RA)&&(A[e]===RA&&(t=-1),e++);for(var i=[];hA(A[e]);)i.push(A[e++]);var o=i.length?parseInt(yn.apply(void 0,i),10):0;A[e]===Dl&&e++;for(var u=[];hA(A[e]);)u.push(A[e++]);var d=u.length,g=d?parseInt(yn.apply(void 0,u),10):0;(A[e]===bw||A[e]===Cw)&&e++;var m=1;(A[e]===Ho||A[e]===RA)&&(A[e]===RA&&(m=-1),e++);for(var y=[];hA(A[e]);)y.push(A[e++]);var C=y.length?parseInt(yn.apply(void 0,y),10):0;return t*(o+g*Math.pow(10,-d))*Math.pow(10,m*C)},Bx={type:2},yx={type:3},_x={type:4},Cx={type:13},xx={type:8},bx={type:21},Qx={type:9},Ux={type:10},Ex={type:11},Fx={type:12},Sx={type:14},nc={type:23},Ix={type:1},Lx={type:25},kx={type:24},Tx={type:26},Px={type:27},Nx={type:28},jx={type:29},Hx={type:31},Bf={type:32},Uw=(function(){function A(){this._value=[]}return A.prototype.write=function(e){this._value=this._value.concat(Wc(e))},A.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==Bf;)e.push(t),t=this.consumeToken();return e},A.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case Ju:return this.consumeStringToken(Ju);case HC:var t=this.peekCodePoint(0),i=this.peekCodePoint(1),o=this.peekCodePoint(2);if(Em(t)||Ws(i,o)){var u=tc(t,i,o)?PC:TC,d=this.consumeName();return{type:5,value:d,flags:u}}break;case OC:if(this.peekCodePoint(0)===ml)return this.consumeCodePoint(),Cx;break;case qu:return this.consumeStringToken(qu);case Xu:return Bx;case vl:return yx;case bh:if(this.peekCodePoint(0)===ml)return this.consumeCodePoint(),Sx;break;case Ho:if(Qh(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case YC:return _x;case RA:var g=e,m=this.peekCodePoint(0),y=this.peekCodePoint(1);if(Qh(g,m,y))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(tc(g,m,y))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(m===RA&&y===VC)return this.consumeCodePoint(),this.consumeCodePoint(),kx;break;case Dl:if(Qh(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case bm:if(this.peekCodePoint(0)===bh)for(this.consumeCodePoint();;){var C=this.consumeCodePoint();if(C===bh&&(C=this.consumeCodePoint(),C===bm))return this.consumeToken();if(C===Ui)return this.consumeToken()}break;case ex:return Tx;case tx:return Px;case KC:if(this.peekCodePoint(0)===MC&&this.peekCodePoint(1)===RA&&this.peekCodePoint(2)===RA)return this.consumeCodePoint(),this.consumeCodePoint(),Lx;break;case GC:var b=this.peekCodePoint(0),S=this.peekCodePoint(1),O=this.peekCodePoint(2);if(tc(b,S,O)){var d=this.consumeName();return{type:7,value:d}}break;case zC:return Nx;case Fl:if(Ws(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case WC:return jx;case $C:if(this.peekCodePoint(0)===ml)return this.consumeCodePoint(),xx;break;case ZC:return Ex;case JC:return Fx;case lx:case cx:var P=this.peekCodePoint(0),N=this.peekCodePoint(1);return P===Ho&&(Ba(N)||N===Yu)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case Qm:if(this.peekCodePoint(0)===ml)return this.consumeCodePoint(),Qx;if(this.peekCodePoint(0)===Qm)return this.consumeCodePoint(),bx;break;case qC:if(this.peekCodePoint(0)===ml)return this.consumeCodePoint(),Ux;break;case Ui:return Bf}return ec(e)?(this.consumeWhiteSpace(),Hx):hA(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):Ic(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:yn(e)}},A.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},A.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},A.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},A.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();Ba(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var i=!1;t===Yu&&e.length<6;)e.push(t),t=this.consumeCodePoint(),i=!0;if(i){var o=parseInt(yn.apply(void 0,e.map(function(m){return m===Yu?yw:m})),16),u=parseInt(yn.apply(void 0,e.map(function(m){return m===Yu?Qw:m})),16);return{type:30,start:o,end:u}}var d=parseInt(yn.apply(void 0,e),16);if(this.peekCodePoint(0)===RA&&Ba(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var g=[];Ba(t)&&g.length<6;)g.push(t),t=this.consumeCodePoint();var u=parseInt(yn.apply(void 0,g),16);return{type:30,start:d,end:u}}else return{type:30,start:d,end:d}},A.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===Xu?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Xu?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},A.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ui)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===qu||t===Ju){var i=this.consumeStringToken(this.consumeCodePoint());return i.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ui||this.peekCodePoint(0)===vl)?(this.consumeCodePoint(),{type:22,value:i.value}):(this.consumeBadUrlRemnants(),nc)}for(;;){var o=this.consumeCodePoint();if(o===Ui||o===vl)return{type:22,value:yn.apply(void 0,e)};if(ec(o))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Ui||this.peekCodePoint(0)===vl?(this.consumeCodePoint(),{type:22,value:yn.apply(void 0,e)}):(this.consumeBadUrlRemnants(),nc);if(o===Ju||o===qu||o===Xu||vx(o))return this.consumeBadUrlRemnants(),nc;if(o===Fl)if(Ws(o,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),nc;else e.push(o)}},A.prototype.consumeWhiteSpace=function(){for(;ec(this.peekCodePoint(0));)this.consumeCodePoint()},A.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===vl||e===Ui)return;Ws(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},A.prototype.consumeStringSlice=function(e){for(var t=5e4,i="";e>0;){var o=Math.min(t,e);i+=yn.apply(void 0,this._value.splice(0,o)),e-=o}return this._value.shift(),i},A.prototype.consumeStringToken=function(e){var t="",i=0;do{var o=this._value[i];if(o===Ui||o===void 0||o===e)return t+=this.consumeStringSlice(i),{type:0,value:t};if(o===Sc)return this._value.splice(0,i),Ix;if(o===Fl){var u=this._value[i+1];u!==Ui&&u!==void 0&&(u===Sc?(t+=this.consumeStringSlice(i),i=-1,this._value.shift()):Ws(o,u)&&(t+=this.consumeStringSlice(i),t+=yn(this.consumeEscapedCodePoint()),i=-1))}i++}while(!0)},A.prototype.consumeNumber=function(){var e=[],t=$l,i=this.peekCodePoint(0);for((i===Ho||i===RA)&&e.push(this.consumeCodePoint());hA(this.peekCodePoint(0));)e.push(this.consumeCodePoint());i=this.peekCodePoint(0);var o=this.peekCodePoint(1);if(i===Dl&&hA(o))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=xm;hA(this.peekCodePoint(0));)e.push(this.consumeCodePoint());i=this.peekCodePoint(0),o=this.peekCodePoint(1);var u=this.peekCodePoint(2);if((i===bw||i===Cw)&&((o===Ho||o===RA)&&hA(u)||hA(o)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=xm;hA(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[wx(e),t]},A.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],i=e[1],o=this.peekCodePoint(0),u=this.peekCodePoint(1),d=this.peekCodePoint(2);if(tc(o,u,d)){var g=this.consumeName();return{type:15,number:t,flags:i,unit:g}}return o===DC?(this.consumeCodePoint(),{type:16,number:t,flags:i}):{type:17,number:t,flags:i}},A.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(Ba(e)){for(var t=yn(e);Ba(this.peekCodePoint(0))&&t.length<6;)t+=yn(this.consumeCodePoint());ec(this.peekCodePoint(0))&&this.consumeCodePoint();var i=parseInt(t,16);return i===0||hx(i)||i>1114111?Um:i}return e===Ui?Um:e},A.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(Em(t))e+=yn(t);else if(Ws(t,this.peekCodePoint(0)))e+=yn(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(t),e}},A})(),Ew=(function(){function A(e){this._tokens=e}return A.create=function(e){var t=new Uw;return t.write(e),new A(t.read())},A.parseValue=function(e){return A.create(e).parseComponentValue()},A.parseValues=function(e){return A.create(e).parseComponentValues()},A.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},A.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(t.type===32)return e;e.push(t),e.push()}},A.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},A.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},i=this.consumeToken();;){if(i.type===32||Dx(i,e))return t;this.reconsumeToken(i),t.values.push(this.consumeComponentValue()),i=this.consumeToken()}},A.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var i=this.consumeToken();if(i.type===32||i.type===3)return t;this.reconsumeToken(i),t.values.push(this.consumeComponentValue())}},A.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?Bf:e},A.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},A})(),Zl=function(A){return A.type===15},Wa=function(A){return A.type===17},Kt=function(A){return A.type===20},Ox=function(A){return A.type===0},yf=function(A,e){return Kt(A)&&A.value===e},Fw=function(A){return A.type!==31},Ma=function(A){return A.type!==31&&A.type!==4},Si=function(A){var e=[],t=[];return A.forEach(function(i){if(i.type===4){if(t.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(t),t=[];return}i.type!==31&&t.push(i)}),t.length&&e.push(t),e},Dx=function(A,e){return e===11&&A.type===12||e===28&&A.type===29?!0:e===2&&A.type===3},Ao=function(A){return A.type===17||A.type===15},Un=function(A){return A.type===16||Ao(A)},Sw=function(A){return A.length>1?[A[0],A[1]]:[A[0]]},AA={type:17,number:0,flags:$l},qf={type:16,number:50,flags:$l},qs={type:16,number:100,flags:$l},bl=function(A,e,t){var i=A[0],o=A[1];return[Wt(i,e),Wt(typeof o<"u"?o:i,t)]},Wt=function(A,e){if(A.type===16)return A.number/100*e;if(Zl(A))switch(A.unit){case"rem":case"em":return 16*A.number;case"px":default:return A.number}return A.number},Iw="deg",Lw="grad",kw="rad",Tw="turn",$c={name:"angle",parse:function(A,e){if(e.type===15)switch(e.unit){case Iw:return Math.PI*e.number/180;case Lw:return Math.PI/200*e.number;case kw:return e.number;case Tw:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},Pw=function(A){return A.type===15&&(A.unit===Iw||A.unit===Lw||A.unit===kw||A.unit===Tw)},Nw=function(A){var e=A.filter(Kt).map(function(t){return t.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[AA,AA];case"to top":case"bottom":return Fr(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[AA,qs];case"to right":case"left":return Fr(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[qs,qs];case"to bottom":case"top":return Fr(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[qs,AA];case"to left":case"right":return Fr(270)}return 0},Fr=function(A){return Math.PI*A/180},to={name:"color",parse:function(A,e){if(e.type===18){var t=Rx[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return t(A,e.values)}if(e.type===5){if(e.value.length===3){var i=e.value.substring(0,1),o=e.value.substring(1,2),u=e.value.substring(2,3);return Xs(parseInt(i+i,16),parseInt(o+o,16),parseInt(u+u,16),1)}if(e.value.length===4){var i=e.value.substring(0,1),o=e.value.substring(1,2),u=e.value.substring(2,3),d=e.value.substring(3,4);return Xs(parseInt(i+i,16),parseInt(o+o,16),parseInt(u+u,16),parseInt(d+d,16)/255)}if(e.value.length===6){var i=e.value.substring(0,2),o=e.value.substring(2,4),u=e.value.substring(4,6);return Xs(parseInt(i,16),parseInt(o,16),parseInt(u,16),1)}if(e.value.length===8){var i=e.value.substring(0,2),o=e.value.substring(2,4),u=e.value.substring(4,6),d=e.value.substring(6,8);return Xs(parseInt(i,16),parseInt(o,16),parseInt(u,16),parseInt(d,16)/255)}}if(e.type===20){var g=hs[e.value.toUpperCase()];if(typeof g<"u")return g}return hs.TRANSPARENT}},no=function(A){return(255&A)===0},$n=function(A){var e=255&A,t=255&A>>8,i=255&A>>16,o=255&A>>24;return e<255?"rgba("+o+","+i+","+t+","+e/255+")":"rgb("+o+","+i+","+t+")"},Xs=function(A,e,t,i){return(A<<24|e<<16|t<<8|Math.round(i*255)<<0)>>>0},Fm=function(A,e){if(A.type===17)return A.number;if(A.type===16){var t=e===3?1:255;return e===3?A.number/100*t:Math.round(A.number/100*t)}return 0},Sm=function(A,e){var t=e.filter(Ma);if(t.length===3){var i=t.map(Fm),o=i[0],u=i[1],d=i[2];return Xs(o,u,d,1)}if(t.length===4){var g=t.map(Fm),o=g[0],u=g[1],d=g[2],m=g[3];return Xs(o,u,d,m)}return 0};function Uh(A,e,t){return t<0&&(t+=1),t>=1&&(t-=1),t<1/6?(e-A)*t*6+A:t<1/2?e:t<2/3?(e-A)*6*(2/3-t)+A:A}var Im=function(A,e){var t=e.filter(Ma),i=t[0],o=t[1],u=t[2],d=t[3],g=(i.type===17?Fr(i.number):$c.parse(A,i))/(Math.PI*2),m=Un(o)?o.number/100:0,y=Un(u)?u.number/100:0,C=typeof d<"u"&&Un(d)?Wt(d,1):1;if(m===0)return Xs(y*255,y*255,y*255,1);var b=y<=.5?y*(m+1):y+m-y*m,S=y*2-b,O=Uh(S,b,g+1/3),P=Uh(S,b,g),N=Uh(S,b,g-1/3);return Xs(O*255,P*255,N*255,C)},Rx={hsl:Im,hsla:Im,rgb:Sm,rgba:Sm},Sl=function(A,e){return to.parse(A,Ew.create(e).parseComponentValue())},hs={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},Mx={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(A,e){return e.map(function(t){if(Kt(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Kx={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Zc=function(A,e){var t=to.parse(A,e[0]),i=e[1];return i&&Un(i)?{color:t,stop:i}:{color:t,stop:null}},Lm=function(A,e){var t=A[0],i=A[A.length-1];t.stop===null&&(t.stop=AA),i.stop===null&&(i.stop=qs);for(var o=[],u=0,d=0;d<A.length;d++){var g=A[d].stop;if(g!==null){var m=Wt(g,e);m>u?o.push(m):o.push(u),u=m}else o.push(null)}for(var y=null,d=0;d<o.length;d++){var C=o[d];if(C===null)y===null&&(y=d);else if(y!==null){for(var b=d-y,S=o[y-1],O=(C-S)/(b+1),P=1;P<=b;P++)o[y+P-1]=O*P;y=null}}return A.map(function(N,W){var D=N.color;return{color:D,stop:Math.max(Math.min(1,o[W]/e),0)}})},Vx=function(A,e,t){var i=e/2,o=t/2,u=Wt(A[0],e)-i,d=o-Wt(A[1],t);return(Math.atan2(d,u)+Math.PI*2)%(Math.PI*2)},Gx=function(A,e,t){var i=typeof A=="number"?A:Vx(A,e,t),o=Math.abs(e*Math.sin(i))+Math.abs(t*Math.cos(i)),u=e/2,d=t/2,g=o/2,m=Math.sin(i-Math.PI/2)*g,y=Math.cos(i-Math.PI/2)*g;return[o,u-y,u+y,d-m,d+m]},ei=function(A,e){return Math.sqrt(A*A+e*e)},km=function(A,e,t,i,o){var u=[[0,0],[0,e],[A,0],[A,e]];return u.reduce(function(d,g){var m=g[0],y=g[1],C=ei(t-m,i-y);return(o?C<d.optimumDistance:C>d.optimumDistance)?{optimumCorner:g,optimumDistance:C}:d},{optimumDistance:o?1/0:-1/0,optimumCorner:null}).optimumCorner},zx=function(A,e,t,i,o){var u=0,d=0;switch(A.size){case 0:A.shape===0?u=d=Math.min(Math.abs(e),Math.abs(e-i),Math.abs(t),Math.abs(t-o)):A.shape===1&&(u=Math.min(Math.abs(e),Math.abs(e-i)),d=Math.min(Math.abs(t),Math.abs(t-o)));break;case 2:if(A.shape===0)u=d=Math.min(ei(e,t),ei(e,t-o),ei(e-i,t),ei(e-i,t-o));else if(A.shape===1){var g=Math.min(Math.abs(t),Math.abs(t-o))/Math.min(Math.abs(e),Math.abs(e-i)),m=km(i,o,e,t,!0),y=m[0],C=m[1];u=ei(y-e,(C-t)/g),d=g*u}break;case 1:A.shape===0?u=d=Math.max(Math.abs(e),Math.abs(e-i),Math.abs(t),Math.abs(t-o)):A.shape===1&&(u=Math.max(Math.abs(e),Math.abs(e-i)),d=Math.max(Math.abs(t),Math.abs(t-o)));break;case 3:if(A.shape===0)u=d=Math.max(ei(e,t),ei(e,t-o),ei(e-i,t),ei(e-i,t-o));else if(A.shape===1){var g=Math.max(Math.abs(t),Math.abs(t-o))/Math.max(Math.abs(e),Math.abs(e-i)),b=km(i,o,e,t,!1),y=b[0],C=b[1];u=ei(y-e,(C-t)/g),d=g*u}break}return Array.isArray(A.size)&&(u=Wt(A.size[0],i),d=A.size.length===2?Wt(A.size[1],o):u),[u,d]},Wx=function(A,e){var t=Fr(180),i=[];return Si(e).forEach(function(o,u){if(u===0){var d=o[0];if(d.type===20&&d.value==="to"){t=Nw(o);return}else if(Pw(d)){t=$c.parse(A,d);return}}var g=Zc(A,o);i.push(g)}),{angle:t,stops:i,type:1}},Ac=function(A,e){var t=Fr(180),i=[];return Si(e).forEach(function(o,u){if(u===0){var d=o[0];if(d.type===20&&["top","left","right","bottom"].indexOf(d.value)!==-1){t=Nw(o);return}else if(Pw(d)){t=($c.parse(A,d)+Fr(270))%Fr(360);return}}var g=Zc(A,o);i.push(g)}),{angle:t,stops:i,type:1}},$x=function(A,e){var t=Fr(180),i=[],o=1,u=0,d=3,g=[];return Si(e).forEach(function(m,y){var C=m[0];if(y===0){if(Kt(C)&&C.value==="linear"){o=1;return}else if(Kt(C)&&C.value==="radial"){o=2;return}}if(C.type===18){if(C.name==="from"){var b=to.parse(A,C.values[0]);i.push({stop:AA,color:b})}else if(C.name==="to"){var b=to.parse(A,C.values[0]);i.push({stop:qs,color:b})}else if(C.name==="color-stop"){var S=C.values.filter(Ma);if(S.length===2){var b=to.parse(A,S[1]),O=S[0];Wa(O)&&i.push({stop:{type:16,number:O.number*100,flags:O.flags},color:b})}}}}),o===1?{angle:(t+Fr(180))%Fr(360),stops:i,type:o}:{size:d,shape:u,stops:i,position:g,type:o}},jw="closest-side",Hw="farthest-side",Ow="closest-corner",Dw="farthest-corner",Rw="circle",Mw="ellipse",Kw="cover",Vw="contain",Zx=function(A,e){var t=0,i=3,o=[],u=[];return Si(e).forEach(function(d,g){var m=!0;if(g===0){var y=!1;m=d.reduce(function(b,S){if(y)if(Kt(S))switch(S.value){case"center":return u.push(qf),b;case"top":case"left":return u.push(AA),b;case"right":case"bottom":return u.push(qs),b}else(Un(S)||Ao(S))&&u.push(S);else if(Kt(S))switch(S.value){case Rw:return t=0,!1;case Mw:return t=1,!1;case"at":return y=!0,!1;case jw:return i=0,!1;case Kw:case Hw:return i=1,!1;case Vw:case Ow:return i=2,!1;case Dw:return i=3,!1}else if(Ao(S)||Un(S))return Array.isArray(i)||(i=[]),i.push(S),!1;return b},m)}if(m){var C=Zc(A,d);o.push(C)}}),{size:i,shape:t,stops:o,position:u,type:2}},rc=function(A,e){var t=0,i=3,o=[],u=[];return Si(e).forEach(function(d,g){var m=!0;if(g===0?m=d.reduce(function(C,b){if(Kt(b))switch(b.value){case"center":return u.push(qf),!1;case"top":case"left":return u.push(AA),!1;case"right":case"bottom":return u.push(qs),!1}else if(Un(b)||Ao(b))return u.push(b),!1;return C},m):g===1&&(m=d.reduce(function(C,b){if(Kt(b))switch(b.value){case Rw:return t=0,!1;case Mw:return t=1,!1;case Vw:case jw:return i=0,!1;case Hw:return i=1,!1;case Ow:return i=2,!1;case Kw:case Dw:return i=3,!1}else if(Ao(b)||Un(b))return Array.isArray(i)||(i=[]),i.push(b),!1;return C},m)),m){var y=Zc(A,d);o.push(y)}}),{size:i,shape:t,stops:o,position:u,type:2}},Jx=function(A){return A.type===1},qx=function(A){return A.type===2},Xf={name:"image",parse:function(A,e){if(e.type===22){var t={url:e.value,type:0};return A.cache.addImage(e.value),t}if(e.type===18){var i=Gw[e.name];if(typeof i>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return i(A,e.values)}throw new Error("Unsupported image type "+e.type)}};function Xx(A){return!(A.type===20&&A.value==="none")&&(A.type!==18||!!Gw[A.name])}var Gw={"linear-gradient":Wx,"-moz-linear-gradient":Ac,"-ms-linear-gradient":Ac,"-o-linear-gradient":Ac,"-webkit-linear-gradient":Ac,"radial-gradient":Zx,"-moz-radial-gradient":rc,"-ms-radial-gradient":rc,"-o-radial-gradient":rc,"-webkit-radial-gradient":rc,"-webkit-gradient":$x},Yx={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(A,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e.filter(function(i){return Ma(i)&&Xx(i)}).map(function(i){return Xf.parse(A,i)})}},eb={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(A,e){return e.map(function(t){if(Kt(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},tb={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(A,e){return Si(e).map(function(t){return t.filter(Un)}).map(Sw)}},nb={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(A,e){return Si(e).map(function(t){return t.filter(Kt).map(function(i){return i.value}).join(" ")}).map(Ab)}},Ab=function(A){switch(A){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Da;(function(A){A.AUTO="auto",A.CONTAIN="contain",A.COVER="cover"})(Da||(Da={}));var rb={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(A,e){return Si(e).map(function(t){return t.filter(ib)})}},ib=function(A){return Kt(A)||Un(A)},Jc=function(A){return{name:"border-"+A+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},sb=Jc("top"),ob=Jc("right"),ab=Jc("bottom"),lb=Jc("left"),qc=function(A){return{name:"border-radius-"+A,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return Sw(t.filter(Un))}}},ub=qc("top-left"),cb=qc("top-right"),hb=qc("bottom-right"),fb=qc("bottom-left"),Xc=function(A){return{name:"border-"+A+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},pb=Xc("top"),gb=Xc("right"),mb=Xc("bottom"),vb=Xc("left"),Yc=function(A){return{name:"border-"+A+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Zl(t)?t.number:0}}},wb=Yc("top"),Bb=Yc("right"),yb=Yc("bottom"),_b=Yc("left"),Cb={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},xb={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(A,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},bb={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(A,e){return e.filter(Kt).reduce(function(t,i){return t|Qb(i.value)},0)}},Qb=function(A){switch(A){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Ub={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(A,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Eb={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(A,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},Lc;(function(A){A.NORMAL="normal",A.STRICT="strict"})(Lc||(Lc={}));var Fb={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(A,e){switch(e){case"strict":return Lc.STRICT;case"normal":default:return Lc.NORMAL}}},Sb={name:"line-height",initialValue:"normal",prefix:!1,type:4},Tm=function(A,e){return Kt(A)&&A.value==="normal"?1.2*e:A.type===17?e*A.number:Un(A)?Wt(A,e):e},Ib={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(A,e){return e.type===20&&e.value==="none"?null:Xf.parse(A,e)}},Lb={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(A,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},_f={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(A,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},ed=function(A){return{name:"margin-"+A,initialValue:"0",prefix:!1,type:4}},kb=ed("top"),Tb=ed("right"),Pb=ed("bottom"),Nb=ed("left"),jb={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(A,e){return e.filter(Kt).map(function(t){switch(t.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},Hb={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(A,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},td=function(A){return{name:"padding-"+A,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Ob=td("top"),Db=td("right"),Rb=td("bottom"),Mb=td("left"),Kb={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(A,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},Vb={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(A,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Gb={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(A,e){return e.length===1&&yf(e[0],"none")?[]:Si(e).map(function(t){for(var i={color:hs.TRANSPARENT,offsetX:AA,offsetY:AA,blur:AA},o=0,u=0;u<t.length;u++){var d=t[u];Ao(d)?(o===0?i.offsetX=d:o===1?i.offsetY=d:i.blur=d,o++):i.color=to.parse(A,d)}return i})}},zb={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(A,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Wb={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(A,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var t=Jb[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return t(e.values)}return null}},$b=function(A){var e=A.filter(function(t){return t.type===17}).map(function(t){return t.number});return e.length===6?e:null},Zb=function(A){var e=A.filter(function(m){return m.type===17}).map(function(m){return m.number}),t=e[0],i=e[1];e[2],e[3];var o=e[4],u=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var d=e[12],g=e[13];return e[14],e[15],e.length===16?[t,i,o,u,d,g]:null},Jb={matrix:$b,matrix3d:Zb},Pm={type:16,number:50,flags:$l},qb=[Pm,Pm],Xb={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(A,e){var t=e.filter(Un);return t.length!==2?qb:[t[0],t[1]]}},Yb={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(A,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Il;(function(A){A.NORMAL="normal",A.BREAK_ALL="break-all",A.KEEP_ALL="keep-all"})(Il||(Il={}));var eQ={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(A,e){switch(e){case"break-all":return Il.BREAK_ALL;case"keep-all":return Il.KEEP_ALL;case"normal":default:return Il.NORMAL}}},tQ={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(A,e){if(e.type===20)return{auto:!0,order:0};if(Wa(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},zw={name:"time",parse:function(A,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},nQ={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(A,e){return Wa(e)?e.number:1}},AQ={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},rQ={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(A,e){return e.filter(Kt).map(function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(t){return t!==0})}},iQ={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(A,e){var t=[],i=[];return e.forEach(function(o){switch(o.type){case 20:case 0:t.push(o.value);break;case 17:t.push(o.number.toString());break;case 4:i.push(t.join(" ")),t.length=0;break}}),t.length&&i.push(t.join(" ")),i.map(function(o){return o.indexOf(" ")===-1?o:"'"+o+"'"})}},sQ={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},oQ={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(A,e){if(Wa(e))return e.number;if(Kt(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},aQ={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(A,e){return e.filter(Kt).map(function(t){return t.value})}},lQ={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(A,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Pn=function(A,e){return(A&e)!==0},uQ={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(A,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e}},cQ={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(A,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;for(var i=[],o=e.filter(Fw),u=0;u<o.length;u++){var d=o[u],g=o[u+1];if(d.type===20){var m=g&&Wa(g)?g.number:1;i.push({counter:d.value,increment:m})}}return i}},dQ={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(A,e){if(e.length===0)return[];for(var t=[],i=e.filter(Fw),o=0;o<i.length;o++){var u=i[o],d=i[o+1];if(Kt(u)&&u.value!=="none"){var g=d&&Wa(d)?d.number:0;t.push({counter:u.value,reset:g})}}return t}},hQ={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(A,e){return e.filter(Zl).map(function(t){return zw.parse(A,t)})}},fQ={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(A,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;var i=[],o=e.filter(Ox);if(o.length%2!==0)return null;for(var u=0;u<o.length;u+=2){var d=o[u].value,g=o[u+1].value;i.push({open:d,close:g})}return i}},Nm=function(A,e,t){if(!A)return"";var i=A[Math.min(e,A.length-1)];return i?t?i.open:i.close:""},pQ={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(A,e){return e.length===1&&yf(e[0],"none")?[]:Si(e).map(function(t){for(var i={color:255,offsetX:AA,offsetY:AA,blur:AA,spread:AA,inset:!1},o=0,u=0;u<t.length;u++){var d=t[u];yf(d,"inset")?i.inset=!0:Ao(d)?(o===0?i.offsetX=d:o===1?i.offsetY=d:o===2?i.blur=d:i.spread=d,o++):i.color=to.parse(A,d)}return i})}},gQ={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(A,e){var t=[0,1,2],i=[];return e.filter(Kt).forEach(function(o){switch(o.value){case"stroke":i.push(1);break;case"fill":i.push(0);break;case"markers":i.push(2);break}}),t.forEach(function(o){i.indexOf(o)===-1&&i.push(o)}),i}},mQ={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},vQ={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(A,e){return Zl(e)?e.number:0}},wQ=(function(){function A(e,t){var i,o;this.animationDuration=Ye(e,hQ,t.animationDuration),this.backgroundClip=Ye(e,Mx,t.backgroundClip),this.backgroundColor=Ye(e,Kx,t.backgroundColor),this.backgroundImage=Ye(e,Yx,t.backgroundImage),this.backgroundOrigin=Ye(e,eb,t.backgroundOrigin),this.backgroundPosition=Ye(e,tb,t.backgroundPosition),this.backgroundRepeat=Ye(e,nb,t.backgroundRepeat),this.backgroundSize=Ye(e,rb,t.backgroundSize),this.borderTopColor=Ye(e,sb,t.borderTopColor),this.borderRightColor=Ye(e,ob,t.borderRightColor),this.borderBottomColor=Ye(e,ab,t.borderBottomColor),this.borderLeftColor=Ye(e,lb,t.borderLeftColor),this.borderTopLeftRadius=Ye(e,ub,t.borderTopLeftRadius),this.borderTopRightRadius=Ye(e,cb,t.borderTopRightRadius),this.borderBottomRightRadius=Ye(e,hb,t.borderBottomRightRadius),this.borderBottomLeftRadius=Ye(e,fb,t.borderBottomLeftRadius),this.borderTopStyle=Ye(e,pb,t.borderTopStyle),this.borderRightStyle=Ye(e,gb,t.borderRightStyle),this.borderBottomStyle=Ye(e,mb,t.borderBottomStyle),this.borderLeftStyle=Ye(e,vb,t.borderLeftStyle),this.borderTopWidth=Ye(e,wb,t.borderTopWidth),this.borderRightWidth=Ye(e,Bb,t.borderRightWidth),this.borderBottomWidth=Ye(e,yb,t.borderBottomWidth),this.borderLeftWidth=Ye(e,_b,t.borderLeftWidth),this.boxShadow=Ye(e,pQ,t.boxShadow),this.color=Ye(e,Cb,t.color),this.direction=Ye(e,xb,t.direction),this.display=Ye(e,bb,t.display),this.float=Ye(e,Ub,t.cssFloat),this.fontFamily=Ye(e,iQ,t.fontFamily),this.fontSize=Ye(e,sQ,t.fontSize),this.fontStyle=Ye(e,lQ,t.fontStyle),this.fontVariant=Ye(e,aQ,t.fontVariant),this.fontWeight=Ye(e,oQ,t.fontWeight),this.letterSpacing=Ye(e,Eb,t.letterSpacing),this.lineBreak=Ye(e,Fb,t.lineBreak),this.lineHeight=Ye(e,Sb,t.lineHeight),this.listStyleImage=Ye(e,Ib,t.listStyleImage),this.listStylePosition=Ye(e,Lb,t.listStylePosition),this.listStyleType=Ye(e,_f,t.listStyleType),this.marginTop=Ye(e,kb,t.marginTop),this.marginRight=Ye(e,Tb,t.marginRight),this.marginBottom=Ye(e,Pb,t.marginBottom),this.marginLeft=Ye(e,Nb,t.marginLeft),this.opacity=Ye(e,nQ,t.opacity);var u=Ye(e,jb,t.overflow);this.overflowX=u[0],this.overflowY=u[u.length>1?1:0],this.overflowWrap=Ye(e,Hb,t.overflowWrap),this.paddingTop=Ye(e,Ob,t.paddingTop),this.paddingRight=Ye(e,Db,t.paddingRight),this.paddingBottom=Ye(e,Rb,t.paddingBottom),this.paddingLeft=Ye(e,Mb,t.paddingLeft),this.paintOrder=Ye(e,gQ,t.paintOrder),this.position=Ye(e,Vb,t.position),this.textAlign=Ye(e,Kb,t.textAlign),this.textDecorationColor=Ye(e,AQ,(i=t.textDecorationColor)!==null&&i!==void 0?i:t.color),this.textDecorationLine=Ye(e,rQ,(o=t.textDecorationLine)!==null&&o!==void 0?o:t.textDecoration),this.textShadow=Ye(e,Gb,t.textShadow),this.textTransform=Ye(e,zb,t.textTransform),this.transform=Ye(e,Wb,t.transform),this.transformOrigin=Ye(e,Xb,t.transformOrigin),this.visibility=Ye(e,Yb,t.visibility),this.webkitTextStrokeColor=Ye(e,mQ,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=Ye(e,vQ,t.webkitTextStrokeWidth),this.wordBreak=Ye(e,eQ,t.wordBreak),this.zIndex=Ye(e,tQ,t.zIndex)}return A.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},A.prototype.isTransparent=function(){return no(this.backgroundColor)},A.prototype.isTransformed=function(){return this.transform!==null},A.prototype.isPositioned=function(){return this.position!==0},A.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},A.prototype.isFloating=function(){return this.float!==0},A.prototype.isInlineLevel=function(){return Pn(this.display,4)||Pn(this.display,33554432)||Pn(this.display,268435456)||Pn(this.display,536870912)||Pn(this.display,67108864)||Pn(this.display,134217728)},A})(),BQ=(function(){function A(e,t){this.content=Ye(e,uQ,t.content),this.quotes=Ye(e,fQ,t.quotes)}return A})(),jm=(function(){function A(e,t){this.counterIncrement=Ye(e,cQ,t.counterIncrement),this.counterReset=Ye(e,dQ,t.counterReset)}return A})(),Ye=function(A,e,t){var i=new Uw,o=t!==null&&typeof t<"u"?t.toString():e.initialValue;i.write(o);var u=new Ew(i.read());switch(e.type){case 2:var d=u.parseComponentValue();return e.parse(A,Kt(d)?d.value:e.initialValue);case 0:return e.parse(A,u.parseComponentValue());case 1:return e.parse(A,u.parseComponentValues());case 4:return u.parseComponentValue();case 3:switch(e.format){case"angle":return $c.parse(A,u.parseComponentValue());case"color":return to.parse(A,u.parseComponentValue());case"image":return Xf.parse(A,u.parseComponentValue());case"length":var g=u.parseComponentValue();return Ao(g)?g:AA;case"length-percentage":var m=u.parseComponentValue();return Un(m)?m:AA;case"time":return zw.parse(A,u.parseComponentValue())}break}},yQ="data-html2canvas-debug",_Q=function(A){var e=A.getAttribute(yQ);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Cf=function(A,e){var t=_Q(A);return t===1||e===t},Ii=(function(){function A(e,t){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,Cf(t,3))debugger;this.styles=new wQ(e,window.getComputedStyle(t,null)),Qf(t)&&(this.styles.animationDuration.some(function(i){return i>0})&&(t.style.animationDuration="0s"),this.styles.transform!==null&&(t.style.transform="none")),this.bounds=zc(this.context,t),Cf(t,4)&&(this.flags|=16)}return A})(),CQ="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Hm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ql=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ic=0;ic<Hm.length;ic++)Ql[Hm.charCodeAt(ic)]=ic;var xQ=function(A){var e=A.length*.75,t=A.length,i,o=0,u,d,g,m;A[A.length-1]==="="&&(e--,A[A.length-2]==="="&&e--);var y=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),C=Array.isArray(y)?y:new Uint8Array(y);for(i=0;i<t;i+=4)u=Ql[A.charCodeAt(i)],d=Ql[A.charCodeAt(i+1)],g=Ql[A.charCodeAt(i+2)],m=Ql[A.charCodeAt(i+3)],C[o++]=u<<2|d>>4,C[o++]=(d&15)<<4|g>>2,C[o++]=(g&3)<<6|m&63;return y},bQ=function(A){for(var e=A.length,t=[],i=0;i<e;i+=2)t.push(A[i+1]<<8|A[i]);return t},QQ=function(A){for(var e=A.length,t=[],i=0;i<e;i+=4)t.push(A[i+3]<<24|A[i+2]<<16|A[i+1]<<8|A[i]);return t},Do=5,Yf=11,Eh=2,UQ=Yf-Do,Ww=65536>>Do,EQ=1<<Do,Fh=EQ-1,FQ=1024>>Do,SQ=Ww+FQ,IQ=SQ,LQ=32,kQ=IQ+LQ,TQ=65536>>Yf,PQ=1<<UQ,NQ=PQ-1,Om=function(A,e,t){return A.slice?A.slice(e,t):new Uint16Array(Array.prototype.slice.call(A,e,t))},jQ=function(A,e,t){return A.slice?A.slice(e,t):new Uint32Array(Array.prototype.slice.call(A,e,t))},HQ=function(A,e){var t=xQ(A),i=Array.isArray(t)?QQ(t):new Uint32Array(t),o=Array.isArray(t)?bQ(t):new Uint16Array(t),u=24,d=Om(o,u/2,i[4]/2),g=i[5]===2?Om(o,(u+i[4])/2):jQ(i,Math.ceil((u+i[4])/4));return new OQ(i[0],i[1],i[2],i[3],d,g)},OQ=(function(){function A(e,t,i,o,u,d){this.initialValue=e,this.errorValue=t,this.highStart=i,this.highValueIndex=o,this.index=u,this.data=d}return A.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>Do],t=(t<<Eh)+(e&Fh),this.data[t];if(e<=65535)return t=this.index[Ww+(e-55296>>Do)],t=(t<<Eh)+(e&Fh),this.data[t];if(e<this.highStart)return t=kQ-TQ+(e>>Yf),t=this.index[t],t+=e>>Do&NQ,t=this.index[t],t=(t<<Eh)+(e&Fh),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},A})(),Dm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",DQ=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var sc=0;sc<Dm.length;sc++)DQ[Dm.charCodeAt(sc)]=sc;var RQ=1,Sh=2,Ih=3,Rm=4,Mm=5,MQ=7,Km=8,Lh=9,kh=10,Vm=11,Gm=12,zm=13,Wm=14,Th=15,KQ=function(A){for(var e=[],t=0,i=A.length;t<i;){var o=A.charCodeAt(t++);if(o>=55296&&o<=56319&&t<i){var u=A.charCodeAt(t++);(u&64512)===56320?e.push(((o&1023)<<10)+(u&1023)+65536):(e.push(o),t--)}else e.push(o)}return e},VQ=function(){for(var A=[],e=0;e<arguments.length;e++)A[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,A);var t=A.length;if(!t)return"";for(var i=[],o=-1,u="";++o<t;){var d=A[o];d<=65535?i.push(d):(d-=65536,i.push((d>>10)+55296,d%1024+56320)),(o+1===t||i.length>16384)&&(u+=String.fromCharCode.apply(String,i),i.length=0)}return u},GQ=HQ(CQ),Ur="",Ph="",zQ=function(A){return GQ.get(A)},WQ=function(A,e,t){var i=t-2,o=e[i],u=e[t-1],d=e[t];if(u===Sh&&d===Ih)return Ur;if(u===Sh||u===Ih||u===Rm||d===Sh||d===Ih||d===Rm)return Ph;if(u===Km&&[Km,Lh,Vm,Gm].indexOf(d)!==-1||(u===Vm||u===Lh)&&(d===Lh||d===kh)||(u===Gm||u===kh)&&d===kh||d===zm||d===Mm||d===MQ||u===RQ)return Ur;if(u===zm&&d===Wm){for(;o===Mm;)o=e[--i];if(o===Wm)return Ur}if(u===Th&&d===Th){for(var g=0;o===Th;)g++,o=e[--i];if(g%2===0)return Ur}return Ph},$Q=function(A){var e=KQ(A),t=e.length,i=0,o=0,u=e.map(zQ);return{next:function(){if(i>=t)return{done:!0,value:null};for(var d=Ur;i<t&&(d=WQ(e,u,++i))===Ur;);if(d!==Ur||i===t){var g=VQ.apply(null,e.slice(o,i));return o=i,{value:g,done:!1}}return{done:!0,value:null}}}},ZQ=function(A){for(var e=$Q(A),t=[],i;!(i=e.next()).done;)i.value&&t.push(i.value.slice());return t},JQ=function(A){var e=123;if(A.createRange){var t=A.createRange();if(t.getBoundingClientRect){var i=A.createElement("boundtest");i.style.height=e+"px",i.style.display="block",A.body.appendChild(i),t.selectNode(i);var o=t.getBoundingClientRect(),u=Math.round(o.height);if(A.body.removeChild(i),u===e)return!0}}return!1},qQ=function(A){var e=A.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",A.body.appendChild(e);var t=A.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var i=e.firstChild,o=Wc(i.data).map(function(m){return yn(m)}),u=0,d={},g=o.every(function(m,y){t.setStart(i,u),t.setEnd(i,u+m.length);var C=t.getBoundingClientRect();u+=m.length;var b=C.x>d.x||C.y>d.y;return d=C,y===0?!0:b});return A.body.removeChild(e),g},XQ=function(){return typeof new Image().crossOrigin<"u"},YQ=function(){return typeof new XMLHttpRequest().responseType=="string"},eU=function(A){var e=new Image,t=A.createElement("canvas"),i=t.getContext("2d");if(!i)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{i.drawImage(e,0,0),t.toDataURL()}catch{return!1}return!0},$m=function(A){return A[0]===0&&A[1]===255&&A[2]===0&&A[3]===255},tU=function(A){var e=A.createElement("canvas"),t=100;e.width=t,e.height=t;var i=e.getContext("2d");if(!i)return Promise.reject(!1);i.fillStyle="rgb(0, 255, 0)",i.fillRect(0,0,t,t);var o=new Image,u=e.toDataURL();o.src=u;var d=xf(t,t,0,0,o);return i.fillStyle="red",i.fillRect(0,0,t,t),Zm(d).then(function(g){i.drawImage(g,0,0);var m=i.getImageData(0,0,t,t).data;i.fillStyle="red",i.fillRect(0,0,t,t);var y=A.createElement("div");return y.style.backgroundImage="url("+u+")",y.style.height=t+"px",$m(m)?Zm(xf(t,t,0,0,y)):Promise.reject(!1)}).then(function(g){return i.drawImage(g,0,0),$m(i.getImageData(0,0,t,t).data)}).catch(function(){return!1})},xf=function(A,e,t,i,o){var u="http://www.w3.org/2000/svg",d=document.createElementNS(u,"svg"),g=document.createElementNS(u,"foreignObject");return d.setAttributeNS(null,"width",A.toString()),d.setAttributeNS(null,"height",e.toString()),g.setAttributeNS(null,"width","100%"),g.setAttributeNS(null,"height","100%"),g.setAttributeNS(null,"x",t.toString()),g.setAttributeNS(null,"y",i.toString()),g.setAttributeNS(null,"externalResourcesRequired","true"),d.appendChild(g),g.appendChild(o),d},Zm=function(A){return new Promise(function(e,t){var i=new Image;i.onload=function(){return e(i)},i.onerror=t,i.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(A))})},nA={get SUPPORT_RANGE_BOUNDS(){var A=JQ(document);return Object.defineProperty(nA,"SUPPORT_RANGE_BOUNDS",{value:A}),A},get SUPPORT_WORD_BREAKING(){var A=nA.SUPPORT_RANGE_BOUNDS&&qQ(document);return Object.defineProperty(nA,"SUPPORT_WORD_BREAKING",{value:A}),A},get SUPPORT_SVG_DRAWING(){var A=eU(document);return Object.defineProperty(nA,"SUPPORT_SVG_DRAWING",{value:A}),A},get SUPPORT_FOREIGNOBJECT_DRAWING(){var A=typeof Array.from=="function"&&typeof window.fetch=="function"?tU(document):Promise.resolve(!1);return Object.defineProperty(nA,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:A}),A},get SUPPORT_CORS_IMAGES(){var A=XQ();return Object.defineProperty(nA,"SUPPORT_CORS_IMAGES",{value:A}),A},get SUPPORT_RESPONSE_TYPE(){var A=YQ();return Object.defineProperty(nA,"SUPPORT_RESPONSE_TYPE",{value:A}),A},get SUPPORT_CORS_XHR(){var A="withCredentials"in new XMLHttpRequest;return Object.defineProperty(nA,"SUPPORT_CORS_XHR",{value:A}),A},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var A=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(nA,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:A}),A}},Ll=(function(){function A(e,t){this.text=e,this.bounds=t}return A})(),nU=function(A,e,t,i){var o=iU(e,t),u=[],d=0;return o.forEach(function(g){if(t.textDecorationLine.length||g.trim().length>0)if(nA.SUPPORT_RANGE_BOUNDS){var m=Jm(i,d,g.length).getClientRects();if(m.length>1){var y=ep(g),C=0;y.forEach(function(S){u.push(new Ll(S,fs.fromDOMRectList(A,Jm(i,C+d,S.length).getClientRects()))),C+=S.length})}else u.push(new Ll(g,fs.fromDOMRectList(A,m)))}else{var b=i.splitText(g.length);u.push(new Ll(g,AU(A,i))),i=b}else nA.SUPPORT_RANGE_BOUNDS||(i=i.splitText(g.length));d+=g.length}),u},AU=function(A,e){var t=e.ownerDocument;if(t){var i=t.createElement("html2canvaswrapper");i.appendChild(e.cloneNode(!0));var o=e.parentNode;if(o){o.replaceChild(i,e);var u=zc(A,i);return i.firstChild&&o.replaceChild(i.firstChild,i),u}}return fs.EMPTY},Jm=function(A,e,t){var i=A.ownerDocument;if(!i)throw new Error("Node has no owner document");var o=i.createRange();return o.setStart(A,e),o.setEnd(A,e+t),o},ep=function(A){if(nA.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(A)).map(function(t){return t.segment})}return ZQ(A)},rU=function(A,e){if(nA.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(t.segment(A)).map(function(i){return i.segment})}return oU(A,e)},iU=function(A,e){return e.letterSpacing!==0?ep(A):rU(A,e)},sU=[32,160,4961,65792,65793,4153,4241],oU=function(A,e){for(var t=kC(A,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),i=[],o,u=function(){if(o.value){var d=o.value.slice(),g=Wc(d),m="";g.forEach(function(y){sU.indexOf(y)===-1?m+=yn(y):(m.length&&i.push(m),i.push(yn(y)),m="")}),m.length&&i.push(m)}};!(o=t.next()).done;)u();return i},aU=(function(){function A(e,t,i){this.text=lU(t.data,i.textTransform),this.textBounds=nU(e,this.text,i,t)}return A})(),lU=function(A,e){switch(e){case 1:return A.toLowerCase();case 3:return A.replace(uU,cU);case 2:return A.toUpperCase();default:return A}},uU=/(^|\s|:|-|\(|\))([a-z])/g,cU=function(A,e,t){return A.length>0?e+t.toUpperCase():A},$w=(function(A){ri(e,A);function e(t,i){var o=A.call(this,t,i)||this;return o.src=i.currentSrc||i.src,o.intrinsicWidth=i.naturalWidth,o.intrinsicHeight=i.naturalHeight,o.context.cache.addImage(o.src),o}return e})(Ii),Zw=(function(A){ri(e,A);function e(t,i){var o=A.call(this,t,i)||this;return o.canvas=i,o.intrinsicWidth=i.width,o.intrinsicHeight=i.height,o}return e})(Ii),Jw=(function(A){ri(e,A);function e(t,i){var o=A.call(this,t,i)||this,u=new XMLSerializer,d=zc(t,i);return i.setAttribute("width",d.width+"px"),i.setAttribute("height",d.height+"px"),o.svg="data:image/svg+xml,"+encodeURIComponent(u.serializeToString(i)),o.intrinsicWidth=i.width.baseVal.value,o.intrinsicHeight=i.height.baseVal.value,o.context.cache.addImage(o.svg),o}return e})(Ii),qw=(function(A){ri(e,A);function e(t,i){var o=A.call(this,t,i)||this;return o.value=i.value,o}return e})(Ii),bf=(function(A){ri(e,A);function e(t,i){var o=A.call(this,t,i)||this;return o.start=i.start,o.reversed=typeof i.reversed=="boolean"&&i.reversed===!0,o}return e})(Ii),dU=[{type:15,flags:0,unit:"px",number:3}],hU=[{type:16,flags:0,number:50}],fU=function(A){return A.width>A.height?new fs(A.left+(A.width-A.height)/2,A.top,A.height,A.height):A.width<A.height?new fs(A.left,A.top+(A.height-A.width)/2,A.width,A.width):A},pU=function(A){var e=A.type===gU?new Array(A.value.length+1).join(""):A.value;return e.length===0?A.placeholder||"":e},kc="checkbox",Tc="radio",gU="password",qm=707406591,tp=(function(A){ri(e,A);function e(t,i){var o=A.call(this,t,i)||this;switch(o.type=i.type.toLowerCase(),o.checked=i.checked,o.value=pU(i),(o.type===kc||o.type===Tc)&&(o.styles.backgroundColor=3739148031,o.styles.borderTopColor=o.styles.borderRightColor=o.styles.borderBottomColor=o.styles.borderLeftColor=2779096575,o.styles.borderTopWidth=o.styles.borderRightWidth=o.styles.borderBottomWidth=o.styles.borderLeftWidth=1,o.styles.borderTopStyle=o.styles.borderRightStyle=o.styles.borderBottomStyle=o.styles.borderLeftStyle=1,o.styles.backgroundClip=[0],o.styles.backgroundOrigin=[0],o.bounds=fU(o.bounds)),o.type){case kc:o.styles.borderTopRightRadius=o.styles.borderTopLeftRadius=o.styles.borderBottomRightRadius=o.styles.borderBottomLeftRadius=dU;break;case Tc:o.styles.borderTopRightRadius=o.styles.borderTopLeftRadius=o.styles.borderBottomRightRadius=o.styles.borderBottomLeftRadius=hU;break}return o}return e})(Ii),Xw=(function(A){ri(e,A);function e(t,i){var o=A.call(this,t,i)||this,u=i.options[i.selectedIndex||0];return o.value=u&&u.text||"",o}return e})(Ii),Yw=(function(A){ri(e,A);function e(t,i){var o=A.call(this,t,i)||this;return o.value=i.value,o}return e})(Ii),eB=(function(A){ri(e,A);function e(t,i){var o=A.call(this,t,i)||this;o.src=i.src,o.width=parseInt(i.width,10)||0,o.height=parseInt(i.height,10)||0,o.backgroundColor=o.styles.backgroundColor;try{if(i.contentWindow&&i.contentWindow.document&&i.contentWindow.document.documentElement){o.tree=nB(t,i.contentWindow.document.documentElement);var u=i.contentWindow.document.documentElement?Sl(t,getComputedStyle(i.contentWindow.document.documentElement).backgroundColor):hs.TRANSPARENT,d=i.contentWindow.document.body?Sl(t,getComputedStyle(i.contentWindow.document.body).backgroundColor):hs.TRANSPARENT;o.backgroundColor=no(u)?no(d)?o.styles.backgroundColor:d:u}}catch{}return o}return e})(Ii),mU=["OL","UL","MENU"],xc=function(A,e,t,i){for(var o=e.firstChild,u=void 0;o;o=u)if(u=o.nextSibling,AB(o)&&o.data.trim().length>0)t.textNodes.push(new aU(A,o,t.styles));else if(Oa(o))if(oB(o)&&o.assignedNodes)o.assignedNodes().forEach(function(g){return xc(A,g,t,i)});else{var d=tB(A,o);d.styles.isVisible()&&(vU(o,d,i)?d.flags|=4:wU(d.styles)&&(d.flags|=2),mU.indexOf(o.tagName)!==-1&&(d.flags|=8),t.elements.push(d),o.slot,o.shadowRoot?xc(A,o.shadowRoot,d,i):!Pc(o)&&!rB(o)&&!Nc(o)&&xc(A,o,d,i))}},tB=function(A,e){return Uf(e)?new $w(A,e):iB(e)?new Zw(A,e):rB(e)?new Jw(A,e):BU(e)?new qw(A,e):yU(e)?new bf(A,e):_U(e)?new tp(A,e):Nc(e)?new Xw(A,e):Pc(e)?new Yw(A,e):sB(e)?new eB(A,e):new Ii(A,e)},nB=function(A,e){var t=tB(A,e);return t.flags|=4,xc(A,e,t,t),t},vU=function(A,e,t){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||np(A)&&t.styles.isTransparent()},wU=function(A){return A.isPositioned()||A.isFloating()},AB=function(A){return A.nodeType===Node.TEXT_NODE},Oa=function(A){return A.nodeType===Node.ELEMENT_NODE},Qf=function(A){return Oa(A)&&typeof A.style<"u"&&!bc(A)},bc=function(A){return typeof A.className=="object"},BU=function(A){return A.tagName==="LI"},yU=function(A){return A.tagName==="OL"},_U=function(A){return A.tagName==="INPUT"},CU=function(A){return A.tagName==="HTML"},rB=function(A){return A.tagName==="svg"},np=function(A){return A.tagName==="BODY"},iB=function(A){return A.tagName==="CANVAS"},Xm=function(A){return A.tagName==="VIDEO"},Uf=function(A){return A.tagName==="IMG"},sB=function(A){return A.tagName==="IFRAME"},Ym=function(A){return A.tagName==="STYLE"},xU=function(A){return A.tagName==="SCRIPT"},Pc=function(A){return A.tagName==="TEXTAREA"},Nc=function(A){return A.tagName==="SELECT"},oB=function(A){return A.tagName==="SLOT"},ev=function(A){return A.tagName.indexOf("-")>0},bU=(function(){function A(){this.counters={}}return A.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},A.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},A.prototype.pop=function(e){var t=this;e.forEach(function(i){return t.counters[i].pop()})},A.prototype.parse=function(e){var t=this,i=e.counterIncrement,o=e.counterReset,u=!0;i!==null&&i.forEach(function(g){var m=t.counters[g.counter];m&&g.increment!==0&&(u=!1,m.length||m.push(1),m[Math.max(0,m.length-1)]+=g.increment)});var d=[];return u&&o.forEach(function(g){var m=t.counters[g.counter];d.push(g.counter),m||(m=t.counters[g.counter]=[]),m.push(g.reset)}),d},A})(),tv={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},nv={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},QU={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},UU={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},ya=function(A,e,t,i,o,u){return A<e||A>t?Rl(A,o,u.length>0):i.integers.reduce(function(d,g,m){for(;A>=g;)A-=g,d+=i.values[m];return d},"")+u},aB=function(A,e,t,i){var o="";do t||A--,o=i(A)+o,A/=e;while(A*e>=e);return o},Bn=function(A,e,t,i,o){var u=t-e+1;return(A<0?"-":"")+(aB(Math.abs(A),u,i,function(d){return yn(Math.floor(d%u)+e)})+o)},Lo=function(A,e,t){t===void 0&&(t=". ");var i=e.length;return aB(Math.abs(A),i,!1,function(o){return e[Math.floor(o%i)]})+t},Pa=1,Vs=2,Gs=4,Ul=8,us=function(A,e,t,i,o,u){if(A<-9999||A>9999)return Rl(A,4,o.length>0);var d=Math.abs(A),g=o;if(d===0)return e[0]+g;for(var m=0;d>0&&m<=4;m++){var y=d%10;y===0&&Pn(u,Pa)&&g!==""?g=e[y]+g:y>1||y===1&&m===0||y===1&&m===1&&Pn(u,Vs)||y===1&&m===1&&Pn(u,Gs)&&A>100||y===1&&m>1&&Pn(u,Ul)?g=e[y]+(m>0?t[m-1]:"")+g:y===1&&m>0&&(g=t[m-1]+g),d=Math.floor(d/10)}return(A<0?i:"")+g},Av="",rv="",iv="",Nh="",Rl=function(A,e,t){var i=t?". ":"",o=t?"":"",u=t?", ":"",d=t?" ":"";switch(e){case 0:return""+d;case 1:return""+d;case 2:return""+d;case 5:var g=Bn(A,48,57,!0,i);return g.length<4?"0"+g:g;case 4:return Lo(A,"",o);case 6:return ya(A,1,3999,tv,3,i).toLowerCase();case 7:return ya(A,1,3999,tv,3,i);case 8:return Bn(A,945,969,!1,i);case 9:return Bn(A,97,122,!1,i);case 10:return Bn(A,65,90,!1,i);case 11:return Bn(A,1632,1641,!0,i);case 12:case 49:return ya(A,1,9999,nv,3,i);case 35:return ya(A,1,9999,nv,3,i).toLowerCase();case 13:return Bn(A,2534,2543,!0,i);case 14:case 30:return Bn(A,6112,6121,!0,i);case 15:return Lo(A,"",o);case 16:return Lo(A,"",o);case 17:case 48:return us(A,"",Av,"",o,Vs|Gs|Ul);case 47:return us(A,"",rv,"",o,Pa|Vs|Gs|Ul);case 42:return us(A,"",Av,"",o,Vs|Gs|Ul);case 41:return us(A,"",rv,"",o,Pa|Vs|Gs|Ul);case 26:return us(A,"","",iv,o,0);case 25:return us(A,"","",iv,o,Pa|Vs|Gs);case 31:return us(A,"","",Nh,u,Pa|Vs|Gs);case 33:return us(A,"","",Nh,u,0);case 32:return us(A,"","",Nh,u,Pa|Vs|Gs);case 18:return Bn(A,2406,2415,!0,i);case 20:return ya(A,1,19999,UU,3,i);case 21:return Bn(A,2790,2799,!0,i);case 22:return Bn(A,2662,2671,!0,i);case 22:return ya(A,1,10999,QU,3,i);case 23:return Lo(A,"");case 24:return Lo(A,"");case 27:return Bn(A,3302,3311,!0,i);case 28:return Lo(A,"",o);case 29:return Lo(A,"",o);case 34:return Bn(A,3792,3801,!0,i);case 37:return Bn(A,6160,6169,!0,i);case 38:return Bn(A,4160,4169,!0,i);case 39:return Bn(A,2918,2927,!0,i);case 40:return Bn(A,1776,1785,!0,i);case 43:return Bn(A,3046,3055,!0,i);case 44:return Bn(A,3174,3183,!0,i);case 45:return Bn(A,3664,3673,!0,i);case 46:return Bn(A,3872,3881,!0,i);case 3:default:return Bn(A,48,57,!0,i)}},lB="data-html2canvas-ignore",sv=(function(){function A(e,t,i){if(this.context=e,this.options=i,this.scrolledElements=[],this.referenceElement=t,this.counters=new bU,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return A.prototype.toIFrame=function(e,t){var i=this,o=EU(e,t);if(!o.contentWindow)return Promise.reject("Unable to find iframe window");var u=e.defaultView.pageXOffset,d=e.defaultView.pageYOffset,g=o.contentWindow,m=g.document,y=IU(o).then(function(){return xA(i,void 0,void 0,function(){var C,b;return dA(this,function(S){switch(S.label){case 0:return this.scrolledElements.forEach(PU),g&&(g.scrollTo(t.left,t.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(g.scrollY!==t.top||g.scrollX!==t.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(g.scrollX-t.left,g.scrollY-t.top,0,0))),C=this.options.onclone,b=this.clonedReferenceElement,typeof b>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:m.fonts&&m.fonts.ready?[4,m.fonts.ready]:[3,2];case 1:S.sent(),S.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,SU(m)]:[3,4];case 3:S.sent(),S.label=4;case 4:return typeof C=="function"?[2,Promise.resolve().then(function(){return C(m,b)}).then(function(){return o})]:[2,o]}})})});return m.open(),m.write(kU(document.doctype)+"<html></html>"),TU(this.referenceElement.ownerDocument,u,d),m.replaceChild(m.adoptNode(this.documentElement),m.documentElement),m.close(),y},A.prototype.createElementClone=function(e){if(Cf(e,2))debugger;if(iB(e))return this.createCanvasClone(e);if(Xm(e))return this.createVideoClone(e);if(Ym(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return Uf(t)&&(Uf(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),t.loading==="lazy"&&(t.loading="eager")),ev(t)?this.createCustomElementClone(t):t},A.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return jh(e.style,t),t},A.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var i=[].slice.call(t.cssRules,0).reduce(function(u,d){return d&&typeof d.cssText=="string"?u+d.cssText:u},""),o=e.cloneNode(!1);return o.textContent=i,o}}catch(u){if(this.context.logger.error("Unable to access cssRules property",u),u.name!=="SecurityError")throw u}return e.cloneNode(!1)},A.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var i=e.ownerDocument.createElement("img");try{return i.src=e.toDataURL(),i}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var o=e.cloneNode(!1);try{o.width=e.width,o.height=e.height;var u=e.getContext("2d"),d=o.getContext("2d");if(d)if(!this.options.allowTaint&&u)d.putImageData(u.getImageData(0,0,e.width,e.height),0,0);else{var g=(t=e.getContext("webgl2"))!==null&&t!==void 0?t:e.getContext("webgl");if(g){var m=g.getContextAttributes();m?.preserveDrawingBuffer===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}d.drawImage(e,0,0)}return o}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return o},A.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var i=t.getContext("2d");try{return i&&(i.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||i.getImageData(0,0,t.width,t.height)),t}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var o=e.ownerDocument.createElement("canvas");return o.width=e.offsetWidth,o.height=e.offsetHeight,o},A.prototype.appendChildNode=function(e,t,i){(!Oa(t)||!xU(t)&&!t.hasAttribute(lB)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(t)))&&(!this.options.copyStyles||!Oa(t)||!Ym(t))&&e.appendChild(this.cloneNode(t,i))},A.prototype.cloneChildNodes=function(e,t,i){for(var o=this,u=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;u;u=u.nextSibling)if(Oa(u)&&oB(u)&&typeof u.assignedNodes=="function"){var d=u.assignedNodes();d.length&&d.forEach(function(g){return o.appendChildNode(t,g,i)})}else this.appendChildNode(t,u,i)},A.prototype.cloneNode=function(e,t){if(AB(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var i=e.ownerDocument.defaultView;if(i&&Oa(e)&&(Qf(e)||bc(e))){var o=this.createElementClone(e);o.style.transitionProperty="none";var u=i.getComputedStyle(e),d=i.getComputedStyle(e,":before"),g=i.getComputedStyle(e,":after");this.referenceElement===e&&Qf(o)&&(this.clonedReferenceElement=o),np(o)&&HU(o);var m=this.counters.parse(new jm(this.context,u)),y=this.resolvePseudoContent(e,o,d,kl.BEFORE);ev(e)&&(t=!0),Xm(e)||this.cloneChildNodes(e,o,t),y&&o.insertBefore(y,o.firstChild);var C=this.resolvePseudoContent(e,o,g,kl.AFTER);return C&&o.appendChild(C),this.counters.pop(m),(u&&(this.options.copyStyles||bc(e))&&!sB(e)||t)&&jh(u,o),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([o,e.scrollLeft,e.scrollTop]),(Pc(e)||Nc(e))&&(Pc(o)||Nc(o))&&(o.value=e.value),o}return e.cloneNode(!1)},A.prototype.resolvePseudoContent=function(e,t,i,o){var u=this;if(i){var d=i.content,g=t.ownerDocument;if(!(!g||!d||d==="none"||d==="-moz-alt-content"||i.display==="none")){this.counters.parse(new jm(this.context,i));var m=new BQ(this.context,i),y=g.createElement("html2canvaspseudoelement");jh(i,y),m.content.forEach(function(b){if(b.type===0)y.appendChild(g.createTextNode(b.value));else if(b.type===22){var S=g.createElement("img");S.src=b.value,S.style.opacity="1",y.appendChild(S)}else if(b.type===18){if(b.name==="attr"){var O=b.values.filter(Kt);O.length&&y.appendChild(g.createTextNode(e.getAttribute(O[0].value)||""))}else if(b.name==="counter"){var P=b.values.filter(Ma),N=P[0],W=P[1];if(N&&Kt(N)){var D=u.counters.getCounterValue(N.value),R=W&&Kt(W)?_f.parse(u.context,W.value):3;y.appendChild(g.createTextNode(Rl(D,R,!1)))}}else if(b.name==="counters"){var J=b.values.filter(Ma),N=J[0],M=J[1],W=J[2];if(N&&Kt(N)){var $=u.counters.getCounterValues(N.value),q=W&&Kt(W)?_f.parse(u.context,W.value):3,xe=M&&M.type===0?M.value:"",X=$.map(function(Ee){return Rl(Ee,q,!1)}).join(xe);y.appendChild(g.createTextNode(X))}}}else if(b.type===20)switch(b.value){case"open-quote":y.appendChild(g.createTextNode(Nm(m.quotes,u.quoteDepth++,!0)));break;case"close-quote":y.appendChild(g.createTextNode(Nm(m.quotes,--u.quoteDepth,!1)));break;default:y.appendChild(g.createTextNode(b.value))}}),y.className=Ef+" "+Ff;var C=o===kl.BEFORE?" "+Ef:" "+Ff;return bc(t)?t.className.baseValue+=C:t.className+=C,y}}},A.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},A})(),kl;(function(A){A[A.BEFORE=0]="BEFORE",A[A.AFTER=1]="AFTER"})(kl||(kl={}));var EU=function(A,e){var t=A.createElement("iframe");return t.className="html2canvas-container",t.style.visibility="hidden",t.style.position="fixed",t.style.left="-10000px",t.style.top="0px",t.style.border="0",t.width=e.width.toString(),t.height=e.height.toString(),t.scrolling="no",t.setAttribute(lB,"true"),A.body.appendChild(t),t},FU=function(A){return new Promise(function(e){if(A.complete){e();return}if(!A.src){e();return}A.onload=e,A.onerror=e})},SU=function(A){return Promise.all([].slice.call(A.images,0).map(FU))},IU=function(A){return new Promise(function(e,t){var i=A.contentWindow;if(!i)return t("No window assigned for iframe");var o=i.document;i.onload=A.onload=function(){i.onload=A.onload=null;var u=setInterval(function(){o.body.childNodes.length>0&&o.readyState==="complete"&&(clearInterval(u),e(A))},50)}})},LU=["all","d","content"],jh=function(A,e){for(var t=A.length-1;t>=0;t--){var i=A.item(t);LU.indexOf(i)===-1&&e.style.setProperty(i,A.getPropertyValue(i))}return e},kU=function(A){var e="";return A&&(e+="<!DOCTYPE ",A.name&&(e+=A.name),A.internalSubset&&(e+=A.internalSubset),A.publicId&&(e+='"'+A.publicId+'"'),A.systemId&&(e+='"'+A.systemId+'"'),e+=">"),e},TU=function(A,e,t){A&&A.defaultView&&(e!==A.defaultView.pageXOffset||t!==A.defaultView.pageYOffset)&&A.defaultView.scrollTo(e,t)},PU=function(A){var e=A[0],t=A[1],i=A[2];e.scrollLeft=t,e.scrollTop=i},NU=":before",jU=":after",Ef="___html2canvas___pseudoelement_before",Ff="___html2canvas___pseudoelement_after",ov=`{
    content: "" !important;
    display: none !important;
}`,HU=function(A){OU(A,"."+Ef+NU+ov+`
         .`+Ff+jU+ov)},OU=function(A,e){var t=A.ownerDocument;if(t){var i=t.createElement("style");i.textContent=e,A.appendChild(i)}},uB=(function(){function A(){}return A.getOrigin=function(e){var t=A._link;return t?(t.href=e,t.href=t.href,t.protocol+t.hostname+t.port):"about:blank"},A.isSameOrigin=function(e){return A.getOrigin(e)===A._origin},A.setContext=function(e){A._link=e.document.createElement("a"),A._origin=A.getOrigin(e.location.href)},A._origin="about:blank",A})(),DU=(function(){function A(e,t){this.context=e,this._options=t,this._cache={}}return A.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)||(Oh(e)||VU(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),t},A.prototype.match=function(e){return this._cache[e]},A.prototype.loadImage=function(e){return xA(this,void 0,void 0,function(){var t,i,o,u,d=this;return dA(this,function(g){switch(g.label){case 0:return t=uB.isSameOrigin(e),i=!Hh(e)&&this._options.useCORS===!0&&nA.SUPPORT_CORS_IMAGES&&!t,o=!Hh(e)&&!t&&!Oh(e)&&typeof this._options.proxy=="string"&&nA.SUPPORT_CORS_XHR&&!i,!t&&this._options.allowTaint===!1&&!Hh(e)&&!Oh(e)&&!o&&!i?[2]:(u=e,o?[4,this.proxy(u)]:[3,2]);case 1:u=g.sent(),g.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(m,y){var C=new Image;C.onload=function(){return m(C)},C.onerror=y,(GU(u)||i)&&(C.crossOrigin="anonymous"),C.src=u,C.complete===!0&&setTimeout(function(){return m(C)},500),d._options.imageTimeout>0&&setTimeout(function(){return y("Timed out ("+d._options.imageTimeout+"ms) loading image")},d._options.imageTimeout)})];case 3:return[2,g.sent()]}})})},A.prototype.has=function(e){return typeof this._cache[e]<"u"},A.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},A.prototype.proxy=function(e){var t=this,i=this._options.proxy;if(!i)throw new Error("No proxy defined");var o=e.substring(0,256);return new Promise(function(u,d){var g=nA.SUPPORT_RESPONSE_TYPE?"blob":"text",m=new XMLHttpRequest;m.onload=function(){if(m.status===200)if(g==="text")u(m.response);else{var b=new FileReader;b.addEventListener("load",function(){return u(b.result)},!1),b.addEventListener("error",function(S){return d(S)},!1),b.readAsDataURL(m.response)}else d("Failed to proxy resource "+o+" with status code "+m.status)},m.onerror=d;var y=i.indexOf("?")>-1?"&":"?";if(m.open("GET",""+i+y+"url="+encodeURIComponent(e)+"&responseType="+g),g!=="text"&&m instanceof XMLHttpRequest&&(m.responseType=g),t._options.imageTimeout){var C=t._options.imageTimeout;m.timeout=C,m.ontimeout=function(){return d("Timed out ("+C+"ms) proxying "+o)}}m.send()})},A})(),RU=/^data:image\/svg\+xml/i,MU=/^data:image\/.*;base64,/i,KU=/^data:image\/.*/i,VU=function(A){return nA.SUPPORT_SVG_DRAWING||!zU(A)},Hh=function(A){return KU.test(A)},GU=function(A){return MU.test(A)},Oh=function(A){return A.substr(0,4)==="blob"},zU=function(A){return A.substr(-3).toLowerCase()==="svg"||RU.test(A)},Je=(function(){function A(e,t){this.type=0,this.x=e,this.y=t}return A.prototype.add=function(e,t){return new A(this.x+e,this.y+t)},A})(),_a=function(A,e,t){return new Je(A.x+(e.x-A.x)*t,A.y+(e.y-A.y)*t)},oc=(function(){function A(e,t,i,o){this.type=1,this.start=e,this.startControl=t,this.endControl=i,this.end=o}return A.prototype.subdivide=function(e,t){var i=_a(this.start,this.startControl,e),o=_a(this.startControl,this.endControl,e),u=_a(this.endControl,this.end,e),d=_a(i,o,e),g=_a(o,u,e),m=_a(d,g,e);return t?new A(this.start,i,d,m):new A(m,g,u,this.end)},A.prototype.add=function(e,t){return new A(this.start.add(e,t),this.startControl.add(e,t),this.endControl.add(e,t),this.end.add(e,t))},A.prototype.reverse=function(){return new A(this.end,this.endControl,this.startControl,this.start)},A})(),Er=function(A){return A.type===1},WU=(function(){function A(e){var t=e.styles,i=e.bounds,o=bl(t.borderTopLeftRadius,i.width,i.height),u=o[0],d=o[1],g=bl(t.borderTopRightRadius,i.width,i.height),m=g[0],y=g[1],C=bl(t.borderBottomRightRadius,i.width,i.height),b=C[0],S=C[1],O=bl(t.borderBottomLeftRadius,i.width,i.height),P=O[0],N=O[1],W=[];W.push((u+m)/i.width),W.push((P+b)/i.width),W.push((d+N)/i.height),W.push((y+S)/i.height);var D=Math.max.apply(Math,W);D>1&&(u/=D,d/=D,m/=D,y/=D,b/=D,S/=D,P/=D,N/=D);var R=i.width-m,J=i.height-S,M=i.width-b,$=i.height-N,q=t.borderTopWidth,xe=t.borderRightWidth,X=t.borderBottomWidth,Ae=t.borderLeftWidth,ve=Wt(t.paddingTop,e.bounds.width),Ee=Wt(t.paddingRight,e.bounds.width),qe=Wt(t.paddingBottom,e.bounds.width),Ze=Wt(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=u>0||d>0?An(i.left+Ae/3,i.top+q/3,u-Ae/3,d-q/3,jt.TOP_LEFT):new Je(i.left+Ae/3,i.top+q/3),this.topRightBorderDoubleOuterBox=u>0||d>0?An(i.left+R,i.top+q/3,m-xe/3,y-q/3,jt.TOP_RIGHT):new Je(i.left+i.width-xe/3,i.top+q/3),this.bottomRightBorderDoubleOuterBox=b>0||S>0?An(i.left+M,i.top+J,b-xe/3,S-X/3,jt.BOTTOM_RIGHT):new Je(i.left+i.width-xe/3,i.top+i.height-X/3),this.bottomLeftBorderDoubleOuterBox=P>0||N>0?An(i.left+Ae/3,i.top+$,P-Ae/3,N-X/3,jt.BOTTOM_LEFT):new Je(i.left+Ae/3,i.top+i.height-X/3),this.topLeftBorderDoubleInnerBox=u>0||d>0?An(i.left+Ae*2/3,i.top+q*2/3,u-Ae*2/3,d-q*2/3,jt.TOP_LEFT):new Je(i.left+Ae*2/3,i.top+q*2/3),this.topRightBorderDoubleInnerBox=u>0||d>0?An(i.left+R,i.top+q*2/3,m-xe*2/3,y-q*2/3,jt.TOP_RIGHT):new Je(i.left+i.width-xe*2/3,i.top+q*2/3),this.bottomRightBorderDoubleInnerBox=b>0||S>0?An(i.left+M,i.top+J,b-xe*2/3,S-X*2/3,jt.BOTTOM_RIGHT):new Je(i.left+i.width-xe*2/3,i.top+i.height-X*2/3),this.bottomLeftBorderDoubleInnerBox=P>0||N>0?An(i.left+Ae*2/3,i.top+$,P-Ae*2/3,N-X*2/3,jt.BOTTOM_LEFT):new Je(i.left+Ae*2/3,i.top+i.height-X*2/3),this.topLeftBorderStroke=u>0||d>0?An(i.left+Ae/2,i.top+q/2,u-Ae/2,d-q/2,jt.TOP_LEFT):new Je(i.left+Ae/2,i.top+q/2),this.topRightBorderStroke=u>0||d>0?An(i.left+R,i.top+q/2,m-xe/2,y-q/2,jt.TOP_RIGHT):new Je(i.left+i.width-xe/2,i.top+q/2),this.bottomRightBorderStroke=b>0||S>0?An(i.left+M,i.top+J,b-xe/2,S-X/2,jt.BOTTOM_RIGHT):new Je(i.left+i.width-xe/2,i.top+i.height-X/2),this.bottomLeftBorderStroke=P>0||N>0?An(i.left+Ae/2,i.top+$,P-Ae/2,N-X/2,jt.BOTTOM_LEFT):new Je(i.left+Ae/2,i.top+i.height-X/2),this.topLeftBorderBox=u>0||d>0?An(i.left,i.top,u,d,jt.TOP_LEFT):new Je(i.left,i.top),this.topRightBorderBox=m>0||y>0?An(i.left+R,i.top,m,y,jt.TOP_RIGHT):new Je(i.left+i.width,i.top),this.bottomRightBorderBox=b>0||S>0?An(i.left+M,i.top+J,b,S,jt.BOTTOM_RIGHT):new Je(i.left+i.width,i.top+i.height),this.bottomLeftBorderBox=P>0||N>0?An(i.left,i.top+$,P,N,jt.BOTTOM_LEFT):new Je(i.left,i.top+i.height),this.topLeftPaddingBox=u>0||d>0?An(i.left+Ae,i.top+q,Math.max(0,u-Ae),Math.max(0,d-q),jt.TOP_LEFT):new Je(i.left+Ae,i.top+q),this.topRightPaddingBox=m>0||y>0?An(i.left+Math.min(R,i.width-xe),i.top+q,R>i.width+xe?0:Math.max(0,m-xe),Math.max(0,y-q),jt.TOP_RIGHT):new Je(i.left+i.width-xe,i.top+q),this.bottomRightPaddingBox=b>0||S>0?An(i.left+Math.min(M,i.width-Ae),i.top+Math.min(J,i.height-X),Math.max(0,b-xe),Math.max(0,S-X),jt.BOTTOM_RIGHT):new Je(i.left+i.width-xe,i.top+i.height-X),this.bottomLeftPaddingBox=P>0||N>0?An(i.left+Ae,i.top+Math.min($,i.height-X),Math.max(0,P-Ae),Math.max(0,N-X),jt.BOTTOM_LEFT):new Je(i.left+Ae,i.top+i.height-X),this.topLeftContentBox=u>0||d>0?An(i.left+Ae+Ze,i.top+q+ve,Math.max(0,u-(Ae+Ze)),Math.max(0,d-(q+ve)),jt.TOP_LEFT):new Je(i.left+Ae+Ze,i.top+q+ve),this.topRightContentBox=m>0||y>0?An(i.left+Math.min(R,i.width+Ae+Ze),i.top+q+ve,R>i.width+Ae+Ze?0:m-Ae+Ze,y-(q+ve),jt.TOP_RIGHT):new Je(i.left+i.width-(xe+Ee),i.top+q+ve),this.bottomRightContentBox=b>0||S>0?An(i.left+Math.min(M,i.width-(Ae+Ze)),i.top+Math.min(J,i.height+q+ve),Math.max(0,b-(xe+Ee)),S-(X+qe),jt.BOTTOM_RIGHT):new Je(i.left+i.width-(xe+Ee),i.top+i.height-(X+qe)),this.bottomLeftContentBox=P>0||N>0?An(i.left+Ae+Ze,i.top+$,Math.max(0,P-(Ae+Ze)),N-(X+qe),jt.BOTTOM_LEFT):new Je(i.left+Ae+Ze,i.top+i.height-(X+qe))}return A})(),jt;(function(A){A[A.TOP_LEFT=0]="TOP_LEFT",A[A.TOP_RIGHT=1]="TOP_RIGHT",A[A.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",A[A.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(jt||(jt={}));var An=function(A,e,t,i,o){var u=4*((Math.sqrt(2)-1)/3),d=t*u,g=i*u,m=A+t,y=e+i;switch(o){case jt.TOP_LEFT:return new oc(new Je(A,y),new Je(A,y-g),new Je(m-d,e),new Je(m,e));case jt.TOP_RIGHT:return new oc(new Je(A,e),new Je(A+d,e),new Je(m,y-g),new Je(m,y));case jt.BOTTOM_RIGHT:return new oc(new Je(m,e),new Je(m,e+g),new Je(A+d,y),new Je(A,y));case jt.BOTTOM_LEFT:default:return new oc(new Je(m,y),new Je(m-d,y),new Je(A,e+g),new Je(A,e))}},jc=function(A){return[A.topLeftBorderBox,A.topRightBorderBox,A.bottomRightBorderBox,A.bottomLeftBorderBox]},$U=function(A){return[A.topLeftContentBox,A.topRightContentBox,A.bottomRightContentBox,A.bottomLeftContentBox]},Hc=function(A){return[A.topLeftPaddingBox,A.topRightPaddingBox,A.bottomRightPaddingBox,A.bottomLeftPaddingBox]},ZU=(function(){function A(e,t,i){this.offsetX=e,this.offsetY=t,this.matrix=i,this.type=0,this.target=6}return A})(),ac=(function(){function A(e,t){this.path=e,this.target=t,this.type=1}return A})(),JU=(function(){function A(e){this.opacity=e,this.type=2,this.target=6}return A})(),qU=function(A){return A.type===0},cB=function(A){return A.type===1},XU=function(A){return A.type===2},av=function(A,e){return A.length===e.length?A.some(function(t,i){return t===e[i]}):!1},YU=function(A,e,t,i,o){return A.map(function(u,d){switch(d){case 0:return u.add(e,t);case 1:return u.add(e+i,t);case 2:return u.add(e+i,t+o);case 3:return u.add(e,t+o)}return u})},dB=(function(){function A(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return A})(),hB=(function(){function A(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new WU(this.container),this.container.styles.opacity<1&&this.effects.push(new JU(this.container.styles.opacity)),this.container.styles.transform!==null){var i=this.container.bounds.left+this.container.styles.transformOrigin[0].number,o=this.container.bounds.top+this.container.styles.transformOrigin[1].number,u=this.container.styles.transform;this.effects.push(new ZU(i,o,u))}if(this.container.styles.overflowX!==0){var d=jc(this.curves),g=Hc(this.curves);av(d,g)?this.effects.push(new ac(d,6)):(this.effects.push(new ac(d,2)),this.effects.push(new ac(g,4)))}}return A.prototype.getEffects=function(e){for(var t=[2,3].indexOf(this.container.styles.position)===-1,i=this.parent,o=this.effects.slice(0);i;){var u=i.effects.filter(function(m){return!cB(m)});if(t||i.container.styles.position!==0||!i.parent){if(o.unshift.apply(o,u),t=[2,3].indexOf(i.container.styles.position)===-1,i.container.styles.overflowX!==0){var d=jc(i.curves),g=Hc(i.curves);av(d,g)||o.unshift(new ac(g,6))}}else o.unshift.apply(o,u);i=i.parent}return o.filter(function(m){return Pn(m.target,e)})},A})(),Sf=function(A,e,t,i){A.container.elements.forEach(function(o){var u=Pn(o.flags,4),d=Pn(o.flags,2),g=new hB(o,A);Pn(o.styles.display,2048)&&i.push(g);var m=Pn(o.flags,8)?[]:i;if(u||d){var y=u||o.styles.isPositioned()?t:e,C=new dB(g);if(o.styles.isPositioned()||o.styles.opacity<1||o.styles.isTransformed()){var b=o.styles.zIndex.order;if(b<0){var S=0;y.negativeZIndex.some(function(P,N){return b>P.element.container.styles.zIndex.order?(S=N,!1):S>0}),y.negativeZIndex.splice(S,0,C)}else if(b>0){var O=0;y.positiveZIndex.some(function(P,N){return b>=P.element.container.styles.zIndex.order?(O=N+1,!1):O>0}),y.positiveZIndex.splice(O,0,C)}else y.zeroOrAutoZIndexOrTransformedOrOpacity.push(C)}else o.styles.isFloating()?y.nonPositionedFloats.push(C):y.nonPositionedInlineLevel.push(C);Sf(g,C,u?C:t,m)}else o.styles.isInlineLevel()?e.inlineLevel.push(g):e.nonInlineLevel.push(g),Sf(g,e,t,m);Pn(o.flags,8)&&fB(o,m)})},fB=function(A,e){for(var t=A instanceof bf?A.start:1,i=A instanceof bf?A.reversed:!1,o=0;o<e.length;o++){var u=e[o];u.container instanceof qw&&typeof u.container.value=="number"&&u.container.value!==0&&(t=u.container.value),u.listValue=Rl(t,u.container.styles.listStyleType,!0),t+=i?-1:1}},eE=function(A){var e=new hB(A,null),t=new dB(e),i=[];return Sf(e,t,t,i),fB(e.container,i),t},lv=function(A,e){switch(e){case 0:return Sr(A.topLeftBorderBox,A.topLeftPaddingBox,A.topRightBorderBox,A.topRightPaddingBox);case 1:return Sr(A.topRightBorderBox,A.topRightPaddingBox,A.bottomRightBorderBox,A.bottomRightPaddingBox);case 2:return Sr(A.bottomRightBorderBox,A.bottomRightPaddingBox,A.bottomLeftBorderBox,A.bottomLeftPaddingBox);case 3:default:return Sr(A.bottomLeftBorderBox,A.bottomLeftPaddingBox,A.topLeftBorderBox,A.topLeftPaddingBox)}},tE=function(A,e){switch(e){case 0:return Sr(A.topLeftBorderBox,A.topLeftBorderDoubleOuterBox,A.topRightBorderBox,A.topRightBorderDoubleOuterBox);case 1:return Sr(A.topRightBorderBox,A.topRightBorderDoubleOuterBox,A.bottomRightBorderBox,A.bottomRightBorderDoubleOuterBox);case 2:return Sr(A.bottomRightBorderBox,A.bottomRightBorderDoubleOuterBox,A.bottomLeftBorderBox,A.bottomLeftBorderDoubleOuterBox);case 3:default:return Sr(A.bottomLeftBorderBox,A.bottomLeftBorderDoubleOuterBox,A.topLeftBorderBox,A.topLeftBorderDoubleOuterBox)}},nE=function(A,e){switch(e){case 0:return Sr(A.topLeftBorderDoubleInnerBox,A.topLeftPaddingBox,A.topRightBorderDoubleInnerBox,A.topRightPaddingBox);case 1:return Sr(A.topRightBorderDoubleInnerBox,A.topRightPaddingBox,A.bottomRightBorderDoubleInnerBox,A.bottomRightPaddingBox);case 2:return Sr(A.bottomRightBorderDoubleInnerBox,A.bottomRightPaddingBox,A.bottomLeftBorderDoubleInnerBox,A.bottomLeftPaddingBox);case 3:default:return Sr(A.bottomLeftBorderDoubleInnerBox,A.bottomLeftPaddingBox,A.topLeftBorderDoubleInnerBox,A.topLeftPaddingBox)}},AE=function(A,e){switch(e){case 0:return lc(A.topLeftBorderStroke,A.topRightBorderStroke);case 1:return lc(A.topRightBorderStroke,A.bottomRightBorderStroke);case 2:return lc(A.bottomRightBorderStroke,A.bottomLeftBorderStroke);case 3:default:return lc(A.bottomLeftBorderStroke,A.topLeftBorderStroke)}},lc=function(A,e){var t=[];return Er(A)?t.push(A.subdivide(.5,!1)):t.push(A),Er(e)?t.push(e.subdivide(.5,!0)):t.push(e),t},Sr=function(A,e,t,i){var o=[];return Er(A)?o.push(A.subdivide(.5,!1)):o.push(A),Er(t)?o.push(t.subdivide(.5,!0)):o.push(t),Er(i)?o.push(i.subdivide(.5,!0).reverse()):o.push(i),Er(e)?o.push(e.subdivide(.5,!1).reverse()):o.push(e),o},pB=function(A){var e=A.bounds,t=A.styles;return e.add(t.borderLeftWidth,t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth),-(t.borderTopWidth+t.borderBottomWidth))},Oc=function(A){var e=A.styles,t=A.bounds,i=Wt(e.paddingLeft,t.width),o=Wt(e.paddingRight,t.width),u=Wt(e.paddingTop,t.width),d=Wt(e.paddingBottom,t.width);return t.add(i+e.borderLeftWidth,u+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+i+o),-(e.borderTopWidth+e.borderBottomWidth+u+d))},rE=function(A,e){return A===0?e.bounds:A===2?Oc(e):pB(e)},iE=function(A,e){return A===0?e.bounds:A===2?Oc(e):pB(e)},Dh=function(A,e,t){var i=rE(Na(A.styles.backgroundOrigin,e),A),o=iE(Na(A.styles.backgroundClip,e),A),u=sE(Na(A.styles.backgroundSize,e),t,i),d=u[0],g=u[1],m=bl(Na(A.styles.backgroundPosition,e),i.width-d,i.height-g),y=oE(Na(A.styles.backgroundRepeat,e),m,u,i,o),C=Math.round(i.left+m[0]),b=Math.round(i.top+m[1]);return[y,C,b,d,g]},Ca=function(A){return Kt(A)&&A.value===Da.AUTO},uc=function(A){return typeof A=="number"},sE=function(A,e,t){var i=e[0],o=e[1],u=e[2],d=A[0],g=A[1];if(!d)return[0,0];if(Un(d)&&g&&Un(g))return[Wt(d,t.width),Wt(g,t.height)];var m=uc(u);if(Kt(d)&&(d.value===Da.CONTAIN||d.value===Da.COVER)){if(uc(u)){var y=t.width/t.height;return y<u!=(d.value===Da.COVER)?[t.width,t.width/u]:[t.height*u,t.height]}return[t.width,t.height]}var C=uc(i),b=uc(o),S=C||b;if(Ca(d)&&(!g||Ca(g))){if(C&&b)return[i,o];if(!m&&!S)return[t.width,t.height];if(S&&m){var O=C?i:o*u,P=b?o:i/u;return[O,P]}var N=C?i:t.width,W=b?o:t.height;return[N,W]}if(m){var D=0,R=0;return Un(d)?D=Wt(d,t.width):Un(g)&&(R=Wt(g,t.height)),Ca(d)?D=R*u:(!g||Ca(g))&&(R=D/u),[D,R]}var J=null,M=null;if(Un(d)?J=Wt(d,t.width):g&&Un(g)&&(M=Wt(g,t.height)),J!==null&&(!g||Ca(g))&&(M=C&&b?J/i*o:t.height),M!==null&&Ca(d)&&(J=C&&b?M/o*i:t.width),J!==null&&M!==null)return[J,M];throw new Error("Unable to calculate background-size for element")},Na=function(A,e){var t=A[e];return typeof t>"u"?A[0]:t},oE=function(A,e,t,i,o){var u=e[0],d=e[1],g=t[0],m=t[1];switch(A){case 2:return[new Je(Math.round(i.left),Math.round(i.top+d)),new Je(Math.round(i.left+i.width),Math.round(i.top+d)),new Je(Math.round(i.left+i.width),Math.round(m+i.top+d)),new Je(Math.round(i.left),Math.round(m+i.top+d))];case 3:return[new Je(Math.round(i.left+u),Math.round(i.top)),new Je(Math.round(i.left+u+g),Math.round(i.top)),new Je(Math.round(i.left+u+g),Math.round(i.height+i.top)),new Je(Math.round(i.left+u),Math.round(i.height+i.top))];case 1:return[new Je(Math.round(i.left+u),Math.round(i.top+d)),new Je(Math.round(i.left+u+g),Math.round(i.top+d)),new Je(Math.round(i.left+u+g),Math.round(i.top+d+m)),new Je(Math.round(i.left+u),Math.round(i.top+d+m))];default:return[new Je(Math.round(o.left),Math.round(o.top)),new Je(Math.round(o.left+o.width),Math.round(o.top)),new Je(Math.round(o.left+o.width),Math.round(o.height+o.top)),new Je(Math.round(o.left),Math.round(o.height+o.top))]}},aE="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",uv="Hidden Text",lE=(function(){function A(e){this._data={},this._document=e}return A.prototype.parseMetrics=function(e,t){var i=this._document.createElement("div"),o=this._document.createElement("img"),u=this._document.createElement("span"),d=this._document.body;i.style.visibility="hidden",i.style.fontFamily=e,i.style.fontSize=t,i.style.margin="0",i.style.padding="0",i.style.whiteSpace="nowrap",d.appendChild(i),o.src=aE,o.width=1,o.height=1,o.style.margin="0",o.style.padding="0",o.style.verticalAlign="baseline",u.style.fontFamily=e,u.style.fontSize=t,u.style.margin="0",u.style.padding="0",u.appendChild(this._document.createTextNode(uv)),i.appendChild(u),i.appendChild(o);var g=o.offsetTop-u.offsetTop+2;i.removeChild(u),i.appendChild(this._document.createTextNode(uv)),i.style.lineHeight="normal",o.style.verticalAlign="super";var m=o.offsetTop-i.offsetTop+2;return d.removeChild(i),{baseline:g,middle:m}},A.prototype.getMetrics=function(e,t){var i=e+" "+t;return typeof this._data[i]>"u"&&(this._data[i]=this.parseMetrics(e,t)),this._data[i]},A})(),gB=(function(){function A(e,t){this.context=e,this.options=t}return A})(),uE=1e4,cE=(function(A){ri(e,A);function e(t,i){var o=A.call(this,t,i)||this;return o._activeEffects=[],o.canvas=i.canvas?i.canvas:document.createElement("canvas"),o.ctx=o.canvas.getContext("2d"),i.canvas||(o.canvas.width=Math.floor(i.width*i.scale),o.canvas.height=Math.floor(i.height*i.scale),o.canvas.style.width=i.width+"px",o.canvas.style.height=i.height+"px"),o.fontMetrics=new lE(document),o.ctx.scale(o.options.scale,o.options.scale),o.ctx.translate(-i.x,-i.y),o.ctx.textBaseline="bottom",o._activeEffects=[],o.context.logger.debug("Canvas renderer initialized ("+i.width+"x"+i.height+") with scale "+i.scale),o}return e.prototype.applyEffects=function(t){for(var i=this;this._activeEffects.length;)this.popEffect();t.forEach(function(o){return i.applyEffect(o)})},e.prototype.applyEffect=function(t){this.ctx.save(),XU(t)&&(this.ctx.globalAlpha=t.opacity),qU(t)&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),cB(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(t){return xA(this,void 0,void 0,function(){var i;return dA(this,function(o){switch(o.label){case 0:return i=t.element.container.styles,i.isVisible()?[4,this.renderStackContent(t)]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(t){return xA(this,void 0,void 0,function(){return dA(this,function(i){switch(i.label){case 0:if(Pn(t.container.flags,16))debugger;return t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return i.sent(),[4,this.renderNodeContent(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(t,i,o){var u=this;if(i===0)this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+o);else{var d=ep(t.text);d.reduce(function(g,m){return u.ctx.fillText(m,g,t.bounds.top+o),g+u.ctx.measureText(m).width},t.bounds.left)}},e.prototype.createFontStyle=function(t){var i=t.fontVariant.filter(function(d){return d==="normal"||d==="small-caps"}).join(""),o=gE(t.fontFamily).join(", "),u=Zl(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,i,t.fontWeight,u,o].join(" "),o,u]},e.prototype.renderTextNode=function(t,i){return xA(this,void 0,void 0,function(){var o,u,d,g,m,y,C,b,S=this;return dA(this,function(O){return o=this.createFontStyle(i),u=o[0],d=o[1],g=o[2],this.ctx.font=u,this.ctx.direction=i.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",m=this.fontMetrics.getMetrics(d,g),y=m.baseline,C=m.middle,b=i.paintOrder,t.textBounds.forEach(function(P){b.forEach(function(N){switch(N){case 0:S.ctx.fillStyle=$n(i.color),S.renderTextWithLetterSpacing(P,i.letterSpacing,y);var W=i.textShadow;W.length&&P.text.trim().length&&(W.slice(0).reverse().forEach(function(D){S.ctx.shadowColor=$n(D.color),S.ctx.shadowOffsetX=D.offsetX.number*S.options.scale,S.ctx.shadowOffsetY=D.offsetY.number*S.options.scale,S.ctx.shadowBlur=D.blur.number,S.renderTextWithLetterSpacing(P,i.letterSpacing,y)}),S.ctx.shadowColor="",S.ctx.shadowOffsetX=0,S.ctx.shadowOffsetY=0,S.ctx.shadowBlur=0),i.textDecorationLine.length&&(S.ctx.fillStyle=$n(i.textDecorationColor||i.color),i.textDecorationLine.forEach(function(D){switch(D){case 1:S.ctx.fillRect(P.bounds.left,Math.round(P.bounds.top+y),P.bounds.width,1);break;case 2:S.ctx.fillRect(P.bounds.left,Math.round(P.bounds.top),P.bounds.width,1);break;case 3:S.ctx.fillRect(P.bounds.left,Math.ceil(P.bounds.top+C),P.bounds.width,1);break}}));break;case 1:i.webkitTextStrokeWidth&&P.text.trim().length&&(S.ctx.strokeStyle=$n(i.webkitTextStrokeColor),S.ctx.lineWidth=i.webkitTextStrokeWidth,S.ctx.lineJoin=window.chrome?"miter":"round",S.ctx.strokeText(P.text,P.bounds.left,P.bounds.top+y)),S.ctx.strokeStyle="",S.ctx.lineWidth=0,S.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(t,i,o){if(o&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var u=Oc(t),d=Hc(i);this.path(d),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(o,0,0,t.intrinsicWidth,t.intrinsicHeight,u.left,u.top,u.width,u.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(t){return xA(this,void 0,void 0,function(){var i,o,u,d,g,m,R,R,y,C,b,S,M,O,P,$,N,W,D,R,J,M,$;return dA(this,function(q){switch(q.label){case 0:this.applyEffects(t.getEffects(4)),i=t.container,o=t.curves,u=i.styles,d=0,g=i.textNodes,q.label=1;case 1:return d<g.length?(m=g[d],[4,this.renderTextNode(m,u)]):[3,4];case 2:q.sent(),q.label=3;case 3:return d++,[3,1];case 4:if(!(i instanceof $w))return[3,8];q.label=5;case 5:return q.trys.push([5,7,,8]),[4,this.context.cache.match(i.src)];case 6:return R=q.sent(),this.renderReplacedElement(i,o,R),[3,8];case 7:return q.sent(),this.context.logger.error("Error loading image "+i.src),[3,8];case 8:if(i instanceof Zw&&this.renderReplacedElement(i,o,i.canvas),!(i instanceof Jw))return[3,12];q.label=9;case 9:return q.trys.push([9,11,,12]),[4,this.context.cache.match(i.svg)];case 10:return R=q.sent(),this.renderReplacedElement(i,o,R),[3,12];case 11:return q.sent(),this.context.logger.error("Error loading svg "+i.svg.substring(0,255)),[3,12];case 12:return i instanceof eB&&i.tree?(y=new e(this.context,{scale:this.options.scale,backgroundColor:i.backgroundColor,x:0,y:0,width:i.width,height:i.height}),[4,y.render(i.tree)]):[3,14];case 13:C=q.sent(),i.width&&i.height&&this.ctx.drawImage(C,0,0,i.width,i.height,i.bounds.left,i.bounds.top,i.bounds.width,i.bounds.height),q.label=14;case 14:if(i instanceof tp&&(b=Math.min(i.bounds.width,i.bounds.height),i.type===kc?i.checked&&(this.ctx.save(),this.path([new Je(i.bounds.left+b*.39363,i.bounds.top+b*.79),new Je(i.bounds.left+b*.16,i.bounds.top+b*.5549),new Je(i.bounds.left+b*.27347,i.bounds.top+b*.44071),new Je(i.bounds.left+b*.39694,i.bounds.top+b*.5649),new Je(i.bounds.left+b*.72983,i.bounds.top+b*.23),new Je(i.bounds.left+b*.84,i.bounds.top+b*.34085),new Je(i.bounds.left+b*.39363,i.bounds.top+b*.79)]),this.ctx.fillStyle=$n(qm),this.ctx.fill(),this.ctx.restore()):i.type===Tc&&i.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(i.bounds.left+b/2,i.bounds.top+b/2,b/4,0,Math.PI*2,!0),this.ctx.fillStyle=$n(qm),this.ctx.fill(),this.ctx.restore())),dE(i)&&i.value.length){switch(S=this.createFontStyle(u),M=S[0],O=S[1],P=this.fontMetrics.getMetrics(M,O).baseline,this.ctx.font=M,this.ctx.fillStyle=$n(u.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=fE(i.styles.textAlign),$=Oc(i),N=0,i.styles.textAlign){case 1:N+=$.width/2;break;case 2:N+=$.width;break}W=$.add(N,0,0,-$.height/2+1),this.ctx.save(),this.path([new Je($.left,$.top),new Je($.left+$.width,$.top),new Je($.left+$.width,$.top+$.height),new Je($.left,$.top+$.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Ll(i.value,W),u.letterSpacing,P),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Pn(i.styles.display,2048))return[3,20];if(i.styles.listStyleImage===null)return[3,19];if(D=i.styles.listStyleImage,D.type!==0)return[3,18];R=void 0,J=D.url,q.label=15;case 15:return q.trys.push([15,17,,18]),[4,this.context.cache.match(J)];case 16:return R=q.sent(),this.ctx.drawImage(R,i.bounds.left-(R.width+10),i.bounds.top),[3,18];case 17:return q.sent(),this.context.logger.error("Error loading list-style-image "+J),[3,18];case 18:return[3,20];case 19:t.listValue&&i.styles.listStyleType!==-1&&(M=this.createFontStyle(u)[0],this.ctx.font=M,this.ctx.fillStyle=$n(u.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",$=new fs(i.bounds.left,i.bounds.top+Wt(i.styles.paddingTop,i.bounds.width),i.bounds.width,Tm(u.lineHeight,u.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Ll(t.listValue,$),u.letterSpacing,Tm(u.lineHeight,u.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),q.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(t){return xA(this,void 0,void 0,function(){var i,o,D,u,d,D,g,m,D,y,C,D,b,S,D,O,P,D,N,W,D;return dA(this,function(R){switch(R.label){case 0:if(Pn(t.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:R.sent(),i=0,o=t.negativeZIndex,R.label=2;case 2:return i<o.length?(D=o[i],[4,this.renderStack(D)]):[3,5];case 3:R.sent(),R.label=4;case 4:return i++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:R.sent(),u=0,d=t.nonInlineLevel,R.label=7;case 7:return u<d.length?(D=d[u],[4,this.renderNode(D)]):[3,10];case 8:R.sent(),R.label=9;case 9:return u++,[3,7];case 10:g=0,m=t.nonPositionedFloats,R.label=11;case 11:return g<m.length?(D=m[g],[4,this.renderStack(D)]):[3,14];case 12:R.sent(),R.label=13;case 13:return g++,[3,11];case 14:y=0,C=t.nonPositionedInlineLevel,R.label=15;case 15:return y<C.length?(D=C[y],[4,this.renderStack(D)]):[3,18];case 16:R.sent(),R.label=17;case 17:return y++,[3,15];case 18:b=0,S=t.inlineLevel,R.label=19;case 19:return b<S.length?(D=S[b],[4,this.renderNode(D)]):[3,22];case 20:R.sent(),R.label=21;case 21:return b++,[3,19];case 22:O=0,P=t.zeroOrAutoZIndexOrTransformedOrOpacity,R.label=23;case 23:return O<P.length?(D=P[O],[4,this.renderStack(D)]):[3,26];case 24:R.sent(),R.label=25;case 25:return O++,[3,23];case 26:N=0,W=t.positiveZIndex,R.label=27;case 27:return N<W.length?(D=W[N],[4,this.renderStack(D)]):[3,30];case 28:R.sent(),R.label=29;case 29:return N++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},e.prototype.formatPath=function(t){var i=this;t.forEach(function(o,u){var d=Er(o)?o.start:o;u===0?i.ctx.moveTo(d.x,d.y):i.ctx.lineTo(d.x,d.y),Er(o)&&i.ctx.bezierCurveTo(o.startControl.x,o.startControl.y,o.endControl.x,o.endControl.y,o.end.x,o.end.y)})},e.prototype.renderRepeat=function(t,i,o,u){this.path(t),this.ctx.fillStyle=i,this.ctx.translate(o,u),this.ctx.fill(),this.ctx.translate(-o,-u)},e.prototype.resizeImage=function(t,i,o){var u;if(t.width===i&&t.height===o)return t;var d=(u=this.canvas.ownerDocument)!==null&&u!==void 0?u:document,g=d.createElement("canvas");g.width=Math.max(1,i),g.height=Math.max(1,o);var m=g.getContext("2d");return m.drawImage(t,0,0,t.width,t.height,0,0,i,o),g},e.prototype.renderBackgroundImage=function(t){return xA(this,void 0,void 0,function(){var i,o,u,d,g,m;return dA(this,function(y){switch(y.label){case 0:i=t.styles.backgroundImage.length-1,o=function(C){var b,S,O,ve,se,Qe,Ze,be,X,P,ve,se,Qe,Ze,be,N,W,D,R,J,M,$,q,xe,X,Ae,ve,Ee,qe,Ze,be,et,se,Qe,ge,Pe,K,H,le,Ie,Fe,Ne;return dA(this,function(Oe){switch(Oe.label){case 0:if(C.type!==0)return[3,5];b=void 0,S=C.url,Oe.label=1;case 1:return Oe.trys.push([1,3,,4]),[4,u.context.cache.match(S)];case 2:return b=Oe.sent(),[3,4];case 3:return Oe.sent(),u.context.logger.error("Error loading background-image "+S),[3,4];case 4:return b&&(O=Dh(t,i,[b.width,b.height,b.width/b.height]),ve=O[0],se=O[1],Qe=O[2],Ze=O[3],be=O[4],X=u.ctx.createPattern(u.resizeImage(b,Ze,be),"repeat"),u.renderRepeat(ve,X,se,Qe)),[3,6];case 5:Jx(C)?(P=Dh(t,i,[null,null,null]),ve=P[0],se=P[1],Qe=P[2],Ze=P[3],be=P[4],N=Gx(C.angle,Ze,be),W=N[0],D=N[1],R=N[2],J=N[3],M=N[4],$=document.createElement("canvas"),$.width=Ze,$.height=be,q=$.getContext("2d"),xe=q.createLinearGradient(D,J,R,M),Lm(C.stops,W).forEach(function(At){return xe.addColorStop(At.stop,$n(At.color))}),q.fillStyle=xe,q.fillRect(0,0,Ze,be),Ze>0&&be>0&&(X=u.ctx.createPattern($,"repeat"),u.renderRepeat(ve,X,se,Qe))):qx(C)&&(Ae=Dh(t,i,[null,null,null]),ve=Ae[0],Ee=Ae[1],qe=Ae[2],Ze=Ae[3],be=Ae[4],et=C.position.length===0?[qf]:C.position,se=Wt(et[0],Ze),Qe=Wt(et[et.length-1],be),ge=zx(C,se,Qe,Ze,be),Pe=ge[0],K=ge[1],Pe>0&&K>0&&(H=u.ctx.createRadialGradient(Ee+se,qe+Qe,0,Ee+se,qe+Qe,Pe),Lm(C.stops,Pe*2).forEach(function(At){return H.addColorStop(At.stop,$n(At.color))}),u.path(ve),u.ctx.fillStyle=H,Pe!==K?(le=t.bounds.left+.5*t.bounds.width,Ie=t.bounds.top+.5*t.bounds.height,Fe=K/Pe,Ne=1/Fe,u.ctx.save(),u.ctx.translate(le,Ie),u.ctx.transform(1,0,0,Fe,0,0),u.ctx.translate(-le,-Ie),u.ctx.fillRect(Ee,Ne*(qe-Ie)+Ie,Ze,be*Ne),u.ctx.restore()):u.ctx.fill())),Oe.label=6;case 6:return i--,[2]}})},u=this,d=0,g=t.styles.backgroundImage.slice(0).reverse(),y.label=1;case 1:return d<g.length?(m=g[d],[5,o(m)]):[3,4];case 2:y.sent(),y.label=3;case 3:return d++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(t,i,o){return xA(this,void 0,void 0,function(){return dA(this,function(u){return this.path(lv(o,i)),this.ctx.fillStyle=$n(t),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(t,i,o,u){return xA(this,void 0,void 0,function(){var d,g;return dA(this,function(m){switch(m.label){case 0:return i<3?[4,this.renderSolidBorder(t,o,u)]:[3,2];case 1:return m.sent(),[2];case 2:return d=tE(u,o),this.path(d),this.ctx.fillStyle=$n(t),this.ctx.fill(),g=nE(u,o),this.path(g),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(t){return xA(this,void 0,void 0,function(){var i,o,u,d,g,m,y,C,b=this;return dA(this,function(S){switch(S.label){case 0:return this.applyEffects(t.getEffects(2)),i=t.container.styles,o=!no(i.backgroundColor)||i.backgroundImage.length,u=[{style:i.borderTopStyle,color:i.borderTopColor,width:i.borderTopWidth},{style:i.borderRightStyle,color:i.borderRightColor,width:i.borderRightWidth},{style:i.borderBottomStyle,color:i.borderBottomColor,width:i.borderBottomWidth},{style:i.borderLeftStyle,color:i.borderLeftColor,width:i.borderLeftWidth}],d=hE(Na(i.backgroundClip,0),t.curves),o||i.boxShadow.length?(this.ctx.save(),this.path(d),this.ctx.clip(),no(i.backgroundColor)||(this.ctx.fillStyle=$n(i.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:S.sent(),this.ctx.restore(),i.boxShadow.slice(0).reverse().forEach(function(O){b.ctx.save();var P=jc(t.curves),N=O.inset?0:uE,W=YU(P,-N+(O.inset?1:-1)*O.spread.number,(O.inset?1:-1)*O.spread.number,O.spread.number*(O.inset?-2:2),O.spread.number*(O.inset?-2:2));O.inset?(b.path(P),b.ctx.clip(),b.mask(W)):(b.mask(P),b.ctx.clip(),b.path(W)),b.ctx.shadowOffsetX=O.offsetX.number+N,b.ctx.shadowOffsetY=O.offsetY.number,b.ctx.shadowColor=$n(O.color),b.ctx.shadowBlur=O.blur.number,b.ctx.fillStyle=O.inset?$n(O.color):"rgba(0,0,0,1)",b.ctx.fill(),b.ctx.restore()}),S.label=2;case 2:g=0,m=0,y=u,S.label=3;case 3:return m<y.length?(C=y[m],C.style!==0&&!no(C.color)&&C.width>0?C.style!==2?[3,5]:[4,this.renderDashedDottedBorder(C.color,C.width,g,t.curves,2)]:[3,11]):[3,13];case 4:return S.sent(),[3,11];case 5:return C.style!==3?[3,7]:[4,this.renderDashedDottedBorder(C.color,C.width,g,t.curves,3)];case 6:return S.sent(),[3,11];case 7:return C.style!==4?[3,9]:[4,this.renderDoubleBorder(C.color,C.width,g,t.curves)];case 8:return S.sent(),[3,11];case 9:return[4,this.renderSolidBorder(C.color,g,t.curves)];case 10:S.sent(),S.label=11;case 11:g++,S.label=12;case 12:return m++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(t,i,o,u,d){return xA(this,void 0,void 0,function(){var g,m,y,C,b,S,O,P,N,W,D,R,J,M,$,q,$,q;return dA(this,function(xe){return this.ctx.save(),g=AE(u,o),m=lv(u,o),d===2&&(this.path(m),this.ctx.clip()),Er(m[0])?(y=m[0].start.x,C=m[0].start.y):(y=m[0].x,C=m[0].y),Er(m[1])?(b=m[1].end.x,S=m[1].end.y):(b=m[1].x,S=m[1].y),o===0||o===2?O=Math.abs(y-b):O=Math.abs(C-S),this.ctx.beginPath(),d===3?this.formatPath(g):this.formatPath(m.slice(0,2)),P=i<3?i*3:i*2,N=i<3?i*2:i,d===3&&(P=i,N=i),W=!0,O<=P*2?W=!1:O<=P*2+N?(D=O/(2*P+N),P*=D,N*=D):(R=Math.floor((O+N)/(P+N)),J=(O-R*P)/(R-1),M=(O-(R+1)*P)/R,N=M<=0||Math.abs(N-J)<Math.abs(N-M)?J:M),W&&(d===3?this.ctx.setLineDash([0,P+N]):this.ctx.setLineDash([P,N])),d===3?(this.ctx.lineCap="round",this.ctx.lineWidth=i):this.ctx.lineWidth=i*2+1.1,this.ctx.strokeStyle=$n(t),this.ctx.stroke(),this.ctx.setLineDash([]),d===2&&(Er(m[0])&&($=m[3],q=m[0],this.ctx.beginPath(),this.formatPath([new Je($.end.x,$.end.y),new Je(q.start.x,q.start.y)]),this.ctx.stroke()),Er(m[1])&&($=m[1],q=m[2],this.ctx.beginPath(),this.formatPath([new Je($.end.x,$.end.y),new Je(q.start.x,q.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(t){return xA(this,void 0,void 0,function(){var i;return dA(this,function(o){switch(o.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=$n(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),i=eE(t),[4,this.renderStack(i)];case 1:return o.sent(),this.applyEffects([]),[2,this.canvas]}})})},e})(gB),dE=function(A){return A instanceof Yw||A instanceof Xw?!0:A instanceof tp&&A.type!==Tc&&A.type!==kc},hE=function(A,e){switch(A){case 0:return jc(e);case 2:return $U(e);case 1:default:return Hc(e)}},fE=function(A){switch(A){case 1:return"center";case 2:return"right";case 0:default:return"left"}},pE=["-apple-system","system-ui"],gE=function(A){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?A.filter(function(e){return pE.indexOf(e)===-1}):A},mE=(function(A){ri(e,A);function e(t,i){var o=A.call(this,t,i)||this;return o.canvas=i.canvas?i.canvas:document.createElement("canvas"),o.ctx=o.canvas.getContext("2d"),o.options=i,o.canvas.width=Math.floor(i.width*i.scale),o.canvas.height=Math.floor(i.height*i.scale),o.canvas.style.width=i.width+"px",o.canvas.style.height=i.height+"px",o.ctx.scale(o.options.scale,o.options.scale),o.ctx.translate(-i.x,-i.y),o.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+i.width+"x"+i.height+" at "+i.x+","+i.y+") with scale "+i.scale),o}return e.prototype.render=function(t){return xA(this,void 0,void 0,function(){var i,o;return dA(this,function(u){switch(u.label){case 0:return i=xf(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,t),[4,vE(i)];case 1:return o=u.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=$n(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(o,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e})(gB),vE=function(A){return new Promise(function(e,t){var i=new Image;i.onload=function(){e(i)},i.onerror=t,i.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(A))})},wE=(function(){function A(e){var t=e.id,i=e.enabled;this.id=t,this.enabled=i,this.start=Date.now()}return A.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Mu([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},A.prototype.getTime=function(){return Date.now()-this.start},A.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Mu([this.id,this.getTime()+"ms"],e))},A.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Mu([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},A.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Mu([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},A.instances={},A})(),BE=(function(){function A(e,t){var i;this.windowBounds=t,this.instanceName="#"+A.instanceCount++,this.logger=new wE({id:this.instanceName,enabled:e.logging}),this.cache=(i=e.cache)!==null&&i!==void 0?i:new DU(this,e)}return A.instanceCount=1,A})(),yE=function(A,e){return e===void 0&&(e={}),_E(A,e)};typeof window<"u"&&uB.setContext(window);var _E=function(A,e){return xA(void 0,void 0,void 0,function(){var t,i,o,u,d,g,m,y,C,b,S,O,P,N,W,D,R,J,M,$,xe,q,xe,X,Ae,ve,Ee,qe,Ze,be,et,se,Qe,ge,Pe,K,H,le,Ie,Fe;return dA(this,function(Ne){switch(Ne.label){case 0:if(!A||typeof A!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(t=A.ownerDocument,!t)throw new Error("Element is not attached to a Document");if(i=t.defaultView,!i)throw new Error("Document is not attached to a Window");return o={allowTaint:(X=e.allowTaint)!==null&&X!==void 0?X:!1,imageTimeout:(Ae=e.imageTimeout)!==null&&Ae!==void 0?Ae:15e3,proxy:e.proxy,useCORS:(ve=e.useCORS)!==null&&ve!==void 0?ve:!1},u=lf({logging:(Ee=e.logging)!==null&&Ee!==void 0?Ee:!0,cache:e.cache},o),d={windowWidth:(qe=e.windowWidth)!==null&&qe!==void 0?qe:i.innerWidth,windowHeight:(Ze=e.windowHeight)!==null&&Ze!==void 0?Ze:i.innerHeight,scrollX:(be=e.scrollX)!==null&&be!==void 0?be:i.pageXOffset,scrollY:(et=e.scrollY)!==null&&et!==void 0?et:i.pageYOffset},g=new fs(d.scrollX,d.scrollY,d.windowWidth,d.windowHeight),m=new BE(u,g),y=(se=e.foreignObjectRendering)!==null&&se!==void 0?se:!1,C={allowTaint:(Qe=e.allowTaint)!==null&&Qe!==void 0?Qe:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:y,copyStyles:y},m.logger.debug("Starting document clone with size "+g.width+"x"+g.height+" scrolled to "+-g.left+","+-g.top),b=new sv(m,A,C),S=b.clonedReferenceElement,S?[4,b.toIFrame(t,g)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return O=Ne.sent(),P=np(S)||CU(S)?X_(S.ownerDocument):zc(m,S),N=P.width,W=P.height,D=P.left,R=P.top,J=CE(m,S,e.backgroundColor),M={canvas:e.canvas,backgroundColor:J,scale:(Pe=(ge=e.scale)!==null&&ge!==void 0?ge:i.devicePixelRatio)!==null&&Pe!==void 0?Pe:1,x:((K=e.x)!==null&&K!==void 0?K:0)+D,y:((H=e.y)!==null&&H!==void 0?H:0)+R,width:(le=e.width)!==null&&le!==void 0?le:Math.ceil(N),height:(Ie=e.height)!==null&&Ie!==void 0?Ie:Math.ceil(W)},y?(m.logger.debug("Document cloned, using foreign object rendering"),xe=new mE(m,M),[4,xe.render(S)]):[3,3];case 2:return $=Ne.sent(),[3,5];case 3:return m.logger.debug("Document cloned, element located at "+D+","+R+" with size "+N+"x"+W+" using computed rendering"),m.logger.debug("Starting DOM parsing"),q=nB(m,S),J===q.styles.backgroundColor&&(q.styles.backgroundColor=hs.TRANSPARENT),m.logger.debug("Starting renderer for element at "+M.x+","+M.y+" with size "+M.width+"x"+M.height),xe=new cE(m,M),[4,xe.render(q)];case 4:$=Ne.sent(),Ne.label=5;case 5:return(!((Fe=e.removeContainer)!==null&&Fe!==void 0)||Fe)&&(sv.destroy(O)||m.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),m.logger.debug("Finished rendering"),[2,$]}})})},CE=function(A,e,t){var i=e.ownerDocument,o=i.documentElement?Sl(A,getComputedStyle(i.documentElement).backgroundColor):hs.TRANSPARENT,u=i.body?Sl(A,getComputedStyle(i.body).backgroundColor):hs.TRANSPARENT,d=typeof t=="string"?Sl(A,t):t===null?hs.TRANSPARENT:4294967295;return e===i.documentElement?no(o)?no(u)?d:u:o:d};function xE(A){if(!A||A.length<3)return 0;const e=g=>g*Math.PI/180,t=A.reduce((g,m)=>g+m[0],0)/A.length,i=A.reduce((g,m)=>g+m[1],0)/A.length,o=6371e3,u=A.map(([g,m])=>[o*e(m-i)*Math.cos(e(t)),o*e(g-t)]);let d=0;for(let g=0;g<u.length;g++){const[m,y]=u[g],[C,b]=u[(g+1)%u.length];d+=m*b-C*y}return d=Math.abs(d)/2,d/4046.8564224}function bE(A,e){const t=y=>y*Math.PI/180,o=t(e[0]-A[0]),u=t(e[1]-A[1]),d=t(A[0]),g=t(e[0]),m=Math.sin(o/2)**2+Math.cos(d)*Math.cos(g)*Math.sin(u/2)**2;return 2*6371e3*Math.asin(Math.sqrt(m))}function QE(A,e){const t=A[1],i=A[0];let o=!1;for(let u=0,d=e.length-1;u<e.length;d=u++){const g=e[u][0],m=e[u][1],y=e[d][0],C=e[d][1];g>i!=y>i&&t<(C-m)*(i-g)/(y-g||1e-12)+m&&(o=!o)}return o}function UE({jobId:A}){const e=F.useRef(null),t=F.useRef(null),i=F.useRef(null),o=F.useRef(null),u=F.useRef(null),d=F.useRef(null),g=F.useRef(null),m=F.useRef(null),y=F.useRef(null),C=F.useRef(null),b=F.useRef(null),S=F.useRef(null),O=F.useRef(null),[P,N]=F.useState("aerial"),[W,D]=F.useState([]),[R,J]=F.useState(!1),[M,$]=F.useState(!1),[q,xe]=F.useState([]),[X,Ae]=F.useState([]),[ve,Ee]=F.useState([]),[qe,Ze]=F.useState(null),[be,et]=F.useState("");F.useEffect(()=>{if(!e.current||t.current)return;const K=ut.map(e.current).setView([30.2672,-97.7431],15),H=ut.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:" OpenStreetMap contributors",maxZoom:19}).addTo(K);ut.control.scale({imperial:!0,metric:!1}).addTo(K),i.current=H,o.current=ut.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",{attribution:"Imagery  Esri, Maxar, Earthstar Geographics",maxZoom:19,opacity:0}),u.current=ut.layerGroup().addTo(K),g.current=ut.layerGroup().addTo(K),m.current=ut.layerGroup().addTo(K),y.current=ut.layerGroup().addTo(K),C.current=ut.layerGroup().addTo(K),b.current=ut.layerGroup().addTo(K),S.current=ut.layerGroup().addTo(K),O.current=ut.layerGroup().addTo(K);const le=ut.control({position:"topright"});le.onAdd=()=>{const Ie=ut.DomUtil.create("div");return Ie.textContent="N",Ie.className="north-arrow",Ie},le.addTo(K),t.current=K,setTimeout(()=>K.invalidateSize(),100)},[]),F.useEffect(()=>{const K=t.current;if(!K)return;const H=()=>{setTimeout(()=>{K.invalidateSize();const le=se();le&&K.fitBounds(le,{padding:[24,24]})},0)};return document.addEventListener("accordion:open",H),()=>{try{document.removeEventListener("accordion:open",H)}catch{}}},[t.current,q,X,ve]);function se(){const K=[];return q.forEach(H=>(H.polygon||[]).forEach(le=>K.push(le))),X.forEach(H=>K.push([H.lat,H.lon])),ve.forEach(H=>K.push([H.lat,H.lon])),K.length===0?null:ut.latLngBounds(K.map(([H,le])=>ut.latLng(H,le)))}F.useEffect(()=>{const K=t.current;if(!(!K||!i.current||!o.current))if(P==="aerial")o.current.addTo(K),o.current.setOpacity(0),o.current.once("load",()=>o.current.setOpacity(1)),i.current.bringToBack?.();else{try{K.removeLayer(o.current)}catch{}i.current.addTo(K)}},[P]),F.useEffect(()=>{(async()=>xe(await Du(A)))()},[A]),F.useEffect(()=>{!t.current||!u.current||(u.current.clearLayers(),q.forEach(H=>{const le=ut.polygon(H.polygon,{color:H.color||"#16a34a",fillOpacity:.15,weight:2});le.bindTooltip(H.name||"Pond",{permanent:!0,direction:"center"}),u.current.addLayer(le)}))},[q]);function Qe(K){et(K.label);const H=t.current;if(H){if(K.lat!=null&&K.lon!=null){O.current?.clearLayers();const le=ut.circleMarker([K.lat,K.lon],{radius:7,color:"#10b981",weight:2,fillColor:"#a7f3d0",fillOpacity:.95});O.current?.addLayer(le),H.setView([K.lat,K.lon],16);return}ge()}}async function ge(){const K=t.current;if(!K)return;const H=(be||"").trim();if(!H)return;const le=H.match(/^\s*([-+]?[0-9]*\.?[0-9]+)\s*,\s*([-+]?[0-9]*\.?[0-9]+)\s*$/);let Ie=null,Fe=null;if(le&&(Ie=Number(le[1]),Fe=Number(le[2])),Ie!=null&&Fe!=null&&Number.isFinite(Ie)&&Number.isFinite(Fe)){O.current?.clearLayers();const Ne=ut.circleMarker([Ie,Fe],{radius:7,color:"#10b981",weight:2,fillColor:"#a7f3d0",fillOpacity:.95});O.current.addLayer(Ne),K.setView([Ie,Fe],16);return}try{const Ne=`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(H)}&limit=1`,At=await(await fetch(Ne,{headers:{Accept:"application/json"}})).json();if(Array.isArray(At)&&At[0]){const mt=At[0],De=Number(mt.lat),Ot=Number(mt.lon);if(Number.isFinite(De)&&Number.isFinite(Ot)){O.current?.clearLayers();const fA=ut.circleMarker([De,Ot],{radius:7,color:"#10b981",weight:2,fillColor:"#a7f3d0",fillOpacity:.95});O.current.addLayer(fA),K.setView([De,Ot],16)}}}catch{}}F.useEffect(()=>{(async()=>Ae(await vh(A)))()},[A]),F.useEffect(()=>{!t.current||!y.current||(y.current.clearLayers(),X.forEach(H=>{const le=ut.circleMarker([H.lat,H.lon],{radius:5,color:"#2563eb",weight:2,fillColor:"#93c5fd",fillOpacity:.9});le.bindTooltip(`${Number(H.depthFt).toFixed(1)} ft`,{permanent:!0,direction:"top",offset:ut.point(0,-8)}),le.on("click",async()=>{confirm("Delete this depth point?")&&(await X0(H.id),Ae(await vh(A)))}),y.current.addLayer(le)}))},[X,A]),F.useEffect(()=>{(async()=>Ee(await wh(A)))()},[A]),F.useEffect(()=>{!t.current||!C.current||(C.current.clearLayers(),ve.forEach(H=>{const le=ut.circleMarker([H.lat,H.lon],{radius:6,color:"#f97316",weight:2,fillColor:"#fdba74",fillOpacity:.9});le.bindPopup(`<strong>${H.name}</strong>${H.note?"<br/>"+H.note:""}<br/><button data-mid="${H.id}">Delete</button>`),le.on("popupopen",()=>{document.querySelector(`button[data-mid="${H.id}"]`)?.addEventListener("click",async()=>{confirm("Delete point?")&&(await r_(H.id),Ee(await wh(A)))})}),C.current.addLayer(le)}))},[ve,A]),F.useEffect(()=>{const K=t.current;K&&(d.current&&d.current.remove(),g.current&&g.current.clearLayers?.(),m.current?.clearLayers(),W.length>=2&&(d.current=ut.polyline(W,{color:"#16a34a",dashArray:"6,6"}).addTo(K)),W.length>=3&&ut.polygon(W,{color:"#16a34a",fillOpacity:.2,weight:2}).addTo(g.current),W.forEach(([H,le])=>m.current?.addLayer(ut.circleMarker([H,le],{radius:3,color:"#16a34a",fillColor:"#16a34a",fillOpacity:1}))))},[W]),F.useEffect(()=>{const K=t.current;if(!K)return;const H=()=>{if(K.getZoom()<=12){try{u.current&&K.removeLayer(u.current)}catch{}try{y.current&&K.removeLayer(y.current)}catch{}try{C.current&&K.removeLayer(C.current)}catch{}b.current&&!K.hasLayer(b.current)&&b.current.addTo(K),b.current?.clearLayers(),q.forEach(Fe=>{const Ne=Fe.polygon||[];if(Ne.length===0)return;const Oe=Ne.reduce((De,Ot)=>De+Ot[0],0)/Ne.length,At=Ne.reduce((De,Ot)=>De+Ot[1],0)/Ne.length,mt=ut.circleMarker([Oe,At],{radius:8,color:"#0ea5e9",weight:2,fillColor:"#93c5fd",fillOpacity:.9});mt.bindTooltip(Fe.name||"Pond",{direction:"top",offset:ut.point(0,-8)}),b.current.addLayer(mt)})}else{try{b.current&&K.removeLayer(b.current)}catch{}u.current&&!K.hasLayer(u.current)&&u.current.addTo(K),y.current&&!K.hasLayer(y.current)&&y.current.addTo(K),C.current&&!K.hasLayer(C.current)&&C.current.addTo(K)}};return K.on("zoomend",H),H(),()=>{K.off("zoomend",H)}},[q]),F.useEffect(()=>{const K=t.current;if(!K)return;const H=async le=>{if(R){D(Ie=>[...Ie,[le.latlng.lat,le.latlng.lng]]);return}if(M){const Ie=await Du(A);let Fe;for(const At of Ie)if(QE([le.latlng.lat,le.latlng.lng],At.polygon)){Fe=At.id;break}if(!Fe){alert("Save a pond outline first, then add depth points inside it.");return}const Ne=prompt("Depth (ft)?"),Oe=Ne?Number(Ne):NaN;if(!Number.isFinite(Oe))return;await q0({id:crypto.randomUUID(),jobId:A,lat:le.latlng.lat,lon:le.latlng.lng,depthFt:Oe,createdAt:new Date().toISOString(),pondId:Fe}),Ae(await vh(A)),hn(A,"depth_add",`Depth ${Oe} ft`,_n())}};return K.on("click",H),()=>{K.off("click",H)}},[R,M,A]);const Pe=F.useMemo(()=>{const K={};return q.forEach(H=>{const le=xE(H.polygon||[]);let Ie=0;const Fe=H.polygon||[];for(let At=0;At<Fe.length;At++)Ie+=bE(Fe[At],Fe[(At+1)%Fe.length]);const Ne=X.filter(At=>At.pondId===H.id),Oe=Ne.length?Ne.reduce((At,mt)=>At+(Number(mt.depthFt)||0),0)/Ne.length:null;K[H.id]={acres:le,perimeterFt:Ie*3.28084,avgDepth:Oe,count:Ne.length}}),K},[q,X]);return c.jsxs("div",{className:"grid",children:[c.jsxs("div",{className:"row",style:{justifyContent:"space-between"},children:[c.jsxs("div",{className:"row",style:{gap:8},children:[c.jsx("button",{className:"btn",onClick:()=>J(K=>!K),children:R?"Finish Pond Trace":"Start Pond Trace"}),c.jsx("button",{className:"btn secondary",onClick:()=>D([]),children:"Clear Trace"}),W.length>=3&&c.jsx("button",{className:"btn",onClick:async()=>{const K=prompt("Pond name")||void 0;await Y0({id:crypto.randomUUID(),jobId:A,name:K,polygon:W,createdAt:new Date().toISOString()}),D([]),xe(await Du(A)),hn(A,"pond_save",`Saved pond ${K||""}`,_n())},children:"Save Pond"}),c.jsx("button",{className:"btn secondary",onClick:async()=>{if(!navigator.geolocation){alert("Geolocation not available");return}navigator.geolocation.getCurrentPosition(K=>{const{latitude:H,longitude:le,accuracy:Ie}=K.coords,Fe=t.current;if(!Fe)return;S.current?.clearLayers();const Ne=ut.circleMarker([H,le],{radius:7,color:"#06b6d4",weight:2,fillColor:"#67e8f9",fillOpacity:.95});if(S.current.addLayer(Ne),Number.isFinite(Ie)&&Ie>0){const Oe=ut.circle([H,le],{radius:Math.min(Ie,100),color:"#06b6d4",weight:1,fillColor:"#67e8f9",fillOpacity:.2});S.current.addLayer(Oe)}Fe.setView([H,le],16)},K=>alert(K.message||"Location permission denied"))},children:"Use My Location"})]}),c.jsxs("label",{className:"row",style:{gap:8},children:[c.jsx("span",{className:"muted",children:"Map"}),c.jsxs("select",{className:"select",value:P,onChange:K=>N(K.target.value),children:[c.jsx("option",{value:"street",children:"Street"}),c.jsx("option",{value:"aerial",children:"Aerial"})]})]})]}),c.jsx("div",{className:"row",children:c.jsx("button",{className:"btn secondary",onClick:async()=>{try{if(!e.current)throw new Error("Map not ready");const K=await yE(e.current,{useCORS:!0,allowTaint:!0,backgroundColor:"#fff"}),H=await new Promise(Ie=>K.toBlob(Fe=>Ie(Fe),"image/png")),le=new Date().toISOString();await Yv({id:crypto.randomUUID(),jobId:A,blob:H,caption:"Map Snapshot",createdAt:le}),alert("Map snapshot saved to Photos")}catch(K){alert("Could not capture map snapshot: "+(K?.message||K))}},children:"Capture Map Snapshot"})}),c.jsx("div",{className:"row",style:{justifyContent:"space-between"},children:c.jsxs("label",{className:"row",style:{gap:8,flex:1},children:[c.jsx("span",{className:"muted",children:"Find"}),c.jsx("div",{style:{minWidth:240,flex:1},children:c.jsx(Wl,{value:be,onChange:K=>et(K),onSelect:Qe,onEnter:()=>ge(),placeholder:"lat,lon or address"})}),c.jsx("button",{className:"btn secondary",onClick:ge,children:"Go"})]})}),c.jsx("div",{ref:e,style:{height:540,width:"100%",borderRadius:8,border:"1px solid var(--border)"}}),c.jsxs("div",{className:"row",children:[c.jsx("button",{className:"btn secondary",onClick:()=>$(K=>!K),children:M?"Done Adding Depths":"Add Depth Point"}),c.jsx("button",{className:"btn secondary",onClick:async()=>{const K=prompt("Name this point (misc)");if(!K)return;const H=prompt("Optional note")||void 0;alert("Click the map to place the misc point");const le=t.current;if(!le)return;const Ie=async Fe=>{await A_({id:crypto.randomUUID(),jobId:A,name:K,note:H,lat:Fe.latlng.lat,lon:Fe.latlng.lng,createdAt:new Date().toISOString()}),Ee(await wh(A)),le.off("click",Ie)};le.on("click",Ie)},children:"Add Misc Point"})]}),q.length>0&&c.jsxs("section",{className:"card",children:[c.jsx("h3",{children:"Ponds Summary"}),c.jsxs("table",{className:"table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Name"}),c.jsx("th",{children:"Acreage"}),c.jsx("th",{children:"Perimeter (ft)"}),c.jsx("th",{children:"Avg Depth (ft)"}),c.jsx("th",{children:"Depths"}),c.jsx("th",{children:"Actions"})]})}),c.jsx("tbody",{children:q.map(K=>c.jsxs("tr",{children:[c.jsx("td",{children:K.name||"(unnamed)"}),c.jsx("td",{children:Pe[K.id]?.acres?.toFixed(3)||"-"}),c.jsx("td",{children:Pe[K.id]?Pe[K.id].perimeterFt.toFixed(1):"-"}),c.jsx("td",{children:Pe[K.id]?.avgDepth!=null?Pe[K.id].avgDepth.toFixed(2):"-"}),c.jsx("td",{children:Pe[K.id]?.count??0}),c.jsxs("td",{children:[c.jsx("button",{className:"btn secondary",onClick:()=>{const H=ut.latLngBounds((K.polygon||[]).map(le=>ut.latLng(le[0],le[1])));t.current?.fitBounds(H,{padding:[24,24]})},children:"Zoom"}),qe===K.id?c.jsx("button",{className:"btn warn",style:{marginLeft:6},onClick:async()=>{if(!confirm("Really delete this pond and its stats?")){Ze(null);return}await e_(K.id),xe(await Du(A)),Ze(null)},children:"Confirm Delete"}):c.jsx("button",{className:"btn secondary",style:{marginLeft:6},onClick:()=>Ze(K.id),children:"Delete"})]})]},K.id))})]})]})]})}function EE({jobId:A}){const[e,t]=F.useState("secchi"),[i,o]=F.useState(""),[u,d]=F.useState(""),[g,m]=F.useState("");function y(C){return C==="secchi"?"ft":C==="ph"?"pH":C==="do"?"mg/L":C==="temp"?"C":C==="alkalinity"||C==="hardness"?"mg/L as CaCO3":""}return c.jsxs("form",{className:"row",onSubmit:async C=>{C.preventDefault();const b=Number(i);if(!Number.isFinite(b))return;const S=new Date().toISOString();await V0({id:crypto.randomUUID(),jobId:A,kind:e,value:b,unit:u||y(e),depthFt:g?Number(g):void 0,createdAt:S}),await hn(A,"water_quality_add",`Added ${e}: ${b} ${u||y(e)}`,_n()),o(""),m("")},children:[c.jsxs("select",{className:"select",value:e,onChange:C=>{const b=C.target.value;t(b),d(y(b))},children:[c.jsx("option",{value:"secchi",children:"Secchi Depth"}),c.jsx("option",{value:"ph",children:"pH"}),c.jsx("option",{value:"do",children:"Dissolved Oxygen"}),c.jsx("option",{value:"temp",children:"Temperature"}),c.jsx("option",{value:"alkalinity",children:"Alkalinity"}),c.jsx("option",{value:"hardness",children:"Hardness"})]}),c.jsx("input",{className:"input",placeholder:"Value",value:i,onChange:C=>o(C.target.value)}),c.jsx("input",{className:"input",placeholder:"Unit",value:u,onChange:C=>d(C.target.value),style:{width:180}}),c.jsx("input",{className:"input",placeholder:"Depth (ft, optional)",value:g,onChange:C=>m(C.target.value)}),c.jsx("button",{className:"btn",type:"submit",children:"Add"})]})}function FE(A){const e=A.targetConcentrationPct/A.productStrengthPct,t=A.tankVolumeGal*e,i=Math.max(0,A.tankVolumeGal-t);return{productNeededGal:t,carrierNeededGal:i}}function SE(){const[A,e]=F.useState("100"),[t,i]=F.useState("1"),[o,u]=F.useState("37.5"),d=Number(A)||0,g=Number(t)||0,m=Number(o)||1e-4,y=FE({tankVolumeGal:d,targetConcentrationPct:g,productStrengthPct:m});return c.jsxs("div",{className:"grid",children:[c.jsxs("div",{className:"row",children:[c.jsxs("label",{className:"label",children:["Tank Volume (gal)",c.jsx("input",{className:"input",value:A,onChange:C=>e(C.target.value)})]}),c.jsxs("label",{className:"label",children:["Target Conc. (%)",c.jsx("input",{className:"input",value:t,onChange:C=>i(C.target.value)})]}),c.jsxs("label",{className:"label",children:["Product Strength (%)",c.jsx("input",{className:"input",value:o,onChange:C=>u(C.target.value)})]})]}),c.jsxs("div",{className:"row",children:[c.jsxs("div",{className:"card",children:["Product needed: ",c.jsxs("strong",{children:[y.productNeededGal.toFixed(2)," gal"]})]}),c.jsxs("div",{className:"card",children:["Carrier (water): ",c.jsxs("strong",{children:[y.carrierNeededGal.toFixed(2)," gal"]})]})]}),c.jsx("small",{className:"muted",children:"Note: Simplified volume-based calculation. Confirm label mixing instructions."})]})}const IE=["PPE: Gloves","PPE: Eye protection","PPE: Boots","Spill kit on vehicle","Weather checked (wind/lightning)","Label reviewed and dosing confirmed","Bystander/animal safety considered"];function LE({jobId:A}){const[e,t]=F.useState(IE.map(d=>({label:d,checked:!1}))),[i,o]=F.useState("");F.useEffect(()=>{},[A]);async function u(){const d=new Date().toISOString();await G0({id:crypto.randomUUID(),jobId:A,kind:"safety",items:e,notes:i||void 0,createdAt:d}),await hn(A,"checklist_save","Saved safety checklist",_n())}return c.jsxs("div",{className:"grid",children:[c.jsx("ul",{className:"list",children:e.map((d,g)=>c.jsx("li",{children:c.jsxs("label",{className:"row",style:{gap:8},children:[c.jsx("input",{type:"checkbox",checked:d.checked,onChange:m=>t(y=>y.map((C,b)=>b===g?{...C,checked:m.target.checked}:C))}),d.label]})},g))}),c.jsxs("label",{className:"label",children:["Notes",c.jsx("textarea",{className:"textarea",value:i,onChange:d=>o(d.target.value)})]}),c.jsx("div",{className:"row",children:c.jsx("button",{className:"btn",onClick:u,children:"Save Checklist"})})]})}function kE({jobId:A}){const[e,t]=F.useState([]),[i,o]=F.useState("");F.useEffect(()=>{(async()=>t(await Ru(A)))()},[A]);async function u(){const g=i.trim();if(!g)return;const m={id:crypto.randomUUID(),jobId:A,label:g,done:!1,createdAt:new Date().toISOString()};await i_(m),await hn(A,"task_add",`Added task: ${g}`,_n()),o(""),t(await Ru(A))}async function d(g,m){await s_(g,m),await hn(A,"task_toggle",`Marked task ${m?"done":"open"}`,_n()),t(await Ru(A))}return c.jsxs("div",{className:"grid",children:[c.jsxs("div",{className:"row",children:[c.jsx("input",{className:"input",placeholder:"Add task (e.g., applied chemical)",value:i,onChange:g=>o(g.target.value)}),c.jsx("button",{className:"btn",onClick:u,children:"Add"})]}),e.length===0?c.jsx("div",{className:"muted",children:"No tasks yet"}):c.jsx("ul",{className:"list",children:e.sort((g,m)=>g.createdAt.localeCompare(m.createdAt)).map(g=>c.jsx("li",{children:c.jsxs("div",{className:"row",style:{gap:8,justifyContent:"space-between"},children:[c.jsxs("label",{className:"row",style:{gap:8},children:[c.jsx("input",{type:"checkbox",checked:g.done,onChange:m=>d(g.id,m.target.checked)}),c.jsx("span",{style:{textDecoration:g.done?"line-through":"none"},children:g.label})]}),c.jsx("button",{className:"btn warn",onClick:async()=>{confirm("Really delete this task?")&&(await o_(g.id),await hn(A,"task_delete","Deleted a task",_n()),t(await Ru(A)))},children:"Delete"})]})},g.id))})]})}function TE({jobId:A}){const[e,t]=F.useState(()=>new Date().toISOString().slice(0,10)),[i,o]=F.useState([]);F.useEffect(()=>{(async()=>o(await vc(A)))()},[A]);async function u(){try{await nw(A,e),await hn(A,"time_clock_in",`Clock in for ${e}`,_n()),o(await vc(A))}catch(g){alert(g?.message||"Could not clock in.")}}async function d(){try{const g=await Aw(A);await hn(A,"time_clock_out",`Clock out (${g.date})`,_n()),o(await vc(A))}catch(g){alert(g?.message||"No active clock-in to close.")}}return c.jsxs("div",{className:"grid",children:[c.jsxs("div",{className:"row",children:[c.jsx("input",{className:"input",type:"date",value:e,onChange:g=>t(g.target.value)}),c.jsx("button",{className:"btn",onClick:u,children:"Clock In"}),c.jsx("button",{className:"btn secondary",onClick:d,children:"Clock Out"})]}),i.length===0?c.jsx("div",{className:"muted",children:"No time entries"}):c.jsxs("table",{className:"table",style:{minWidth:480},children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"#"}),c.jsx("th",{children:"Date"}),c.jsx("th",{children:"Clock In"}),c.jsx("th",{children:"Clock Out"}),c.jsx("th",{children:"Duration"})]})}),c.jsxs("tbody",{children:[(()=>{const g=[...i].sort((m,y)=>new Date(y.arrivalAt).getTime()-new Date(m.arrivalAt).getTime());return g.map((m,y)=>{const C=m.departureAt?new Date(m.departureAt).getTime()-new Date(m.arrivalAt).getTime():0,b=C>0?Math.floor(C/36e5):0;let S=C>0?Math.round(C%36e5/6e4):0,O=b;S===60&&(O+=1,S=0);const P=C>0?`${O}h ${String(S).padStart(2,"0")}m`:"In progress",N=g.length-y;return c.jsxs("tr",{children:[c.jsx("td",{children:N}),c.jsx("td",{children:m.date}),c.jsx("td",{children:new Date(m.arrivalAt).toLocaleString()}),c.jsx("td",{children:m.departureAt?new Date(m.departureAt).toLocaleString():"-"}),c.jsx("td",{children:P})]},m.id)})})(),c.jsxs("tr",{children:[c.jsx("td",{colSpan:4,style:{textAlign:"right",fontWeight:600},children:"Total"}),c.jsx("td",{children:PE(i)})]})]})]})]})}function PE(A){const e=A.reduce((o,u)=>{if(!u.departureAt)return o;const d=new Date(u.departureAt).getTime()-new Date(u.arrivalAt).getTime();return d>0?o+d:o},0);if(e<=0)return"0h 00m";let t=Math.floor(e/36e5),i=Math.round(e%36e5/6e4);return i===60&&(t+=1,i=0),`${t}h ${String(i).padStart(2,"0")}m`}function NE({jobId:A}){const[e,t]=F.useState(""),[i,o]=F.useState(""),[u,d]=F.useState(""),[g,m]=F.useState(""),[y,C]=F.useState(void 0),[b,S]=F.useState(void 0),[O,P]=F.useState(!1);F.useEffect(()=>{(async()=>{const R=await pe.jobs.get(A);R&&(t(R.clientName||""),o(R.siteName||""),d(R.address||""),m(R.createdBy||localStorage.getItem("defaultEmployee")||""),C(R.lat),S(R.lon))})()},[A]);function N(R){d(R.label),R.lat!=null&&C(R.lat),R.lon!=null&&S(R.lon)}async function W(){P(!0);try{await R0(A,{clientName:e,siteName:i,address:u,createdBy:g,lat:y,lon:b});const R=localStorage.getItem("defaultEmployee")||void 0;await hn(A,"update","Updated job details",R||g||void 0),alert("Saved")}finally{P(!1)}}async function D(){if("geolocation"in navigator){P(!0);try{const R=await new Promise((J,M)=>{navigator.geolocation.getCurrentPosition(J,M,{enableHighAccuracy:!0,timeout:1e4})});C(R.coords.latitude),S(R.coords.longitude)}catch{alert("Could not get location")}finally{P(!1)}}}return c.jsxs("div",{className:"grid",children:[c.jsxs("div",{className:"row",style:{flexWrap:"wrap",gap:8},children:[c.jsxs("label",{className:"label",children:["Client Name",c.jsx("input",{className:"input",value:e,onChange:R=>t(R.target.value)})]}),c.jsxs("label",{className:"label",children:["Site Name",c.jsx("input",{className:"input",value:i,onChange:R=>o(R.target.value)})]}),c.jsx("div",{className:"label",style:{flex:"1 1 300px"},children:c.jsx(Wl,{id:"job-edit-address",label:"Address",value:u,onChange:d,onSelect:N,placeholder:"Start typing an address"})}),c.jsxs("label",{className:"label",children:["Created By",c.jsx("input",{className:"input",value:g,onChange:R=>m(R.target.value)})]})]}),c.jsxs("div",{className:"row",children:[c.jsxs("label",{className:"label",children:["Latitude",c.jsx("input",{className:"input",value:y??"",onChange:R=>C(R.target.value?Number(R.target.value):void 0)})]}),c.jsxs("label",{className:"label",children:["Longitude",c.jsx("input",{className:"input",value:b??"",onChange:R=>S(R.target.value?Number(R.target.value):void 0)})]}),c.jsx("button",{className:"btn secondary",disabled:O,onClick:D,children:"Use Current Location"})]}),c.jsx("div",{className:"row",children:c.jsx("button",{className:"btn",disabled:O,onClick:W,children:O?"Saving...":"Save Changes"})})]})}function jE({jobId:A}){const[e,t]=F.useState([]);return F.useEffect(()=>{(async()=>t(await Z0(A)))()},[A]),e.length===0?c.jsx("div",{className:"muted",children:"No activity yet"}):c.jsxs("table",{className:"table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Time"}),c.jsx("th",{children:"Actor"}),c.jsx("th",{children:"Action"})]})}),c.jsx("tbody",{children:e.sort((i,o)=>o.ts.localeCompare(i.ts)).map(i=>c.jsxs("tr",{children:[c.jsx("td",{children:new Date(i.ts).toLocaleString()}),c.jsx("td",{children:i.actor||"-"}),c.jsx("td",{children:i.message})]},i.id))})]})}const Ap=43560;function HE(A,e){return A*e/Ap}function OE(A){return Math.PI*A*A/Ap}function DE(A){return A*A/(4*Math.PI)/Ap}function RE(A){return A.length?A.reduce((t,i)=>t+i,0)/A.length:0}function ME(A,e){return A*e}function KE(A){return A*325851.43}function mB(){const[A,e]=F.useState("150"),[t,i]=F.useState("100"),[o,u]=F.useState(""),[d,g]=F.useState(""),[m,y]=F.useState("3,4,5,4"),[C,b]=F.useState("60"),[S,O]=F.useState("1"),[P,N]=F.useState("10"),[W,D]=F.useState("1"),[R,J]=F.useState("100"),[M,$]=F.useState("1.0"),q=F.useMemo(()=>o?OE(Number(o)):d?DE(Number(d)):HE(Number(A),Number(t)),[A,t,o,d]),xe=F.useMemo(()=>{const ve=m.split(",").map(Ee=>Number(Ee.trim())).filter(Ee=>Number.isFinite(Ee));return RE(ve)},[m]),X=F.useMemo(()=>ME(q||0,xe||0),[q,xe]),Ae=F.useMemo(()=>KE(X||0),[X]);return c.jsxs("div",{style:{display:"grid",gap:16},children:[c.jsxs("section",{children:[c.jsx("h3",{children:"Geometry"}),c.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:[c.jsxs("label",{children:["Length ft ",c.jsx("input",{value:A,onChange:ve=>e(ve.target.value),style:{width:100}})]}),c.jsxs("label",{children:["Width ft ",c.jsx("input",{value:t,onChange:ve=>i(ve.target.value),style:{width:100}})]}),c.jsx("span",{children:"or"}),c.jsxs("label",{children:["Radius ft ",c.jsx("input",{value:o,onChange:ve=>u(ve.target.value),style:{width:100}})]}),c.jsx("span",{children:"or"}),c.jsxs("label",{children:["Shoreline ft ",c.jsx("input",{value:d,onChange:ve=>g(ve.target.value),style:{width:120}})]})]}),c.jsxs("div",{style:{marginTop:8},children:["Surface acres: ",c.jsx("strong",{children:q.toFixed(3)})]})]}),c.jsxs("section",{children:[c.jsx("h3",{children:"Depth & Volume"}),c.jsxs("label",{children:["Depth samples (ft, comma-separated)",c.jsx("input",{value:m,onChange:ve=>y(ve.target.value),style:{width:240,marginLeft:8}})]}),c.jsxs("div",{children:["Average depth: ",c.jsxs("strong",{children:[xe.toFixed(2)," ft"]})]}),c.jsxs("div",{children:["Volume: ",c.jsxs("strong",{children:[X.toFixed(3)," ac-ft"]})," (~",Math.round(Ae).toLocaleString()," gal)"]})]}),c.jsxs("section",{children:[c.jsx("h3",{children:"Pump Time"}),c.jsx("div",{className:"row",children:c.jsxs("label",{className:"label",children:["Flow rate (gpm)",c.jsx("input",{className:"input",value:C,onChange:ve=>b(ve.target.value),style:{width:120}})]})}),Number(C)>0&&c.jsxs("div",{style:{marginTop:8},children:["At ",c.jsxs("strong",{children:[Number(C)," gpm"]}),", time to move ~",Math.round(Ae).toLocaleString()," gal is",c.jsxs("strong",{children:[" ",(Ae/60/Number(C)).toFixed(2)," hours"]})," (~",Math.round(Ae/Number(C)).toLocaleString()," minutes)"]})]}),c.jsxs("section",{children:[c.jsx("h3",{children:"Unit Conversions"}),c.jsxs("div",{className:"row",style:{gap:12,flexWrap:"wrap"},children:[c.jsxs("label",{className:"label",children:["Feet  Meters",c.jsx("input",{className:"input",value:S,onChange:ve=>O(ve.target.value),style:{width:120}})]}),c.jsxs("div",{style:{alignSelf:"end"},children:["= ",c.jsxs("strong",{children:[wl(S)?(Number(S)*.3048).toFixed(3):""," m"]})]})]}),c.jsxs("div",{className:"row",style:{gap:12,flexWrap:"wrap",marginTop:6},children:[c.jsxs("label",{className:"label",children:["Gallons  Liters",c.jsx("input",{className:"input",value:P,onChange:ve=>N(ve.target.value),style:{width:120}})]}),c.jsxs("div",{style:{alignSelf:"end"},children:["= ",c.jsxs("strong",{children:[wl(P)?(Number(P)*3.78541).toFixed(1):""," L"]})]})]}),c.jsxs("div",{className:"row",style:{gap:12,flexWrap:"wrap",marginTop:6},children:[c.jsxs("label",{className:"label",children:["Acres  Square feet",c.jsx("input",{className:"input",value:W,onChange:ve=>D(ve.target.value),style:{width:120}})]}),c.jsxs("div",{style:{alignSelf:"end"},children:["= ",c.jsxs("strong",{children:[wl(W)?Math.round(Number(W)*43560).toLocaleString():""," ft"]})]})]})]}),c.jsxs("section",{children:[c.jsx("h3",{children:"Percent Mix"}),c.jsxs("div",{className:"row",style:{gap:8,flexWrap:"wrap"},children:[c.jsxs("label",{className:"label",children:["Tank volume (gal)",c.jsx("input",{className:"input",value:R,onChange:ve=>J(ve.target.value),style:{width:140}})]}),c.jsxs("label",{className:"label",children:["Target %",c.jsx("input",{className:"input",value:M,onChange:ve=>$(ve.target.value),style:{width:100}})]})]}),wl(R)&&wl(M)&&c.jsxs("div",{style:{marginTop:8},children:["Product needed: ",c.jsxs("strong",{children:[(Number(R)*(Number(M)/100)).toFixed(2)," gal"]})," ","(~",(Number(R)*(Number(M)/100)*128).toFixed(0)," fl oz)"]})]})]})}function wl(A){const e=Number(A);return Number.isFinite(e)}function VE({lat:A,lon:e}){const[t,i]=F.useState(null),[o,u]=F.useState(null),[d,g]=F.useState(void 0),[m,y]=F.useState(!1);F.useEffect(()=>{const b=typeof localStorage<"u"&&localStorage.getItem("openweather_key")||void 0;g(b)},[]);async function C(){if(!(!d||A==null||e==null)){y(!0),u(null);try{const b=`https://api.openweathermap.org/data/2.5/weather?lat=${A}&lon=${e}&appid=${d}&units=imperial`,S=await fetch(b);if(!S.ok)throw new Error("weather fetch failed");const O=await S.json();i({tempC:O.main.temp,windMps:O.wind.speed,desc:O.weather?.[0]?.description||""})}catch{u("Weather unavailable")}finally{y(!1)}}}return A==null||e==null?null:d?o?c.jsx("small",{className:"muted",children:o}):t?c.jsxs("span",{className:"badge",style:{background:"#eff6ff",color:"#1e3a8a"},children:[t.desc," | ",t.tempC.toFixed(0)," deg C | wind ",t.windMps.toFixed(1)," m/s"]}):c.jsx("span",{className:"badge",style:{background:"#eff6ff",color:"#1e3a8a"},children:c.jsx("button",{className:"btn secondary",disabled:m||A==null||e==null,onClick:C,children:m?"Fetching":"Get Weather"})}):c.jsx("small",{className:"muted",children:"Set OpenWeather key in Settings"})}function GE(){const{jobId:A=""}=$f(),[e,t]=F.useState(null);return c.jsxs("div",{className:"grid",children:[c.jsx(zE,{jobId:A}),c.jsx(lw,{items:[{label:"Time",accent:"amber",startOpen:!0,content:c.jsx("div",{className:"grid card",children:c.jsx(TE,{jobId:A})})},{label:"Ponds & Mapping",accent:"cyan",content:c.jsx("div",{className:"grid card",children:c.jsx(UE,{jobId:A})})},{label:"Notes",accent:"amber",content:c.jsx("div",{className:"grid card",children:c.jsx(K_,{jobId:A})})},{label:"Measurements",accent:"blue",content:c.jsx("div",{className:"grid card",children:c.jsx(G_,{jobId:A})})},{label:"Tasks",accent:"green",content:c.jsx("div",{className:"grid card",children:c.jsx(kE,{jobId:A})})},{label:"Details",accent:"purple",content:c.jsx("div",{className:"grid card",children:c.jsx(NE,{jobId:A})})},{label:"Activity Log",accent:"amber",content:c.jsx("div",{className:"grid card",children:c.jsx(jE,{jobId:A})})},{label:"Photos",accent:"purple",content:c.jsxs("div",{className:"grid card",children:[c.jsx("div",{className:"row",children:c.jsx(z_,{jobId:A})}),c.jsx(J_,{jobId:A})]})},{label:"Calculators",accent:"cyan",content:c.jsx("div",{className:"grid card",children:c.jsx(WE,{})})},{label:"Tank Mix",accent:"blue",content:c.jsx("div",{className:"grid card",children:c.jsx(SE,{})})},{label:"Water Quality",accent:"green",content:c.jsx("div",{className:"grid card",children:c.jsx(EE,{jobId:A})})},{label:"Safety",accent:"amber",content:c.jsx("div",{className:"grid card",children:c.jsx(LE,{jobId:A})})},{label:"Chemicals",accent:"green",content:c.jsxs("div",{className:"grid card",children:[c.jsx($_,{onSelect:t}),e&&c.jsxs("div",{children:[c.jsx("strong",{children:"Selected:"})," ",e.brand," - ",e.active]})]})},{label:"Summary",accent:"purple",content:c.jsx("div",{className:"grid card",children:c.jsx(Ai,{className:"btn",to:`/job/${A}/summary`,children:"Open Job Summary"})})}]})]})}function zE({jobId:A}){const[e,t]=F.useState(null);return F.useEffect(()=>{(async()=>t(await pe.jobs.get(A)))()},[A]),c.jsxs("div",{className:"card",children:[c.jsxs("h2",{children:["Job: ",e?.clientName||A]}),c.jsxs("div",{style:{color:"var(--muted)",display:"flex",gap:12,alignItems:"center",flexWrap:"wrap"},children:[e?.createdAt&&c.jsxs("span",{children:["Created ",new Date(e.createdAt).toLocaleString()]}),e?.createdBy&&c.jsxs("span",{style:{marginLeft:12},children:["by ",e.createdBy]}),typeof e?.lat=="number"&&typeof e?.lon=="number"&&c.jsxs("span",{style:{marginLeft:12},children:["(lat ",e.lat.toFixed(5),", lon ",e.lon.toFixed(5),")"]}),c.jsx(VE,{lat:e?.lat,lon:e?.lon})]})]})}function WE(){return c.jsx("div",{children:c.jsx(mB,{})})}async function Rh(A){return new Promise((e,t)=>{const i=new FileReader;i.onload=()=>e(i.result),i.onerror=t,i.readAsDataURL(A)})}async function $E(A){const e=await K0(),t=await Promise.all(e.photos.map(async m=>{const y={...m};if(A)try{if(m.blob instanceof Blob)y.dataUrl=await Rh(m.blob);else if(m.localUri&&typeof m.localUri=="string"&&m.localUri.startsWith("blob:")){const b=await(await fetch(m.localUri)).blob();y.dataUrl=await Rh(b)}}catch{}return y})),i=await Promise.all((e.chemLabels||[]).map(async m=>({id:m.id,productId:m.productId,filename:m.filename,mimeType:m.mimeType,size:m.size,createdAt:m.createdAt,dataUrl:A?await Rh(m.blob):void 0}))),o={exportedAt:new Date().toISOString(),jobs:e.jobs,notes:e.notes,photos:t,measurements:e.measurements,calcResults:e.calcResults,chemProducts:e.chemProducts,chemLabels:i,outbox:e.outbox,disclaimer:"Field export for offline backup. Contains estimates only  verify against product labels and regulations."},u=JSON.stringify(o),d=new Blob([u],{type:"application/json"});return{url:URL.createObjectURL(d),size:u.length}}function cv(A){const[e,t]=A.split(","),i=/data:(.*?);base64/.exec(e)?.[1]||"application/octet-stream",o=atob(t),u=o.length,d=new Uint8Array(u);for(let g=0;g<u;g++)d[g]=o.charCodeAt(g);return new Blob([d],{type:i})}async function ZE(A){const e=await A.text(),t=JSON.parse(e),i=t.jobs||[],o=t.notes||[],u=t.measurements||[],d=t.calcResults||[],g=t.chemProducts||[],m=t.outbox||[],y=(t.photos||[]).map(b=>{const S={...b};if(b.dataUrl&&!b.blob)try{S.blob=cv(b.dataUrl)}catch{}return delete S.dataUrl,S}),C=(t.chemLabels||[]).map(b=>{const S={...b};if(b.dataUrl&&!b.blob)try{S.blob=cv(b.dataUrl)}catch{}return delete S.dataUrl,S});return await pe.transaction("rw",pe.jobs,pe.notes,pe.measurements,pe.calcResults,pe.chemProducts,pe.chemLabels,pe.photos,pe.outbox,async()=>{await pe.jobs.bulkPut(i),await pe.notes.bulkPut(o),await pe.measurements.bulkPut(u),d.length&&await pe.calcResults.bulkPut(d),g.length&&await pe.chemProducts.bulkPut(g),C.length&&pe.chemLabels&&await pe.chemLabels.bulkPut(C),y.length&&await pe.photos.bulkPut(y),m.length&&await pe.outbox.bulkPut(m)}),{jobs:i.length,notes:o.length,measurements:u.length,photos:y.length,chemProducts:g.length,chemLabels:C.length}}function JE(){const[A,e]=F.useState({}),[t,i]=F.useState(!1),[o,u]=F.useState(!0),[d,g]=F.useState(!1),[m,y]=F.useState(null),[C,b]=F.useState([]),[S,O]=F.useState([]);return F.useEffect(()=>{(async()=>{const[N,W,D,R,J,M,$]=await Promise.all([pe.jobs.count(),pe.notes.count(),pe.photos.count(),pe.measurements.count(),pe.outbox.count(),pe.jobs.orderBy("createdAt").reverse().toArray(),mc()]);e({jobs:N,notes:W,photos:D,measurements:R,outbox:J}),b(M),O($)})()},[]),c.jsx("div",{className:"grid",children:c.jsxs("div",{children:[c.jsx("div",{className:"card",style:{marginBottom:8},children:c.jsx("h2",{children:"Offline"})}),c.jsx("div",{children:c.jsxs("div",{className:"accordion",children:[c.jsxs("section",{className:"accordion-item accent-green",children:[c.jsxs("button",{className:"accordion-button","aria-expanded":!0,"aria-controls":"panel-offline",id:"btn-offline",children:[c.jsx("span",{children:"Offline Data"}),c.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,children:c.jsx("path",{d:"M6 9l6 6 6-6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),c.jsx("div",{id:"panel-offline",role:"region","aria-labelledby":"btn-offline",className:"accordion-panel",children:c.jsxs("ul",{className:"list",children:[c.jsxs("li",{children:["Jobs: ",A.jobs??0]}),c.jsxs("li",{children:["Notes: ",A.notes??0]}),c.jsxs("li",{children:["Photos: ",A.photos??0]}),c.jsxs("li",{children:["Measurements: ",A.measurements??0]}),c.jsxs("li",{children:["Outbox: ",A.outbox??0]})]})})]}),c.jsxs("section",{className:"accordion-item accent-purple",children:[c.jsxs("button",{className:"accordion-button","aria-expanded":!0,"aria-controls":"panel-fishpdf",id:"btn-fishpdf",children:[c.jsx("span",{children:"Export Fish Runs (per run)"}),c.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,children:c.jsx("path",{d:"M6 9l6 6 6-6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),c.jsx("div",{id:"panel-fishpdf",role:"region","aria-labelledby":"btn-fishpdf",className:"accordion-panel",children:S.length===0?c.jsx("div",{className:"muted",children:"No fish runs yet"}):c.jsx("ul",{className:"list",children:S.map(P=>c.jsxs("li",{children:[c.jsx("span",{style:{marginRight:8},children:P.title||P.id}),c.jsx(Ai,{className:"btn secondary",to:`/fish-run/${P.id}/summary`,title:"Open printable fish run summary; use browser Print to save as PDF",children:"Open PDF view"})]},P.id))})})]}),c.jsxs("section",{className:"accordion-item accent-purple",children:[c.jsxs("button",{className:"accordion-button","aria-expanded":!0,"aria-controls":"panel-pdf",id:"btn-pdf",children:[c.jsx("span",{children:"Export PDFs (per job)"}),c.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,children:c.jsx("path",{d:"M6 9l6 6 6-6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),c.jsx("div",{id:"panel-pdf",role:"region","aria-labelledby":"btn-pdf",className:"accordion-panel",children:C.length===0?c.jsx("div",{className:"muted",children:"No jobs yet"}):c.jsx("ul",{className:"list",children:C.map(P=>c.jsxs("li",{children:[c.jsx("span",{style:{marginRight:8},children:P.clientName||P.id}),c.jsx(Ai,{className:"btn secondary",to:`/job/${P.id}/summary`,title:"Opens printable summary; use browser Print to save as PDF",children:"Open PDF view"})]},P.id))})})]}),c.jsxs("section",{className:"accordion-item accent-cyan",children:[c.jsxs("button",{className:"accordion-button","aria-expanded":!0,"aria-controls":"panel-export",id:"btn-export",children:[c.jsx("span",{children:"Export"}),c.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,children:c.jsx("path",{d:"M6 9l6 6 6-6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),c.jsx("div",{id:"panel-export",role:"region","aria-labelledby":"btn-export",className:"accordion-panel",children:c.jsxs("div",{className:"row",children:[c.jsxs("label",{className:"row",style:{gap:6},children:[c.jsx("input",{type:"checkbox",checked:o,onChange:P=>u(P.target.checked)})," Include media (photos, labels)"]}),c.jsx("button",{className:"btn",disabled:t,onClick:async()=>{i(!0);try{const{url:P}=await $E(o),N=document.createElement("a"),W=new Date().toISOString().replace(/[:.]/g,"-");N.href=P,N.download=`tpm-export-${W}.json`,document.body.appendChild(N),N.click(),N.remove()}finally{i(!1)}},children:t?"Preparing...":"Export data"})]})})]}),c.jsxs("section",{className:"accordion-item accent-amber",children:[c.jsxs("button",{className:"accordion-button","aria-expanded":!0,"aria-controls":"panel-import",id:"btn-import",children:[c.jsx("span",{children:"Import"}),c.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,children:c.jsx("path",{d:"M6 9l6 6 6-6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),c.jsxs("div",{id:"panel-import",role:"region","aria-labelledby":"btn-import",className:"accordion-panel",children:[c.jsx("p",{className:"muted",children:"Restore from a previously exported TPM JSON file. This merges data into your current offline database."}),c.jsxs("div",{className:"row",children:[c.jsx("input",{className:"input",type:"file",accept:"application/json",onChange:P=>y(P.target.files?.[0]||null)}),c.jsx("button",{className:"btn secondary",disabled:!m||d,onClick:async()=>{if(m){g(!0);try{await ZE(m);const[P,N,W,D,R]=await Promise.all([pe.jobs.count(),pe.notes.count(),pe.photos.count(),pe.measurements.count(),pe.outbox.count()]);e({jobs:P,notes:N,photos:W,measurements:D,outbox:R}),alert("Import complete")}catch(P){alert("Import failed: "+(P?.message||P))}finally{g(!1)}}},children:d?"Importing...":"Import data"})]})]})]})]})})]})})}const qE="modulepreload",XE=function(A){return"/"+A},dv={},Jl=function(e,t,i){let o=Promise.resolve();if(t&&t.length>0){let y=function(C){return Promise.all(C.map(b=>Promise.resolve(b).then(S=>({status:"fulfilled",value:S}),S=>({status:"rejected",reason:S}))))};var d=y;document.getElementsByTagName("link");const g=document.querySelector("meta[property=csp-nonce]"),m=g?.nonce||g?.getAttribute("nonce");o=y(t.map(C=>{if(C=XE(C),C in dv)return;dv[C]=!0;const b=C.endsWith(".css"),S=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${C}"]${S}`))return;const O=document.createElement("link");if(O.rel=b?"stylesheet":qE,b||(O.as="script"),O.crossOrigin="",O.href=C,m&&O.setAttribute("nonce",m),document.head.appendChild(O),b)return new Promise((P,N)=>{O.addEventListener("load",P),O.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${C}`)))})}))}function u(g){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=g,window.dispatchEvent(m),!m.defaultPrevented)throw g}return o.then(g=>{for(const m of g||[])m.status==="rejected"&&u(m.reason);return e().catch(u)})},YE=A=>{let e;return A?e=A:typeof fetch>"u"?e=(...t)=>Jl(async()=>{const{default:i}=await Promise.resolve().then(()=>$a);return{default:i}},void 0).then(({default:i})=>i(...t)):e=fetch,(...t)=>e(...t)};class rp extends Error{constructor(e,t="FunctionsError",i){super(e),this.name=t,this.context=i}}class eF extends rp{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class hv extends rp{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class fv extends rp{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var If;(function(A){A.Any="any",A.ApNortheast1="ap-northeast-1",A.ApNortheast2="ap-northeast-2",A.ApSouth1="ap-south-1",A.ApSoutheast1="ap-southeast-1",A.ApSoutheast2="ap-southeast-2",A.CaCentral1="ca-central-1",A.EuCentral1="eu-central-1",A.EuWest1="eu-west-1",A.EuWest2="eu-west-2",A.EuWest3="eu-west-3",A.SaEast1="sa-east-1",A.UsEast1="us-east-1",A.UsWest1="us-west-1",A.UsWest2="us-west-2"})(If||(If={}));var tF=function(A,e,t,i){function o(u){return u instanceof t?u:new t(function(d){d(u)})}return new(t||(t=Promise))(function(u,d){function g(C){try{y(i.next(C))}catch(b){d(b)}}function m(C){try{y(i.throw(C))}catch(b){d(b)}}function y(C){C.done?u(C.value):o(C.value).then(g,m)}y((i=i.apply(A,e||[])).next())})};class nF{constructor(e,{headers:t={},customFetch:i,region:o=If.Any}={}){this.url=e,this.headers=t,this.region=o,this.fetch=YE(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var i;return tF(this,void 0,void 0,function*(){try{const{headers:o,method:u,body:d}=t;let g={},{region:m}=t;m||(m=this.region);const y=new URL(`${this.url}/${e}`);m&&m!=="any"&&(g["x-region"]=m,y.searchParams.set("forceFunctionRegion",m));let C;d&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",C=d):typeof d=="string"?(g["Content-Type"]="text/plain",C=d):typeof FormData<"u"&&d instanceof FormData?C=d:(g["Content-Type"]="application/json",C=JSON.stringify(d)));const b=yield this.fetch(y.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),o),body:C}).catch(N=>{throw new eF(N)}),S=b.headers.get("x-relay-error");if(S&&S==="true")throw new hv(b);if(!b.ok)throw new fv(b);let O=((i=b.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),P;return O==="application/json"?P=yield b.json():O==="application/octet-stream"?P=yield b.blob():O==="text/event-stream"?P=b:O==="multipart/form-data"?P=yield b.formData():P=yield b.text(),{data:P,error:null,response:b}}catch(o){return{data:null,error:o,response:o instanceof fv||o instanceof hv?o.context:void 0}}})}}var Wn={},xa={},ba={},Qa={},Ua={},Ea={},AF=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ka=AF();const rF=Ka.fetch,vB=Ka.fetch.bind(Ka),wB=Ka.Headers,iF=Ka.Request,sF=Ka.Response,$a=Object.freeze(Object.defineProperty({__proto__:null,Headers:wB,Request:iF,Response:sF,default:vB,fetch:rF},Symbol.toStringTag,{value:"Module"})),oF=_y($a);var cc={},pv;function BB(){if(pv)return cc;pv=1,Object.defineProperty(cc,"__esModule",{value:!0});class A extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return cc.default=A,cc}var gv;function yB(){if(gv)return Ea;gv=1;var A=Ea&&Ea.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Ea,"__esModule",{value:!0});const e=A(oF),t=A(BB());class i{constructor(u){var d,g;this.shouldThrowOnError=!1,this.method=u.method,this.url=u.url,this.headers=new Headers(u.headers),this.schema=u.schema,this.body=u.body,this.shouldThrowOnError=(d=u.shouldThrowOnError)!==null&&d!==void 0?d:!1,this.signal=u.signal,this.isMaybeSingle=(g=u.isMaybeSingle)!==null&&g!==void 0?g:!1,u.fetch?this.fetch=u.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(u,d){return this.headers=new Headers(this.headers),this.headers.set(u,d),this}then(u,d){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const g=this.fetch;let m=g(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async y=>{var C,b,S,O;let P=null,N=null,W=null,D=y.status,R=y.statusText;if(y.ok){if(this.method!=="HEAD"){const q=await y.text();q===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((C=this.headers.get("Accept"))===null||C===void 0)&&C.includes("application/vnd.pgrst.plan+text"))?N=q:N=JSON.parse(q))}const M=(b=this.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),$=(S=y.headers.get("content-range"))===null||S===void 0?void 0:S.split("/");M&&$&&$.length>1&&(W=parseInt($[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(N)&&(N.length>1?(P={code:"PGRST116",details:`Results contain ${N.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},N=null,W=null,D=406,R="Not Acceptable"):N.length===1?N=N[0]:N=null)}else{const M=await y.text();try{P=JSON.parse(M),Array.isArray(P)&&y.status===404&&(N=[],P=null,D=200,R="OK")}catch{y.status===404&&M===""?(D=204,R="No Content"):P={message:M}}if(P&&this.isMaybeSingle&&(!((O=P?.details)===null||O===void 0)&&O.includes("0 rows"))&&(P=null,D=200,R="OK"),P&&this.shouldThrowOnError)throw new t.default(P)}return{error:P,data:N,count:W,status:D,statusText:R}});return this.shouldThrowOnError||(m=m.catch(y=>{var C,b,S;return{error:{message:`${(C=y?.name)!==null&&C!==void 0?C:"FetchError"}: ${y?.message}`,details:`${(b=y?.stack)!==null&&b!==void 0?b:""}`,hint:"",code:`${(S=y?.code)!==null&&S!==void 0?S:""}`},data:null,count:null,status:0,statusText:""}})),m.then(u,d)}returns(){return this}overrideTypes(){return this}}return Ea.default=i,Ea}var mv;function _B(){if(mv)return Ua;mv=1;var A=Ua&&Ua.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ua,"__esModule",{value:!0});const e=A(yB());class t extends e.default{select(o){let u=!1;const d=(o??"*").split("").map(g=>/\s/.test(g)&&!u?"":(g==='"'&&(u=!u),g)).join("");return this.url.searchParams.set("select",d),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:u=!0,nullsFirst:d,foreignTable:g,referencedTable:m=g}={}){const y=m?`${m}.order`:"order",C=this.url.searchParams.get(y);return this.url.searchParams.set(y,`${C?`${C},`:""}${o}.${u?"asc":"desc"}${d===void 0?"":d?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:u,referencedTable:d=u}={}){const g=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(g,`${o}`),this}range(o,u,{foreignTable:d,referencedTable:g=d}={}){const m=typeof g>"u"?"offset":`${g}.offset`,y=typeof g>"u"?"limit":`${g}.limit`;return this.url.searchParams.set(m,`${o}`),this.url.searchParams.set(y,`${u-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:u=!1,settings:d=!1,buffers:g=!1,wal:m=!1,format:y="text"}={}){var C;const b=[o?"analyze":null,u?"verbose":null,d?"settings":null,g?"buffers":null,m?"wal":null].filter(Boolean).join("|"),S=(C=this.headers.get("Accept"))!==null&&C!==void 0?C:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${y}; for="${S}"; options=${b};`),y==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}}return Ua.default=t,Ua}var vv;function ip(){if(vv)return Qa;vv=1;var A=Qa&&Qa.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Qa,"__esModule",{value:!0});const e=A(_B());class t extends e.default{eq(o,u){return this.url.searchParams.append(o,`eq.${u}`),this}neq(o,u){return this.url.searchParams.append(o,`neq.${u}`),this}gt(o,u){return this.url.searchParams.append(o,`gt.${u}`),this}gte(o,u){return this.url.searchParams.append(o,`gte.${u}`),this}lt(o,u){return this.url.searchParams.append(o,`lt.${u}`),this}lte(o,u){return this.url.searchParams.append(o,`lte.${u}`),this}like(o,u){return this.url.searchParams.append(o,`like.${u}`),this}likeAllOf(o,u){return this.url.searchParams.append(o,`like(all).{${u.join(",")}}`),this}likeAnyOf(o,u){return this.url.searchParams.append(o,`like(any).{${u.join(",")}}`),this}ilike(o,u){return this.url.searchParams.append(o,`ilike.${u}`),this}ilikeAllOf(o,u){return this.url.searchParams.append(o,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(o,u){return this.url.searchParams.append(o,`ilike(any).{${u.join(",")}}`),this}is(o,u){return this.url.searchParams.append(o,`is.${u}`),this}in(o,u){const d=Array.from(new Set(u)).map(g=>typeof g=="string"&&new RegExp("[,()]").test(g)?`"${g}"`:`${g}`).join(",");return this.url.searchParams.append(o,`in.(${d})`),this}contains(o,u){return typeof u=="string"?this.url.searchParams.append(o,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(o,`cs.{${u.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(u)}`),this}containedBy(o,u){return typeof u=="string"?this.url.searchParams.append(o,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(o,`cd.{${u.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(u)}`),this}rangeGt(o,u){return this.url.searchParams.append(o,`sr.${u}`),this}rangeGte(o,u){return this.url.searchParams.append(o,`nxl.${u}`),this}rangeLt(o,u){return this.url.searchParams.append(o,`sl.${u}`),this}rangeLte(o,u){return this.url.searchParams.append(o,`nxr.${u}`),this}rangeAdjacent(o,u){return this.url.searchParams.append(o,`adj.${u}`),this}overlaps(o,u){return typeof u=="string"?this.url.searchParams.append(o,`ov.${u}`):this.url.searchParams.append(o,`ov.{${u.join(",")}}`),this}textSearch(o,u,{config:d,type:g}={}){let m="";g==="plain"?m="pl":g==="phrase"?m="ph":g==="websearch"&&(m="w");const y=d===void 0?"":`(${d})`;return this.url.searchParams.append(o,`${m}fts${y}.${u}`),this}match(o){return Object.entries(o).forEach(([u,d])=>{this.url.searchParams.append(u,`eq.${d}`)}),this}not(o,u,d){return this.url.searchParams.append(o,`not.${u}.${d}`),this}or(o,{foreignTable:u,referencedTable:d=u}={}){const g=d?`${d}.or`:"or";return this.url.searchParams.append(g,`(${o})`),this}filter(o,u,d){return this.url.searchParams.append(o,`${u}.${d}`),this}}return Qa.default=t,Qa}var wv;function CB(){if(wv)return ba;wv=1;var A=ba&&ba.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(ba,"__esModule",{value:!0});const e=A(ip());class t{constructor(o,{headers:u={},schema:d,fetch:g}){this.url=o,this.headers=new Headers(u),this.schema=d,this.fetch=g}select(o,{head:u=!1,count:d}={}){const g=u?"HEAD":"GET";let m=!1;const y=(o??"*").split("").map(C=>/\s/.test(C)&&!m?"":(C==='"'&&(m=!m),C)).join("");return this.url.searchParams.set("select",y),d&&this.headers.append("Prefer",`count=${d}`),new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:u,defaultToNull:d=!0}={}){var g;const m="POST";if(u&&this.headers.append("Prefer",`count=${u}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const y=o.reduce((C,b)=>C.concat(Object.keys(b)),[]);if(y.length>0){const C=[...new Set(y)].map(b=>`"${b}"`);this.url.searchParams.set("columns",C.join(","))}}return new e.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}upsert(o,{onConflict:u,ignoreDuplicates:d=!1,count:g,defaultToNull:m=!0}={}){var y;const C="POST";if(this.headers.append("Prefer",`resolution=${d?"ignore":"merge"}-duplicates`),u!==void 0&&this.url.searchParams.set("on_conflict",u),g&&this.headers.append("Prefer",`count=${g}`),m||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const b=o.reduce((S,O)=>S.concat(Object.keys(O)),[]);if(b.length>0){const S=[...new Set(b)].map(O=>`"${O}"`);this.url.searchParams.set("columns",S.join(","))}}return new e.default({method:C,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}update(o,{count:u}={}){var d;const g="PATCH";return u&&this.headers.append("Prefer",`count=${u}`),new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}delete({count:o}={}){var u;const d="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return ba.default=t,ba}var Bv;function aF(){if(Bv)return xa;Bv=1;var A=xa&&xa.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(xa,"__esModule",{value:!0});const e=A(CB()),t=A(ip());class i{constructor(u,{headers:d={},schema:g,fetch:m}={}){this.url=u,this.headers=new Headers(d),this.schemaName=g,this.fetch=m}from(u){const d=new URL(`${this.url}/${u}`);return new e.default(d,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(u){return new i(this.url,{headers:this.headers,schema:u,fetch:this.fetch})}rpc(u,d={},{head:g=!1,get:m=!1,count:y}={}){var C;let b;const S=new URL(`${this.url}/rpc/${u}`);let O;g||m?(b=g?"HEAD":"GET",Object.entries(d).filter(([N,W])=>W!==void 0).map(([N,W])=>[N,Array.isArray(W)?`{${W.join(",")}}`:`${W}`]).forEach(([N,W])=>{S.searchParams.append(N,W)})):(b="POST",O=d);const P=new Headers(this.headers);return y&&P.set("Prefer",`count=${y}`),new t.default({method:b,url:S,headers:P,schema:this.schemaName,body:O,fetch:(C=this.fetch)!==null&&C!==void 0?C:fetch})}}return xa.default=i,xa}var yv;function lF(){if(yv)return Wn;yv=1;var A=Wn&&Wn.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(Wn,"__esModule",{value:!0}),Wn.PostgrestError=Wn.PostgrestBuilder=Wn.PostgrestTransformBuilder=Wn.PostgrestFilterBuilder=Wn.PostgrestQueryBuilder=Wn.PostgrestClient=void 0;const e=A(aF());Wn.PostgrestClient=e.default;const t=A(CB());Wn.PostgrestQueryBuilder=t.default;const i=A(ip());Wn.PostgrestFilterBuilder=i.default;const o=A(_B());Wn.PostgrestTransformBuilder=o.default;const u=A(yB());Wn.PostgrestBuilder=u.default;const d=A(BB());return Wn.PostgrestError=d.default,Wn.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:u.default,PostgrestError:d.default},Wn}var uF=lF();const cF=Kl(uF),{PostgrestClient:dF,PostgrestQueryBuilder:t1,PostgrestFilterBuilder:n1,PostgrestTransformBuilder:A1,PostgrestBuilder:r1,PostgrestError:i1}=cF;class hF{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const t=process.versions;if(t&&t.node){const i=t.node,o=parseInt(i.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const i=this.getWebSocketConstructor();return new i(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const fF="2.15.5",pF=`realtime-js/${fF}`,gF="1.0.0",Lf=1e4,mF=1e3,vF=100;var Tl;(function(A){A[A.connecting=0]="connecting",A[A.open=1]="open",A[A.closing=2]="closing",A[A.closed=3]="closed"})(Tl||(Tl={}));var kn;(function(A){A.closed="closed",A.errored="errored",A.joined="joined",A.joining="joining",A.leaving="leaving"})(kn||(kn={}));var ni;(function(A){A.close="phx_close",A.error="phx_error",A.join="phx_join",A.reply="phx_reply",A.leave="phx_leave",A.access_token="access_token"})(ni||(ni={}));var kf;(function(A){A.websocket="websocket"})(kf||(kf={}));var jo;(function(A){A.Connecting="connecting",A.Open="open",A.Closing="closing",A.Closed="closed"})(jo||(jo={}));class wF{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),i=new TextDecoder;return this._decodeBroadcast(e,t,i)}_decodeBroadcast(e,t,i){const o=t.getUint8(1),u=t.getUint8(2);let d=this.HEADER_LENGTH+2;const g=i.decode(e.slice(d,d+o));d=d+o;const m=i.decode(e.slice(d,d+u));d=d+u;const y=JSON.parse(i.decode(e.slice(d,e.byteLength)));return{ref:null,topic:g,event:m,payload:y}}}class xB{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var zt;(function(A){A.abstime="abstime",A.bool="bool",A.date="date",A.daterange="daterange",A.float4="float4",A.float8="float8",A.int2="int2",A.int4="int4",A.int4range="int4range",A.int8="int8",A.int8range="int8range",A.json="json",A.jsonb="jsonb",A.money="money",A.numeric="numeric",A.oid="oid",A.reltime="reltime",A.text="text",A.time="time",A.timestamp="timestamp",A.timestamptz="timestamptz",A.timetz="timetz",A.tsrange="tsrange",A.tstzrange="tstzrange"})(zt||(zt={}));const _v=(A,e,t={})=>{var i;const o=(i=t.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(e).reduce((u,d)=>(u[d]=BF(d,A,e,o),u),{})},BF=(A,e,t,i)=>{const o=e.find(g=>g.name===A),u=o?.type,d=t[A];return u&&!i.includes(u)?bB(u,d):Tf(d)},bB=(A,e)=>{if(A.charAt(0)==="_"){const t=A.slice(1,A.length);return xF(e,t)}switch(A){case zt.bool:return yF(e);case zt.float4:case zt.float8:case zt.int2:case zt.int4:case zt.int8:case zt.numeric:case zt.oid:return _F(e);case zt.json:case zt.jsonb:return CF(e);case zt.timestamp:return bF(e);case zt.abstime:case zt.date:case zt.daterange:case zt.int4range:case zt.int8range:case zt.money:case zt.reltime:case zt.text:case zt.time:case zt.timestamptz:case zt.timetz:case zt.tsrange:case zt.tstzrange:return Tf(e);default:return Tf(e)}},Tf=A=>A,yF=A=>{switch(A){case"t":return!0;case"f":return!1;default:return A}},_F=A=>{if(typeof A=="string"){const e=parseFloat(A);if(!Number.isNaN(e))return e}return A},CF=A=>{if(typeof A=="string")try{return JSON.parse(A)}catch(e){return console.log(`JSON parse error: ${e}`),A}return A},xF=(A,e)=>{if(typeof A!="string")return A;const t=A.length-1,i=A[t];if(A[0]==="{"&&i==="}"){let u;const d=A.slice(1,t);try{u=JSON.parse("["+d+"]")}catch{u=d?d.split(","):[]}return u.map(g=>bB(e,g))}return A},bF=A=>typeof A=="string"?A.replace(" ","T"):A,QB=A=>{let e=A;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Mh{constructor(e,t,i={},o=Lf){this.channel=e,this.event=t,this.payload=i,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var i;return this._hasReceived(e)&&t((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Cv;(function(A){A.SYNC="sync",A.JOIN="join",A.LEAVE="leave"})(Cv||(Cv={}));class Pl{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},o=>{const{onJoin:u,onLeave:d,onSync:g}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Pl.syncState(this.state,o,u,d),this.pendingDiffs.forEach(m=>{this.state=Pl.syncDiff(this.state,m,u,d)}),this.pendingDiffs=[],g()}),this.channel._on(i.diff,{},o=>{const{onJoin:u,onLeave:d,onSync:g}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Pl.syncDiff(this.state,o,u,d),g())}),this.onJoin((o,u,d)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:u,newPresences:d})}),this.onLeave((o,u,d)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:u,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,i,o){const u=this.cloneDeep(e),d=this.transformState(t),g={},m={};return this.map(u,(y,C)=>{d[y]||(m[y]=C)}),this.map(d,(y,C)=>{const b=u[y];if(b){const S=C.map(W=>W.presence_ref),O=b.map(W=>W.presence_ref),P=C.filter(W=>O.indexOf(W.presence_ref)<0),N=b.filter(W=>S.indexOf(W.presence_ref)<0);P.length>0&&(g[y]=P),N.length>0&&(m[y]=N)}else g[y]=C}),this.syncDiff(u,{joins:g,leaves:m},i,o)}static syncDiff(e,t,i,o){const{joins:u,leaves:d}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return i||(i=()=>{}),o||(o=()=>{}),this.map(u,(g,m)=>{var y;const C=(y=e[g])!==null&&y!==void 0?y:[];if(e[g]=this.cloneDeep(m),C.length>0){const b=e[g].map(O=>O.presence_ref),S=C.filter(O=>b.indexOf(O.presence_ref)<0);e[g].unshift(...S)}i(g,C,m)}),this.map(d,(g,m)=>{let y=e[g];if(!y)return;const C=m.map(b=>b.presence_ref);y=y.filter(b=>C.indexOf(b.presence_ref)<0),e[g]=y,o(g,y,m),y.length===0&&delete e[g]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(i=>t(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,i)=>{const o=e[i];return"metas"in o?t[i]=o.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):t[i]=o,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var xv;(function(A){A.ALL="*",A.INSERT="INSERT",A.UPDATE="UPDATE",A.DELETE="DELETE"})(xv||(xv={}));var Nl;(function(A){A.BROADCAST="broadcast",A.PRESENCE="presence",A.POSTGRES_CHANGES="postgres_changes",A.SYSTEM="system"})(Nl||(Nl={}));var ds;(function(A){A.SUBSCRIBED="SUBSCRIBED",A.TIMED_OUT="TIMED_OUT",A.CLOSED="CLOSED",A.CHANNEL_ERROR="CHANNEL_ERROR"})(ds||(ds={}));class sp{constructor(e,t={config:{}},i){this.topic=e,this.params=t,this.socket=i,this.bindings={},this.state=kn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Mh(this,ni.join,this.params,this.timeout),this.rejoinTimer=new xB(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=kn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=kn.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=kn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=kn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=kn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ni.reply,{},(o,u)=>{this._trigger(this._replyEventName(u),o)}),this.presence=new Pl(this),this.broadcastEndpointURL=QB(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var i,o,u;if(this.socket.isConnected()||this.socket.connect(),this.state==kn.closed){const{config:{broadcast:d,presence:g,private:m}}=this.params,y=(o=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(O=>O.filter))!==null&&o!==void 0?o:[],C=!!this.bindings[Nl.PRESENCE]&&this.bindings[Nl.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,b={},S={broadcast:d,presence:Object.assign(Object.assign({},g),{enabled:C}),postgres_changes:y,private:m};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(O=>e?.(ds.CHANNEL_ERROR,O)),this._onClose(()=>e?.(ds.CLOSED)),this.updateJoinPayload(Object.assign({config:S},b)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:O})=>{var P;if(this.socket.setAuth(),O===void 0){e?.(ds.SUBSCRIBED);return}else{const N=this.bindings.postgres_changes,W=(P=N?.length)!==null&&P!==void 0?P:0,D=[];for(let R=0;R<W;R++){const J=N[R],{filter:{event:M,schema:$,table:q,filter:xe}}=J,X=O&&O[R];if(X&&X.event===M&&X.schema===$&&X.table===q&&X.filter===xe)D.push(Object.assign(Object.assign({},J),{id:X.id}));else{this.unsubscribe(),this.state=kn.errored,e?.(ds.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=D,e&&e(ds.SUBSCRIBED);return}}).receive("error",O=>{this.state=kn.errored,e?.(ds.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(O).join(", ")||"error")))}).receive("timeout",()=>{e?.(ds.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,i){return this.state===kn.joined&&e===Nl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,i)}async send(e,t={}){var i,o;if(!this._canPush()&&e.type==="broadcast"){const{event:u,payload:d}=e,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:d,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(i=t.timeout)!==null&&i!==void 0?i:this.timeout);return await((o=y.body)===null||o===void 0?void 0:o.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var d,g,m;const y=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((m=(g=(d=this.params)===null||d===void 0?void 0:d.config)===null||g===void 0?void 0:g.broadcast)===null||m===void 0)&&m.ack)&&u("ok"),y.receive("ok",()=>u("ok")),y.receive("error",()=>u("error")),y.receive("timeout",()=>u("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=kn.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ni.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(o=>{i=new Mh(this,ni.leave,{},e),i.receive("ok",()=>{t(),o("ok")}).receive("timeout",()=>{t(),o("timed out")}).receive("error",()=>{o("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=kn.closed,this.bindings={}}async _fetchWithTimeout(e,t,i){const o=new AbortController,u=setTimeout(()=>o.abort(),i),d=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:o.signal}));return clearTimeout(u),d}_push(e,t,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Mh(this,e,t,i);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>vF){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,i){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,i){var o,u;const d=e.toLocaleLowerCase(),{close:g,error:m,leave:y,join:C}=ni;if(i&&[g,m,y,C].indexOf(d)>=0&&i!==this._joinRef())return;let S=this._onMessage(d,t,i);if(t&&!S)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(O=>{var P,N,W;return((P=O.filter)===null||P===void 0?void 0:P.event)==="*"||((W=(N=O.filter)===null||N===void 0?void 0:N.event)===null||W===void 0?void 0:W.toLocaleLowerCase())===d}).map(O=>O.callback(S,i)):(u=this.bindings[d])===null||u===void 0||u.filter(O=>{var P,N,W,D,R,J;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in O){const M=O.id,$=(P=O.filter)===null||P===void 0?void 0:P.event;return M&&((N=t.ids)===null||N===void 0?void 0:N.includes(M))&&($==="*"||$?.toLocaleLowerCase()===((W=t.data)===null||W===void 0?void 0:W.type.toLocaleLowerCase()))}else{const M=(R=(D=O?.filter)===null||D===void 0?void 0:D.event)===null||R===void 0?void 0:R.toLocaleLowerCase();return M==="*"||M===((J=t?.event)===null||J===void 0?void 0:J.toLocaleLowerCase())}else return O.type.toLocaleLowerCase()===d}).map(O=>{if(typeof S=="object"&&"ids"in S){const P=S.data,{schema:N,table:W,commit_timestamp:D,type:R,errors:J}=P;S=Object.assign(Object.assign({},{schema:N,table:W,commit_timestamp:D,eventType:R,new:{},old:{},errors:J}),this._getPayloadRecords(P))}O.callback(S,i)})}_isClosed(){return this.state===kn.closed}_isJoined(){return this.state===kn.joined}_isJoining(){return this.state===kn.joining}_isLeaving(){return this.state===kn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,i){const o=e.toLocaleLowerCase(),u={type:o,filter:t,callback:i};return this.bindings[o]?this.bindings[o].push(u):this.bindings[o]=[u],this}_off(e,t){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(o=>{var u;return!(((u=o.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===i&&sp.isEqual(o.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const i in e)if(e[i]!==t[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ni.close,{},e)}_onError(e){this._on(ni.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=kn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=_v(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=_v(e.columns,e.old_record)),t}}const Kh=()=>{},dc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},QF=[1e3,2e3,5e3,1e4],UF=1e4,EF=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class FF{constructor(e,t){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Lf,this.transport=null,this.heartbeatIntervalMs=dc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Kh,this.ref=0,this.reconnectTimer=null,this.logger=Kh,this.conn=null,this.sendBuffer=[],this.serializer=new wF,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let u;return o?u=o:typeof fetch>"u"?u=(...d)=>Jl(async()=>{const{default:g}=await Promise.resolve().then(()=>$a);return{default:g}},void 0).then(({default:g})=>g(...d)).catch(g=>{throw new Error(`Failed to load @supabase/node-fetch: ${g.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):u=fetch,(...d)=>u(...d)},!(!((i=t?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${kf.websocket}`,this.httpEndpoint=QB(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=hF.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:gF}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},e?this.conn.close(e,t??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,i){this.logger(e,t,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Tl.connecting:return jo.Connecting;case Tl.open:return jo.Open;case Tl.closing:return jo.Closing;default:return jo.Closed}}isConnected(){return this.connectionState()===jo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const i=`realtime:${e}`,o=this.getChannels().find(u=>u.topic===i);if(o)return o;{const u=new sp(`realtime:${e}`,t,this);return this.channels.push(u),u}}push(e){const{topic:t,event:i,payload:o,ref:u}=e,d=()=>{this.encode(e,g=>{var m;(m=this.conn)===null||m===void 0||m.send(g)})};this.log("push",`${t} ${i} (${u})`,o),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(mF,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},dc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply")try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error")}catch(y){this.log("error","error in heartbeat callback",y)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:o,payload:u,ref:d}=t,g=d?`(${d})`:"",m=u.status||"";this.log("receive",`${m} ${i} ${o} ${g}`.trim(),u),this.channels.filter(y=>y._isMember(i)).forEach(y=>y._trigger(o,u,d)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(ni.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const i=e.match(/\?/)?"&":"?",o=new URLSearchParams(t);return`${e}${i}${o}`}_workerObjectUrl(e){let t;if(e)t=e;else{const i=new Blob([EF],{type:"application/javascript"});t=URL.createObjectURL(i)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t;e?t=e:this.accessToken?t=await this.accessToken():t=this.accessTokenValue,this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(i=>{const o={access_token:t,version:pF};t&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(ni.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(t)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new xB(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},dc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,i,o,u,d,g,m,y,C;if(this.transport=(t=e?.transport)!==null&&t!==void 0?t:null,this.timeout=(i=e?.timeout)!==null&&i!==void 0?i:Lf,this.heartbeatIntervalMs=(o=e?.heartbeatIntervalMs)!==null&&o!==void 0?o:dc.HEARTBEAT_INTERVAL,this.worker=(u=e?.worker)!==null&&u!==void 0?u:!1,this.accessToken=(d=e?.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(g=e?.heartbeatCallback)!==null&&g!==void 0?g:Kh,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=e?.reconnectAfterMs)!==null&&m!==void 0?m:(b=>QF[b-1]||UF),this.encode=(y=e?.encode)!==null&&y!==void 0?y:((b,S)=>S(JSON.stringify(b))),this.decode=(C=e?.decode)!==null&&C!==void 0?C:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class op extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Tn(A){return typeof A=="object"&&A!==null&&"__isStorageError"in A}class SF extends op{constructor(e,t,i){super(e),this.name="StorageApiError",this.status=t,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Pf extends op{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var IF=function(A,e,t,i){function o(u){return u instanceof t?u:new t(function(d){d(u)})}return new(t||(t=Promise))(function(u,d){function g(C){try{y(i.next(C))}catch(b){d(b)}}function m(C){try{y(i.throw(C))}catch(b){d(b)}}function y(C){C.done?u(C.value):o(C.value).then(g,m)}y((i=i.apply(A,e||[])).next())})};const UB=A=>{let e;return A?e=A:typeof fetch>"u"?e=(...t)=>Jl(async()=>{const{default:i}=await Promise.resolve().then(()=>$a);return{default:i}},void 0).then(({default:i})=>i(...t)):e=fetch,(...t)=>e(...t)},LF=()=>IF(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Jl(()=>Promise.resolve().then(()=>$a),void 0)).Response:Response}),Nf=A=>{if(Array.isArray(A))return A.map(t=>Nf(t));if(typeof A=="function"||A!==Object(A))return A;const e={};return Object.entries(A).forEach(([t,i])=>{const o=t.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));e[o]=Nf(i)}),e},kF=A=>{if(typeof A!="object"||A===null)return!1;const e=Object.getPrototypeOf(A);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in A)&&!(Symbol.iterator in A)};var Ro=function(A,e,t,i){function o(u){return u instanceof t?u:new t(function(d){d(u)})}return new(t||(t=Promise))(function(u,d){function g(C){try{y(i.next(C))}catch(b){d(b)}}function m(C){try{y(i.throw(C))}catch(b){d(b)}}function y(C){C.done?u(C.value):o(C.value).then(g,m)}y((i=i.apply(A,e||[])).next())})};const Vh=A=>A.msg||A.message||A.error_description||A.error||JSON.stringify(A),TF=(A,e,t)=>Ro(void 0,void 0,void 0,function*(){const i=yield LF();A instanceof i&&!t?.noResolveJson?A.json().then(o=>{const u=A.status||500,d=o?.statusCode||u+"";e(new SF(Vh(o),u,d))}).catch(o=>{e(new Pf(Vh(o),o))}):e(new Pf(Vh(A),A))}),PF=(A,e,t,i)=>{const o={method:A,headers:e?.headers||{}};return A==="GET"||!i?o:(kF(i)?(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(i)):o.body=i,e?.duplex&&(o.duplex=e.duplex),Object.assign(Object.assign({},o),t))};function ql(A,e,t,i,o,u){return Ro(this,void 0,void 0,function*(){return new Promise((d,g)=>{A(t,PF(e,i,o,u)).then(m=>{if(!m.ok)throw m;return i?.noResolveJson?m:m.json()}).then(m=>d(m)).catch(m=>TF(m,g,i))})})}function Dc(A,e,t,i){return Ro(this,void 0,void 0,function*(){return ql(A,"GET",e,t,i)})}function Ei(A,e,t,i,o){return Ro(this,void 0,void 0,function*(){return ql(A,"POST",e,i,o,t)})}function jf(A,e,t,i,o){return Ro(this,void 0,void 0,function*(){return ql(A,"PUT",e,i,o,t)})}function NF(A,e,t,i){return Ro(this,void 0,void 0,function*(){return ql(A,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),i)})}function EB(A,e,t,i,o){return Ro(this,void 0,void 0,function*(){return ql(A,"DELETE",e,i,o,t)})}var CA=function(A,e,t,i){function o(u){return u instanceof t?u:new t(function(d){d(u)})}return new(t||(t=Promise))(function(u,d){function g(C){try{y(i.next(C))}catch(b){d(b)}}function m(C){try{y(i.throw(C))}catch(b){d(b)}}function y(C){C.done?u(C.value):o(C.value).then(g,m)}y((i=i.apply(A,e||[])).next())})};const jF={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},bv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class HF{constructor(e,t={},i,o){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=i,this.fetch=UB(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,i,o){return CA(this,void 0,void 0,function*(){try{let u;const d=Object.assign(Object.assign({},bv),o);let g=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(d.upsert)});const m=d.metadata;typeof Blob<"u"&&i instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),m&&u.append("metadata",this.encodeMetadata(m)),u.append("",i)):typeof FormData<"u"&&i instanceof FormData?(u=i,u.append("cacheControl",d.cacheControl),m&&u.append("metadata",this.encodeMetadata(m))):(u=i,g["cache-control"]=`max-age=${d.cacheControl}`,g["content-type"]=d.contentType,m&&(g["x-metadata"]=this.toBase64(this.encodeMetadata(m)))),o?.headers&&(g=Object.assign(Object.assign({},g),o.headers));const y=this._removeEmptyFolders(t),C=this._getFinalPath(y),b=yield(e=="PUT"?jf:Ei)(this.fetch,`${this.url}/object/${C}`,u,Object.assign({headers:g},d?.duplex?{duplex:d.duplex}:{}));return{data:{path:y,id:b.Id,fullPath:b.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Tn(u))return{data:null,error:u};throw u}})}upload(e,t,i){return CA(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,i)})}uploadToSignedUrl(e,t,i,o){return CA(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(e),d=this._getFinalPath(u),g=new URL(this.url+`/object/upload/sign/${d}`);g.searchParams.set("token",t);try{let m;const y=Object.assign({upsert:bv.upsert},o),C=Object.assign(Object.assign({},this.headers),{"x-upsert":String(y.upsert)});typeof Blob<"u"&&i instanceof Blob?(m=new FormData,m.append("cacheControl",y.cacheControl),m.append("",i)):typeof FormData<"u"&&i instanceof FormData?(m=i,m.append("cacheControl",y.cacheControl)):(m=i,C["cache-control"]=`max-age=${y.cacheControl}`,C["content-type"]=y.contentType);const b=yield jf(this.fetch,g.toString(),m,{headers:C});return{data:{path:u,fullPath:b.Key},error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(Tn(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(e,t){return CA(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const o=Object.assign({},this.headers);t?.upsert&&(o["x-upsert"]="true");const u=yield Ei(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:o}),d=new URL(this.url+u.url),g=d.searchParams.get("token");if(!g)throw new op("No token returned by API");return{data:{signedUrl:d.toString(),path:e,token:g},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Tn(i))return{data:null,error:i};throw i}})}update(e,t,i){return CA(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,i)})}move(e,t,i){return CA(this,void 0,void 0,function*(){try{return{data:yield Ei(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:i?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Tn(o))return{data:null,error:o};throw o}})}copy(e,t,i){return CA(this,void 0,void 0,function*(){try{return{data:{path:(yield Ei(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:i?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Tn(o))return{data:null,error:o};throw o}})}createSignedUrl(e,t,i){return CA(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),u=yield Ei(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:t},i?.transform?{transform:i.transform}:{}),{headers:this.headers});const d=i?.download?`&download=${i.download===!0?"":i.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${d}`)},{data:u,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Tn(o))return{data:null,error:o};throw o}})}createSignedUrls(e,t,i){return CA(this,void 0,void 0,function*(){try{const o=yield Ei(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),u=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:o.map(d=>Object.assign(Object.assign({},d),{signedUrl:d.signedURL?encodeURI(`${this.url}${d.signedURL}${u}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Tn(o))return{data:null,error:o};throw o}})}download(e,t){return CA(this,void 0,void 0,function*(){const o=typeof t?.transform<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString(t?.transform||{}),d=u?`?${u}`:"";try{const g=this._getFinalPath(e);return{data:yield(yield Dc(this.fetch,`${this.url}/${o}/${g}${d}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(g){if(this.shouldThrowOnError)throw g;if(Tn(g))return{data:null,error:g};throw g}})}info(e){return CA(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const i=yield Dc(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Nf(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Tn(i))return{data:null,error:i};throw i}})}exists(e){return CA(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield NF(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Tn(i)&&i instanceof Pf){const o=i.originalError;if([400,404].includes(o?.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,t){const i=this._getFinalPath(e),o=[],u=t?.download?`download=${t.download===!0?"":t.download}`:"";u!==""&&o.push(u);const g=typeof t?.transform<"u"?"render/image":"object",m=this.transformOptsToQueryString(t?.transform||{});m!==""&&o.push(m);let y=o.join("&");return y!==""&&(y=`?${y}`),{data:{publicUrl:encodeURI(`${this.url}/${g}/public/${i}${y}`)}}}remove(e){return CA(this,void 0,void 0,function*(){try{return{data:yield EB(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Tn(t))return{data:null,error:t};throw t}})}list(e,t,i){return CA(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},jF),t),{prefix:e||""});return{data:yield Ei(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},i),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Tn(o))return{data:null,error:o};throw o}})}listV2(e,t){return CA(this,void 0,void 0,function*(){try{const i=Object.assign({},e);return{data:yield Ei(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},t),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Tn(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const OF="2.12.1",DF={"X-Client-Info":`storage-js/${OF}`};var Fa=function(A,e,t,i){function o(u){return u instanceof t?u:new t(function(d){d(u)})}return new(t||(t=Promise))(function(u,d){function g(C){try{y(i.next(C))}catch(b){d(b)}}function m(C){try{y(i.throw(C))}catch(b){d(b)}}function y(C){C.done?u(C.value):o(C.value).then(g,m)}y((i=i.apply(A,e||[])).next())})};class RF{constructor(e,t={},i,o){this.shouldThrowOnError=!1;const u=new URL(e);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href,this.headers=Object.assign(Object.assign({},DF),t),this.fetch=UB(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Fa(this,void 0,void 0,function*(){try{return{data:yield Dc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Tn(e))return{data:null,error:e};throw e}})}getBucket(e){return Fa(this,void 0,void 0,function*(){try{return{data:yield Dc(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Tn(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return Fa(this,void 0,void 0,function*(){try{return{data:yield Ei(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Tn(i))return{data:null,error:i};throw i}})}updateBucket(e,t){return Fa(this,void 0,void 0,function*(){try{return{data:yield jf(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Tn(i))return{data:null,error:i};throw i}})}emptyBucket(e){return Fa(this,void 0,void 0,function*(){try{return{data:yield Ei(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Tn(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Fa(this,void 0,void 0,function*(){try{return{data:yield EB(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Tn(t))return{data:null,error:t};throw t}})}}class MF extends RF{constructor(e,t={},i,o){super(e,t,i,o)}from(e){return new HF(this.url,this.headers,e,this.fetch)}}const KF="2.57.4";let El="";typeof Deno<"u"?El="deno":typeof document<"u"?El="web":typeof navigator<"u"&&navigator.product==="ReactNative"?El="react-native":El="node";const VF={"X-Client-Info":`supabase-js-${El}/${KF}`},GF={headers:VF},zF={schema:"public"},WF={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},$F={};var ZF=function(A,e,t,i){function o(u){return u instanceof t?u:new t(function(d){d(u)})}return new(t||(t=Promise))(function(u,d){function g(C){try{y(i.next(C))}catch(b){d(b)}}function m(C){try{y(i.throw(C))}catch(b){d(b)}}function y(C){C.done?u(C.value):o(C.value).then(g,m)}y((i=i.apply(A,e||[])).next())})};const JF=A=>{let e;return A?e=A:typeof fetch>"u"?e=vB:e=fetch,(...t)=>e(...t)},qF=()=>typeof Headers>"u"?wB:Headers,XF=(A,e,t)=>{const i=JF(t),o=qF();return(u,d)=>ZF(void 0,void 0,void 0,function*(){var g;const m=(g=yield e())!==null&&g!==void 0?g:A;let y=new o(d?.headers);return y.has("apikey")||y.set("apikey",A),y.has("Authorization")||y.set("Authorization",`Bearer ${m}`),i(u,Object.assign(Object.assign({},d),{headers:y}))})};var YF=function(A,e,t,i){function o(u){return u instanceof t?u:new t(function(d){d(u)})}return new(t||(t=Promise))(function(u,d){function g(C){try{y(i.next(C))}catch(b){d(b)}}function m(C){try{y(i.throw(C))}catch(b){d(b)}}function y(C){C.done?u(C.value):o(C.value).then(g,m)}y((i=i.apply(A,e||[])).next())})};function eS(A){return A.endsWith("/")?A:A+"/"}function tS(A,e){var t,i;const{db:o,auth:u,realtime:d,global:g}=A,{db:m,auth:y,realtime:C,global:b}=e,S={db:Object.assign(Object.assign({},m),o),auth:Object.assign(Object.assign({},y),u),realtime:Object.assign(Object.assign({},C),d),storage:{},global:Object.assign(Object.assign(Object.assign({},b),g),{headers:Object.assign(Object.assign({},(t=b?.headers)!==null&&t!==void 0?t:{}),(i=g?.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>YF(this,void 0,void 0,function*(){return""})};return A.accessToken?S.accessToken=A.accessToken:delete S.accessToken,S}function nS(A){const e=A?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(eS(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const FB="2.71.1",ja=30*1e3,Hf=3,Gh=Hf*ja,AS="http://localhost:9999",rS="supabase.auth.token",iS={"X-Client-Info":`gotrue-js/${FB}`},Of="X-Supabase-Api-Version",SB={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},sS=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,oS=600*1e3;class ap extends Error{constructor(e,t,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=i}}function Bt(A){return typeof A=="object"&&A!==null&&"__isAuthError"in A}class aS extends ap{constructor(e,t,i){super(e,t,i),this.name="AuthApiError",this.status=t,this.code=i}}function lS(A){return Bt(A)&&A.name==="AuthApiError"}class IB extends ap{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class ro extends ap{constructor(e,t,i,o){super(e,i,o),this.name=t,this.status=i}}class zs extends ro{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function uS(A){return Bt(A)&&A.name==="AuthSessionMissingError"}class hc extends ro{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class fc extends ro{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class pc extends ro{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function cS(A){return Bt(A)&&A.name==="AuthImplicitGrantRedirectError"}class Qv extends ro{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Df extends ro{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function zh(A){return Bt(A)&&A.name==="AuthRetryableFetchError"}class Uv extends ro{constructor(e,t,i){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=i}}class Rf extends ro{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Rc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ev=` 	
\r=`.split(""),dS=(()=>{const A=new Array(128);for(let e=0;e<A.length;e+=1)A[e]=-1;for(let e=0;e<Ev.length;e+=1)A[Ev[e].charCodeAt(0)]=-2;for(let e=0;e<Rc.length;e+=1)A[Rc[e].charCodeAt(0)]=e;return A})();function Fv(A,e,t){if(A!==null)for(e.queue=e.queue<<8|A,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;t(Rc[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;t(Rc[i]),e.queuedBits-=6}}function LB(A,e,t){const i=dS[A];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(A)}"`)}}function Sv(A){const e=[],t=d=>{e.push(String.fromCodePoint(d))},i={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},u=d=>{pS(d,i,t)};for(let d=0;d<A.length;d+=1)LB(A.charCodeAt(d),o,u);return e.join("")}function hS(A,e){if(A<=127){e(A);return}else if(A<=2047){e(192|A>>6),e(128|A&63);return}else if(A<=65535){e(224|A>>12),e(128|A>>6&63),e(128|A&63);return}else if(A<=1114111){e(240|A>>18),e(128|A>>12&63),e(128|A>>6&63),e(128|A&63);return}throw new Error(`Unrecognized Unicode codepoint: ${A.toString(16)}`)}function fS(A,e){for(let t=0;t<A.length;t+=1){let i=A.charCodeAt(t);if(i>55295&&i<=56319){const o=(i-55296)*1024&65535;i=(A.charCodeAt(t+1)-56320&65535|o)+65536,t+=1}hS(i,e)}}function pS(A,e,t){if(e.utf8seq===0){if(A<=127){t(A);return}for(let i=1;i<6;i+=1)if((A>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=A&31;else if(e.utf8seq===3)e.codepoint=A&15;else if(e.utf8seq===4)e.codepoint=A&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(A<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|A&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function gS(A){const e=[],t={queue:0,queuedBits:0},i=o=>{e.push(o)};for(let o=0;o<A.length;o+=1)LB(A.charCodeAt(o),t,i);return new Uint8Array(e)}function mS(A){const e=[];return fS(A,t=>e.push(t)),new Uint8Array(e)}function vS(A){const e=[],t={queue:0,queuedBits:0},i=o=>{e.push(o)};return A.forEach(o=>Fv(o,t,i)),Fv(null,t,i),e.join("")}function wS(A){return Math.round(Date.now()/1e3)+A}function BS(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(A){const e=Math.random()*16|0;return(A=="x"?e:e&3|8).toString(16)})}const ti=()=>typeof window<"u"&&typeof document<"u",ko={tested:!1,writable:!1},kB=()=>{if(!ti())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ko.tested)return ko.writable;const A=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(A,A),globalThis.localStorage.removeItem(A),ko.tested=!0,ko.writable=!0}catch{ko.tested=!0,ko.writable=!1}return ko.writable};function yS(A){const e={},t=new URL(A);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((o,u)=>{e[u]=o})}catch{}return t.searchParams.forEach((i,o)=>{e[o]=i}),e}const TB=A=>{let e;return A?e=A:typeof fetch>"u"?e=(...t)=>Jl(async()=>{const{default:i}=await Promise.resolve().then(()=>$a);return{default:i}},void 0).then(({default:i})=>i(...t)):e=fetch,(...t)=>e(...t)},_S=A=>typeof A=="object"&&A!==null&&"status"in A&&"ok"in A&&"json"in A&&typeof A.json=="function",Ha=async(A,e,t)=>{await A.setItem(e,JSON.stringify(t))},To=async(A,e)=>{const t=await A.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},Ks=async(A,e)=>{await A.removeItem(e)};class nd{constructor(){this.promise=new nd.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}nd.promiseConstructor=Promise;function Wh(A){const e=A.split(".");if(e.length!==3)throw new Rf("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!sS.test(e[i]))throw new Rf("JWT not in base64url format");return{header:JSON.parse(Sv(e[0])),payload:JSON.parse(Sv(e[1])),signature:gS(e[2]),raw:{header:e[0],payload:e[1]}}}async function CS(A){return await new Promise(e=>{setTimeout(()=>e(null),A)})}function xS(A,e){return new Promise((i,o)=>{(async()=>{for(let u=0;u<1/0;u++)try{const d=await A(u);if(!e(u,null,d)){i(d);return}}catch(d){if(!e(u,d)){o(d);return}}})()})}function bS(A){return("0"+A.toString(16)).substr(-2)}function QS(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=t.length;let o="";for(let u=0;u<56;u++)o+=t.charAt(Math.floor(Math.random()*i));return o}return crypto.getRandomValues(e),Array.from(e,bS).join("")}async function US(A){const t=new TextEncoder().encode(A),i=await crypto.subtle.digest("SHA-256",t),o=new Uint8Array(i);return Array.from(o).map(u=>String.fromCharCode(u)).join("")}async function ES(A){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),A;const t=await US(A);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Sa(A,e,t=!1){const i=QS();let o=i;t&&(o+="/PASSWORD_RECOVERY"),await Ha(A,`${e}-code-verifier`,o);const u=await ES(i);return[u,i===u?"plain":"s256"]}const FS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function SS(A){const e=A.headers.get(Of);if(!e||!e.match(FS))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function IS(A){if(!A)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(A<=e)throw new Error("JWT has expired")}function LS(A){switch(A){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const kS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ia(A){if(!kS.test(A))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function $h(){const A={};return new Proxy(A,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const i=t.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Iv(A){return JSON.parse(JSON.stringify(A))}var TS=function(A,e){var t={};for(var i in A)Object.prototype.hasOwnProperty.call(A,i)&&e.indexOf(i)<0&&(t[i]=A[i]);if(A!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(A);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(A,i[o])&&(t[i[o]]=A[i[o]]);return t};const Po=A=>A.msg||A.message||A.error_description||A.error||JSON.stringify(A),PS=[502,503,504];async function Lv(A){var e;if(!_S(A))throw new Df(Po(A),0);if(PS.includes(A.status))throw new Df(Po(A),A.status);let t;try{t=await A.json()}catch(u){throw new IB(Po(u),u)}let i;const o=SS(A);if(o&&o.getTime()>=SB["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?i=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(i=t.error_code),i){if(i==="weak_password")throw new Uv(Po(t),A.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new zs}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((u,d)=>u&&typeof d=="string",!0))throw new Uv(Po(t),A.status,t.weak_password.reasons);throw new aS(Po(t),A.status||500,i)}const NS=(A,e,t,i)=>{const o={method:A,headers:e?.headers||{}};return A==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),o.body=JSON.stringify(i),Object.assign(Object.assign({},o),t))};async function Ut(A,e,t,i){var o;const u=Object.assign({},i?.headers);u[Of]||(u[Of]=SB["2024-01-01"].name),i?.jwt&&(u.Authorization=`Bearer ${i.jwt}`);const d=(o=i?.query)!==null&&o!==void 0?o:{};i?.redirectTo&&(d.redirect_to=i.redirectTo);const g=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",m=await jS(A,e,t+g,{headers:u,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(m):{data:Object.assign({},m),error:null}}async function jS(A,e,t,i,o,u){const d=NS(e,i,o,u);let g;try{g=await A(t,Object.assign({},d))}catch(m){throw console.error(m),new Df(Po(m),0)}if(g.ok||await Lv(g),i?.noResolveJson)return g;try{return await g.json()}catch(m){await Lv(m)}}function cs(A){var e;let t=null;RS(A)&&(t=Object.assign({},A),A.expires_at||(t.expires_at=wS(A.expires_in)));const i=(e=A.user)!==null&&e!==void 0?e:A;return{data:{session:t,user:i},error:null}}function kv(A){const e=cs(A);return!e.error&&A.weak_password&&typeof A.weak_password=="object"&&Array.isArray(A.weak_password.reasons)&&A.weak_password.reasons.length&&A.weak_password.message&&typeof A.weak_password.message=="string"&&A.weak_password.reasons.reduce((t,i)=>t&&typeof i=="string",!0)&&(e.data.weak_password=A.weak_password),e}function $s(A){var e;return{data:{user:(e=A.user)!==null&&e!==void 0?e:A},error:null}}function HS(A){return{data:A,error:null}}function OS(A){const{action_link:e,email_otp:t,hashed_token:i,redirect_to:o,verification_type:u}=A,d=TS(A,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),g={action_link:e,email_otp:t,hashed_token:i,redirect_to:o,verification_type:u},m=Object.assign({},d);return{data:{properties:g,user:m},error:null}}function DS(A){return A}function RS(A){return A.access_token&&A.refresh_token&&A.expires_in}const Zh=["global","local","others"];var MS=function(A,e){var t={};for(var i in A)Object.prototype.hasOwnProperty.call(A,i)&&e.indexOf(i)<0&&(t[i]=A[i]);if(A!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(A);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(A,i[o])&&(t[i[o]]=A[i[o]]);return t};class KS{constructor({url:e="",headers:t={},fetch:i}){this.url=e,this.headers=t,this.fetch=TB(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t=Zh[0]){if(Zh.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Zh.join(", ")}`);try{return await Ut(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Bt(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,t={}){try{return await Ut(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:$s})}catch(i){if(Bt(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:t}=e,i=MS(e,["options"]),o=Object.assign(Object.assign({},i),t);return"newEmail"in i&&(o.new_email=i?.newEmail,delete o.newEmail),await Ut(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:OS,redirectTo:t?.redirectTo})}catch(t){if(Bt(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Ut(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:$s})}catch(t){if(Bt(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,i,o,u,d,g,m;try{const y={nextPage:null,lastPage:0,total:0},C=await Ut(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&i!==void 0?i:"",per_page:(u=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:""},xform:DS});if(C.error)throw C.error;const b=await C.json(),S=(d=C.headers.get("x-total-count"))!==null&&d!==void 0?d:0,O=(m=(g=C.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&m!==void 0?m:[];return O.length>0&&(O.forEach(P=>{const N=parseInt(P.split(";")[0].split("=")[1].substring(0,1)),W=JSON.parse(P.split(";")[1].split("=")[1]);y[`${W}Page`]=N}),y.total=parseInt(S)),{data:Object.assign(Object.assign({},b),y),error:null}}catch(y){if(Bt(y))return{data:{users:[]},error:y};throw y}}async getUserById(e){Ia(e);try{return await Ut(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:$s})}catch(t){if(Bt(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){Ia(e);try{return await Ut(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:$s})}catch(i){if(Bt(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,t=!1){Ia(e);try{return await Ut(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:$s})}catch(i){if(Bt(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){Ia(e.userId);try{const{data:t,error:i}=await Ut(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:t,error:i}}catch(t){if(Bt(t))return{data:null,error:t};throw t}}async _deleteFactor(e){Ia(e.userId),Ia(e.id);try{return{data:await Ut(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(Bt(t))return{data:null,error:t};throw t}}}function Tv(A={}){return{getItem:e=>A[e]||null,setItem:(e,t)=>{A[e]=t},removeItem:e=>{delete A[e]}}}function VS(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const La={debug:!!(globalThis&&kB()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class PB extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class GS extends PB{}async function zS(A,e,t){La.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",A,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),La.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",A)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(A,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async o=>{if(o){La.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",A,o.name);try{return await t()}finally{La.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",A,o.name)}}else{if(e===0)throw La.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",A),new GS(`Acquiring an exclusive Navigator LockManager lock "${A}" immediately failed`);if(La.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}VS();const WS={url:AS,storageKey:rS,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:iS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Pv(A,e,t){return await t()}const ka={};class Ml{constructor(e){var t,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ml.nextInstanceID,Ml.nextInstanceID+=1,this.instanceID>0&&ti()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},WS),e);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new KS({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=TB(o.fetch),this.lock=o.lock||Pv,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:ti()&&(!((t=globalThis?.navigator)===null||t===void 0)&&t.locks)?this.lock=zS:this.lock=Pv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:kB()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Tv(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Tv(this.memoryStorage)),ti()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}get jwks(){var e,t;return(t=(e=ka[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){ka[this.storageKey]=Object.assign(Object.assign({},ka[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=ka[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ka[this.storageKey]=Object.assign(Object.assign({},ka[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${FB}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=yS(window.location.href);let i="none";if(this._isImplicitGrantCallback(t)?i="implicit":await this._isPKCECallback(t)&&(i="pkce"),ti()&&this.detectSessionInUrl&&i!=="none"){const{data:o,error:u}=await this._getSessionFromURL(t,i);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),cS(u)){const m=(e=u.details)===null||e===void 0?void 0:e.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:d,redirectType:g}=o;return this._debug("#_initialize()","detected session in URL",d,"redirect type",g),await this._saveSession(d),setTimeout(async()=>{g==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Bt(t)?{error:t}:{error:new IB("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,i,o;try{const u=await Ut(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(t=e?.options)===null||t===void 0?void 0:t.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=e?.options)===null||o===void 0?void 0:o.captchaToken}},xform:cs}),{data:d,error:g}=u;if(g||!d)return{data:{user:null,session:null},error:g};const m=d.session,y=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:y,session:m},error:null}}catch(u){if(Bt(u))return{data:{user:null,session:null},error:u};throw u}}async signUp(e){var t,i,o;try{let u;if("email"in e){const{email:C,password:b,options:S}=e;let O=null,P=null;this.flowType==="pkce"&&([O,P]=await Sa(this.storage,this.storageKey)),u=await Ut(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:S?.emailRedirectTo,body:{email:C,password:b,data:(t=S?.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:S?.captchaToken},code_challenge:O,code_challenge_method:P},xform:cs})}else if("phone"in e){const{phone:C,password:b,options:S}=e;u=await Ut(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:C,password:b,data:(i=S?.data)!==null&&i!==void 0?i:{},channel:(o=S?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:S?.captchaToken}},xform:cs})}else throw new fc("You must provide either an email or phone number and a password");const{data:d,error:g}=u;if(g||!d)return{data:{user:null,session:null},error:g};const m=d.session,y=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:y,session:m},error:null}}catch(u){if(Bt(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithPassword(e){try{let t;if("email"in e){const{email:u,password:d,options:g}=e;t=await Ut(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:d,gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:kv})}else if("phone"in e){const{phone:u,password:d,options:g}=e;t=await Ut(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:d,gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:kv})}else throw new fc("You must provide either an email or phone number and a password");const{data:i,error:o}=t;return o?{data:{user:null,session:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new hc}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(t){if(Bt(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,i,o,u;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(u=e.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;if(t==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}async signInWithSolana(e){var t,i,o,u,d,g,m,y,C,b,S,O;let P,N;if("message"in e)P=e.message,N=e.signature;else{const{chain:W,wallet:D,statement:R,options:J}=e;let M;if(ti())if(typeof D=="object")M=D;else{const q=window;if("solana"in q&&typeof q.solana=="object"&&("signIn"in q.solana&&typeof q.solana.signIn=="function"||"signMessage"in q.solana&&typeof q.solana.signMessage=="function"))M=q.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof D!="object"||!J?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=D}const $=new URL((t=J?.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in M&&M.signIn){const q=await M.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},J?.signInWithSolana),{version:"1",domain:$.host,uri:$.href}),R?{statement:R}:null));let xe;if(Array.isArray(q)&&q[0]&&typeof q[0]=="object")xe=q[0];else if(q&&typeof q=="object"&&"signedMessage"in q&&"signature"in q)xe=q;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in xe&&"signature"in xe&&(typeof xe.signedMessage=="string"||xe.signedMessage instanceof Uint8Array)&&xe.signature instanceof Uint8Array)P=typeof xe.signedMessage=="string"?xe.signedMessage:new TextDecoder().decode(xe.signedMessage),N=xe.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in M)||typeof M.signMessage!="function"||!("publicKey"in M)||typeof M!="object"||!M.publicKey||!("toBase58"in M.publicKey)||typeof M.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");P=[`${$.host} wants you to sign in with your Solana account:`,M.publicKey.toBase58(),...R?["",R,""]:[""],"Version: 1",`URI: ${$.href}`,`Issued At: ${(o=(i=J?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((u=J?.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${J.signInWithSolana.notBefore}`]:[],...!((d=J?.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${J.signInWithSolana.expirationTime}`]:[],...!((g=J?.signInWithSolana)===null||g===void 0)&&g.chainId?[`Chain ID: ${J.signInWithSolana.chainId}`]:[],...!((m=J?.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${J.signInWithSolana.nonce}`]:[],...!((y=J?.signInWithSolana)===null||y===void 0)&&y.requestId?[`Request ID: ${J.signInWithSolana.requestId}`]:[],...!((b=(C=J?.signInWithSolana)===null||C===void 0?void 0:C.resources)===null||b===void 0)&&b.length?["Resources",...J.signInWithSolana.resources.map(xe=>`- ${xe}`)]:[]].join(`
`);const q=await M.signMessage(new TextEncoder().encode(P),"utf8");if(!q||!(q instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");N=q}}try{const{data:W,error:D}=await Ut(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:P,signature:vS(N)},!((S=e.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(O=e.options)===null||O===void 0?void 0:O.captchaToken}}:null),xform:cs});if(D)throw D;return!W||!W.session||!W.user?{data:{user:null,session:null},error:new hc}:(W.session&&(await this._saveSession(W.session),await this._notifyAllSubscribers("SIGNED_IN",W.session)),{data:Object.assign({},W),error:D})}catch(W){if(Bt(W))return{data:{user:null,session:null},error:W};throw W}}async _exchangeCodeForSession(e){const t=await To(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(t??"").split("/");try{const{data:u,error:d}=await Ut(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:cs});if(await Ks(this.storage,`${this.storageKey}-code-verifier`),d)throw d;return!u||!u.session||!u.user?{data:{user:null,session:null,redirectType:null},error:new hc}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:Object.assign(Object.assign({},u),{redirectType:o??null}),error:d})}catch(u){if(Bt(u))return{data:{user:null,session:null,redirectType:null},error:u};throw u}}async signInWithIdToken(e){try{const{options:t,provider:i,token:o,access_token:u,nonce:d}=e,g=await Ut(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:u,nonce:d,gotrue_meta_security:{captcha_token:t?.captchaToken}},xform:cs}),{data:m,error:y}=g;return y?{data:{user:null,session:null},error:y}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new hc}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:m,error:y})}catch(t){if(Bt(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,i,o,u,d;try{if("email"in e){const{email:g,options:m}=e;let y=null,C=null;this.flowType==="pkce"&&([y,C]=await Sa(this.storage,this.storageKey));const{error:b}=await Ut(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:g,data:(t=m?.data)!==null&&t!==void 0?t:{},create_user:(i=m?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:y,code_challenge_method:C},redirectTo:m?.emailRedirectTo});return{data:{user:null,session:null},error:b}}if("phone"in e){const{phone:g,options:m}=e,{data:y,error:C}=await Ut(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:g,data:(o=m?.data)!==null&&o!==void 0?o:{},create_user:(u=m?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},channel:(d=m?.channel)!==null&&d!==void 0?d:"sms"}});return{data:{user:null,session:null,messageId:y?.message_id},error:C}}throw new fc("You must provide either an email or phone number.")}catch(g){if(Bt(g))return{data:{user:null,session:null},error:g};throw g}}async verifyOtp(e){var t,i;try{let o,u;"options"in e&&(o=(t=e.options)===null||t===void 0?void 0:t.redirectTo,u=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:d,error:g}=await Ut(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:u}}),redirectTo:o,xform:cs});if(g)throw g;if(!d)throw new Error("An error occurred on token verification.");const m=d.session,y=d.user;return m?.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),{data:{user:y,session:m},error:null}}catch(o){if(Bt(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(e){var t,i,o;try{let u=null,d=null;return this.flowType==="pkce"&&([u,d]=await Sa(this.storage,this.storageKey)),await Ut(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=e?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:d}),headers:this.headers,xform:HS})}catch(u){if(Bt(u))return{data:null,error:u};throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:i}=e;if(i)throw i;if(!t)throw new zs;const{error:o}=await Ut(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:o}})}catch(e){if(Bt(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:i,type:o,options:u}=e,{error:d}=await Ut(this.fetch,"POST",t,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return{data:{user:null,session:null},error:d}}else if("phone"in e){const{phone:i,type:o,options:u}=e,{data:d,error:g}=await Ut(this.fetch,"POST",t,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return{data:{user:null,session:null,messageId:d?.message_id},error:g}}throw new fc("You must provide either an email or phone number and a type")}catch(t){if(Bt(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await i,await t()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=t();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await To(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<Gh:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const d=await To(this.userStorage,this.storageKey+"-user");d?.user?e.user=d.user:e.user=$h()}if(this.storage.isServer&&e.user){let d=this.suppressGetSessionWarning;e=new Proxy(e,{get:(m,y,C)=>(!d&&y==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),d=!0,this.suppressGetSessionWarning=!0),Reflect.get(m,y,C))})}return{data:{session:e},error:null}}const{session:o,error:u}=await this._callRefreshToken(e.refresh_token);return u?{data:{session:null},error:u}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ut(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:$s}):await this._useSession(async t=>{var i,o,u;const{data:d,error:g}=t;if(g)throw g;return!(!((i=d.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new zs}:await Ut(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(o=d.session)===null||o===void 0?void 0:o.access_token)!==null&&u!==void 0?u:void 0,xform:$s})})}catch(t){if(Bt(t))return uS(t)&&(await this._removeSession(),await Ks(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async i=>{const{data:o,error:u}=i;if(u)throw u;if(!o.session)throw new zs;const d=o.session;let g=null,m=null;this.flowType==="pkce"&&e.email!=null&&([g,m]=await Sa(this.storage,this.storageKey));const{data:y,error:C}=await Ut(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:g,code_challenge_method:m}),jwt:d.access_token,xform:$s});if(C)throw C;return d.user=y.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),{data:{user:d.user},error:null}})}catch(i){if(Bt(i))return{data:{user:null},error:i};throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new zs;const t=Date.now()/1e3;let i=t,o=!0,u=null;const{payload:d}=Wh(e.access_token);if(d.exp&&(i=d.exp,o=i<=t),o){const{session:g,error:m}=await this._callRefreshToken(e.refresh_token);if(m)return{data:{user:null,session:null},error:m};if(!g)return{data:{user:null,session:null},error:null};u=g}else{const{data:g,error:m}=await this._getUser(e.access_token);if(m)throw m;u={access_token:e.access_token,refresh_token:e.refresh_token,user:g.user,token_type:"bearer",expires_in:i-t,expires_at:i},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return{data:{user:u.user,session:u},error:null}}catch(t){if(Bt(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var i;if(!e){const{data:d,error:g}=t;if(g)throw g;e=(i=d.session)!==null&&i!==void 0?i:void 0}if(!e?.refresh_token)throw new zs;const{session:o,error:u}=await this._callRefreshToken(e.refresh_token);return u?{data:{user:null,session:null},error:u}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(Bt(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!ti())throw new pc("No browser detected.");if(e.error||e.error_description||e.error_code)throw new pc(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new Qv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new pc("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Qv("No code detected.");const{data:R,error:J}=await this._exchangeCodeForSession(e.code);if(J)throw J;const M=new URL(window.location.href);return M.searchParams.delete("code"),window.history.replaceState(window.history.state,"",M.toString()),{data:{session:R.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:o,access_token:u,refresh_token:d,expires_in:g,expires_at:m,token_type:y}=e;if(!u||!g||!d||!y)throw new pc("No session defined in URL");const C=Math.round(Date.now()/1e3),b=parseInt(g);let S=C+b;m&&(S=parseInt(m));const O=S-C;O*1e3<=ja&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${O}s, should have been closer to ${b}s`);const P=S-b;C-P>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",P,S,C):C-P<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",P,S,C);const{data:N,error:W}=await this._getUser(u);if(W)throw W;const D={provider_token:i,provider_refresh_token:o,access_token:u,expires_in:b,expires_at:S,refresh_token:d,token_type:y,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:D,redirectType:e.type},error:null}}catch(i){if(Bt(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await To(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var i;const{data:o,error:u}=t;if(u)return{error:u};const d=(i=o.session)===null||i===void 0?void 0:i.access_token;if(d){const{error:g}=await this.admin.signOut(d,e);if(g&&!(lS(g)&&(g.status===404||g.status===401||g.status===403)))return{error:g}}return e!=="others"&&(await this._removeSession(),await Ks(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=BS(),i={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async t=>{var i,o;try{const{data:{session:u},error:d}=t;if(d)throw d;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",e,"session",u)}catch(u){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",u),console.error(u)}})}async resetPasswordForEmail(e,t={}){let i=null,o=null;this.flowType==="pkce"&&([i,o]=await Sa(this.storage,this.storageKey,!0));try{return await Ut(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(u){if(Bt(u))return{data:null,error:u};throw u}}async getUserIdentities(){var e;try{const{data:t,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(Bt(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:i,error:o}=await this._useSession(async u=>{var d,g,m,y,C;const{data:b,error:S}=u;if(S)throw S;const O=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(d=e.options)===null||d===void 0?void 0:d.redirectTo,scopes:(g=e.options)===null||g===void 0?void 0:g.scopes,queryParams:(m=e.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await Ut(this.fetch,"GET",O,{headers:this.headers,jwt:(C=(y=b.session)===null||y===void 0?void 0:y.access_token)!==null&&C!==void 0?C:void 0})});if(o)throw o;return ti()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:e.provider,url:i?.url},error:null}}catch(i){if(Bt(i))return{data:{provider:e.provider,url:null},error:i};throw i}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var i,o;const{data:u,error:d}=t;if(d)throw d;return await Ut(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(i=u.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})})}catch(t){if(Bt(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const i=Date.now();return await xS(async o=>(o>0&&await CS(200*Math.pow(2,o-1)),this._debug(t,"refreshing attempt",o),await Ut(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:cs})),(o,u)=>{const d=200*Math.pow(2,o);return u&&zh(u)&&Date.now()+d-i<ja})}catch(i){if(this._debug(t,"error",i),Bt(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",i),ti()&&!t.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,t;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const o=await To(this.storage,this.storageKey);if(o&&this.userStorage){let d=await To(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:o.user},await Ha(this.userStorage,this.storageKey+"-user",d)),o.user=(e=d?.user)!==null&&e!==void 0?e:$h()}else if(o&&!o.user&&!o.user){const d=await To(this.storage,this.storageKey+"-user");d&&d?.user?(o.user=d.user,await Ks(this.storage,this.storageKey+"-user"),await Ha(this.storage,this.storageKey,o)):o.user=$h()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&await this._removeSession();return}const u=((t=o.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Gh;if(this._debug(i,`session has${u?"":" not"} expired with margin of ${Gh}s`),u){if(this.autoRefreshToken&&o.refresh_token){const{error:d}=await this._callRefreshToken(o.refresh_token);d&&(console.error(d),zh(d)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:g}=await this._getUser(o.access_token);!g&&d?.user?(o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(i,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var t,i;if(!e)throw new zs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new nd;const{data:u,error:d}=await this._refreshAccessToken(e);if(d)throw d;if(!u.session)throw new zs;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const g={session:u.session,error:null};return this.refreshingDeferred.resolve(g),g}catch(u){if(this._debug(o,"error",u),Bt(u)){const d={session:null,error:u};return zh(u)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(d),d}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(u),u}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,t,i=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",t,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:t});const u=[],d=Array.from(this.stateChangeEmitters.values()).map(async g=>{try{await g.callback(e,t)}catch(m){u.push(m)}});if(await Promise.all(d),u.length>0){for(let g=0;g<u.length;g+=1)console.error(u[g]);throw u[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),i=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&t.user&&await Ha(this.userStorage,this.storageKey+"-user",{user:t.user});const o=Object.assign({},t);delete o.user;const u=Iv(o);await Ha(this.storage,this.storageKey,u)}else{const o=Iv(t);await Ha(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await Ks(this.storage,this.storageKey),await Ks(this.storage,this.storageKey+"-code-verifier"),await Ks(this.storage,this.storageKey+"-user"),this.userStorage&&await Ks(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ti()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ja);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:i}}=t;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((i.expires_at*1e3-e)/ja);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${ja}ms, refresh threshold is ${Hf} ticks`),o<=Hf&&await this._callRefreshToken(i.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof PB)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ti()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,i){const o=[`provider=${encodeURIComponent(t)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[u,d]=await Sa(this.storage,this.storageKey),g=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(d)}`});o.push(g.toString())}if(i?.queryParams){const u=new URLSearchParams(i.queryParams);o.push(u.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var i;const{data:o,error:u}=t;return u?{data:null,error:u}:await Ut(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})})}catch(t){if(Bt(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var i,o;const{data:u,error:d}=t;if(d)return{data:null,error:d};const g=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:m,error:y}=await Ut(this.fetch,"POST",`${this.url}/factors`,{body:g,headers:this.headers,jwt:(i=u?.session)===null||i===void 0?void 0:i.access_token});return y?{data:null,error:y}:(e.factorType==="totp"&&(!((o=m?.totp)===null||o===void 0)&&o.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),{data:m,error:null})})}catch(t){if(Bt(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var i;const{data:o,error:u}=t;if(u)return{data:null,error:u};const{data:d,error:g}=await Ut(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return g?{data:null,error:g}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),{data:d,error:g})})}catch(t){if(Bt(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var i;const{data:o,error:u}=t;return u?{data:null,error:u}:await Ut(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})})}catch(t){if(Bt(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:i}=await this._challenge({factorId:e.factorId});return i?{data:null,error:i}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const i=e?.factors||[],o=i.filter(d=>d.factor_type==="totp"&&d.status==="verified"),u=i.filter(d=>d.factor_type==="phone"&&d.status==="verified");return{data:{all:i,totp:o,phone:u},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,i;const{data:{session:o},error:u}=e;if(u)return{data:null,error:u};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=Wh(o.access_token);let g=null;d.aal&&(g=d.aal);let m=g;((i=(t=o.user.factors)===null||t===void 0?void 0:t.filter(b=>b.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(m="aal2");const C=d.amr||[];return{data:{currentLevel:g,nextLevel:m,currentAuthenticationMethods:C},error:null}}))}async fetchJwk(e,t={keys:[]}){let i=t.keys.find(g=>g.kid===e);if(i)return i;const o=Date.now();if(i=this.jwks.keys.find(g=>g.kid===e),i&&this.jwks_cached_at+oS>o)return i;const{data:u,error:d}=await Ut(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=o,i=u.keys.find(g=>g.kid===e),!i)?null:i}async getClaims(e,t={}){try{let i=e;if(!i){const{data:O,error:P}=await this.getSession();if(P||!O.session)return{data:null,error:P};i=O.session.access_token}const{header:o,payload:u,signature:d,raw:{header:g,payload:m}}=Wh(i);t?.allowExpired||IS(u.exp);const y=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,t?.keys?{keys:t.keys}:t?.jwks);if(!y){const{error:O}=await this.getUser(i);if(O)throw O;return{data:{claims:u,header:o,signature:d},error:null}}const C=LS(o.alg),b=await crypto.subtle.importKey("jwk",y,C,!0,["verify"]);if(!await crypto.subtle.verify(C,b,d,mS(`${g}.${m}`)))throw new Rf("Invalid JWT signature");return{data:{claims:u,header:o,signature:d},error:null}}catch(i){if(Bt(i))return{data:null,error:i};throw i}}}Ml.nextInstanceID=0;const $S=Ml;class ZS extends $S{constructor(e){super(e)}}var JS=function(A,e,t,i){function o(u){return u instanceof t?u:new t(function(d){d(u)})}return new(t||(t=Promise))(function(u,d){function g(C){try{y(i.next(C))}catch(b){d(b)}}function m(C){try{y(i.throw(C))}catch(b){d(b)}}function y(C){C.done?u(C.value):o(C.value).then(g,m)}y((i=i.apply(A,e||[])).next())})};class qS{constructor(e,t,i){var o,u,d;this.supabaseUrl=e,this.supabaseKey=t;const g=nS(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",g),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",g),this.storageUrl=new URL("storage/v1",g),this.functionsUrl=new URL("functions/v1",g);const m=`sb-${g.hostname.split(".")[0]}-auth-token`,y={db:zF,realtime:$F,auth:Object.assign(Object.assign({},WF),{storageKey:m}),global:GF},C=tS(i??{},y);this.storageKey=(o=C.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(u=C.global.headers)!==null&&u!==void 0?u:{},C.accessToken?(this.accessToken=C.accessToken,this.auth=new Proxy({},{get:(b,S)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(S)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((d=C.auth)!==null&&d!==void 0?d:{},this.headers,C.global.fetch),this.fetch=XF(t,this._getAccessToken.bind(this),C.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},C.realtime)),this.rest=new dF(new URL("rest/v1",g).href,{headers:this.headers,schema:C.db.schema,fetch:this.fetch}),this.storage=new MF(this.storageUrl.href,this.headers,this.fetch,i?.storage),C.accessToken||this._listenForAuthEvents()}get functions(){return new nF(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},i={}){return this.rest.rpc(e,t,i)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return JS(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(t=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:i,storage:o,userStorage:u,storageKey:d,flowType:g,lock:m,debug:y},C,b){const S={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ZS({url:this.authUrl.href,headers:Object.assign(Object.assign({},S),C),storageKey:d,autoRefreshToken:e,persistSession:t,detectSessionInUrl:i,storage:o,userStorage:u,flowType:g,lock:m,debug:y,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(O=>O.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new FF(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,i)=>{this._handleTokenChanged(t,"CLIENT",i?.access_token)})}_handleTokenChanged(e,t,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const XS=(A,e,t)=>new qS(A,e,t);function YS(){if(typeof window<"u"||typeof process>"u")return!1;const A=process.version;if(A==null)return!1;const e=A.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}YS()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const eI="https://iqogzlheqbzljwddjplu.supabase.co",NB="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imlxb2d6bGhlcWJ6bGp3ZGRqcGx1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTc0NzY1MjAsImV4cCI6MjA3MzA1MjUyMH0.NQhDBhJvv-a5pECEe00P-ZdmcCVXlHv9n8nKe_O4gmY",jB=!!NB,Ys=jB?XS(eI,NB,{auth:{persistSession:!0}}):null,Nv="photos";async function Mf(){if(!jB)return{pushed:0,pulled:0};const A=await pe.outbox.toArray();let e=0;for(const i of A)try{i.type==="job"?await tI(i.payload):i.type==="note"?await nI(i.payload):i.type==="measurement"?await AI(i.payload):i.type==="photo"&&await rI(i.payload),await pe.outbox.delete(i.id),e+=1}catch(o){console.warn("Sync push failed for",i.type,i.id,o)}const t=await sI();return{pushed:e,pulled:t}}async function jv(){return pe.outbox.count()}async function tI(A){const{error:e}=await Ys.from("jobs").upsert(A,{onConflict:"id"});if(e)throw e}async function nI(A){const{error:e}=await Ys.from("notes").upsert(A,{onConflict:"id"});if(e)throw e}async function AI(A){const{error:e}=await Ys.from("measurements").upsert(A,{onConflict:"id"});if(e)throw e}async function rI(A){const e={id:A.id,jobId:A.jobId,caption:A.caption??"",createdAt:A.createdAt,serverUri:A.serverUri??null};{const{error:t}=await Ys.from("photos").upsert(e,{onConflict:"id"});if(t)throw t}if(A.blob&&!A.serverUri){const t=iI(A.blob.type),i=`${A.jobId}/${A.id}${t}`,{error:o}=await Ys.storage.from(Nv).upload(i,A.blob,{upsert:!0,contentType:A.blob.type||"image/jpeg"});if(o&&!String(o.message||"").includes("The resource already exists"))throw o;const{data:u}=Ys.storage.from(Nv).getPublicUrl(i),d=u.publicUrl,{error:g}=await Ys.from("photos").update({serverUri:d}).eq("id",A.id);if(g)throw g;await pe.photos.update(A.id,{serverUri:d})}}function iI(A){return A?A.includes("png")?".png":A.includes("webp")?".webp":(A.includes("jpeg")||A.includes("jpg"),".jpg"):".jpg"}async function sI(){let A=0;try{const e=[{name:"jobs",upsert:t=>pe.jobs.bulkPut(t)},{name:"notes",upsert:t=>pe.notes.bulkPut(t)},{name:"measurements",upsert:t=>pe.measurements.bulkPut(t)},{name:"photos",upsert:async t=>{for(const i of t){const o=await pe.photos.get(i.id);await pe.photos.put({...o||{},...i})}}}];for(const t of e){const{data:i,error:o}=await Ys.from(t.name).select("*").limit(500);if(o)throw o;i&&i.length&&(await t.upsert(i),A+=i.length)}}catch(e){console.warn("Pull failed",e)}return A}function oI(){const[A,e]=F.useState(navigator.onLine),[t,i]=F.useState(0),[o,u]=F.useState(!1);F.useEffect(()=>{const C=async()=>i(await jv());C();const b=()=>{e(!0),C()},S=()=>e(!1);window.addEventListener("online",b),window.addEventListener("offline",S);const O=setInterval(C,3e3);return()=>{window.removeEventListener("online",b),window.removeEventListener("offline",S),clearInterval(O)}},[]);const d=A?o?`Syncing (${t})`:`Online (${t})`:"Offline",g=A?o?"var(--warn)":"var(--brand-50)":"#fee2e2",m=A?"var(--brand-600)":"#991b1b";async function y(){u(!0);try{await Mf(),i(await jv())}finally{u(!1)}}return c.jsxs("span",{className:"badge",style:{background:g,color:m},children:[d,A&&t>0&&c.jsx("button",{className:"btn secondary",onClick:y,style:{padding:"2px 8px",fontSize:12},children:"Sync now"})]})}function aI({jobId:A}){const[e,t]=F.useState({});F.useEffect(()=>{(async()=>{const[u,d,g,m,y,C,b]=await Promise.all([pe.jobs.get(A),pe.notes.where("jobId").equals(A).toArray(),pe.photos.where("jobId").equals(A).toArray(),pe.measurements.where("jobId").equals(A).toArray(),pe.waterQuality.where("jobId").equals(A).toArray(),pe.audioNotes.where("jobId").equals(A).toArray(),pe.depthPoints?.where("jobId").equals(A).toArray()??Promise.resolve([])]);t({job:u,notes:d,photos:g,measurements:m,waterQuality:y,audioNotes:C,depthPoints:b})})()},[A]);function i(){window.print()}return c.jsxs("div",{className:"grid",children:[c.jsx("div",{className:"row",children:c.jsx("button",{className:"btn",onClick:i,children:"Print / Save as PDF"})}),c.jsxs("div",{id:"printable-map",children:[c.jsxs("section",{className:"card",children:[c.jsx("h3",{children:"Job"}),c.jsxs("div",{children:[e.job?.clientName," ",e.job?.siteName?" - "+e.job.siteName:""]}),c.jsxs("div",{className:"muted",children:[e.job?.createdAt&&c.jsxs("span",{children:["Created ",new Date(e.job.createdAt).toLocaleString()]}),e.job?.createdBy&&c.jsxs("span",{style:{marginLeft:12},children:["by ",e.job.createdBy]}),typeof e.job?.lat=="number"&&typeof e.job?.lon=="number"&&c.jsxs("span",{style:{marginLeft:12},children:["(lat ",e.job.lat.toFixed(5),", lon ",e.job.lon.toFixed(5),")"]})]})]}),c.jsxs("section",{className:"card",children:[c.jsx("h3",{children:"Notes"}),e.notes?.length?c.jsx("ul",{className:"list",children:e.notes.map(o=>c.jsx("li",{children:o.text},o.id))}):c.jsx("div",{className:"muted",children:"No notes"})]}),c.jsxs("section",{className:"card",children:[c.jsx("h3",{children:"Audio Notes"}),e.audioNotes?.length?c.jsx("ul",{className:"list",children:e.audioNotes.map(o=>c.jsx("li",{children:c.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:4},children:[c.jsx("small",{className:"muted",children:new Date(o.createdAt).toLocaleString()}),o.transcript?c.jsxs("div",{children:[c.jsx("strong",{children:"Transcript:"})," ",o.transcript]}):c.jsx("div",{className:"muted",children:"(No transcript)"})]})},o.id))}):c.jsx("div",{className:"muted",children:"No audio notes"})]}),c.jsxs("section",{className:"card",children:[c.jsx("h3",{children:"Measurements"}),e.measurements?.length?c.jsx("ul",{className:"list",children:e.measurements.map(o=>c.jsxs("li",{children:[o.kind,": ",o.value," ",o.unit]},o.id))}):c.jsx("div",{className:"muted",children:"No measurements"})]}),c.jsxs("section",{className:"card",children:[c.jsx("h3",{children:"Water Quality"}),e.waterQuality?.length?c.jsx("ul",{className:"list",children:e.waterQuality.map(o=>c.jsxs("li",{children:[o.kind,": ",o.value," ",o.unit,o.depthFt?` @ ${o.depthFt} ft`:""]},o.id))}):c.jsx("div",{className:"muted",children:"No entries"})]}),c.jsxs("section",{className:"card",children:[c.jsx("h3",{children:"Depth Points"}),e.depthPoints?.length?c.jsx("ul",{className:"list",children:e.depthPoints.map(o=>c.jsxs("li",{children:[o.depthFt," ft at (",o.lat.toFixed(5),", ",o.lon.toFixed(5),")"]},o.id))}):c.jsx("div",{className:"muted",children:"No depth points"})]}),c.jsxs("section",{className:"card",children:[c.jsx("h3",{children:"Photos"}),e.photos?.length?c.jsx("div",{className:"row",children:e.photos.map(o=>c.jsx("img",{className:"rounded",src:o.serverUri||(o.blob?URL.createObjectURL(o.blob):o.localUri),alt:"photo",style:{width:120,height:120,objectFit:"cover"}},o.id))}):c.jsx("div",{className:"muted",children:"No photos"})]})]})]})}function lI(){const A=Vl(),{jobId:e=""}=$f();return c.jsxs("div",{className:"grid",children:[c.jsx("div",{className:"row",children:e?c.jsx(Ai,{to:`/job/${e}`,className:"btn secondary",children:"Back to Job"}):c.jsx("button",{className:"btn secondary",onClick:()=>A(-1),children:"Back"})}),c.jsxs("section",{className:"card",children:[c.jsx("h2",{children:"Job Summary"}),c.jsx(aI,{jobId:e})]})]})}function uI(){const[A,e]=F.useState(""),[t,i]=F.useState(!1),[o,u]=F.useState(!1);F.useEffect(()=>{e(localStorage.getItem("defaultEmployee")||""),i(document.documentElement.classList.contains("theme-dark")),u(document.documentElement.classList.contains("field-mode"))},[]);function d(){localStorage.setItem("defaultEmployee",A),alert("Saved")}function g(y){i(y),document.documentElement.classList.toggle("theme-dark",y);try{localStorage.setItem("theme",y?"dark":"light")}catch{}}function m(y){u(y),document.documentElement.classList.toggle("field-mode",y);try{localStorage.setItem("fieldMode",y?"1":"0")}catch{}}return c.jsx("div",{className:"grid",children:c.jsxs("section",{className:"card",children:[c.jsx("h2",{children:"Settings"}),c.jsx("div",{className:"row",children:c.jsxs("label",{className:"label",children:["Default Employee Name",c.jsx("input",{className:"input",value:A,onChange:y=>e(y.target.value),placeholder:"Your name"})]})}),c.jsxs("div",{className:"row",style:{gap:16,alignItems:"center",marginTop:8},children:[c.jsxs("div",{className:"label",children:["Dark Mode",c.jsxs("button",{type:"button",className:"btn",onClick:()=>g(!t),style:{display:"inline-flex",alignItems:"center",gap:8},children:[c.jsx("span",{className:"badge",style:{background:t?"#111827":"#e5e7eb",color:t?"#fff":"#111827"},children:t?"On":"Off"}),c.jsx("span",{children:"Toggle"})]})]}),c.jsxs("div",{className:"label",children:["Field Mode",c.jsx("button",{type:"button",className:"btn",onClick:()=>m(!o),children:o?"On":"Off"})]})]}),c.jsx("div",{className:"row",style:{marginTop:8},children:c.jsx("button",{className:"btn",onClick:d,children:"Save"})})]})})}function cI(){const[A,e]=F.useState(""),[t,i]=F.useState(!1),[o,u]=F.useState([]);return F.useEffect(()=>{let d=!0;return(async()=>{const m=A.trim().toLowerCase();if(!m){u([]);return}const[y,C]=await Promise.all([pe.jobs.toArray(),pe.notes.toArray()]),b=y.filter(O=>[O.clientName,O.siteName,O.address,O.createdBy].some(P=>(P||"").toLowerCase().includes(m))).slice(0,5).map(O=>({type:"job",id:O.id,label:`${O.clientName}${O.siteName?" - "+O.siteName:""}`,href:`/job/${O.id}`})),S=C.filter(O=>(O.text||"").toLowerCase().includes(m)).slice(0,5).map(O=>({type:"note",id:O.id,label:O.text.slice(0,60),href:`/job/${O.jobId}`}));d&&u([...b,...S].slice(0,8))})(),()=>{d=!1}},[A]),F.useEffect(()=>{const d=g=>{g.target.closest?.(".search")||i(!1)};return document.addEventListener("click",d),()=>document.removeEventListener("click",d)},[]),c.jsxs("div",{className:"search",children:[c.jsx("input",{className:"input",value:A,onChange:d=>{e(d.target.value),i(!0)},placeholder:"Search jobs and notes"}),t&&o.length>0&&c.jsx("div",{className:"search-results",children:o.map(d=>c.jsxs(Ai,{to:d.href,onClick:()=>{i(!1),e("")},children:["[",d.type,"] ",d.label]},d.id))})]})}const HB=F.createContext(void 0);function dI({children:A}){const[e,t]=F.useState(null),[i,o]=F.useState(null);F.useEffect(()=>{const g=localStorage.getItem("auth_token"),m=localStorage.getItem("auth_user");if(g==="DEV"){if(o("DEV"),m)try{t(JSON.parse(m))}catch{}else{const y=localStorage.getItem("auth_last_phone");if(y){const C=v_(y);if(C){const b={id:C.id,phone:C.phone,name:C.name,role:C.role};localStorage.setItem("auth_user",JSON.stringify(b)),t(b)}}}return}g&&nf&&(o(g),Af("/auth/me").then(y=>{t(y.user),localStorage.setItem("auth_user",JSON.stringify(y.user))}).catch(()=>{localStorage.removeItem("auth_token"),localStorage.removeItem("auth_user"),o(null)}))},[]);async function u(g,m){const y=y_(g,m);if(y){const b={id:y.id,phone:y.phone,name:y.name,role:y.role};localStorage.setItem("auth_token","DEV"),localStorage.setItem("auth_user",JSON.stringify(b)),localStorage.setItem("auth_last_phone",y.phone),o("DEV"),t(b);return}if(!nf)throw new Error("No remote API configured for login. Use a developer account.");const C=await Af("/auth/login",{method:"POST",body:JSON.stringify({phone:g,password:m})});localStorage.setItem("auth_token",C.token),localStorage.setItem("auth_user",JSON.stringify(C.user)),o(C.token),t(C.user)}function d(){localStorage.removeItem("auth_token"),localStorage.removeItem("auth_user"),localStorage.removeItem("auth_last_phone"),o(null),t(null)}return c.jsx(HB.Provider,{value:{user:e,token:i,login:u,logout:d},children:A})}function Ad(){const A=F.useContext(HB);if(!A)throw new Error("useAuth must be used within AuthProvider");return A}function hI(){const{login:A}=Ad(),e=Vl(),[t,i]=F.useState(""),[o,u]=F.useState(""),[d,g]=F.useState(null),[m,y]=F.useState(!1);async function C(b){b.preventDefault(),g(null),y(!0);try{await A(t.trim(),o),e("/")}catch(S){g(S?.message||"Login failed")}finally{y(!1)}}return c.jsx("div",{className:"grid",style:{maxWidth:420,margin:"0 auto"},children:c.jsxs("section",{className:"card",children:[c.jsx("h2",{children:"Sign In"}),c.jsxs("form",{className:"grid",style:{gap:10},onSubmit:C,children:[c.jsxs("label",{className:"label",children:["Phone Number",c.jsx("input",{className:"input",placeholder:"e.g. 555-123-4567",value:t,onChange:b=>i(b.target.value)})]}),c.jsxs("label",{className:"label",children:["Password",c.jsx("input",{className:"input",type:"password",value:o,onChange:b=>u(b.target.value)})]}),d&&c.jsx("div",{className:"badge",style:{background:"var(--danger)",color:"#fff"},children:d}),c.jsx("button",{className:"btn",disabled:m,type:"submit",children:m?"Signing in":"Sign In"})]})]})})}function fI(){const{user:A}=Ad(),[e,t]=F.useState([]),[i,o]=F.useState(""),[u,d]=F.useState(""),[g,m]=F.useState(""),[y,C]=F.useState(""),[b,S]=F.useState("user"),[O,P]=F.useState(!1),[N,W]=F.useState(null),[D,R]=F.useState([]);if(!A||A.role!=="developer")return c.jsxs("div",{className:"card",children:[c.jsx("h2",{children:"Developer Only"}),c.jsx("p",{className:"muted",children:"Sign in as a developer to access this page."})]});F.useEffect(()=>{t(Bc())},[]),F.useEffect(()=>{R(wc())},[]);async function J(Ae){if(Ae.preventDefault(),!u.trim()||!y.trim()){W("Phone and password are required.");return}W(null),P(!0);try{w_({phone:u,password:y,role:b,name:i}),o(""),d(""),m(""),C(""),S("user"),t(Bc())}catch(ve){W(ve?.message||"Failed to save user")}finally{P(!1)}}async function M(Ae){if(confirm("Delete this user?"))try{B_(Ae)}finally{t(Bc())}}async function $(){const Ae=await iw("manual");R([Ae,...wc().filter(ve=>ve.id!==Ae.id)])}function q(){R(wc())}function xe(){D.length&&confirm("Clear all stored backups on this device?")&&(f_(),R([]))}function X(Ae){if(typeof document>"u")return;const ve=new Blob([JSON.stringify(Ae,null,2)],{type:"application/json"}),Ee=URL.createObjectURL(ve),qe=document.createElement("a");qe.href=Ee,qe.download=`vplm-backup-${Ae.createdAt.replace(/[:.]/g,"-")}.json`,document.body.appendChild(qe),qe.click(),document.body.removeChild(qe),URL.revokeObjectURL(Ee)}return c.jsxs("div",{className:"grid",style:{gap:24},children:[c.jsxs("section",{className:"card",children:[c.jsx("h2",{children:"Create or Update Users"}),c.jsx("p",{className:"muted",style:{marginTop:4},children:"Seed local test accounts or sync with the API when it is running."}),c.jsxs("form",{onSubmit:J,style:{display:"grid",gap:16,marginTop:16},children:[c.jsxs("div",{style:{display:"grid",gap:12,gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))"},children:[c.jsxs("label",{className:"label",style:{flex:"1 1 200px"},children:["Name",c.jsx("input",{className:"input",value:i,onChange:Ae=>o(Ae.target.value),placeholder:"Jane Developer"})]}),c.jsxs("label",{className:"label",style:{flex:"1 1 200px"},children:["Email",c.jsx("input",{className:"input",type:"email",value:g,onChange:Ae=>m(Ae.target.value),placeholder:"jane@example.com"})]}),c.jsxs("label",{className:"label",style:{flex:"1 1 160px"},children:["Phone",c.jsx("input",{className:"input",type:"tel",value:u,onChange:Ae=>d(Ae.target.value),placeholder:"5551234567",required:!0})]}),c.jsxs("label",{className:"label",style:{flex:"1 1 160px"},children:["Password",c.jsx("input",{className:"input",type:"password",value:y,onChange:Ae=>C(Ae.target.value),placeholder:"******",required:!0})]}),c.jsxs("label",{className:"label",style:{width:160},children:["Role",c.jsxs("select",{className:"select",value:b,onChange:Ae=>S(Ae.target.value),children:[c.jsx("option",{value:"user",children:"User"}),c.jsx("option",{value:"developer",children:"Developer"})]})]})]}),c.jsxs("div",{className:"row",style:{gap:8,flexWrap:"wrap"},children:[c.jsx("button",{className:"btn",disabled:O,type:"submit",children:O?"Saving...":"Save User"}),c.jsx("button",{className:"btn secondary",type:"button",onClick:()=>{o(""),m(""),d(""),C(""),S("user"),W(null)},disabled:O,children:"Clear"})]}),N&&c.jsx("div",{className:"badge",style:{background:"var(--danger)",color:"#fff",marginTop:4},children:N})]})]}),c.jsxs("section",{className:"card",children:[c.jsx("h3",{children:"Existing Users"}),e.length===0?c.jsx("div",{className:"muted",children:"No users found."}):c.jsx("div",{style:{overflowX:"auto"},children:c.jsxs("table",{className:"table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Name"}),c.jsx("th",{children:"Email"}),c.jsx("th",{children:"Phone"}),c.jsx("th",{children:"Role"}),c.jsx("th",{children:"Created"}),c.jsx("th",{})]})}),c.jsx("tbody",{children:e.map(Ae=>{const ve=Ae.created_at?new Date(Ae.created_at).toLocaleString():"Local only";return c.jsxs("tr",{children:[c.jsx("td",{children:Ae.name||""}),c.jsx("td",{children:Ae.email||""}),c.jsx("td",{children:Ae.phone}),c.jsx("td",{children:Ae.role}),c.jsx("td",{children:ve}),c.jsxs("td",{children:[c.jsx("button",{className:"btn secondary",onClick:()=>{o(Ae.name||""),m(Ae.email||""),d(Ae.phone||""),S(Ae.role||"user"),C("")},children:"Edit"}),c.jsx("button",{className:"btn warn",style:{marginLeft:6},onClick:()=>{confirm("Really delete this user? This will NOT delete any jobs or data.")&&M(Ae.id)},children:"Delete"})]})]},Ae.id)})})]})})]}),c.jsx(gI,{}),c.jsxs("section",{className:"card",style:{display:"grid",gap:16},children:[c.jsx("h3",{children:"Local Backups"}),c.jsx("p",{className:"muted",style:{marginTop:4},children:"Automatic snapshots of the browser database are stored on this device. Download them regularly so the team has an off-device copy in case hardware is lost."}),c.jsxs("div",{className:"row",style:{gap:8,flexWrap:"wrap"},children:[c.jsx("button",{className:"btn",onClick:$,children:"Backup Now"}),c.jsx("button",{className:"btn secondary",onClick:q,disabled:!D.length,children:"Refresh List"}),c.jsx("button",{className:"btn warn",onClick:xe,disabled:!D.length,children:"Clear History"})]}),D.length===0?c.jsx("div",{className:"muted",children:"No backups captured yet. New edits will trigger automatic snapshots."}):c.jsx("div",{style:{overflowX:"auto"},children:c.jsxs("table",{className:"table",style:{minWidth:520},children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Created"}),c.jsx("th",{children:"Reason"}),c.jsx("th",{children:"Approx Size"}),c.jsx("th",{})]})}),c.jsx("tbody",{children:D.map(Ae=>{const ve=Math.max(.1,JSON.stringify(Ae.data).length/1024).toFixed(1);return c.jsxs("tr",{children:[c.jsx("td",{children:new Date(Ae.createdAt).toLocaleString()}),c.jsx("td",{children:Ae.reason}),c.jsxs("td",{children:[ve," KB"]}),c.jsx("td",{children:c.jsx("button",{className:"btn secondary",onClick:()=>X(Ae),children:"Download"})})]},Ae.id)})})]})})]}),c.jsx(pI,{})]})}function pI(){const[A,e]=F.useState(""),[t,i]=F.useState(""),[o,u]=F.useState(""),[d,g]=F.useState("");F.useEffect(()=>{e(localStorage.getItem("openweather_key")||""),i(localStorage.getItem("openai_api_key")||""),u(localStorage.getItem("defaultEmployee")||""),g(aw()||"")},[]);function m(){localStorage.setItem("openweather_key",A),localStorage.setItem("openai_api_key",t),localStorage.setItem("defaultEmployee",o),__(d.trim()),alert("Saved developer settings.")}return c.jsxs(c.Fragment,{children:[c.jsxs("section",{className:"card",style:{display:"grid",gap:16},children:[c.jsx("h3",{children:"Developer Settings"}),c.jsx("p",{className:"muted",style:{marginTop:4},children:"Store local-only API keys for tooling and crew defaults."}),c.jsxs("div",{style:{display:"grid",gap:12,gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))",marginTop:12},children:[c.jsxs("label",{className:"label",children:["Default Employee Name",c.jsx("input",{className:"input",value:o,onChange:y=>u(y.target.value),placeholder:"Your name"})]}),c.jsxs("label",{className:"label",children:["Mapbox Access Token (addresses)",c.jsx("input",{className:"input",value:d,onChange:y=>g(y.target.value),placeholder:"pk.xxxxx"}),c.jsx("small",{className:"muted",children:"Generates real address suggestions across the app."})]}),c.jsxs("label",{className:"label",children:["OpenWeather API Key",c.jsx("input",{className:"input",value:A,onChange:y=>e(y.target.value),placeholder:"Enter key"})]}),c.jsxs("label",{className:"label",children:["OpenAI API Key (Whisper)",c.jsx("input",{className:"input",value:t,onChange:y=>i(y.target.value),placeholder:"sk-..."})]})]}),c.jsxs("div",{className:"row",style:{marginTop:16,gap:8},children:[c.jsx("button",{className:"btn",onClick:m,children:"Save"}),c.jsx("button",{className:"btn warn",onClick:()=>location.assign("/reset"),children:"Clear Cache"})]})]}),c.jsxs("section",{className:"card",children:[c.jsx("h3",{children:"API Setup Guide"}),c.jsxs("ul",{style:{margin:"8px 0 0 18px",padding:0,listStyle:"disc",display:"grid",gap:8},children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Mapbox Places"})," - Sign up at ",c.jsx("a",{href:"https://www.mapbox.com",target:"_blank",rel:"noreferrer",children:"mapbox.com"}),", create a Public access token, and paste it above. Provides fast address autocomplete; Google Places or Geoapify are viable alternatives if your team already licenses them."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"OpenWeather"})," - Current weather and radar. Key stored locally; alternatives like Tomorrow.io offer richer forecasts but cost more."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"OpenAI Whisper"})," - Optional for voice-to-text. Generate a secret key in your OpenAI dashboard and store it here."]}),c.jsx("li",{children:"Keys live in browser storage only; each developer keeps their own set."})]})]})]})}function gI(){const A={id:null,clientName:"",address:"",contactName:"",primaryPhone:"",notes:"",lat:"",lon:""},[e,t]=F.useState([]),[i,o]=F.useState(A),[u,d]=F.useState([]),[g,m]=F.useState(""),[y,C]=F.useState(""),[b,S]=F.useState(null),[O,P]=F.useState(""),[N,W]=F.useState(!1),[D,R]=F.useState(null),[J,M]=F.useState(null);function $(se){o(Qe=>({...Qe,address:se})),R(null)}function q(se){o(Qe=>({...Qe,address:se.label,lat:se.lat!=null?se.lat.toFixed(6):Qe.lat,lon:se.lon!=null?se.lon.toFixed(6):Qe.lon})),R("Coordinates added from selection.")}F.useEffect(()=>{const se=qv(()=>db.addressBank.orderBy("clientName").toArray()).subscribe({next:Qe=>t(Qe),error:()=>{}});return()=>se.unsubscribe()},[]);const xe=F.useMemo(()=>{const se=O.trim().toLowerCase();return se?e.filter(Qe=>{const ge=Kf(Qe);return[Qe.clientName,Qe.address,Qe.contactName,Qe.primaryPhone,Qe.notes,...ge.flatMap(K=>[K.phone,K.label])].some(K=>(K||"").toLowerCase().includes(se))}):e},[e,O]);function X(){o(A),d([]),m(""),C(""),S(null),M(null),R(null)}function Ae(se){o({id:se.id,clientName:se.clientName||"",address:se.address||"",contactName:se.contactName||"",primaryPhone:se.primaryPhone||"",notes:se.notes||"",lat:se.lat!=null?String(se.lat):"",lon:se.lon!=null?String(se.lon):""}),d(Kf(se)),m(""),C(""),S(null),M(null),R(null)}async function ve(se){if(se.preventDefault(),!i.clientName.trim()&&!i.address.trim()){M("Enter at least a client name or address.");return}W(!0),M(null);try{const Qe=i.id||crypto.randomUUID(),ge=e.find(Fe=>Fe.id===Qe),Pe=new Date().toISOString(),K=i.lat.trim()?Number(i.lat):void 0,H=i.lon.trim()?Number(i.lon):void 0;if(K!=null&&!Number.isFinite(K)||H!=null&&!Number.isFinite(H))throw new Error("Lat/Lon must be numbers.");const le=u.map(Fe=>({id:Fe.id||crypto.randomUUID(),label:Fe.label?.trim()||void 0,phone:Fe.phone.trim()})).filter(Fe=>Fe.phone),Ie={id:Qe,clientName:i.clientName.trim()||i.address.trim()||"Untitled Client",address:i.address.trim(),contactName:i.contactName.trim()||void 0,primaryPhone:i.primaryPhone.trim()||void 0,otherPhones:le.map(Fe=>Fe.phone),contacts:le,notes:i.notes.trim()||void 0,lat:K,lon:H,createdAt:ge?.createdAt||Pe,updatedAt:Pe};await t_(Ie),R(i.id?"Updated entry.":"Saved new entry."),X()}catch(Qe){M(Qe?.message||"Failed to save client entry")}finally{W(!1)}}async function Ee(){const se=[i.address,i.clientName].filter(Boolean).join(" ");if(!se.trim()){R("Enter an address or client name first.");return}R("Looking up address..."),M(null);try{const Qe=`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(se)}&limit=1`,ge=await fetch(Qe,{headers:{Accept:"application/json"}});if(!ge.ok)throw new Error("Lookup failed");const Pe=await ge.json();if(!Array.isArray(Pe)||Pe.length===0){R("No results found for that address.");return}const K=Pe[0];o(H=>({...H,lat:K.lat?String(Number(K.lat).toFixed(6)):H.lat,lon:K.lon?String(Number(K.lon).toFixed(6)):H.lon})),R("Coordinates added from lookup.")}catch(Qe){R("Lookup error. Try again later."),M(Qe?.message||"Lookup failed")}}async function qe(se){confirm("Remove this client entry?")&&(await n_(se),i.id===se&&X())}function Ze(){const se=y.trim();if(!se){M("Enter a phone number for the contact.");return}M(null);const Qe=g.trim()||void 0;d(b?ge=>ge.map(Pe=>Pe.id===b?{...Pe,phone:se,label:Qe}:Pe):ge=>[...ge,{id:crypto.randomUUID(),phone:se,label:Qe}]),m(""),C(""),S(null)}function be(se){m(se.label||""),C(se.phone),S(se.id)}function et(se){d(Qe=>Qe.filter(ge=>ge.id!==se)),b===se&&(m(""),C(""),S(null))}return c.jsxs("section",{className:"card",style:{display:"grid",gap:16},children:[c.jsx("h3",{children:"Client Bank"}),c.jsx("p",{className:"muted",style:{marginTop:4},children:"Keep an easy list of ranch clients, contacts, and coordinates. Field users can look them up from the Map tab."}),c.jsxs("form",{onSubmit:ve,style:{display:"grid",gap:16,marginTop:16},children:[c.jsxs("div",{style:{display:"grid",gap:12,gridTemplateColumns:"repeat(auto-fit, minmax(260px, 1fr))"},children:[c.jsxs("label",{className:"label",children:["Client / Ranch Name",c.jsx("input",{className:"input",value:i.clientName,onChange:se=>o(Qe=>({...Qe,clientName:se.target.value})),placeholder:"Blue Creek Ranch"})]}),c.jsxs("div",{className:"label",style:{display:"grid",gap:6},children:[c.jsx("span",{children:"Address"}),c.jsx(Wl,{id:"client-bank-address",value:i.address,onChange:$,onSelect:q,placeholder:"123 FM 100, Llano, TX",helpText:"Select a suggestion to fill coordinates automatically."})]}),c.jsxs("label",{className:"label",children:["Primary Contact Name",c.jsx("input",{className:"input",value:i.contactName,onChange:se=>o(Qe=>({...Qe,contactName:se.target.value})),placeholder:"Sam Owner"})]})]}),c.jsxs("div",{style:{display:"grid",gap:12,gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))"},children:[c.jsxs("label",{className:"label",children:["Primary Phone",c.jsx("input",{className:"input",value:i.primaryPhone,onChange:se=>o(Qe=>({...Qe,primaryPhone:se.target.value})),placeholder:"555-123-4567"})]}),c.jsxs("label",{className:"label",style:{display:"grid",gap:6},children:[c.jsx("span",{children:"Notes"}),c.jsx("textarea",{className:"textarea",value:i.notes,onChange:se=>o(Qe=>({...Qe,notes:se.target.value})),placeholder:"Gate code 2468",rows:3})]})]}),c.jsxs("div",{style:{display:"grid",gap:12,gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))",alignItems:"end"},children:[c.jsxs("label",{className:"label",children:["Contact / Role",c.jsx("input",{className:"input",value:g,onChange:se=>m(se.target.value),placeholder:"Ranch hand"})]}),c.jsxs("label",{className:"label",children:["Phone",c.jsx("input",{className:"input",type:"tel",value:y,onChange:se=>C(se.target.value),placeholder:"555-987-1234"})]}),c.jsxs("div",{className:"row",style:{gap:8},children:[c.jsx("button",{type:"button",className:"btn secondary",onClick:Ze,children:b?"Update Contact":"Add Contact"}),b&&c.jsx("button",{type:"button",className:"btn secondary",onClick:()=>{m(""),C(""),S(null)},children:"Cancel"})]})]}),u.length>0&&c.jsx("ul",{style:{margin:0,padding:0,listStyle:"none",display:"grid",gap:6},children:u.map(se=>c.jsxs("li",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:12,background:"#f9fafb",border:"1px solid var(--border)",borderRadius:6,padding:"6px 10px"},children:[c.jsxs("div",{children:[c.jsx("strong",{children:se.label||"Contact"}),se.label?": ":" ",se.phone]}),c.jsxs("div",{className:"row",style:{gap:6},children:[c.jsx("button",{type:"button",className:"btn secondary",onClick:()=>be(se),children:"Edit"}),c.jsx("button",{type:"button",className:"btn warn",onClick:()=>et(se.id),children:"Delete"})]})]},se.id))}),c.jsxs("div",{style:{display:"grid",gap:12,gridTemplateColumns:"repeat(auto-fit, minmax(160px, 1fr))",alignItems:"end"},children:[c.jsxs("label",{className:"label",children:["Latitude",c.jsx("input",{className:"input",value:i.lat,onChange:se=>o(Qe=>({...Qe,lat:se.target.value})),placeholder:"30.123456"})]}),c.jsxs("label",{className:"label",children:["Longitude",c.jsx("input",{className:"input",value:i.lon,onChange:se=>o(Qe=>({...Qe,lon:se.target.value})),placeholder:"-97.654321"})]}),c.jsxs("div",{className:"row",style:{gap:8},children:[c.jsx("button",{type:"button",className:"btn secondary",onClick:Ee,disabled:N,children:"Lookup Coordinates"}),c.jsx("small",{className:"muted",children:"Uses OpenStreetMap to geocode the address."})]})]}),c.jsxs("div",{className:"row",style:{gap:8},children:[c.jsx("button",{className:"btn",type:"submit",disabled:N,children:N?"Saving...":i.id?"Update Client":"Save Client"}),c.jsx("button",{className:"btn secondary",type:"button",onClick:X,disabled:N,children:"Reset"})]}),D&&c.jsx("div",{className:"muted",children:D}),J&&c.jsx("div",{className:"badge",style:{background:"var(--danger)",color:"#fff"},children:J})]}),c.jsxs("div",{style:{marginTop:20},children:[c.jsxs("div",{className:"row",style:{justifyContent:"space-between",alignItems:"center",gap:12},children:[c.jsx("h4",{style:{margin:0},children:"Saved Clients"}),c.jsx("input",{className:"input",style:{maxWidth:260},placeholder:"Search name, address, phone",value:O,onChange:se=>P(se.target.value),disabled:e.length===0})]}),e.length===0?c.jsx("div",{className:"muted",style:{marginTop:8},children:"No clients yet. Add one above to build the shared bank."}):xe.length===0?c.jsxs("div",{className:"muted",style:{marginTop:8},children:['No matches for "',O,'".']}):c.jsx("div",{className:"accordion",style:{marginTop:12},children:xe.map(se=>c.jsx(mI,{entry:se,onEdit:()=>Ae(se),onDelete:()=>qe(se.id)},se.id))})]})]})}function mI({entry:A,onEdit:e,onDelete:t}){const[i,o]=F.useState(!1),u=Kf(A),d=typeof A.lat=="number"&&typeof A.lon=="number";return c.jsxs("section",{className:"accordion-item accent-green",children:[c.jsxs("button",{className:"accordion-button","aria-expanded":i,onClick:()=>o(!i),children:[c.jsx("span",{children:A.clientName||A.address||"Client Entry"}),c.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,children:c.jsx("path",{d:"M6 9l6 6 6-6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),i&&c.jsxs("div",{className:"accordion-panel",style:{display:"grid",gap:8},children:[A.address&&c.jsxs("div",{children:[c.jsx("strong",{children:"Address:"})," ",A.address]}),A.contactName&&c.jsxs("div",{children:[c.jsx("strong",{children:"Primary Contact:"})," ",A.contactName]}),A.primaryPhone&&c.jsxs("div",{children:[c.jsx("strong",{children:"Primary Phone:"})," ",c.jsx("a",{href:`tel:${A.primaryPhone}`,children:A.primaryPhone})]}),u.length>0&&c.jsxs("div",{children:[c.jsx("strong",{children:"Team Contacts:"}),c.jsx("ul",{style:{margin:"4px 0 0 18px",padding:0,listStyle:"disc"},children:u.map(g=>c.jsxs("li",{children:[g.label?`${g.label}: `:"",g.phone]},g.id))})]}),d&&c.jsxs("div",{children:[c.jsx("strong",{children:"Coordinates:"})," ",A.lat?.toFixed(5),", ",A.lon?.toFixed(5)]}),A.notes&&c.jsxs("div",{children:[c.jsx("strong",{children:"Notes:"})," ",A.notes]}),c.jsxs("div",{className:"row",style:{gap:8,marginTop:8,flexWrap:"wrap"},children:[c.jsx("button",{className:"btn secondary",onClick:e,children:"Load Into Form"}),c.jsx("button",{className:"btn warn",onClick:t,children:"Delete"})]})]})]})}function Kf(A){const e=(A.contacts||[]).map(t=>({id:t.id||`${A.id}-${t.phone}`,label:t.label,phone:t.phone}));return e.length>0?e:(A.otherPhones||[]).filter(Boolean).map((t,i)=>({id:`${A.id}-extra-${i}`,phone:t}))}function vI({runId:A}){const[e,t]=F.useState({});return F.useEffect(()=>{(async()=>{const o=await pe.fishRuns.get(A),u=await pe.fishStops.where("runId").equals(A).sortBy("seq"),d=await pe.audioNotes.where("jobId").equals(A).toArray();t({run:o,stops:u,audio:d})})()},[A]),c.jsxs("div",{className:"grid",id:"printable-map",children:[c.jsx("div",{className:"row",children:c.jsx("button",{className:"btn",onClick:()=>window.print(),children:"Print / Save as PDF"})}),c.jsxs("section",{className:"card",children:[c.jsx("h3",{children:"Fish Run"}),c.jsx("div",{children:c.jsx("strong",{children:e.run?.title||"(untitled)"})}),c.jsxs("div",{className:"muted",children:["Planned: ",e.run?.plannedAt||"-"]}),e.run?.notes&&c.jsx("div",{style:{marginTop:8},children:e.run.notes})]}),c.jsxs("section",{className:"card",children:[c.jsx("h3",{children:"Stops"}),e.stops?.length?c.jsxs("table",{className:"table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"#"}),c.jsx("th",{children:"Client"}),c.jsx("th",{children:"Site"}),c.jsx("th",{children:"Species"}),c.jsx("th",{children:"Count"}),c.jsx("th",{children:"Weight (lb)"}),c.jsx("th",{children:"Tank Temp"}),c.jsx("th",{children:"Pond Temp"})]})}),c.jsx("tbody",{children:e.stops.map(i=>c.jsxs("tr",{children:[c.jsx("td",{children:i.seq}),c.jsx("td",{children:i.client||"-"}),c.jsx("td",{children:i.site||"-"}),c.jsx("td",{children:i.species||"-"}),c.jsx("td",{children:i.count??"-"}),c.jsx("td",{children:i.weightLb??"-"}),c.jsx("td",{children:i.tankTempF??"-"}),c.jsx("td",{children:i.pondTempF??"-"})]},i.id))})]}):c.jsx("div",{className:"muted",children:"No stops"})]}),c.jsxs("section",{className:"card",children:[c.jsx("h3",{children:"Voice Memos"}),e.audio?.length?c.jsx("ul",{className:"list",children:e.audio.map(i=>c.jsxs("li",{children:[c.jsxs("small",{className:"muted",children:[new Date(i.createdAt).toLocaleString()," ",i.stopId?`(Stop #${e.stops?.find(o=>o.id===i.stopId)?.seq||"?"})`:""]}),c.jsx("div",{children:c.jsx(wI,{note:i})})]},i.id))}):c.jsx("div",{className:"muted",children:"No memos"})]})]})}function wI({note:A}){const e=F.useMemo(()=>Gc(A),[A]),t=F.useMemo(()=>e?URL.createObjectURL(e):void 0,[e]);if(F.useEffect(()=>()=>{t&&URL.revokeObjectURL(t)},[t]),!e||!t)return c.jsx("span",{className:"muted",children:"Audio unavailable"});const i=e.type||A?.mimeType||"audio/webm";return c.jsx("audio",{controls:!0,children:c.jsx("source",{src:t,type:i})})}function Hv(A){const e=(A.contacts||[]).map(t=>({id:t.id||`${A.id}-${t.phone}`,label:t.label,phone:t.phone}));return e.length>0?e:(A.otherPhones||[]).filter(Boolean).map((t,i)=>({id:`${A.id}-alt-${i}`,phone:t}))}function BI(){const A=F.useRef(null),e=F.useRef(null),[t,i]=F.useState([]),[o,u]=F.useState(!0),[d,g]=F.useState("aerial"),[m,y]=F.useState([]),[C,b]=F.useState([]),[S,O]=F.useState(""),[P,N]=F.useState(null);F.useEffect(()=>{(async()=>(i(await pe.jobs.toArray()),y(await pe.ponds?.toArray?.()??[])))()},[]),F.useEffect(()=>{const D=qv(()=>pe.addressBank.orderBy("clientName").toArray()).subscribe({next:R=>b(R),error:()=>{}});return()=>D.unsubscribe()},[]);const W=F.useMemo(()=>{const D=S.trim().toLowerCase();return D?C.filter(R=>{const J=Hv(R);return[R.clientName,R.address,R.contactName,R.primaryPhone,R.notes,...J.flatMap($=>[$.phone,$.label])].some($=>($||"").toLowerCase().includes(D))}):C},[C,S]);return F.useEffect(()=>{P&&!W.some(D=>D.id===P)&&N(null)},[W,P]),F.useEffect(()=>{if(!A.current||e.current)return;const D=t.find(q=>typeof q.lat=="number"&&typeof q.lon=="number"),R=D?[D.lat,D.lon]:[30.2672,-97.7431],J=ut.map(A.current).setView(R,7),M=ut.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"Ac OpenStreetMap contributors",maxZoom:19}),$=ut.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",{attribution:"Imagery Ac Esri, Maxar, Earthstar Geographics",maxZoom:19,opacity:0});$.on("load",()=>$.setOpacity(1)),d==="aerial"?(M.addTo(J),M.bringToBack?.(),$.addTo(J)):M.addTo(J),setTimeout(()=>J.invalidateSize(),150),e.current=J},[t]),F.useEffect(()=>{const D=e.current;if(!D)return;let R=null,J=null;if(Object.values(D._layers||{}).forEach(M=>{M&&M._url&&String(M._url).includes("ArcGIS/rest/services/World_Imagery")&&(R=M),M&&M.getAttribution&&String(M.getAttribution()).includes("OpenStreetMap")&&(J=M)}),J||(J=ut.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"Ac OpenStreetMap contributors",maxZoom:19}).addTo(D)),d==="aerial"){try{J&&J.bringToBack?.()}catch{}if(R)R.setOpacity?.(0),R.addTo?.(D),R.once?.("load",()=>R.setOpacity?.(1));else{const M=ut.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",{attribution:"Imagery Ac Esri, Maxar, Earthstar Geographics",maxZoom:19,opacity:0}).addTo(D);M.once("load",()=>M.setOpacity(1))}}else{if(R)try{D.removeLayer(R)}catch{}J.addTo(D)}},[d]),F.useEffect(()=>{const D=e.current;if(!D)return;const R=[];D.eachLayer($=>{($ instanceof ut.Marker||$ instanceof ut.CircleMarker||$ instanceof ut.Polygon)&&D.removeLayer($)});const J=t.filter($=>typeof $.lat=="number"&&typeof $.lon=="number");if(o&&J.length>30){const $=D.getZoom(),q=Math.max(1,12-$),xe=new Map;for(const X of J){const Ae=`${X.lat.toFixed(q)}_${X.lon.toFixed(q)}`,ve=xe.get(Ae)||{lat:0,lon:0,count:0,sample:X};ve.lat+=X.lat,ve.lon+=X.lon,ve.count+=1,ve.sample=X,xe.set(Ae,ve)}for(const[,X]of xe){const Ae=X.lat/X.count,ve=X.lon/X.count;ut.marker([Ae,ve]).addTo(D).bindPopup(X.count>1?`${X.count} sites near here`:`<strong>${Ta(X.sample.clientName||"")}</strong>${X.sample.siteName?" - "+Ta(X.sample.siteName):""}`),R.push([Ae,ve])}}else for(const $ of J){const q=[$.lat,$.lon];ut.marker(q).addTo(D).bindPopup(`<strong>${Ta($.clientName||"")}</strong>${$.siteName?" - "+Ta($.siteName):""}`),R.push(q)}for(const $ of m){const q=$.polygon||[];q.length>=3&&(ut.polygon(q,{color:$.color||"#16a34a",fillOpacity:.12,weight:2}).addTo(D),q.forEach(([X,Ae])=>R.push([X,Ae])))}const M=C.filter($=>typeof $.lat=="number"&&typeof $.lon=="number");for(const $ of M){const q=[$.lat,$.lon],xe=ut.circleMarker(q,{radius:7,color:"#7c3aed",weight:2,fillColor:"#ede9fe",fillOpacity:.9}).addTo(D);xe.bindPopup(`<strong>${Ta($.clientName||"")}</strong>${$.address?"<br/>"+Ta($.address):""}`),xe.on("click",()=>N($.id)),R.push(q)}if(R.length>1){const $=ut.latLngBounds(R);D.fitBounds($,{padding:[24,24]})}else R.length===1&&D.setView(R[0],13)},[t,m,o,C]),c.jsxs("div",{className:"grid",children:[c.jsxs("section",{className:"card",children:[c.jsxs("div",{className:"row",style:{justifyContent:"space-between",alignItems:"center"},children:[c.jsx("h2",{children:"All Sites"}),c.jsxs("div",{className:"row",style:{gap:12},children:[c.jsxs("label",{className:"row",style:{gap:8},children:[c.jsx("input",{type:"checkbox",checked:o,onChange:D=>u(D.target.checked)})," Cluster markers"]}),c.jsxs("label",{className:"row",style:{gap:8},children:[c.jsx("span",{className:"muted",children:"Map"}),c.jsxs("select",{className:"select",value:d,onChange:D=>g(D.target.value),children:[c.jsx("option",{value:"aerial",children:"Aerial"}),c.jsx("option",{value:"street",children:"Street"})]})]})]})]}),c.jsx("div",{ref:A,style:{height:540,width:"100%",borderRadius:8,border:"1px solid var(--border)"}})]}),c.jsxs("section",{className:"card",children:[c.jsxs("div",{className:"row",style:{justifyContent:"space-between",alignItems:"center",gap:12},children:[c.jsx("h3",{children:"Client Bank"}),c.jsx("input",{className:"input",style:{maxWidth:280},placeholder:"Search clients, addresses, or contacts",value:S,onChange:D=>O(D.target.value),disabled:C.length===0})]}),C.length===0?c.jsx("div",{className:"muted",children:"No saved clients yet. Developers can add them from the Client Bank on the Developer page."}):W.length===0?c.jsxs("div",{className:"muted",children:['No matches for "',S,'".']}):c.jsx("div",{className:"accordion",children:W.map(D=>{const R=P===D.id,J=Hv(D),M=typeof D.lat=="number"&&typeof D.lon=="number";return c.jsxs("section",{className:"accordion-item accent-green",children:[c.jsxs("button",{className:"accordion-button","aria-expanded":R,onClick:()=>N(R?null:D.id),children:[c.jsx("span",{children:D.clientName||D.address}),c.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,children:c.jsx("path",{d:"M6 9l6 6 6-6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),R&&c.jsxs("div",{className:"accordion-panel",children:[c.jsxs("div",{style:{display:"grid",gap:8},children:[D.address&&c.jsxs("div",{children:[c.jsx("strong",{children:"Address:"})," ",D.address]}),D.contactName&&c.jsxs("div",{children:[c.jsx("strong",{children:"Primary Contact:"})," ",D.contactName]}),D.primaryPhone&&c.jsxs("div",{children:[c.jsx("strong",{children:"Primary Phone:"})," ",c.jsx("a",{href:`tel:${D.primaryPhone}`,children:D.primaryPhone})]}),J.length>0&&c.jsxs("div",{children:[c.jsx("strong",{children:"Team Contacts:"}),c.jsx("ul",{style:{margin:"4px 0 0 18px",padding:0,listStyle:"disc"},children:J.map($=>c.jsxs("li",{children:[$.label?`${$.label}: `:"",c.jsx("a",{href:`tel:${$.phone}`,children:$.phone})]},$.id))})]}),M&&c.jsxs("div",{children:[c.jsx("strong",{children:"Coordinates:"})," ",D.lat.toFixed(5),", ",D.lon.toFixed(5)]}),D.notes&&c.jsxs("div",{children:[c.jsx("strong",{children:"Notes:"})," ",D.notes]})]}),c.jsx("div",{className:"row",style:{marginTop:10,gap:8},children:c.jsx("button",{className:"btn secondary",disabled:!M,onClick:()=>{e.current&&M&&(e.current.setView([D.lat,D.lon],15),N(D.id))},children:"Show on Map"})})]})]},D.id)})})]}),c.jsxs("section",{className:"card",children:[c.jsx("h3",{children:"Sites Table"}),t.length===0?c.jsx("div",{className:"muted",children:"No jobs yet"}):c.jsxs("table",{className:"table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Client"}),c.jsx("th",{children:"Site"}),c.jsx("th",{children:"Address"}),c.jsx("th",{children:"City"}),c.jsx("th",{children:"County"}),c.jsx("th",{children:"Zip"}),c.jsx("th",{children:"Location"}),c.jsx("th",{children:"Actions"})]})}),c.jsx("tbody",{children:t.map(D=>c.jsxs("tr",{children:[c.jsx("td",{children:D.clientName}),c.jsx("td",{children:D.siteName||"-"}),c.jsx("td",{children:D.address||"-"}),c.jsx("td",{children:D.city||"-"}),c.jsx("td",{children:D.county||"-"}),c.jsx("td",{children:D.zip||"-"}),c.jsx("td",{children:typeof D.lat=="number"&&typeof D.lon=="number"?`${D.lat.toFixed(5)}, ${D.lon.toFixed(5)}`:"-"}),c.jsx("td",{children:c.jsx("button",{className:"btn secondary",onClick:()=>{e.current&&typeof D.lat=="number"&&typeof D.lon=="number"&&e.current.setView([D.lat,D.lon],15)},children:"Zoom"})})]},D.id))})]})]})]})}function Ta(A){return A.replace(/[&<>"']/g,e=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"})[e]||e)}function yI(){const[A,e]=F.useState(null),[t,i]=F.useState({}),[o,u]=F.useState(""),[d,g]=F.useState(["Largemouth Bass","Bluegill","Redear","Crappie","Catfish","Shad"]),[m,y]=F.useState(""),[C,b]=F.useState([]);F.useEffect(()=>{(async()=>A&&await S())()},[A]);async function S(){if(!A)return;const D=await c_(A.id),R={};for(const J of D)R[J.species]=J.count;i(R)}F.useEffect(()=>{(async()=>b(await pe.fishSessions.orderBy("startedAt").reverse().toArray()))()},[A]);async function O(){if(!o){alert("Enter Job ID");return}const D=await a_(o);e(D),i({}),await hn(o,"fishery_start","Started fishery session",_n()),b(await pe.fishSessions.orderBy("startedAt").reverse().toArray())}async function P(){A&&(await l_(A.id),A.jobId&&await hn(A.jobId,"fishery_end","Ended fishery session",_n()),e(null),b(await pe.fishSessions.orderBy("startedAt").reverse().toArray()))}async function N(D,R){A&&(await u_(A.id,D,R),A.jobId&&await hn(A.jobId,"fishery_count",`Adjusted ${D} by ${R}`,_n()),await S())}function W(){const D=m.trim();D&&(d.includes(D)||g(R=>[...R,D]),y(""))}return c.jsxs("div",{className:"grid",children:[c.jsxs("section",{className:"card",children:[c.jsx("h2",{children:"Fishery Study"}),c.jsxs("div",{className:"row",children:[c.jsx("input",{className:"input",placeholder:"Job ID",value:o,onChange:D=>u(D.target.value)}),A?c.jsx("button",{className:"btn warn",onClick:P,children:"End Session"}):c.jsx("button",{className:"btn",onClick:O,children:"Start Session"})]}),c.jsxs("div",{className:"row",style:{marginTop:8},children:[c.jsx("input",{className:"input",placeholder:"Add species",value:m,onChange:D=>y(D.target.value)}),c.jsx("button",{className:"btn secondary",onClick:W,children:"Add"})]})]}),A&&c.jsxs("section",{className:"card",children:[c.jsx("h3",{children:"Tap to Count"}),c.jsx("div",{className:"row",style:{gap:12,flexWrap:"wrap"},children:d.map(D=>c.jsxs("div",{className:"card",style:{padding:12},children:[c.jsx("div",{style:{fontWeight:800},children:D}),c.jsx("div",{style:{fontSize:24,margin:"6px 0"},children:t[D]||0}),c.jsxs("div",{className:"row",children:[c.jsx("button",{className:"btn",onClick:()=>N(D,1),children:"+1"}),c.jsx("button",{className:"btn secondary",onClick:()=>N(D,-1),children:"-1"})]})]},D))})]}),c.jsxs("section",{className:"card",children:[c.jsx("h3",{children:"Previous Sessions"}),C.length===0?c.jsx("div",{className:"muted",children:"No sessions"}):c.jsx("ul",{className:"list",children:C.map(D=>c.jsxs("li",{children:[c.jsx("button",{className:"btn secondary",onClick:async()=>{e(D),await S()},children:"Open"}),c.jsxs("span",{style:{marginLeft:8},children:["Job ",D.jobId||"(none)","  ",new Date(D.startedAt).toLocaleString()," ",D.endedAt?"to "+new Date(D.endedAt).toLocaleString():""]})]},D.id))})]})]})}function _I(){const[A,e]=F.useState([]),[t,i]=F.useState("100"),[o,u]=F.useState("1.0"),[d,g]=F.useState("37.3"),m=CI(Number(t),Number(o),Number(d));return c.jsxs("div",{className:"grid",children:[c.jsxs("section",{className:"card",children:[c.jsx("h2",{children:"Chemical References"}),c.jsx(xI,{onAdd:async y=>{await rw(y),e(await tf())}}),c.jsxs("table",{className:"table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Name"}),c.jsx("th",{children:"EPA Reg#"}),c.jsx("th",{children:"Label"})]})}),c.jsx("tbody",{children:A.map(y=>c.jsxs("tr",{children:[c.jsx("td",{children:y.name}),c.jsx("td",{children:y.epaReg||"-"}),c.jsx("td",{children:y.labelUrl?c.jsx("a",{href:y.labelUrl,target:"_blank",children:"Label"}):"-"})]},y.id))})]})]}),c.jsxs("section",{className:"card",children:[c.jsx("h3",{children:"Percentage Calculator"}),c.jsxs("div",{className:"row",children:[c.jsxs("label",{className:"label",children:["Tank Volume (gal)",c.jsx("input",{className:"input",value:t,onChange:y=>i(y.target.value)})]}),c.jsxs("label",{className:"label",children:["Target % in tank",c.jsx("input",{className:"input",value:o,onChange:y=>u(y.target.value)})]}),c.jsxs("label",{className:"label",children:["Product % active",c.jsx("input",{className:"input",value:d,onChange:y=>g(y.target.value)})]})]}),c.jsxs("div",{style:{marginTop:8},children:["Product needed: ",c.jsxs("strong",{children:[Number.isFinite(m)?m.toFixed(2):"-"," gal"]})]})]})]})}function CI(A,e,t){if(!A||!e||!t)return NaN;const i=e/100,o=t/100;return A*i/o}function xI({onAdd:A}){const[e,t]=F.useState(""),[i,o]=F.useState(""),[u,d]=F.useState("");return F.useEffect(()=>{(async()=>{if((await tf()).length===0){const y=[{id:"argos",name:"Argos (Copper Algaecide)"},{id:"tribune",name:"Tribune"},{id:"aquathol_k",name:"Aquathol K"},{id:"aquathol_super_k",name:"Aquathol Super K"},{id:"cutrine_gran",name:"Cutrine Granular"},{id:"roundup_custom",name:"Roundup Custom"}];for(const C of y)await rw(C)}const m=await tf();t(m[0]?.name?"":e)})()},[]),F.useEffect(()=>{(async()=>t(e))()},[]),c.jsxs("div",{className:"row",style:{marginBottom:8},children:[c.jsx("input",{className:"input",placeholder:"Name",value:e,onChange:g=>t(g.target.value)}),c.jsx("input",{className:"input",placeholder:"EPA Reg#",value:i,onChange:g=>o(g.target.value)}),c.jsx("input",{className:"input",placeholder:"Label URL (or upload below)",value:u,onChange:g=>d(g.target.value)}),c.jsxs("label",{className:"btn secondary",style:{display:"inline-flex",alignItems:"center"},children:["Upload Label Image",c.jsx("input",{type:"file",accept:"image/*",style:{display:"none"},onChange:async g=>{const m=g.target.files?.[0];if(!m)return;const y=new FileReader;y.onload=()=>{d(String(y.result))},y.readAsDataURL(m)}})]}),c.jsx("button",{className:"btn",onClick:async()=>{e.trim()&&(await A({id:e.toLowerCase().replace(/\s+/g,"_"),name:e,epaReg:i||void 0,labelUrl:u||void 0}),t(""),o(""),d(""))},children:"Add"})]})}function bI(){const[A,e]=F.useState(""),[t,i]=F.useState(()=>new Date().toISOString().slice(0,10)),[o,u]=F.useState([]);async function d(){A&&u(await vc(A))}F.useEffect(()=>{d()},[A]);async function g(){if(A)try{await nw(A,t),await d()}catch(y){alert(y?.message||"Could not clock in.")}}async function m(){if(A)try{await Aw(A),await d()}catch(y){alert(y?.message||"No active clock-in to close.")}}return c.jsxs("div",{className:"grid",children:[c.jsxs("section",{className:"card",children:[c.jsx("h2",{children:"Site Time Tracking"}),c.jsxs("div",{className:"row",children:[c.jsx("input",{className:"input",placeholder:"Job ID",value:A,onChange:y=>e(y.target.value)}),c.jsx("input",{className:"input",type:"date",value:t,onChange:y=>i(y.target.value)}),c.jsx("button",{className:"btn",onClick:g,children:"Clock In"}),c.jsx("button",{className:"btn secondary",onClick:m,children:"Clock Out"})]})]}),c.jsxs("section",{className:"card",children:[c.jsx("h3",{children:"Entries"}),o.length===0?c.jsx("div",{className:"muted",children:"No entries"}):c.jsxs("table",{className:"table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"#"}),c.jsx("th",{children:"Date"}),c.jsx("th",{children:"Clock In"}),c.jsx("th",{children:"Clock Out"}),c.jsx("th",{children:"Duration"})]})}),c.jsxs("tbody",{children:[(()=>{const y=[...o].sort((C,b)=>new Date(b.arrivalAt).getTime()-new Date(C.arrivalAt).getTime());return y.map((C,b)=>{const S=C.departureAt?new Date(C.departureAt).getTime()-new Date(C.arrivalAt).getTime():0,O=S>0?Math.floor(S/36e5):0;let P=S>0?Math.round(S%36e5/6e4):0,N=O;P===60&&(N+=1,P=0);const W=S>0?`${N}h ${String(P).padStart(2,"0")}m`:"In progress",D=y.length-b;return c.jsxs("tr",{children:[c.jsx("td",{children:D}),c.jsx("td",{children:C.date}),c.jsx("td",{children:new Date(C.arrivalAt).toLocaleString()}),c.jsx("td",{children:C.departureAt?new Date(C.departureAt).toLocaleString():"-"}),c.jsx("td",{children:W})]},C.id)})})(),c.jsxs("tr",{children:[c.jsx("td",{colSpan:4,style:{textAlign:"right",fontWeight:600},children:"Total"}),c.jsx("td",{children:QI(o)})]})]})]})]})]})}function QI(A){const e=A.reduce((o,u)=>{if(!u.departureAt)return o;const d=new Date(u.departureAt).getTime()-new Date(u.arrivalAt).getTime();return d>0?o+d:o},0);if(e<=0)return"0h 00m";let t=Math.floor(e/36e5),i=Math.round(e%36e5/6e4);return i===60&&(t+=1,i=0),`${t}h ${String(i).padStart(2,"0")}m`}function UI(){const[A,e]=F.useState([]),[t,i]=F.useState(""),[o,u]=F.useState("");F.useEffect(()=>{(async()=>{const g=await pe.waterQuality.toArray();e(g)})()},[]);const d=F.useMemo(()=>A.filter(g=>(t?g.kind===t:!0)&&(o?g.jobId.includes(o):!0)),[A,t,o]);return c.jsxs("div",{className:"grid",children:[c.jsxs("section",{className:"card",children:[c.jsx("h2",{children:"Water Quality"}),c.jsxs("div",{className:"row",children:[c.jsxs("select",{className:"select",value:t,onChange:g=>i(g.target.value),children:[c.jsx("option",{value:"",children:"All kinds"}),c.jsx("option",{value:"secchi",children:"Secchi"}),c.jsx("option",{value:"ph",children:"pH"}),c.jsx("option",{value:"do",children:"Dissolved O2"}),c.jsx("option",{value:"temp",children:"Temperature"}),c.jsx("option",{value:"alkalinity",children:"Alkalinity"}),c.jsx("option",{value:"hardness",children:"Hardness"})]}),c.jsx("input",{className:"input",placeholder:"Filter by Job ID",value:o,onChange:g=>u(g.target.value)})]})]}),c.jsx("section",{className:"card",children:d.length===0?c.jsx("div",{className:"muted",children:"No data"}):c.jsxs("table",{className:"table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Job"}),c.jsx("th",{children:"Kind"}),c.jsx("th",{children:"Value"}),c.jsx("th",{children:"Unit"}),c.jsx("th",{children:"Depth (ft)"}),c.jsx("th",{children:"Date"})]})}),c.jsx("tbody",{children:d.sort((g,m)=>m.createdAt.localeCompare(g.createdAt)).map(g=>c.jsxs("tr",{children:[c.jsx("td",{children:g.jobId}),c.jsx("td",{children:g.kind}),c.jsx("td",{children:g.value}),c.jsx("td",{children:g.unit}),c.jsx("td",{children:g.depthFt||"-"}),c.jsx("td",{children:new Date(g.createdAt).toLocaleString()})]},g.id))})]})})]})}function EI(){const[A,e]=F.useState(null),[t,i]=F.useState("none"),[o,u]=F.useState([]),[d,g]=F.useState("100"),[m,y]=F.useState([]),C=F.useRef(null),b=F.useRef(null),[S,O]=F.useState([]);F.useEffect(()=>{R()}),F.useEffect(()=>{(async()=>O(await mh()))()},[]);function P(J){const M=J.target.files?.[0];if(!M)return;const $=URL.createObjectURL(M);e($),u([]),y([]),i("none")}function N(J){if(!C.current)return;const M=C.current.getBoundingClientRect(),$=C.current.width/M.width,q=C.current.height/M.height,xe={x:(J.clientX-M.left)*$,y:(J.clientY-M.top)*q};t==="scale"?u(X=>X.length>=2?[xe]:[...X,xe]):t==="poly"&&y(X=>[...X,xe])}const W=FI(o,Number(d)),D=SI(m,W);function R(){const J=C.current,M=b.current;if(!J||!M)return;const $=J.getContext("2d");if($&&(J.width=M.naturalWidth,J.height=M.naturalHeight,$.clearRect(0,0,J.width,J.height),$.drawImage(M,0,0),o.length>=1&&($.strokeStyle="#22c55e",$.lineWidth=2,$.beginPath(),$.moveTo(o[0].x,o[0].y),o[1]&&$.lineTo(o[1].x,o[1].y),$.stroke()),m.length>0)){$.strokeStyle="#0ea5e9",$.fillStyle="rgba(14,165,233,0.2)",$.lineWidth=2,$.beginPath(),$.moveTo(m[0].x,m[0].y);for(let q=1;q<m.length;q++)$.lineTo(m[q].x,m[q].y);$.closePath(),$.fill(),$.stroke()}}return c.jsxs("div",{className:"grid",children:[c.jsxs("section",{className:"card",children:[c.jsx("h2",{children:"Acreage Tools (Image)"}),c.jsxs("div",{className:"row",children:[c.jsx("input",{className:"input",type:"file",accept:"image/*",onChange:P}),c.jsx("button",{className:"btn",onClick:()=>i("scale"),children:"Set Scale"}),c.jsx("button",{className:"btn secondary",onClick:()=>i("poly"),children:"Draw Polygon"}),c.jsx("button",{className:"btn secondary",onClick:()=>{y([])},children:"Clear Polygon"}),c.jsx("button",{className:"btn",onClick:async()=>{if(!C.current)return;const J=prompt("Name this trace (optional)")||void 0;let M;try{M=await new Promise(q=>C.current.toBlob(xe=>q(xe||void 0)))}catch{}const $={id:crypto.randomUUID(),createdAt:new Date().toISOString(),name:J,image:M,imageType:M?.type,scaleFeet:Number(d)||void 0,scalePts:o.map(q=>[q.x,q.y]),polygon:m.map(q=>[q.x,q.y])};await J0($),O(await mh()),await hn("tools:acreage","acreage_save",`Saved acreage trace ${J||$.id}`,_n())},children:"Save Trace"}),c.jsx("button",{className:"btn secondary",onClick:async()=>{const J=await mh();if(J.length===0)return;const M=await lm(J[0].id);if(M){if(g(String(M.scaleFeet||"")),u((M.scalePts||[]).map(([$,q])=>({x:$,y:q}))),y((M.polygon||[]).map(([$,q])=>({x:$,y:q}))),M.image){const $=URL.createObjectURL(M.image);e($)}await hn("tools:acreage","acreage_load",`Loaded acreage trace ${M.name||M.id}`,_n())}},children:"Load Latest"})]}),c.jsxs("div",{className:"row",children:[c.jsxs("label",{className:"label",children:["Scale distance (ft)",c.jsx("input",{className:"input",value:d,onChange:J=>g(J.target.value)})]}),c.jsxs("div",{className:"label",children:["Feet per pixel",c.jsx("input",{className:"input",readOnly:!0,value:Number.isFinite(W)?W.toFixed(4):""})]}),c.jsxs("div",{className:"label",children:["Polygon acres",c.jsx("input",{className:"input",readOnly:!0,value:Number.isFinite(D)?D.toFixed(4):""})]})]})]}),A&&c.jsxs("section",{className:"card",children:[c.jsx("img",{ref:b,src:A,alt:"map",onLoad:()=>R(),style:{display:"none"}}),c.jsx("canvas",{ref:C,onClick:N,style:{width:"100%",maxWidth:900,border:"1px solid var(--border)",borderRadius:8}}),c.jsx("small",{className:"muted",children:"Click two points to set scale, enter real-world feet, then draw polygon to compute acres."})]}),c.jsxs("section",{className:"card",children:[c.jsx("h3",{children:"Saved Traces"}),S.length===0?c.jsx("div",{className:"muted",children:"No saved traces yet"}):c.jsx("ul",{className:"list",children:S.map(J=>c.jsxs("li",{children:[c.jsx("button",{className:"btn secondary",onClick:async()=>{const M=await lm(J.id);if(M){if(g(String(M.scaleFeet||"")),u((M.scalePts||[]).map(([$,q])=>({x:$,y:q}))),y((M.polygon||[]).map(([$,q])=>({x:$,y:q}))),M.image){const $=URL.createObjectURL(M.image);e($)}await hn("tools:acreage","acreage_load",`Loaded acreage trace ${M.name||M.id}`,_n())}},children:"Load"}),c.jsxs("span",{style:{marginLeft:8},children:[J.name||"(unnamed)","  saved ",new Date(J.createdAt).toLocaleString()]})]},J.id))})]})]})}function FI(A,e){if(A.length<2||!e)return NaN;const t=A[1].x-A[0].x,i=A[1].y-A[0].y,o=Math.hypot(t,i);return e/o}function SI(A,e){if(A.length<3||!Number.isFinite(e))return NaN;let t=0;for(let o=0;o<A.length;o++){const u=A[o],d=A[(o+1)%A.length];t+=u.x*d.y-d.x*u.y}return t=Math.abs(t)/2,t*e*e/43560}function II(){const[A,e]=F.useState(""),[t,i]=F.useState("");F.useEffect(()=>{(async()=>{const u=await h_("me");u?.name&&e(u.name),u?.insuranceLicense&&i(u.insuranceLicense)})()},[]);async function o(){await d_({id:"me",name:A,insuranceLicense:t}),alert("Profile saved")}return c.jsx("div",{className:"grid",children:c.jsxs("section",{className:"card",children:[c.jsx("h2",{children:"Profile"}),c.jsxs("div",{className:"row",children:[c.jsxs("label",{className:"label",children:["Name",c.jsx("input",{className:"input",value:A,onChange:u=>e(u.target.value)})]}),c.jsxs("label",{className:"label",children:["Insurance License Number",c.jsx("input",{className:"input",value:t,onChange:u=>i(u.target.value)})]})]}),c.jsx("div",{className:"row",style:{marginTop:8},children:c.jsx("button",{className:"btn",onClick:o,children:"Save"})})]})})}function LI(){const[A,e]=F.useState([]);return F.useEffect(()=>{(async()=>{const t=[];function i(o){t.push(o),e([...t])}try{if("serviceWorker"in navigator){const o=await navigator.serviceWorker.getRegistrations();o.length===0&&i("No service workers registered");for(const u of o)try{await u.unregister(),i("Unregistered a service worker")}catch{i("Failed to unregister a service worker")}}else i("Service workers not supported")}catch{i("Error while removing service workers")}try{if("caches"in window){const o=await caches.keys();for(const u of o)try{await caches.delete(u),i(`Deleted cache ${u}`)}catch{i(`Failed to delete cache ${u}`)}}}catch{i("Error while clearing caches")}try{setTimeout(()=>{location.replace("/")},500)}catch{}})()},[]),c.jsx("div",{className:"grid",children:c.jsxs("section",{className:"card",children:[c.jsx("h2",{children:"Resetting App Cache"}),c.jsx("p",{className:"muted",children:"Clearing service workers and caches this page will reload automatically."}),A.length>0&&c.jsx("ul",{className:"list",children:A.map((t,i)=>c.jsx("li",{children:t},i))}),c.jsx("div",{className:"row",style:{marginTop:8},children:c.jsx("button",{className:"btn",onClick:()=>location.replace("/"),children:"Reload now"})})]})})}function kI(){return c.jsx("div",{className:"grid",children:c.jsxs("section",{className:"card",children:[c.jsx("h2",{children:"Calculators"}),c.jsx(mB,{})]})})}function TI(){const{user:A,logout:e}=Ad();return F.useEffect(()=>{const t=i=>{if(i.key==="/"&&!i.ctrlKey&&!i.metaKey&&!i.altKey){const o=document.querySelector("header .search input");o&&(i.preventDefault(),o.focus())}};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[]),c.jsxs("div",{children:[c.jsxs("header",{className:"app-header",children:[c.jsx(Ai,{to:"/",className:"brand",children:"VPLM Portal"}),c.jsxs("nav",{className:"nav",children:[c.jsx(ga,{to:"/",end:!0,children:"Job Creation/Editing"}),c.jsx(ga,{to:"/map",children:"Map"}),c.jsx(ga,{to:"/offline",children:"Offline"}),c.jsx(ga,{to:"/settings",children:"Settings"}),c.jsx(ga,{to:"/help",children:"Help"}),A?.role==="developer"&&c.jsx(ga,{to:"/admin",children:"Developer"})]}),c.jsxs("div",{className:"header-actions",children:[c.jsx(cI,{}),c.jsx(oI,{}),A?c.jsx("button",{className:"btn secondary",onClick:e,children:"Sign Out"}):c.jsx(Ai,{className:"btn",to:"/login",children:"Sign In"})]})]}),c.jsx("main",{className:"container",children:c.jsxs(y0,{children:[c.jsx(Qn,{path:"/login",element:c.jsx(hI,{})}),c.jsx(Qn,{path:"/",element:c.jsx(cA,{children:c.jsx(R_,{})})}),c.jsx(Qn,{path:"/job/:jobId",element:c.jsx(cA,{children:c.jsx(GE,{})})}),c.jsx(Qn,{path:"/job/:jobId/summary",element:c.jsx(cA,{children:c.jsx(lI,{})})}),c.jsx(Qn,{path:"/fish-run/:runId/summary",element:c.jsx(cA,{children:c.jsx(HI,{})})}),c.jsx(Qn,{path:"/offline",element:c.jsx(cA,{children:c.jsx(JE,{})})}),c.jsx(Qn,{path:"/settings",element:c.jsx(cA,{children:c.jsx(uI,{})})}),c.jsx(Qn,{path:"/help",element:c.jsx(cA,{children:c.jsx(PI,{})})}),c.jsx(Qn,{path:"/map",element:c.jsx(cA,{children:c.jsx(BI,{})})}),c.jsx(Qn,{path:"/calculators",element:c.jsx(cA,{children:c.jsx(kI,{})})}),c.jsx(Qn,{path:"/fishery",element:c.jsx(cA,{children:c.jsx(yI,{})})}),c.jsx(Qn,{path:"/chem-ref",element:c.jsx(cA,{children:c.jsx(_I,{})})}),c.jsx(Qn,{path:"/time",element:c.jsx(cA,{children:c.jsx(bI,{})})}),c.jsx(Qn,{path:"/water-quality",element:c.jsx(cA,{children:c.jsx(UI,{})})}),c.jsx(Qn,{path:"/acreage",element:c.jsx(cA,{children:c.jsx(EI,{})})}),c.jsx(Qn,{path:"/profile",element:c.jsx(cA,{children:c.jsx(II,{})})}),c.jsx(Qn,{path:"/admin",element:c.jsx(cA,{devOnly:!0,children:c.jsx(fI,{})})}),c.jsx(Qn,{path:"/reset",element:c.jsx(LI,{})}),c.jsx(Qn,{path:"*",element:c.jsx(jI,{})})]})})]})}function cA({children:A,devOnly:e}){const{user:t}=Ad();return t?e&&t.role!=="developer"?c.jsx(tm,{to:"/",replace:!0}):A:c.jsx(tm,{to:"/login",replace:!0})}function PI(){const A=[{key:"help_jobs",title:"Job Creation & Editing",defaultText:`WHEN TO USE: Start a new project or visit.

STEPS:
1) Enter Client, Site, Address (City/County/Zip optional).
2) On site, capture device location (optional).
3) Use Job page accordions: Time, Mapping, Notes, Photos, Measurements, Water, Safety, Chemicals, Summary.

EXAMPLE:
Client: Smith Ranch
Site: North Pond
Address: 123 FM 100
City: Llano, County: Llano, Zip: 78643.`},{key:"help_mapping",title:"Mapping Tools",defaultText:`WHEN TO USE: Outline pond boundaries, record depths, mark misc features.

STEPS:
1) Draw polygons to outline ponds.
2) Add depth points (ft) inside polygons.
3) Add misc points (spillways, inlets).
4) Use Capture Map Snapshot to save a screenshot into Photos.

EXAMPLE:
Outline main pond; record depth transects; mark spillway and inflow.`},{key:"help_photos",title:"Photos & Camera",defaultText:`WHEN TO USE: Document site conditions and treatments.

STEPS:
1) Use Camera to take photos; location is captured if permitted.
2) Click any photo to open fullscreen; use arrows to navigate; Delete asks to confirm.
3) Map snapshots appear here automatically.

EXAMPLE:
Before/after shots of algae and water clarity.`},{key:"help_voice",title:"Notes & Voice",defaultText:`WHEN TO USE: Handsfree notes while working or driving.

STEPS:
1) Dictate to append finalized text (no interim duplicates).
2) Record Voice Memo; playback in list; Transcribe with Whisper (OpenAI key in Developer).
3) Delete options ask to confirm to avoid mistakes.

EXAMPLE:
Dictate patrol observations; record short memos between sites and transcribe later.`},{key:"help_water",title:"Water Quality",defaultText:`WHEN TO USE: Log water metrics.

STEPS:
Add entries for secchi depth, pH, DO, temperature, alkalinity, hardness. Include units and depths as needed.

EXAMPLE:
DO 6.8 mg/L @ surface; Temp 82F; Secchi 28 in.`},{key:"help_export",title:"Export & PDF",defaultText:`WHEN TO USE: Share summaries or reports.

STEPS:
1) Offline  Export PDFs (per job or fish run)  Open PDF view.
2) Use browser Print  Save as PDF for a clean report.

EXAMPLE:
Export Smith Ranch  North Pond summary; export fish run itinerary.`}];return c.jsx("div",{className:"grid",children:c.jsxs("section",{className:"card",children:[c.jsx("h2",{children:"Help & Examples"}),c.jsx("div",{className:"accordion",children:A.map(e=>c.jsx(NI,{storageKey:e.key,title:e.title,defaultText:e.defaultText},e.key))})]})})}function NI({storageKey:A,title:e,defaultText:t}){const[i,o]=F.useState(!1),[u,d]=F.useState("");F.useEffect(()=>{d(localStorage.getItem(A)||t)},[A,t]);function g(){localStorage.setItem(A,u),alert("Saved")}return c.jsxs("section",{className:"accordion-item accent-blue",children:[c.jsxs("button",{className:"accordion-button","aria-expanded":i,onClick:()=>o(!i),children:[c.jsx("span",{children:e}),c.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,children:c.jsx("path",{d:"M6 9l6 6 6-6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),i&&c.jsxs("div",{className:"accordion-panel",children:[c.jsx("textarea",{className:"textarea",style:{width:"100%",minHeight:160},value:u,onChange:m=>d(m.target.value)}),c.jsx("div",{className:"row",style:{marginTop:8},children:c.jsx("button",{className:"btn",onClick:g,children:"Save"})})]})]})}function jI(){return c.jsx("div",{className:"grid",children:c.jsxs("section",{className:"card",children:[c.jsx("h2",{children:"Page not found"}),c.jsx("p",{className:"muted",children:"The page youre looking for doesnt exist."}),c.jsx(Ai,{className:"btn",to:"/",children:"Back to Dashboard"})]})})}function HI(){const{runId:A=""}=$f();return c.jsx(vI,{runId:A})}function OI(){"serviceWorker"in navigator&&window.addEventListener("load",async()=>{try{const A=await navigator.serviceWorker.register("/sw.js");if(navigator.serviceWorker.addEventListener("message",t=>{t.data&&t.data.type==="tpm-sync"&&Mf().catch(()=>{})}),"sync"in A)try{await A.sync.register("tpm-sync")}catch{}const e=A.periodicSync;if(e&&"requestPermission"in navigator)try{const t=await navigator.permissions.query({name:"periodic-background-sync"});if(t.state==="granted"||t.state==="prompt")try{await e.register("tpm-periodic",{minInterval:900*1e3})}catch{}}catch{}window.addEventListener("online",()=>{Mf().catch(()=>{})})}catch(A){console.warn("SW registration failed",A)}})}class DI extends Gf.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("ErrorBoundary caught",e,t)}render(){return this.state.hasError?c.jsx("div",{className:"container",style:{padding:24},children:c.jsxs("div",{className:"card",children:[c.jsx("h2",{children:"Something went wrong"}),c.jsx("pre",{className:"muted",style:{whiteSpace:"pre-wrap"},children:String(this.state.error)}),c.jsx("button",{className:"btn",onClick:()=>location.reload(),children:"Reload"})]})}):this.props.children}}const RI=F.createContext(null);function MI({children:A}){const[e,t]=F.useState([]),i=F.useMemo(()=>({toasts:e,push(o){const u=crypto.randomUUID(),d={id:u,timeoutMs:4e3,...o};t(g=>[...g,d]),d.timeoutMs&&setTimeout(()=>t(g=>g.filter(m=>m.id!==u)),d.timeoutMs)},dismiss(o){t(u=>u.filter(d=>d.id!==o))}}),[e]);return c.jsxs(RI.Provider,{value:i,children:[A,c.jsx("div",{style:{position:"fixed",right:16,bottom:16,display:"grid",gap:8,zIndex:9999},children:e.map(o=>c.jsxs("div",{className:"card",style:{minWidth:260,boxShadow:"var(--shadow)",borderLeft:`4px solid ${KI(o.tone)}`},children:[o.title&&c.jsx("div",{style:{fontWeight:800,marginBottom:4},children:o.title}),c.jsx("div",{children:o.message})]},o.id))})]})}function KI(A){switch(A){case"success":return"#16a34a";case"warn":return"#f59e0b";case"error":return"#ef4444";default:return"var(--brand)"}}(function(){try{const e=window.location.search;if(e.startsWith("?/")){const i=e.substring(2).split("&"),o=decodeURIComponent(i[0]||""),u=o?o.startsWith("/")?o:`/${o}`:"/",d=i.slice(1).map(y=>decodeURIComponent(y.replace(/~and~/g,"&"))).filter(Boolean),g=d.length?`?${d.join("&")}`:"",m=`${u}${g}${window.location.hash}`;window.history.replaceState(null,"",m)}}catch(e){console.warn("GitHub Pages redirect handling failed",e)}})();const VI=document.getElementById("root");Ly.createRoot(VI).render(c.jsx(Gf.StrictMode,{children:c.jsx(F0,{children:c.jsx(MI,{children:c.jsx(DI,{children:c.jsx(dI,{children:c.jsx(TI,{})})})})})}));OI();
