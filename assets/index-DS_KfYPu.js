function UB(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in n)){const u=Object.getOwnPropertyDescriptor(i,o);u&&Object.defineProperty(n,o,u.get?u:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();var EB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vl(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function FB(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function i(){var o=!1;try{o=this instanceof i}catch{}return o?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var o=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:function(){return n[i]}})}),t}var ch={exports:{}},pl={},dh={exports:{}},bt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zg;function SB(){if(zg)return bt;zg=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),B=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),b=Symbol.iterator;function F(D){return D===null||typeof D!="object"?null:(D=b&&D[b]||D["@@iterator"],typeof D=="function"?D:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,N={};function G(D,le,Ie){this.props=D,this.context=le,this.refs=N,this.updater=Ie||j}G.prototype.isReactComponent={},G.prototype.setState=function(D,le){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,le,"setState")},G.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function O(){}O.prototype=G.prototype;function R(D,le,Ie){this.props=D,this.context=le,this.refs=N,this.updater=Ie||j}var J=R.prototype=new O;J.constructor=R,P(J,G.prototype),J.isPureReactComponent=!0;var M=Array.isArray,$=Object.prototype.hasOwnProperty,q={current:null},xe={key:!0,ref:!0,__self:!0,__source:!0};function X(D,le,Ie){var Fe,Ne={},Oe=null,At=null;if(le!=null)for(Fe in le.ref!==void 0&&(At=le.ref),le.key!==void 0&&(Oe=""+le.key),le)$.call(le,Fe)&&!xe.hasOwnProperty(Fe)&&(Ne[Fe]=le[Fe]);var mt=arguments.length-2;if(mt===1)Ne.children=Ie;else if(1<mt){for(var De=Array(mt),Ot=0;Ot<mt;Ot++)De[Ot]=arguments[Ot+2];Ne.children=De}if(D&&D.defaultProps)for(Fe in mt=D.defaultProps,mt)Ne[Fe]===void 0&&(Ne[Fe]=mt[Fe]);return{$$typeof:n,type:D,key:Oe,ref:At,props:Ne,_owner:q.current}}function Ae(D,le){return{$$typeof:n,type:D.type,key:le,ref:D.ref,props:D.props,_owner:D._owner}}function ve(D){return typeof D=="object"&&D!==null&&D.$$typeof===n}function Ee(D){var le={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(Ie){return le[Ie]})}var qe=/\/+/g;function Ze(D,le){return typeof D=="object"&&D!==null&&D.key!=null?Ee(""+D.key):le.toString(36)}function be(D,le,Ie,Fe,Ne){var Oe=typeof D;(Oe==="undefined"||Oe==="boolean")&&(D=null);var At=!1;if(D===null)At=!0;else switch(Oe){case"string":case"number":At=!0;break;case"object":switch(D.$$typeof){case n:case e:At=!0}}if(At)return At=D,Ne=Ne(At),D=Fe===""?"."+Ze(At,0):Fe,M(Ne)?(Ie="",D!=null&&(Ie=D.replace(qe,"$&/")+"/"),be(Ne,le,Ie,"",function(Ot){return Ot})):Ne!=null&&(ve(Ne)&&(Ne=Ae(Ne,Ie+(!Ne.key||At&&At.key===Ne.key?"":(""+Ne.key).replace(qe,"$&/")+"/")+D)),le.push(Ne)),1;if(At=0,Fe=Fe===""?".":Fe+":",M(D))for(var mt=0;mt<D.length;mt++){Oe=D[mt];var De=Fe+Ze(Oe,mt);At+=be(Oe,le,Ie,De,Ne)}else if(De=F(D),typeof De=="function")for(D=De.call(D),mt=0;!(Oe=D.next()).done;)Oe=Oe.value,De=Fe+Ze(Oe,mt++),At+=be(Oe,le,Ie,De,Ne);else if(Oe==="object")throw le=String(D),Error("Objects are not valid as a React child (found: "+(le==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":le)+"). If you meant to render a collection of children, use an array instead.");return At}function et(D,le,Ie){if(D==null)return D;var Fe=[],Ne=0;return be(D,Fe,"","",function(Oe){return le.call(Ie,Oe,Ne++)}),Fe}function se(D){if(D._status===-1){var le=D._result;le=le(),le.then(function(Ie){(D._status===0||D._status===-1)&&(D._status=1,D._result=Ie)},function(Ie){(D._status===0||D._status===-1)&&(D._status=2,D._result=Ie)}),D._status===-1&&(D._status=0,D._result=le)}if(D._status===1)return D._result.default;throw D._result}var Qe={current:null},ge={transition:null},Pe={ReactCurrentDispatcher:Qe,ReactCurrentBatchConfig:ge,ReactCurrentOwner:q};function K(){throw Error("act(...) is not supported in production builds of React.")}return bt.Children={map:et,forEach:function(D,le,Ie){et(D,function(){le.apply(this,arguments)},Ie)},count:function(D){var le=0;return et(D,function(){le++}),le},toArray:function(D){return et(D,function(le){return le})||[]},only:function(D){if(!ve(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},bt.Component=G,bt.Fragment=t,bt.Profiler=o,bt.PureComponent=R,bt.StrictMode=i,bt.Suspense=m,bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pe,bt.act=K,bt.cloneElement=function(D,le,Ie){if(D==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+D+".");var Fe=P({},D.props),Ne=D.key,Oe=D.ref,At=D._owner;if(le!=null){if(le.ref!==void 0&&(Oe=le.ref,At=q.current),le.key!==void 0&&(Ne=""+le.key),D.type&&D.type.defaultProps)var mt=D.type.defaultProps;for(De in le)$.call(le,De)&&!xe.hasOwnProperty(De)&&(Fe[De]=le[De]===void 0&&mt!==void 0?mt[De]:le[De])}var De=arguments.length-2;if(De===1)Fe.children=Ie;else if(1<De){mt=Array(De);for(var Ot=0;Ot<De;Ot++)mt[Ot]=arguments[Ot+2];Fe.children=mt}return{$$typeof:n,type:D.type,key:Ne,ref:Oe,props:Fe,_owner:At}},bt.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},D.Provider={$$typeof:u,_context:D},D.Consumer=D},bt.createElement=X,bt.createFactory=function(D){var le=X.bind(null,D);return le.type=D,le},bt.createRef=function(){return{current:null}},bt.forwardRef=function(D){return{$$typeof:g,render:D}},bt.isValidElement=ve,bt.lazy=function(D){return{$$typeof:C,_payload:{_status:-1,_result:D},_init:se}},bt.memo=function(D,le){return{$$typeof:B,type:D,compare:le===void 0?null:le}},bt.startTransition=function(D){var le=ge.transition;ge.transition={};try{D()}finally{ge.transition=le}},bt.unstable_act=K,bt.useCallback=function(D,le){return Qe.current.useCallback(D,le)},bt.useContext=function(D){return Qe.current.useContext(D)},bt.useDebugValue=function(){},bt.useDeferredValue=function(D){return Qe.current.useDeferredValue(D)},bt.useEffect=function(D,le){return Qe.current.useEffect(D,le)},bt.useId=function(){return Qe.current.useId()},bt.useImperativeHandle=function(D,le,Ie){return Qe.current.useImperativeHandle(D,le,Ie)},bt.useInsertionEffect=function(D,le){return Qe.current.useInsertionEffect(D,le)},bt.useLayoutEffect=function(D,le){return Qe.current.useLayoutEffect(D,le)},bt.useMemo=function(D,le){return Qe.current.useMemo(D,le)},bt.useReducer=function(D,le,Ie){return Qe.current.useReducer(D,le,Ie)},bt.useRef=function(D){return Qe.current.useRef(D)},bt.useState=function(D){return Qe.current.useState(D)},bt.useSyncExternalStore=function(D,le,Ie){return Qe.current.useSyncExternalStore(D,le,Ie)},bt.useTransition=function(){return Qe.current.useTransition()},bt.version="18.3.1",bt}var Wg;function Wf(){return Wg||(Wg=1,dh.exports=SB()),dh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $g;function IB(){if($g)return pl;$g=1;var n=Wf(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function d(g,m,B){var C,b={},F=null,j=null;B!==void 0&&(F=""+B),m.key!==void 0&&(F=""+m.key),m.ref!==void 0&&(j=m.ref);for(C in m)i.call(m,C)&&!u.hasOwnProperty(C)&&(b[C]=m[C]);if(g&&g.defaultProps)for(C in m=g.defaultProps,m)b[C]===void 0&&(b[C]=m[C]);return{$$typeof:e,type:g,key:F,ref:j,props:b,_owner:o.current}}return pl.Fragment=t,pl.jsx=d,pl.jsxs=d,pl}var Zg;function LB(){return Zg||(Zg=1,ch.exports=IB()),ch.exports}var c=LB(),S=Wf();const $f=Vl(S),kB=UB({__proto__:null,default:$f},[S]);var Du={},hh={exports:{}},RA={},fh={exports:{}},ph={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jg;function TB(){return Jg||(Jg=1,(function(n){function e(ge,Pe){var K=ge.length;ge.push(Pe);e:for(;0<K;){var D=K-1>>>1,le=ge[D];if(0<o(le,Pe))ge[D]=Pe,ge[K]=le,K=D;else break e}}function t(ge){return ge.length===0?null:ge[0]}function i(ge){if(ge.length===0)return null;var Pe=ge[0],K=ge.pop();if(K!==Pe){ge[0]=K;e:for(var D=0,le=ge.length,Ie=le>>>1;D<Ie;){var Fe=2*(D+1)-1,Ne=ge[Fe],Oe=Fe+1,At=ge[Oe];if(0>o(Ne,K))Oe<le&&0>o(At,Ne)?(ge[D]=At,ge[Oe]=K,D=Oe):(ge[D]=Ne,ge[Fe]=K,D=Fe);else if(Oe<le&&0>o(At,K))ge[D]=At,ge[Oe]=K,D=Oe;else break e}}return Pe}function o(ge,Pe){var K=ge.sortIndex-Pe.sortIndex;return K!==0?K:ge.id-Pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var d=Date,g=d.now();n.unstable_now=function(){return d.now()-g}}var m=[],B=[],C=1,b=null,F=3,j=!1,P=!1,N=!1,G=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function J(ge){for(var Pe=t(B);Pe!==null;){if(Pe.callback===null)i(B);else if(Pe.startTime<=ge)i(B),Pe.sortIndex=Pe.expirationTime,e(m,Pe);else break;Pe=t(B)}}function M(ge){if(N=!1,J(ge),!P)if(t(m)!==null)P=!0,se($);else{var Pe=t(B);Pe!==null&&Qe(M,Pe.startTime-ge)}}function $(ge,Pe){P=!1,N&&(N=!1,O(X),X=-1),j=!0;var K=F;try{for(J(Pe),b=t(m);b!==null&&(!(b.expirationTime>Pe)||ge&&!Ee());){var D=b.callback;if(typeof D=="function"){b.callback=null,F=b.priorityLevel;var le=D(b.expirationTime<=Pe);Pe=n.unstable_now(),typeof le=="function"?b.callback=le:b===t(m)&&i(m),J(Pe)}else i(m);b=t(m)}if(b!==null)var Ie=!0;else{var Fe=t(B);Fe!==null&&Qe(M,Fe.startTime-Pe),Ie=!1}return Ie}finally{b=null,F=K,j=!1}}var q=!1,xe=null,X=-1,Ae=5,ve=-1;function Ee(){return!(n.unstable_now()-ve<Ae)}function qe(){if(xe!==null){var ge=n.unstable_now();ve=ge;var Pe=!0;try{Pe=xe(!0,ge)}finally{Pe?Ze():(q=!1,xe=null)}}else q=!1}var Ze;if(typeof R=="function")Ze=function(){R(qe)};else if(typeof MessageChannel<"u"){var be=new MessageChannel,et=be.port2;be.port1.onmessage=qe,Ze=function(){et.postMessage(null)}}else Ze=function(){G(qe,0)};function se(ge){xe=ge,q||(q=!0,Ze())}function Qe(ge,Pe){X=G(function(){ge(n.unstable_now())},Pe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ge){ge.callback=null},n.unstable_continueExecution=function(){P||j||(P=!0,se($))},n.unstable_forceFrameRate=function(ge){0>ge||125<ge?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ae=0<ge?Math.floor(1e3/ge):5},n.unstable_getCurrentPriorityLevel=function(){return F},n.unstable_getFirstCallbackNode=function(){return t(m)},n.unstable_next=function(ge){switch(F){case 1:case 2:case 3:var Pe=3;break;default:Pe=F}var K=F;F=Pe;try{return ge()}finally{F=K}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ge,Pe){switch(ge){case 1:case 2:case 3:case 4:case 5:break;default:ge=3}var K=F;F=ge;try{return Pe()}finally{F=K}},n.unstable_scheduleCallback=function(ge,Pe,K){var D=n.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?D+K:D):K=D,ge){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=K+le,ge={id:C++,callback:Pe,priorityLevel:ge,startTime:K,expirationTime:le,sortIndex:-1},K>D?(ge.sortIndex=K,e(B,ge),t(m)===null&&ge===t(B)&&(N?(O(X),X=-1):N=!0,Qe(M,K-D))):(ge.sortIndex=le,e(m,ge),P||j||(P=!0,se($))),ge},n.unstable_shouldYield=Ee,n.unstable_wrapCallback=function(ge){var Pe=F;return function(){var K=F;F=Pe;try{return ge.apply(this,arguments)}finally{F=K}}}})(ph)),ph}var qg;function PB(){return qg||(qg=1,fh.exports=TB()),fh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xg;function NB(){if(Xg)return RA;Xg=1;var n=Wf(),e=PB();function t(A){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+A,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+A+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function u(A,s){d(A,s),d(A+"Capture",s)}function d(A,s){for(o[A]=s,A=0;A<s.length;A++)i.add(s[A])}var g=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,B=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,C={},b={};function F(A){return m.call(b,A)?!0:m.call(C,A)?!1:B.test(A)?b[A]=!0:(C[A]=!0,!1)}function j(A,s,l,p){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return p?!1:l!==null?!l.acceptsBooleans:(A=A.toLowerCase().slice(0,5),A!=="data-"&&A!=="aria-");default:return!1}}function P(A,s,l,p){if(s===null||typeof s>"u"||j(A,s,l,p))return!0;if(p)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function N(A,s,l,p,y,x,I){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=p,this.attributeNamespace=y,this.mustUseProperty=l,this.propertyName=A,this.type=s,this.sanitizeURL=x,this.removeEmptyString=I}var G={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(A){G[A]=new N(A,0,!1,A,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(A){var s=A[0];G[s]=new N(s,1,!1,A[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(A){G[A]=new N(A,2,!1,A.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(A){G[A]=new N(A,2,!1,A,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(A){G[A]=new N(A,3,!1,A.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(A){G[A]=new N(A,3,!0,A,null,!1,!1)}),["capture","download"].forEach(function(A){G[A]=new N(A,4,!1,A,null,!1,!1)}),["cols","rows","size","span"].forEach(function(A){G[A]=new N(A,6,!1,A,null,!1,!1)}),["rowSpan","start"].forEach(function(A){G[A]=new N(A,5,!1,A.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function R(A){return A[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(A){var s=A.replace(O,R);G[s]=new N(s,1,!1,A,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(A){var s=A.replace(O,R);G[s]=new N(s,1,!1,A,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(A){var s=A.replace(O,R);G[s]=new N(s,1,!1,A,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(A){G[A]=new N(A,1,!1,A.toLowerCase(),null,!1,!1)}),G.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(A){G[A]=new N(A,1,!1,A.toLowerCase(),null,!0,!0)});function J(A,s,l,p){var y=G.hasOwnProperty(s)?G[s]:null;(y!==null?y.type!==0:p||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(P(s,l,y,p)&&(l=null),p||y===null?F(s)&&(l===null?A.removeAttribute(s):A.setAttribute(s,""+l)):y.mustUseProperty?A[y.propertyName]=l===null?y.type===3?!1:"":l:(s=y.attributeName,p=y.attributeNamespace,l===null?A.removeAttribute(s):(y=y.type,l=y===3||y===4&&l===!0?"":""+l,p?A.setAttributeNS(p,s,l):A.setAttribute(s,l))))}var M=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$=Symbol.for("react.element"),q=Symbol.for("react.portal"),xe=Symbol.for("react.fragment"),X=Symbol.for("react.strict_mode"),Ae=Symbol.for("react.profiler"),ve=Symbol.for("react.provider"),Ee=Symbol.for("react.context"),qe=Symbol.for("react.forward_ref"),Ze=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),et=Symbol.for("react.memo"),se=Symbol.for("react.lazy"),Qe=Symbol.for("react.offscreen"),ge=Symbol.iterator;function Pe(A){return A===null||typeof A!="object"?null:(A=ge&&A[ge]||A["@@iterator"],typeof A=="function"?A:null)}var K=Object.assign,D;function le(A){if(D===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);D=s&&s[1]||""}return`
`+D+A}var Ie=!1;function Fe(A,s){if(!A||Ie)return"";Ie=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(Be){var p=Be}Reflect.construct(A,[],s)}else{try{s.call()}catch(Be){p=Be}A.call(s.prototype)}else{try{throw Error()}catch(Be){p=Be}A()}}catch(Be){if(Be&&p&&typeof Be.stack=="string"){for(var y=Be.stack.split(`
`),x=p.stack.split(`
`),I=y.length-1,V=x.length-1;1<=I&&0<=V&&y[I]!==x[V];)V--;for(;1<=I&&0<=V;I--,V--)if(y[I]!==x[V]){if(I!==1||V!==1)do if(I--,V--,0>V||y[I]!==x[V]){var ee=`
`+y[I].replace(" at new "," at ");return A.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",A.displayName)),ee}while(1<=I&&0<=V);break}}}finally{Ie=!1,Error.prepareStackTrace=l}return(A=A?A.displayName||A.name:"")?le(A):""}function Ne(A){switch(A.tag){case 5:return le(A.type);case 16:return le("Lazy");case 13:return le("Suspense");case 19:return le("SuspenseList");case 0:case 2:case 15:return A=Fe(A.type,!1),A;case 11:return A=Fe(A.type.render,!1),A;case 1:return A=Fe(A.type,!0),A;default:return""}}function Oe(A){if(A==null)return null;if(typeof A=="function")return A.displayName||A.name||null;if(typeof A=="string")return A;switch(A){case xe:return"Fragment";case q:return"Portal";case Ae:return"Profiler";case X:return"StrictMode";case Ze:return"Suspense";case be:return"SuspenseList"}if(typeof A=="object")switch(A.$$typeof){case Ee:return(A.displayName||"Context")+".Consumer";case ve:return(A._context.displayName||"Context")+".Provider";case qe:var s=A.render;return A=A.displayName,A||(A=s.displayName||s.name||"",A=A!==""?"ForwardRef("+A+")":"ForwardRef"),A;case et:return s=A.displayName||null,s!==null?s:Oe(A.type)||"Memo";case se:s=A._payload,A=A._init;try{return Oe(A(s))}catch{}}return null}function At(A){var s=A.type;switch(A.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return A=s.render,A=A.displayName||A.name||"",s.displayName||(A!==""?"ForwardRef("+A+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oe(s);case 8:return s===X?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function mt(A){switch(typeof A){case"boolean":case"number":case"string":case"undefined":return A;case"object":return A;default:return""}}function De(A){var s=A.type;return(A=A.nodeName)&&A.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ot(A){var s=De(A)?"checked":"value",l=Object.getOwnPropertyDescriptor(A.constructor.prototype,s),p=""+A[s];if(!A.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var y=l.get,x=l.set;return Object.defineProperty(A,s,{configurable:!0,get:function(){return y.call(this)},set:function(I){p=""+I,x.call(this,I)}}),Object.defineProperty(A,s,{enumerable:l.enumerable}),{getValue:function(){return p},setValue:function(I){p=""+I},stopTracking:function(){A._valueTracker=null,delete A[s]}}}}function fA(A){A._valueTracker||(A._valueTracker=Ot(A))}function Qt(A){if(!A)return!1;var s=A._valueTracker;if(!s)return!0;var l=s.getValue(),p="";return A&&(p=De(A)?A.checked?"true":"false":A.value),A=p,A!==l?(s.setValue(A),!0):!1}function QA(A){if(A=A||(typeof document<"u"?document:void 0),typeof A>"u")return null;try{return A.activeElement||A.body}catch{return A.body}}function oo(A,s){var l=s.checked;return K({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??A._wrapperState.initialChecked})}function KA(A,s){var l=s.defaultValue==null?"":s.defaultValue,p=s.checked!=null?s.checked:s.defaultChecked;l=mt(s.value!=null?s.value:l),A._wrapperState={initialChecked:p,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ao(A,s){s=s.checked,s!=null&&J(A,"checked",s,!1)}function ki(A,s){ao(A,s);var l=mt(s.value),p=s.type;if(l!=null)p==="number"?(l===0&&A.value===""||A.value!=l)&&(A.value=""+l):A.value!==""+l&&(A.value=""+l);else if(p==="submit"||p==="reset"){A.removeAttribute("value");return}s.hasOwnProperty("value")?lo(A,s.type,l):s.hasOwnProperty("defaultValue")&&lo(A,s.type,mt(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(A.defaultChecked=!!s.defaultChecked)}function Ti(A,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var p=s.type;if(!(p!=="submit"&&p!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+A._wrapperState.initialValue,l||s===A.value||(A.value=s),A.defaultValue=s}l=A.name,l!==""&&(A.name=""),A.defaultChecked=!!A._wrapperState.initialChecked,l!==""&&(A.name=l)}function lo(A,s,l){(s!=="number"||QA(A.ownerDocument)!==A)&&(l==null?A.defaultValue=""+A._wrapperState.initialValue:A.defaultValue!==""+l&&(A.defaultValue=""+l))}var ir=Array.isArray;function fn(A,s,l,p){if(A=A.options,s){s={};for(var y=0;y<l.length;y++)s["$"+l[y]]=!0;for(l=0;l<A.length;l++)y=s.hasOwnProperty("$"+A[l].value),A[l].selected!==y&&(A[l].selected=y),y&&p&&(A[l].defaultSelected=!0)}else{for(l=""+mt(l),s=null,y=0;y<A.length;y++){if(A[y].value===l){A[y].selected=!0,p&&(A[y].defaultSelected=!0);return}s!==null||A[y].disabled||(s=A[y])}s!==null&&(s.selected=!0)}}function Pi(A,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return K({},s,{value:void 0,defaultValue:void 0,children:""+A._wrapperState.initialValue})}function Lr(A,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(ir(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}A._wrapperState={initialValue:mt(l)}}function uo(A,s){var l=mt(s.value),p=mt(s.defaultValue);l!=null&&(l=""+l,l!==A.value&&(A.value=l),s.defaultValue==null&&A.defaultValue!==l&&(A.defaultValue=l)),p!=null&&(A.defaultValue=""+p)}function si(A){var s=A.textContent;s===A._wrapperState.initialValue&&s!==""&&s!==null&&(A.value=s)}function UA(A){switch(A){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function EA(A,s){return A==null||A==="http://www.w3.org/1999/xhtml"?UA(s):A==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":A}var kr,oi=(function(A){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,p,y){MSApp.execUnsafeLocalFunction(function(){return A(s,l,p,y)})}:A})(function(A,s){if(A.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in A)A.innerHTML=s;else{for(kr=kr||document.createElement("div"),kr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=kr.firstChild;A.firstChild;)A.removeChild(A.firstChild);for(;s.firstChild;)A.appendChild(s.firstChild)}});function sr(A,s){if(s){var l=A.firstChild;if(l&&l===A.lastChild&&l.nodeType===3){l.nodeValue=s;return}}A.textContent=s}var VA={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tr=["Webkit","ms","Moz","O"];Object.keys(VA).forEach(function(A){Tr.forEach(function(s){s=s+A.charAt(0).toUpperCase()+A.substring(1),VA[s]=VA[A]})});function ai(A,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||VA.hasOwnProperty(A)&&VA[A]?(""+s).trim():s+"px"}function li(A,s){A=A.style;for(var l in s)if(s.hasOwnProperty(l)){var p=l.indexOf("--")===0,y=ai(l,s[l],p);l==="float"&&(l="cssFloat"),p?A.setProperty(l,y):A[l]=y}}var GA=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rt(A,s){if(s){if(GA[A]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,A));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function pA(A,s){if(A.indexOf("-")===-1)return typeof s.is=="string";switch(A){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zA=null;function ui(A){return A=A.target||A.srcElement||window,A.correspondingUseElement&&(A=A.correspondingUseElement),A.nodeType===3?A.parentNode:A}var Ge=null,WA=null,or=null;function vs(A){if(A=ts(A)){if(typeof Ge!="function")throw Error(t(280));var s=A.stateNode;s&&(s=Aa(s),Ge(A.stateNode,A.type,s))}}function co(A){WA?or?or.push(A):or=[A]:WA=A}function ws(){if(WA){var A=WA,s=or;if(or=WA=null,vs(A),s)for(A=0;A<s.length;A++)vs(s[A])}}function Vo(A,s){return A(s)}function Go(){}var ar=!1;function $A(A,s,l){if(ar)return A(s,l);ar=!0;try{return Vo(A,s,l)}finally{ar=!1,(WA!==null||or!==null)&&(Go(),ws())}}function Pr(A,s){var l=A.stateNode;if(l===null)return null;var p=Aa(l);if(p===null)return null;l=p[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(A=A.type,p=!(A==="button"||A==="input"||A==="select"||A==="textarea")),A=!p;break e;default:A=!1}if(A)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var ci=!1;if(g)try{var kt={};Object.defineProperty(kt,"passive",{get:function(){ci=!0}}),window.addEventListener("test",kt,kt),window.removeEventListener("test",kt,kt)}catch{ci=!1}function ln(A,s,l,p,y,x,I,V,ee){var Be=Array.prototype.slice.call(arguments,3);try{s.apply(l,Be)}catch(ke){this.onError(ke)}}var Nn=!1,tt=null,lr=!1,Nr=null,zo={onError:function(A){Nn=!0,tt=A}};function ZA(A,s,l,p,y,x,I,V,ee){Nn=!1,tt=null,ln.apply(zo,arguments)}function ur(A,s,l,p,y,x,I,V,ee){if(ZA.apply(this,arguments),Nn){if(Nn){var Be=tt;Nn=!1,tt=null}else throw Error(t(198));lr||(lr=!0,Nr=Be)}}function En(A){var s=A,l=A;if(A.alternate)for(;s.return;)s=s.return;else{A=s;do s=A,(s.flags&4098)!==0&&(l=s.return),A=s.return;while(A)}return s.tag===3?l:null}function FA(A){if(A.tag===13){var s=A.memoizedState;if(s===null&&(A=A.alternate,A!==null&&(s=A.memoizedState)),s!==null)return s.dehydrated}return null}function ho(A){if(En(A)!==A)throw Error(t(188))}function cr(A){var s=A.alternate;if(!s){if(s=En(A),s===null)throw Error(t(188));return s!==A?null:A}for(var l=A,p=s;;){var y=l.return;if(y===null)break;var x=y.alternate;if(x===null){if(p=y.return,p!==null){l=p;continue}break}if(y.child===x.child){for(x=y.child;x;){if(x===l)return ho(y),A;if(x===p)return ho(y),s;x=x.sibling}throw Error(t(188))}if(l.return!==p.return)l=y,p=x;else{for(var I=!1,V=y.child;V;){if(V===l){I=!0,l=y,p=x;break}if(V===p){I=!0,p=y,l=x;break}V=V.sibling}if(!I){for(V=x.child;V;){if(V===l){I=!0,l=x,p=y;break}if(V===p){I=!0,p=x,l=y;break}V=V.sibling}if(!I)throw Error(t(189))}}if(l.alternate!==p)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?A:s}function fo(A){return A=cr(A),A!==null?dr(A):null}function dr(A){if(A.tag===5||A.tag===6)return A;for(A=A.child;A!==null;){var s=dr(A);if(s!==null)return s;A=A.sibling}return null}var po=e.unstable_scheduleCallback,Ni=e.unstable_cancelCallback,Zt=e.unstable_shouldYield,SA=e.unstable_requestPaint,It=e.unstable_now,Wo=e.unstable_getCurrentPriorityLevel,hr=e.unstable_ImmediatePriority,ji=e.unstable_UserBlockingPriority,di=e.unstable_NormalPriority,Hi=e.unstable_LowPriority,rA=e.unstable_IdlePriority,hi=null,jn=null;function fi(A){if(jn&&typeof jn.onCommitFiberRoot=="function")try{jn.onCommitFiberRoot(hi,A,void 0,(A.current.flags&128)===128)}catch{}}var ze=Math.clz32?Math.clz32:JA,Dt=Math.log,Oi=Math.LN2;function JA(A){return A>>>=0,A===0?32:31-(Dt(A)/Oi|0)|0}var IA=64,Ft=4194304;function dt(A){switch(A&-A){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return A&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return A&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return A}}function Tt(A,s){var l=A.pendingLanes;if(l===0)return 0;var p=0,y=A.suspendedLanes,x=A.pingedLanes,I=l&268435455;if(I!==0){var V=I&~y;V!==0?p=dt(V):(x&=I,x!==0&&(p=dt(x)))}else I=l&~y,I!==0?p=dt(I):x!==0&&(p=dt(x));if(p===0)return 0;if(s!==0&&s!==p&&(s&y)===0&&(y=p&-p,x=s&-s,y>=x||y===16&&(x&4194240)!==0))return s;if((p&4)!==0&&(p|=l&16),s=A.entangledLanes,s!==0)for(A=A.entanglements,s&=p;0<s;)l=31-ze(s),y=1<<l,p|=A[l],s&=~y;return p}function fr(A,s){switch(A){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pi(A,s){for(var l=A.suspendedLanes,p=A.pingedLanes,y=A.expirationTimes,x=A.pendingLanes;0<x;){var I=31-ze(x),V=1<<I,ee=y[I];ee===-1?((V&l)===0||(V&p)!==0)&&(y[I]=fr(V,s)):ee<=s&&(A.expiredLanes|=V),x&=~V}}function Cn(A){return A=A.pendingLanes&-1073741825,A!==0?A:A&1073741824?1073741824:0}function Di(){var A=IA;return IA<<=1,(IA&4194240)===0&&(IA=64),A}function jr(A){for(var s=[],l=0;31>l;l++)s.push(A);return s}function Hn(A,s,l){A.pendingLanes|=s,s!==536870912&&(A.suspendedLanes=0,A.pingedLanes=0),A=A.eventTimes,s=31-ze(s),A[s]=l}function Jt(A,s){var l=A.pendingLanes&~s;A.pendingLanes=s,A.suspendedLanes=0,A.pingedLanes=0,A.expiredLanes&=s,A.mutableReadLanes&=s,A.entangledLanes&=s,s=A.entanglements;var p=A.eventTimes;for(A=A.expirationTimes;0<l;){var y=31-ze(l),x=1<<y;s[y]=0,p[y]=-1,A[y]=-1,l&=~x}}function Zn(A,s){var l=A.entangledLanes|=s;for(A=A.entanglements;l;){var p=31-ze(l),y=1<<p;y&s|A[p]&s&&(A[p]|=s),l&=~y}}var xt=0;function gi(A){return A&=-A,1<A?4<A?(A&268435455)!==0?16:536870912:4:1}var _t,pr,ys,Bs,pn,LA=!1,qA=[],un=null,kA=null,gA=null,Vt=new Map,at=new Map,qt=[],St="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ri(A,s){switch(A){case"focusin":case"focusout":un=null;break;case"dragenter":case"dragleave":kA=null;break;case"mouseover":case"mouseout":gA=null;break;case"pointerover":case"pointerout":Vt.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":at.delete(s.pointerId)}}function On(A,s,l,p,y,x){return A===null||A.nativeEvent!==x?(A={blockedOn:s,domEventName:l,eventSystemFlags:p,nativeEvent:x,targetContainers:[y]},s!==null&&(s=ts(s),s!==null&&pr(s)),A):(A.eventSystemFlags|=p,s=A.targetContainers,y!==null&&s.indexOf(y)===-1&&s.push(y),A)}function go(A,s,l,p,y){switch(s){case"focusin":return un=On(un,A,s,l,p,y),!0;case"dragenter":return kA=On(kA,A,s,l,p,y),!0;case"mouseover":return gA=On(gA,A,s,l,p,y),!0;case"pointerover":var x=y.pointerId;return Vt.set(x,On(Vt.get(x)||null,A,s,l,p,y)),!0;case"gotpointercapture":return x=y.pointerId,at.set(x,On(at.get(x)||null,A,s,l,p,y)),!0}return!1}function Jn(A){var s=es(A.target);if(s!==null){var l=En(s);if(l!==null){if(s=l.tag,s===13){if(s=FA(l),s!==null){A.blockedOn=s,pn(A.priority,function(){ys(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){A.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}A.blockedOn=null}function iA(A){if(A.blockedOn!==null)return!1;for(var s=A.targetContainers;0<s.length;){var l=Dr(A.domEventName,A.eventSystemFlags,s[0],A.nativeEvent);if(l===null){l=A.nativeEvent;var p=new l.constructor(l.type,l);zA=p,l.target.dispatchEvent(p),zA=null}else return s=ts(l),s!==null&&pr(s),A.blockedOn=l,!1;s.shift()}return!0}function Mi(A,s,l){iA(A)&&l.delete(s)}function Hr(){LA=!1,un!==null&&iA(un)&&(un=null),kA!==null&&iA(kA)&&(kA=null),gA!==null&&iA(gA)&&(gA=null),Vt.forEach(Mi),at.forEach(Mi)}function Ht(A,s){A.blockedOn===s&&(A.blockedOn=null,LA||(LA=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Hr)))}function qn(A){function s(y){return Ht(y,A)}if(0<qA.length){Ht(qA[0],A);for(var l=1;l<qA.length;l++){var p=qA[l];p.blockedOn===A&&(p.blockedOn=null)}}for(un!==null&&Ht(un,A),kA!==null&&Ht(kA,A),gA!==null&&Ht(gA,A),Vt.forEach(s),at.forEach(s),l=0;l<qt.length;l++)p=qt[l],p.blockedOn===A&&(p.blockedOn=null);for(;0<qt.length&&(l=qt[0],l.blockedOn===null);)Jn(l),l.blockedOn===null&&qt.shift()}var gr=M.ReactCurrentBatchConfig,Ki=!0;function Vi(A,s,l,p){var y=xt,x=gr.transition;gr.transition=null;try{xt=1,Gi(A,s,l,p)}finally{xt=y,gr.transition=x}}function $o(A,s,l,p){var y=xt,x=gr.transition;gr.transition=null;try{xt=4,Gi(A,s,l,p)}finally{xt=y,gr.transition=x}}function Gi(A,s,l,p){if(Ki){var y=Dr(A,s,l,p);if(y===null)r(A,s,p,Or,l),Ri(A,p);else if(go(y,A,s,l,p))p.stopPropagation();else if(Ri(A,p),s&4&&-1<St.indexOf(A)){for(;y!==null;){var x=ts(y);if(x!==null&&_t(x),x=Dr(A,s,l,p),x===null&&r(A,s,p,Or,l),x===y)break;y=x}y!==null&&p.stopPropagation()}else r(A,s,p,null,l)}}var Or=null;function Dr(A,s,l,p){if(Or=null,A=ui(p),A=es(A),A!==null)if(s=En(A),s===null)A=null;else if(l=s.tag,l===13){if(A=FA(s),A!==null)return A;A=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;A=null}else s!==A&&(A=null);return Or=A,null}function Bt(A){switch(A){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Wo()){case hr:return 1;case ji:return 4;case di:case Hi:return 16;case rA:return 536870912;default:return 16}default:return 16}}var mr=null,Xn=null,vr=null;function zi(){if(vr)return vr;var A,s=Xn,l=s.length,p,y="value"in mr?mr.value:mr.textContent,x=y.length;for(A=0;A<l&&s[A]===y[A];A++);var I=l-A;for(p=1;p<=I&&s[l-p]===y[x-p];p++);return vr=y.slice(A,1<p?1-p:void 0)}function mi(A){var s=A.keyCode;return"charCode"in A?(A=A.charCode,A===0&&s===13&&(A=13)):A=s,A===10&&(A=13),32<=A||A===13?A:0}function Rr(){return!0}function Wi(){return!1}function gn(A){function s(l,p,y,x,I){this._reactName=l,this._targetInst=y,this.type=p,this.nativeEvent=x,this.target=I,this.currentTarget=null;for(var V in A)A.hasOwnProperty(V)&&(l=A[V],this[V]=l?l(x):x[V]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Rr:Wi,this.isPropagationStopped=Wi,this}return K(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Rr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Rr)},persist:function(){},isPersistent:Rr}),s}var XA={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(A){return A.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_s=gn(XA),Mr=K({},XA,{view:0,detail:0}),vi=gn(Mr),Dn,$i,wr,Yn=K({},Mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wr,button:0,buttons:0,relatedTarget:function(A){return A.relatedTarget===void 0?A.fromElement===A.srcElement?A.toElement:A.fromElement:A.relatedTarget},movementX:function(A){return"movementX"in A?A.movementX:(A!==wr&&(wr&&A.type==="mousemove"?(Dn=A.screenX-wr.screenX,$i=A.screenY-wr.screenY):$i=Dn=0,wr=A),Dn)},movementY:function(A){return"movementY"in A?A.movementY:$i}}),cn=gn(Yn),wi=K({},Yn,{dataTransfer:0}),Kr=gn(wi),Zo=K({},Mr,{relatedTarget:0}),Vr=gn(Zo),mo=K({},XA,{animationName:0,elapsedTime:0,pseudoElement:0}),Jo=gn(mo),Cs=K({},XA,{clipboardData:function(A){return"clipboardData"in A?A.clipboardData:window.clipboardData}}),Zi=gn(Cs),Gr=K({},XA,{data:0}),Ji=gn(Gr),xs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},YA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qo(A){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(A):(A=YA[A])?!!s[A]:!1}function Wr(){return qo}var Rn=K({},Mr,{key:function(A){if(A.key){var s=xs[A.key]||A.key;if(s!=="Unidentified")return s}return A.type==="keypress"?(A=mi(A),A===13?"Enter":String.fromCharCode(A)):A.type==="keydown"||A.type==="keyup"?zr[A.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wr,charCode:function(A){return A.type==="keypress"?mi(A):0},keyCode:function(A){return A.type==="keydown"||A.type==="keyup"?A.keyCode:0},which:function(A){return A.type==="keypress"?mi(A):A.type==="keydown"||A.type==="keyup"?A.keyCode:0}}),qi=gn(Rn),Xo=K({},Yn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bs=gn(Xo),Xi=K({},Mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wr}),vo=gn(Xi),Yo=K({},XA,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ja=gn(Yo),wo=K({},Yn,{deltaX:function(A){return"deltaX"in A?A.deltaX:"wheelDeltaX"in A?-A.wheelDeltaX:0},deltaY:function(A){return"deltaY"in A?A.deltaY:"wheelDeltaY"in A?-A.wheelDeltaY:"wheelDelta"in A?-A.wheelDelta:0},deltaZ:0,deltaMode:0}),ea=gn(wo),mA=[9,13,27,32],er=g&&"CompositionEvent"in window,$r=null;g&&"documentMode"in document&&($r=document.documentMode);var TA=g&&"TextEvent"in window&&!$r,yo=g&&(!er||$r&&8<$r&&11>=$r),Zr=" ",ta=!1;function yi(A,s){switch(A){case"keyup":return mA.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bi(A){return A=A.detail,typeof A=="object"&&"data"in A?A.data:null}var mn=!1;function Xt(A,s){switch(A){case"compositionend":return Bi(s);case"keypress":return s.which!==32?null:(ta=!0,Zr);case"textInput":return A=s.data,A===Zr&&ta?null:A;default:return null}}function vA(A,s){if(mn)return A==="compositionend"||!er&&yi(A,s)?(A=zi(),vr=Xn=mr=null,mn=!1,A):null;switch(A){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return yo&&s.locale!=="ko"?null:s.data;default:return null}}var Fn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function na(A){var s=A&&A.nodeName&&A.nodeName.toLowerCase();return s==="input"?!!Fn[A.type]:s==="textarea"}function _i(A,s,l,p){co(p),s=f(s,"onChange"),0<s.length&&(l=new _s("onChange","change",null,l,p),A.push({event:l,listeners:s}))}var Ci=null,rn=null;function Bo(A){Xa(A,0)}function Mn(A){var s=ns(A);if(Qt(s))return A}function yr(A,s){if(A==="change")return s}var wA=!1;if(g){var h;if(g){var v="oninput"in document;if(!v){var _=document.createElement("div");_.setAttribute("oninput","return;"),v=typeof _.oninput=="function"}h=v}else h=!1;wA=h&&(!document.documentMode||9<document.documentMode)}function U(){Ci&&(Ci.detachEvent("onpropertychange",E),rn=Ci=null)}function E(A){if(A.propertyName==="value"&&Mn(rn)){var s=[];_i(s,rn,A,ui(A)),$A(Bo,s)}}function k(A,s,l){A==="focusin"?(U(),Ci=s,rn=l,Ci.attachEvent("onpropertychange",E)):A==="focusout"&&U()}function H(A){if(A==="selectionchange"||A==="keyup"||A==="keydown")return Mn(rn)}function z(A,s){if(A==="click")return Mn(s)}function Y(A,s){if(A==="input"||A==="change")return Mn(s)}function ne(A,s){return A===s&&(A!==0||1/A===1/s)||A!==A&&s!==s}var re=typeof Object.is=="function"?Object.is:ne;function W(A,s){if(re(A,s))return!0;if(typeof A!="object"||A===null||typeof s!="object"||s===null)return!1;var l=Object.keys(A),p=Object.keys(s);if(l.length!==p.length)return!1;for(p=0;p<l.length;p++){var y=l[p];if(!m.call(s,y)||!re(A[y],s[y]))return!1}return!0}function de(A){for(;A&&A.firstChild;)A=A.firstChild;return A}function te(A,s){var l=de(A);A=0;for(var p;l;){if(l.nodeType===3){if(p=A+l.textContent.length,A<=s&&p>=s)return{node:l,offset:s-A};A=p}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=de(l)}}function oe(A,s){return A&&s?A===s?!0:A&&A.nodeType===3?!1:s&&s.nodeType===3?oe(A,s.parentNode):"contains"in A?A.contains(s):A.compareDocumentPosition?!!(A.compareDocumentPosition(s)&16):!1:!1}function ue(){for(var A=window,s=QA();s instanceof A.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)A=s.contentWindow;else break;s=QA(A.document)}return s}function ae(A){var s=A&&A.nodeName&&A.nodeName.toLowerCase();return s&&(s==="input"&&(A.type==="text"||A.type==="search"||A.type==="tel"||A.type==="url"||A.type==="password")||s==="textarea"||A.contentEditable==="true")}function ce(A){var s=ue(),l=A.focusedElem,p=A.selectionRange;if(s!==l&&l&&l.ownerDocument&&oe(l.ownerDocument.documentElement,l)){if(p!==null&&ae(l)){if(s=p.start,A=p.end,A===void 0&&(A=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(A,l.value.length);else if(A=(s=l.ownerDocument||document)&&s.defaultView||window,A.getSelection){A=A.getSelection();var y=l.textContent.length,x=Math.min(p.start,y);p=p.end===void 0?x:Math.min(p.end,y),!A.extend&&x>p&&(y=p,p=x,x=y),y=te(l,x);var I=te(l,p);y&&I&&(A.rangeCount!==1||A.anchorNode!==y.node||A.anchorOffset!==y.offset||A.focusNode!==I.node||A.focusOffset!==I.offset)&&(s=s.createRange(),s.setStart(y.node,y.offset),A.removeAllRanges(),x>p?(A.addRange(s),A.extend(I.node,I.offset)):(s.setEnd(I.node,I.offset),A.addRange(s)))}}for(s=[],A=l;A=A.parentNode;)A.nodeType===1&&s.push({element:A,left:A.scrollLeft,top:A.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)A=s[l],A.element.scrollLeft=A.left,A.element.scrollTop=A.top}}var ye=g&&"documentMode"in document&&11>=document.documentMode,_e=null,Ce=null,Se=null,Re=!1;function He(A,s,l){var p=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Re||_e==null||_e!==QA(p)||(p=_e,"selectionStart"in p&&ae(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Se&&W(Se,p)||(Se=p,p=f(Ce,"onSelect"),0<p.length&&(s=new _s("onSelect","select",null,s,l),A.push({event:s,listeners:p}),s.target=_e)))}function Te(A,s){var l={};return l[A.toLowerCase()]=s.toLowerCase(),l["Webkit"+A]="webkit"+s,l["Moz"+A]="moz"+s,l}var Ve={animationend:Te("Animation","AnimationEnd"),animationiteration:Te("Animation","AnimationIteration"),animationstart:Te("Animation","AnimationStart"),transitionend:Te("Transition","TransitionEnd")},Ke={},We={};g&&(We=document.createElement("div").style,"AnimationEvent"in window||(delete Ve.animationend.animation,delete Ve.animationiteration.animation,delete Ve.animationstart.animation),"TransitionEvent"in window||delete Ve.transitionend.transition);function gt(A){if(Ke[A])return Ke[A];if(!Ve[A])return A;var s=Ve[A],l;for(l in s)if(s.hasOwnProperty(l)&&l in We)return Ke[A]=s[l];return A}var Ct=gt("animationend"),lt=gt("animationiteration"),Rt=gt("animationstart"),pt=gt("transitionend"),Yt=new Map,vn="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kn(A,s){Yt.set(A,s),u(s,[A])}for(var en=0;en<vn.length;en++){var PA=vn[en],Qs=PA.toLowerCase(),id=PA[0].toUpperCase()+PA.slice(1);Kn(Qs,"on"+id)}Kn(Ct,"onAnimationEnd"),Kn(lt,"onAnimationIteration"),Kn(Rt,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(pt,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Us="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yl=new Set("cancel close invalid load scroll toggle".split(" ").concat(Us));function qa(A,s,l){var p=A.type||"unknown-event";A.currentTarget=l,ur(p,s,void 0,A),A.currentTarget=null}function Xa(A,s){s=(s&4)!==0;for(var l=0;l<A.length;l++){var p=A[l],y=p.event;p=p.listeners;e:{var x=void 0;if(s)for(var I=p.length-1;0<=I;I--){var V=p[I],ee=V.instance,Be=V.currentTarget;if(V=V.listener,ee!==x&&y.isPropagationStopped())break e;qa(y,V,Be),x=ee}else for(I=0;I<p.length;I++){if(V=p[I],ee=V.instance,Be=V.currentTarget,V=V.listener,ee!==x&&y.isPropagationStopped())break e;qa(y,V,Be),x=ee}}}if(lr)throw A=Nr,lr=!1,Nr=null,A}function Mt(A,s){var l=s[Is];l===void 0&&(l=s[Is]=new Set);var p=A+"__bubble";l.has(p)||(eu(s,A,2,!1),l.add(p))}function Ya(A,s,l){var p=0;s&&(p|=4),eu(l,A,p,s)}var _o="_reactListening"+Math.random().toString(36).slice(2);function Es(A){if(!A[_o]){A[_o]=!0,i.forEach(function(l){l!=="selectionchange"&&(Yl.has(l)||Ya(l,!1,A),Ya(l,!0,A))});var s=A.nodeType===9?A:A.ownerDocument;s===null||s[_o]||(s[_o]=!0,Ya("selectionchange",!1,s))}}function eu(A,s,l,p){switch(Bt(s)){case 1:var y=Vi;break;case 4:y=$o;break;default:y=Gi}l=y.bind(null,s,l,A),y=void 0,!ci||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(y=!0),p?y!==void 0?A.addEventListener(s,l,{capture:!0,passive:y}):A.addEventListener(s,l,!0):y!==void 0?A.addEventListener(s,l,{passive:y}):A.addEventListener(s,l,!1)}function r(A,s,l,p,y){var x=p;if((s&1)===0&&(s&2)===0&&p!==null)e:for(;;){if(p===null)return;var I=p.tag;if(I===3||I===4){var V=p.stateNode.containerInfo;if(V===y||V.nodeType===8&&V.parentNode===y)break;if(I===4)for(I=p.return;I!==null;){var ee=I.tag;if((ee===3||ee===4)&&(ee=I.stateNode.containerInfo,ee===y||ee.nodeType===8&&ee.parentNode===y))return;I=I.return}for(;V!==null;){if(I=es(V),I===null)return;if(ee=I.tag,ee===5||ee===6){p=x=I;continue e}V=V.parentNode}}p=p.return}$A(function(){var Be=x,ke=ui(l),je=[];e:{var Le=Yt.get(A);if(Le!==void 0){var Xe=_s,it=A;switch(A){case"keypress":if(mi(l)===0)break e;case"keydown":case"keyup":Xe=qi;break;case"focusin":it="focus",Xe=Vr;break;case"focusout":it="blur",Xe=Vr;break;case"beforeblur":case"afterblur":Xe=Vr;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Xe=cn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Xe=Kr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Xe=vo;break;case Ct:case lt:case Rt:Xe=Jo;break;case pt:Xe=Ja;break;case"scroll":Xe=vi;break;case"wheel":Xe=ea;break;case"copy":case"cut":case"paste":Xe=Zi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Xe=bs}var st=(s&4)!==0,wn=!st&&A==="scroll",fe=st?Le!==null?Le+"Capture":null:Le;st=[];for(var ie=Be,me;ie!==null;){me=ie;var Me=me.stateNode;if(me.tag===5&&Me!==null&&(me=Me,fe!==null&&(Me=Pr(ie,fe),Me!=null&&st.push(a(ie,Me,me)))),wn)break;ie=ie.return}0<st.length&&(Le=new Xe(Le,it,null,l,ke),je.push({event:Le,listeners:st}))}}if((s&7)===0){e:{if(Le=A==="mouseover"||A==="pointerover",Xe=A==="mouseout"||A==="pointerout",Le&&l!==zA&&(it=l.relatedTarget||l.fromElement)&&(es(it)||it[Nt]))break e;if((Xe||Le)&&(Le=ke.window===ke?ke:(Le=ke.ownerDocument)?Le.defaultView||Le.parentWindow:window,Xe?(it=l.relatedTarget||l.toElement,Xe=Be,it=it?es(it):null,it!==null&&(wn=En(it),it!==wn||it.tag!==5&&it.tag!==6)&&(it=null)):(Xe=null,it=Be),Xe!==it)){if(st=cn,Me="onMouseLeave",fe="onMouseEnter",ie="mouse",(A==="pointerout"||A==="pointerover")&&(st=bs,Me="onPointerLeave",fe="onPointerEnter",ie="pointer"),wn=Xe==null?Le:ns(Xe),me=it==null?Le:ns(it),Le=new st(Me,ie+"leave",Xe,l,ke),Le.target=wn,Le.relatedTarget=me,Me=null,es(ke)===Be&&(st=new st(fe,ie+"enter",it,l,ke),st.target=me,st.relatedTarget=wn,Me=st),wn=Me,Xe&&it)t:{for(st=Xe,fe=it,ie=0,me=st;me;me=w(me))ie++;for(me=0,Me=fe;Me;Me=w(Me))me++;for(;0<ie-me;)st=w(st),ie--;for(;0<me-ie;)fe=w(fe),me--;for(;ie--;){if(st===fe||fe!==null&&st===fe.alternate)break t;st=w(st),fe=w(fe)}st=null}else st=null;Xe!==null&&Q(je,Le,Xe,st,!1),it!==null&&wn!==null&&Q(je,wn,it,st,!0)}}e:{if(Le=Be?ns(Be):window,Xe=Le.nodeName&&Le.nodeName.toLowerCase(),Xe==="select"||Xe==="input"&&Le.type==="file")var ot=yr;else if(na(Le))if(wA)ot=Y;else{ot=H;var ht=k}else(Xe=Le.nodeName)&&Xe.toLowerCase()==="input"&&(Le.type==="checkbox"||Le.type==="radio")&&(ot=z);if(ot&&(ot=ot(A,Be))){_i(je,ot,l,ke);break e}ht&&ht(A,Le,Be),A==="focusout"&&(ht=Le._wrapperState)&&ht.controlled&&Le.type==="number"&&lo(Le,"number",Le.value)}switch(ht=Be?ns(Be):window,A){case"focusin":(na(ht)||ht.contentEditable==="true")&&(_e=ht,Ce=Be,Se=null);break;case"focusout":Se=Ce=_e=null;break;case"mousedown":Re=!0;break;case"contextmenu":case"mouseup":case"dragend":Re=!1,He(je,l,ke);break;case"selectionchange":if(ye)break;case"keydown":case"keyup":He(je,l,ke)}var ft;if(er)e:{switch(A){case"compositionstart":var vt="onCompositionStart";break e;case"compositionend":vt="onCompositionEnd";break e;case"compositionupdate":vt="onCompositionUpdate";break e}vt=void 0}else mn?yi(A,l)&&(vt="onCompositionEnd"):A==="keydown"&&l.keyCode===229&&(vt="onCompositionStart");vt&&(yo&&l.locale!=="ko"&&(mn||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&mn&&(ft=zi()):(mr=ke,Xn="value"in mr?mr.value:mr.textContent,mn=!0)),ht=f(Be,vt),0<ht.length&&(vt=new Ji(vt,A,null,l,ke),je.push({event:vt,listeners:ht}),ft?vt.data=ft:(ft=Bi(l),ft!==null&&(vt.data=ft)))),(ft=TA?Xt(A,l):vA(A,l))&&(Be=f(Be,"onBeforeInput"),0<Be.length&&(ke=new Ji("onBeforeInput","beforeinput",null,l,ke),je.push({event:ke,listeners:Be}),ke.data=ft))}Xa(je,s)})}function a(A,s,l){return{instance:A,listener:s,currentTarget:l}}function f(A,s){for(var l=s+"Capture",p=[];A!==null;){var y=A,x=y.stateNode;y.tag===5&&x!==null&&(y=x,x=Pr(A,l),x!=null&&p.unshift(a(A,x,y)),x=Pr(A,s),x!=null&&p.push(a(A,x,y))),A=A.return}return p}function w(A){if(A===null)return null;do A=A.return;while(A&&A.tag!==5);return A||null}function Q(A,s,l,p,y){for(var x=s._reactName,I=[];l!==null&&l!==p;){var V=l,ee=V.alternate,Be=V.stateNode;if(ee!==null&&ee===p)break;V.tag===5&&Be!==null&&(V=Be,y?(ee=Pr(l,x),ee!=null&&I.unshift(a(l,ee,V))):y||(ee=Pr(l,x),ee!=null&&I.push(a(l,ee,V)))),l=l.return}I.length!==0&&A.push({event:s,listeners:I})}var T=/\r\n?/g,Z=/\u0000|\uFFFD/g;function he(A){return(typeof A=="string"?A:""+A).replace(T,`
`).replace(Z,"")}function we(A,s,l){if(s=he(s),he(A)!==s&&l)throw Error(t(425))}function Ue(){}var $e=null,ct=null;function wt(A,s){return A==="textarea"||A==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Sn=typeof setTimeout=="function"?setTimeout:void 0,xn=typeof clearTimeout=="function"?clearTimeout:void 0,yA=typeof Promise=="function"?Promise:void 0,sA=typeof queueMicrotask=="function"?queueMicrotask:typeof yA<"u"?function(A){return yA.resolve(null).then(A).catch(Fs)}:Sn;function Fs(A){setTimeout(function(){throw A})}function el(A,s){var l=s,p=0;do{var y=l.nextSibling;if(A.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(p===0){A.removeChild(y),qn(s);return}p--}else l!=="$"&&l!=="$?"&&l!=="$!"||p++;l=y}while(l);qn(s)}function xi(A){for(;A!=null;A=A.nextSibling){var s=A.nodeType;if(s===1||s===3)break;if(s===8){if(s=A.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return A}function tu(A){A=A.previousSibling;for(var s=0;A;){if(A.nodeType===8){var l=A.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return A;s--}else l==="/$"&&s++}A=A.previousSibling}return null}var Yi=Math.random().toString(36).slice(2),Br="__reactFiber$"+Yi,Ss="__reactProps$"+Yi,Nt="__reactContainer$"+Yi,Is="__reactEvents$"+Yi,sd="__reactListeners$"+Yi,od="__reactHandles$"+Yi;function es(A){var s=A[Br];if(s)return s;for(var l=A.parentNode;l;){if(s=l[Nt]||l[Br]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(A=tu(A);A!==null;){if(l=A[Br])return l;A=tu(A)}return s}A=l,l=A.parentNode}return null}function ts(A){return A=A[Br]||A[Nt],!A||A.tag!==5&&A.tag!==6&&A.tag!==13&&A.tag!==3?null:A}function ns(A){if(A.tag===5||A.tag===6)return A.stateNode;throw Error(t(33))}function Aa(A){return A[Ss]||null}var ad=[],ra=-1;function Ls(A){return{current:A}}function tn(A){0>ra||(A.current=ad[ra],ad[ra]=null,ra--)}function Gt(A,s){ra++,ad[ra]=A.current,A.current=s}var ks={},oA=Ls(ks),NA=Ls(!1),Co=ks;function ia(A,s){var l=A.type.contextTypes;if(!l)return ks;var p=A.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===s)return p.__reactInternalMemoizedMaskedChildContext;var y={},x;for(x in l)y[x]=s[x];return p&&(A=A.stateNode,A.__reactInternalMemoizedUnmaskedChildContext=s,A.__reactInternalMemoizedMaskedChildContext=y),y}function jA(A){return A=A.childContextTypes,A!=null}function nu(){tn(NA),tn(oA)}function fp(A,s,l){if(oA.current!==ks)throw Error(t(168));Gt(oA,s),Gt(NA,l)}function pp(A,s,l){var p=A.stateNode;if(s=s.childContextTypes,typeof p.getChildContext!="function")return l;p=p.getChildContext();for(var y in p)if(!(y in s))throw Error(t(108,At(A)||"Unknown",y));return K({},l,p)}function Au(A){return A=(A=A.stateNode)&&A.__reactInternalMemoizedMergedChildContext||ks,Co=oA.current,Gt(oA,A),Gt(NA,NA.current),!0}function gp(A,s,l){var p=A.stateNode;if(!p)throw Error(t(169));l?(A=pp(A,s,Co),p.__reactInternalMemoizedMergedChildContext=A,tn(NA),tn(oA),Gt(oA,A)):tn(NA),Gt(NA,l)}var As=null,ru=!1,ld=!1;function mp(A){As===null?As=[A]:As.push(A)}function zy(A){ru=!0,mp(A)}function Ts(){if(!ld&&As!==null){ld=!0;var A=0,s=xt;try{var l=As;for(xt=1;A<l.length;A++){var p=l[A];do p=p(!0);while(p!==null)}As=null,ru=!1}catch(y){throw As!==null&&(As=As.slice(A+1)),po(hr,Ts),y}finally{xt=s,ld=!1}}return null}var sa=[],oa=0,iu=null,su=0,_r=[],Cr=0,xo=null,rs=1,is="";function bo(A,s){sa[oa++]=su,sa[oa++]=iu,iu=A,su=s}function vp(A,s,l){_r[Cr++]=rs,_r[Cr++]=is,_r[Cr++]=xo,xo=A;var p=rs;A=is;var y=32-ze(p)-1;p&=~(1<<y),l+=1;var x=32-ze(s)+y;if(30<x){var I=y-y%5;x=(p&(1<<I)-1).toString(32),p>>=I,y-=I,rs=1<<32-ze(s)+y|l<<y|p,is=x+A}else rs=1<<x|l<<y|p,is=A}function ud(A){A.return!==null&&(bo(A,1),vp(A,1,0))}function cd(A){for(;A===iu;)iu=sa[--oa],sa[oa]=null,su=sa[--oa],sa[oa]=null;for(;A===xo;)xo=_r[--Cr],_r[Cr]=null,is=_r[--Cr],_r[Cr]=null,rs=_r[--Cr],_r[Cr]=null}var tr=null,nr=null,nn=!1,Jr=null;function wp(A,s){var l=Ur(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=A,s=A.deletions,s===null?(A.deletions=[l],A.flags|=16):s.push(l)}function yp(A,s){switch(A.tag){case 5:var l=A.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(A.stateNode=s,tr=A,nr=xi(s.firstChild),!0):!1;case 6:return s=A.pendingProps===""||s.nodeType!==3?null:s,s!==null?(A.stateNode=s,tr=A,nr=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=xo!==null?{id:rs,overflow:is}:null,A.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=Ur(18,null,null,0),l.stateNode=s,l.return=A,A.child=l,tr=A,nr=null,!0):!1;default:return!1}}function dd(A){return(A.mode&1)!==0&&(A.flags&128)===0}function hd(A){if(nn){var s=nr;if(s){var l=s;if(!yp(A,s)){if(dd(A))throw Error(t(418));s=xi(l.nextSibling);var p=tr;s&&yp(A,s)?wp(p,l):(A.flags=A.flags&-4097|2,nn=!1,tr=A)}}else{if(dd(A))throw Error(t(418));A.flags=A.flags&-4097|2,nn=!1,tr=A}}}function Bp(A){for(A=A.return;A!==null&&A.tag!==5&&A.tag!==3&&A.tag!==13;)A=A.return;tr=A}function ou(A){if(A!==tr)return!1;if(!nn)return Bp(A),nn=!0,!1;var s;if((s=A.tag!==3)&&!(s=A.tag!==5)&&(s=A.type,s=s!=="head"&&s!=="body"&&!wt(A.type,A.memoizedProps)),s&&(s=nr)){if(dd(A))throw _p(),Error(t(418));for(;s;)wp(A,s),s=xi(s.nextSibling)}if(Bp(A),A.tag===13){if(A=A.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(t(317));e:{for(A=A.nextSibling,s=0;A;){if(A.nodeType===8){var l=A.data;if(l==="/$"){if(s===0){nr=xi(A.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}A=A.nextSibling}nr=null}}else nr=tr?xi(A.stateNode.nextSibling):null;return!0}function _p(){for(var A=nr;A;)A=xi(A.nextSibling)}function aa(){nr=tr=null,nn=!1}function fd(A){Jr===null?Jr=[A]:Jr.push(A)}var Wy=M.ReactCurrentBatchConfig;function tl(A,s,l){if(A=l.ref,A!==null&&typeof A!="function"&&typeof A!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var p=l.stateNode}if(!p)throw Error(t(147,A));var y=p,x=""+A;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===x?s.ref:(s=function(I){var V=y.refs;I===null?delete V[x]:V[x]=I},s._stringRef=x,s)}if(typeof A!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,A))}return A}function au(A,s){throw A=Object.prototype.toString.call(s),Error(t(31,A==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":A))}function Cp(A){var s=A._init;return s(A._payload)}function xp(A){function s(fe,ie){if(A){var me=fe.deletions;me===null?(fe.deletions=[ie],fe.flags|=16):me.push(ie)}}function l(fe,ie){if(!A)return null;for(;ie!==null;)s(fe,ie),ie=ie.sibling;return null}function p(fe,ie){for(fe=new Map;ie!==null;)ie.key!==null?fe.set(ie.key,ie):fe.set(ie.index,ie),ie=ie.sibling;return fe}function y(fe,ie){return fe=Ms(fe,ie),fe.index=0,fe.sibling=null,fe}function x(fe,ie,me){return fe.index=me,A?(me=fe.alternate,me!==null?(me=me.index,me<ie?(fe.flags|=2,ie):me):(fe.flags|=2,ie)):(fe.flags|=1048576,ie)}function I(fe){return A&&fe.alternate===null&&(fe.flags|=2),fe}function V(fe,ie,me,Me){return ie===null||ie.tag!==6?(ie=ih(me,fe.mode,Me),ie.return=fe,ie):(ie=y(ie,me),ie.return=fe,ie)}function ee(fe,ie,me,Me){var ot=me.type;return ot===xe?ke(fe,ie,me.props.children,Me,me.key):ie!==null&&(ie.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===se&&Cp(ot)===ie.type)?(Me=y(ie,me.props),Me.ref=tl(fe,ie,me),Me.return=fe,Me):(Me=Lu(me.type,me.key,me.props,null,fe.mode,Me),Me.ref=tl(fe,ie,me),Me.return=fe,Me)}function Be(fe,ie,me,Me){return ie===null||ie.tag!==4||ie.stateNode.containerInfo!==me.containerInfo||ie.stateNode.implementation!==me.implementation?(ie=sh(me,fe.mode,Me),ie.return=fe,ie):(ie=y(ie,me.children||[]),ie.return=fe,ie)}function ke(fe,ie,me,Me,ot){return ie===null||ie.tag!==7?(ie=ko(me,fe.mode,Me,ot),ie.return=fe,ie):(ie=y(ie,me),ie.return=fe,ie)}function je(fe,ie,me){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return ie=ih(""+ie,fe.mode,me),ie.return=fe,ie;if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case $:return me=Lu(ie.type,ie.key,ie.props,null,fe.mode,me),me.ref=tl(fe,null,ie),me.return=fe,me;case q:return ie=sh(ie,fe.mode,me),ie.return=fe,ie;case se:var Me=ie._init;return je(fe,Me(ie._payload),me)}if(ir(ie)||Pe(ie))return ie=ko(ie,fe.mode,me,null),ie.return=fe,ie;au(fe,ie)}return null}function Le(fe,ie,me,Me){var ot=ie!==null?ie.key:null;if(typeof me=="string"&&me!==""||typeof me=="number")return ot!==null?null:V(fe,ie,""+me,Me);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case $:return me.key===ot?ee(fe,ie,me,Me):null;case q:return me.key===ot?Be(fe,ie,me,Me):null;case se:return ot=me._init,Le(fe,ie,ot(me._payload),Me)}if(ir(me)||Pe(me))return ot!==null?null:ke(fe,ie,me,Me,null);au(fe,me)}return null}function Xe(fe,ie,me,Me,ot){if(typeof Me=="string"&&Me!==""||typeof Me=="number")return fe=fe.get(me)||null,V(ie,fe,""+Me,ot);if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case $:return fe=fe.get(Me.key===null?me:Me.key)||null,ee(ie,fe,Me,ot);case q:return fe=fe.get(Me.key===null?me:Me.key)||null,Be(ie,fe,Me,ot);case se:var ht=Me._init;return Xe(fe,ie,me,ht(Me._payload),ot)}if(ir(Me)||Pe(Me))return fe=fe.get(me)||null,ke(ie,fe,Me,ot,null);au(ie,Me)}return null}function it(fe,ie,me,Me){for(var ot=null,ht=null,ft=ie,vt=ie=0,zn=null;ft!==null&&vt<me.length;vt++){ft.index>vt?(zn=ft,ft=null):zn=ft.sibling;var Pt=Le(fe,ft,me[vt],Me);if(Pt===null){ft===null&&(ft=zn);break}A&&ft&&Pt.alternate===null&&s(fe,ft),ie=x(Pt,ie,vt),ht===null?ot=Pt:ht.sibling=Pt,ht=Pt,ft=zn}if(vt===me.length)return l(fe,ft),nn&&bo(fe,vt),ot;if(ft===null){for(;vt<me.length;vt++)ft=je(fe,me[vt],Me),ft!==null&&(ie=x(ft,ie,vt),ht===null?ot=ft:ht.sibling=ft,ht=ft);return nn&&bo(fe,vt),ot}for(ft=p(fe,ft);vt<me.length;vt++)zn=Xe(ft,fe,vt,me[vt],Me),zn!==null&&(A&&zn.alternate!==null&&ft.delete(zn.key===null?vt:zn.key),ie=x(zn,ie,vt),ht===null?ot=zn:ht.sibling=zn,ht=zn);return A&&ft.forEach(function(Ks){return s(fe,Ks)}),nn&&bo(fe,vt),ot}function st(fe,ie,me,Me){var ot=Pe(me);if(typeof ot!="function")throw Error(t(150));if(me=ot.call(me),me==null)throw Error(t(151));for(var ht=ot=null,ft=ie,vt=ie=0,zn=null,Pt=me.next();ft!==null&&!Pt.done;vt++,Pt=me.next()){ft.index>vt?(zn=ft,ft=null):zn=ft.sibling;var Ks=Le(fe,ft,Pt.value,Me);if(Ks===null){ft===null&&(ft=zn);break}A&&ft&&Ks.alternate===null&&s(fe,ft),ie=x(Ks,ie,vt),ht===null?ot=Ks:ht.sibling=Ks,ht=Ks,ft=zn}if(Pt.done)return l(fe,ft),nn&&bo(fe,vt),ot;if(ft===null){for(;!Pt.done;vt++,Pt=me.next())Pt=je(fe,Pt.value,Me),Pt!==null&&(ie=x(Pt,ie,vt),ht===null?ot=Pt:ht.sibling=Pt,ht=Pt);return nn&&bo(fe,vt),ot}for(ft=p(fe,ft);!Pt.done;vt++,Pt=me.next())Pt=Xe(ft,fe,vt,Pt.value,Me),Pt!==null&&(A&&Pt.alternate!==null&&ft.delete(Pt.key===null?vt:Pt.key),ie=x(Pt,ie,vt),ht===null?ot=Pt:ht.sibling=Pt,ht=Pt);return A&&ft.forEach(function(QB){return s(fe,QB)}),nn&&bo(fe,vt),ot}function wn(fe,ie,me,Me){if(typeof me=="object"&&me!==null&&me.type===xe&&me.key===null&&(me=me.props.children),typeof me=="object"&&me!==null){switch(me.$$typeof){case $:e:{for(var ot=me.key,ht=ie;ht!==null;){if(ht.key===ot){if(ot=me.type,ot===xe){if(ht.tag===7){l(fe,ht.sibling),ie=y(ht,me.props.children),ie.return=fe,fe=ie;break e}}else if(ht.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===se&&Cp(ot)===ht.type){l(fe,ht.sibling),ie=y(ht,me.props),ie.ref=tl(fe,ht,me),ie.return=fe,fe=ie;break e}l(fe,ht);break}else s(fe,ht);ht=ht.sibling}me.type===xe?(ie=ko(me.props.children,fe.mode,Me,me.key),ie.return=fe,fe=ie):(Me=Lu(me.type,me.key,me.props,null,fe.mode,Me),Me.ref=tl(fe,ie,me),Me.return=fe,fe=Me)}return I(fe);case q:e:{for(ht=me.key;ie!==null;){if(ie.key===ht)if(ie.tag===4&&ie.stateNode.containerInfo===me.containerInfo&&ie.stateNode.implementation===me.implementation){l(fe,ie.sibling),ie=y(ie,me.children||[]),ie.return=fe,fe=ie;break e}else{l(fe,ie);break}else s(fe,ie);ie=ie.sibling}ie=sh(me,fe.mode,Me),ie.return=fe,fe=ie}return I(fe);case se:return ht=me._init,wn(fe,ie,ht(me._payload),Me)}if(ir(me))return it(fe,ie,me,Me);if(Pe(me))return st(fe,ie,me,Me);au(fe,me)}return typeof me=="string"&&me!==""||typeof me=="number"?(me=""+me,ie!==null&&ie.tag===6?(l(fe,ie.sibling),ie=y(ie,me),ie.return=fe,fe=ie):(l(fe,ie),ie=ih(me,fe.mode,Me),ie.return=fe,fe=ie),I(fe)):l(fe,ie)}return wn}var la=xp(!0),bp=xp(!1),lu=Ls(null),uu=null,ua=null,pd=null;function gd(){pd=ua=uu=null}function md(A){var s=lu.current;tn(lu),A._currentValue=s}function vd(A,s,l){for(;A!==null;){var p=A.alternate;if((A.childLanes&s)!==s?(A.childLanes|=s,p!==null&&(p.childLanes|=s)):p!==null&&(p.childLanes&s)!==s&&(p.childLanes|=s),A===l)break;A=A.return}}function ca(A,s){uu=A,pd=ua=null,A=A.dependencies,A!==null&&A.firstContext!==null&&((A.lanes&s)!==0&&(HA=!0),A.firstContext=null)}function xr(A){var s=A._currentValue;if(pd!==A)if(A={context:A,memoizedValue:s,next:null},ua===null){if(uu===null)throw Error(t(308));ua=A,uu.dependencies={lanes:0,firstContext:A}}else ua=ua.next=A;return s}var Qo=null;function wd(A){Qo===null?Qo=[A]:Qo.push(A)}function Qp(A,s,l,p){var y=s.interleaved;return y===null?(l.next=l,wd(s)):(l.next=y.next,y.next=l),s.interleaved=l,ss(A,p)}function ss(A,s){A.lanes|=s;var l=A.alternate;for(l!==null&&(l.lanes|=s),l=A,A=A.return;A!==null;)A.childLanes|=s,l=A.alternate,l!==null&&(l.childLanes|=s),l=A,A=A.return;return l.tag===3?l.stateNode:null}var Ps=!1;function yd(A){A.updateQueue={baseState:A.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Up(A,s){A=A.updateQueue,s.updateQueue===A&&(s.updateQueue={baseState:A.baseState,firstBaseUpdate:A.firstBaseUpdate,lastBaseUpdate:A.lastBaseUpdate,shared:A.shared,effects:A.effects})}function os(A,s){return{eventTime:A,lane:s,tag:0,payload:null,callback:null,next:null}}function Ns(A,s,l){var p=A.updateQueue;if(p===null)return null;if(p=p.shared,(Lt&2)!==0){var y=p.pending;return y===null?s.next=s:(s.next=y.next,y.next=s),p.pending=s,ss(A,l)}return y=p.interleaved,y===null?(s.next=s,wd(p)):(s.next=y.next,y.next=s),p.interleaved=s,ss(A,l)}function cu(A,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var p=s.lanes;p&=A.pendingLanes,l|=p,s.lanes=l,Zn(A,l)}}function Ep(A,s){var l=A.updateQueue,p=A.alternate;if(p!==null&&(p=p.updateQueue,l===p)){var y=null,x=null;if(l=l.firstBaseUpdate,l!==null){do{var I={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};x===null?y=x=I:x=x.next=I,l=l.next}while(l!==null);x===null?y=x=s:x=x.next=s}else y=x=s;l={baseState:p.baseState,firstBaseUpdate:y,lastBaseUpdate:x,shared:p.shared,effects:p.effects},A.updateQueue=l;return}A=l.lastBaseUpdate,A===null?l.firstBaseUpdate=s:A.next=s,l.lastBaseUpdate=s}function du(A,s,l,p){var y=A.updateQueue;Ps=!1;var x=y.firstBaseUpdate,I=y.lastBaseUpdate,V=y.shared.pending;if(V!==null){y.shared.pending=null;var ee=V,Be=ee.next;ee.next=null,I===null?x=Be:I.next=Be,I=ee;var ke=A.alternate;ke!==null&&(ke=ke.updateQueue,V=ke.lastBaseUpdate,V!==I&&(V===null?ke.firstBaseUpdate=Be:V.next=Be,ke.lastBaseUpdate=ee))}if(x!==null){var je=y.baseState;I=0,ke=Be=ee=null,V=x;do{var Le=V.lane,Xe=V.eventTime;if((p&Le)===Le){ke!==null&&(ke=ke.next={eventTime:Xe,lane:0,tag:V.tag,payload:V.payload,callback:V.callback,next:null});e:{var it=A,st=V;switch(Le=s,Xe=l,st.tag){case 1:if(it=st.payload,typeof it=="function"){je=it.call(Xe,je,Le);break e}je=it;break e;case 3:it.flags=it.flags&-65537|128;case 0:if(it=st.payload,Le=typeof it=="function"?it.call(Xe,je,Le):it,Le==null)break e;je=K({},je,Le);break e;case 2:Ps=!0}}V.callback!==null&&V.lane!==0&&(A.flags|=64,Le=y.effects,Le===null?y.effects=[V]:Le.push(V))}else Xe={eventTime:Xe,lane:Le,tag:V.tag,payload:V.payload,callback:V.callback,next:null},ke===null?(Be=ke=Xe,ee=je):ke=ke.next=Xe,I|=Le;if(V=V.next,V===null){if(V=y.shared.pending,V===null)break;Le=V,V=Le.next,Le.next=null,y.lastBaseUpdate=Le,y.shared.pending=null}}while(!0);if(ke===null&&(ee=je),y.baseState=ee,y.firstBaseUpdate=Be,y.lastBaseUpdate=ke,s=y.shared.interleaved,s!==null){y=s;do I|=y.lane,y=y.next;while(y!==s)}else x===null&&(y.shared.lanes=0);Fo|=I,A.lanes=I,A.memoizedState=je}}function Fp(A,s,l){if(A=s.effects,s.effects=null,A!==null)for(s=0;s<A.length;s++){var p=A[s],y=p.callback;if(y!==null){if(p.callback=null,p=l,typeof y!="function")throw Error(t(191,y));y.call(p)}}}var nl={},bi=Ls(nl),Al=Ls(nl),rl=Ls(nl);function Uo(A){if(A===nl)throw Error(t(174));return A}function Bd(A,s){switch(Gt(rl,s),Gt(Al,A),Gt(bi,nl),A=s.nodeType,A){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:EA(null,"");break;default:A=A===8?s.parentNode:s,s=A.namespaceURI||null,A=A.tagName,s=EA(s,A)}tn(bi),Gt(bi,s)}function da(){tn(bi),tn(Al),tn(rl)}function Sp(A){Uo(rl.current);var s=Uo(bi.current),l=EA(s,A.type);s!==l&&(Gt(Al,A),Gt(bi,l))}function _d(A){Al.current===A&&(tn(bi),tn(Al))}var sn=Ls(0);function hu(A){for(var s=A;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===A)break;for(;s.sibling===null;){if(s.return===null||s.return===A)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Cd=[];function xd(){for(var A=0;A<Cd.length;A++)Cd[A]._workInProgressVersionPrimary=null;Cd.length=0}var fu=M.ReactCurrentDispatcher,bd=M.ReactCurrentBatchConfig,Eo=0,on=null,In=null,Vn=null,pu=!1,il=!1,sl=0,$y=0;function aA(){throw Error(t(321))}function Qd(A,s){if(s===null)return!1;for(var l=0;l<s.length&&l<A.length;l++)if(!re(A[l],s[l]))return!1;return!0}function Ud(A,s,l,p,y,x){if(Eo=x,on=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,fu.current=A===null||A.memoizedState===null?Xy:Yy,A=l(p,y),il){x=0;do{if(il=!1,sl=0,25<=x)throw Error(t(301));x+=1,Vn=In=null,s.updateQueue=null,fu.current=eB,A=l(p,y)}while(il)}if(fu.current=vu,s=In!==null&&In.next!==null,Eo=0,Vn=In=on=null,pu=!1,s)throw Error(t(300));return A}function Ed(){var A=sl!==0;return sl=0,A}function Qi(){var A={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vn===null?on.memoizedState=Vn=A:Vn=Vn.next=A,Vn}function br(){if(In===null){var A=on.alternate;A=A!==null?A.memoizedState:null}else A=In.next;var s=Vn===null?on.memoizedState:Vn.next;if(s!==null)Vn=s,In=A;else{if(A===null)throw Error(t(310));In=A,A={memoizedState:In.memoizedState,baseState:In.baseState,baseQueue:In.baseQueue,queue:In.queue,next:null},Vn===null?on.memoizedState=Vn=A:Vn=Vn.next=A}return Vn}function ol(A,s){return typeof s=="function"?s(A):s}function Fd(A){var s=br(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=A;var p=In,y=p.baseQueue,x=l.pending;if(x!==null){if(y!==null){var I=y.next;y.next=x.next,x.next=I}p.baseQueue=y=x,l.pending=null}if(y!==null){x=y.next,p=p.baseState;var V=I=null,ee=null,Be=x;do{var ke=Be.lane;if((Eo&ke)===ke)ee!==null&&(ee=ee.next={lane:0,action:Be.action,hasEagerState:Be.hasEagerState,eagerState:Be.eagerState,next:null}),p=Be.hasEagerState?Be.eagerState:A(p,Be.action);else{var je={lane:ke,action:Be.action,hasEagerState:Be.hasEagerState,eagerState:Be.eagerState,next:null};ee===null?(V=ee=je,I=p):ee=ee.next=je,on.lanes|=ke,Fo|=ke}Be=Be.next}while(Be!==null&&Be!==x);ee===null?I=p:ee.next=V,re(p,s.memoizedState)||(HA=!0),s.memoizedState=p,s.baseState=I,s.baseQueue=ee,l.lastRenderedState=p}if(A=l.interleaved,A!==null){y=A;do x=y.lane,on.lanes|=x,Fo|=x,y=y.next;while(y!==A)}else y===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function Sd(A){var s=br(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=A;var p=l.dispatch,y=l.pending,x=s.memoizedState;if(y!==null){l.pending=null;var I=y=y.next;do x=A(x,I.action),I=I.next;while(I!==y);re(x,s.memoizedState)||(HA=!0),s.memoizedState=x,s.baseQueue===null&&(s.baseState=x),l.lastRenderedState=x}return[x,p]}function Ip(){}function Lp(A,s){var l=on,p=br(),y=s(),x=!re(p.memoizedState,y);if(x&&(p.memoizedState=y,HA=!0),p=p.queue,Id(Pp.bind(null,l,p,A),[A]),p.getSnapshot!==s||x||Vn!==null&&Vn.memoizedState.tag&1){if(l.flags|=2048,al(9,Tp.bind(null,l,p,y,s),void 0,null),Gn===null)throw Error(t(349));(Eo&30)!==0||kp(l,s,y)}return y}function kp(A,s,l){A.flags|=16384,A={getSnapshot:s,value:l},s=on.updateQueue,s===null?(s={lastEffect:null,stores:null},on.updateQueue=s,s.stores=[A]):(l=s.stores,l===null?s.stores=[A]:l.push(A))}function Tp(A,s,l,p){s.value=l,s.getSnapshot=p,Np(s)&&jp(A)}function Pp(A,s,l){return l(function(){Np(s)&&jp(A)})}function Np(A){var s=A.getSnapshot;A=A.value;try{var l=s();return!re(A,l)}catch{return!0}}function jp(A){var s=ss(A,1);s!==null&&ei(s,A,1,-1)}function Hp(A){var s=Qi();return typeof A=="function"&&(A=A()),s.memoizedState=s.baseState=A,A={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ol,lastRenderedState:A},s.queue=A,A=A.dispatch=qy.bind(null,on,A),[s.memoizedState,A]}function al(A,s,l,p){return A={tag:A,create:s,destroy:l,deps:p,next:null},s=on.updateQueue,s===null?(s={lastEffect:null,stores:null},on.updateQueue=s,s.lastEffect=A.next=A):(l=s.lastEffect,l===null?s.lastEffect=A.next=A:(p=l.next,l.next=A,A.next=p,s.lastEffect=A)),A}function Op(){return br().memoizedState}function gu(A,s,l,p){var y=Qi();on.flags|=A,y.memoizedState=al(1|s,l,void 0,p===void 0?null:p)}function mu(A,s,l,p){var y=br();p=p===void 0?null:p;var x=void 0;if(In!==null){var I=In.memoizedState;if(x=I.destroy,p!==null&&Qd(p,I.deps)){y.memoizedState=al(s,l,x,p);return}}on.flags|=A,y.memoizedState=al(1|s,l,x,p)}function Dp(A,s){return gu(8390656,8,A,s)}function Id(A,s){return mu(2048,8,A,s)}function Rp(A,s){return mu(4,2,A,s)}function Mp(A,s){return mu(4,4,A,s)}function Kp(A,s){if(typeof s=="function")return A=A(),s(A),function(){s(null)};if(s!=null)return A=A(),s.current=A,function(){s.current=null}}function Vp(A,s,l){return l=l!=null?l.concat([A]):null,mu(4,4,Kp.bind(null,s,A),l)}function Ld(){}function Gp(A,s){var l=br();s=s===void 0?null:s;var p=l.memoizedState;return p!==null&&s!==null&&Qd(s,p[1])?p[0]:(l.memoizedState=[A,s],A)}function zp(A,s){var l=br();s=s===void 0?null:s;var p=l.memoizedState;return p!==null&&s!==null&&Qd(s,p[1])?p[0]:(A=A(),l.memoizedState=[A,s],A)}function Wp(A,s,l){return(Eo&21)===0?(A.baseState&&(A.baseState=!1,HA=!0),A.memoizedState=l):(re(l,s)||(l=Di(),on.lanes|=l,Fo|=l,A.baseState=!0),s)}function Zy(A,s){var l=xt;xt=l!==0&&4>l?l:4,A(!0);var p=bd.transition;bd.transition={};try{A(!1),s()}finally{xt=l,bd.transition=p}}function $p(){return br().memoizedState}function Jy(A,s,l){var p=Ds(A);if(l={lane:p,action:l,hasEagerState:!1,eagerState:null,next:null},Zp(A))Jp(s,l);else if(l=Qp(A,s,l,p),l!==null){var y=_A();ei(l,A,p,y),qp(l,s,p)}}function qy(A,s,l){var p=Ds(A),y={lane:p,action:l,hasEagerState:!1,eagerState:null,next:null};if(Zp(A))Jp(s,y);else{var x=A.alternate;if(A.lanes===0&&(x===null||x.lanes===0)&&(x=s.lastRenderedReducer,x!==null))try{var I=s.lastRenderedState,V=x(I,l);if(y.hasEagerState=!0,y.eagerState=V,re(V,I)){var ee=s.interleaved;ee===null?(y.next=y,wd(s)):(y.next=ee.next,ee.next=y),s.interleaved=y;return}}catch{}finally{}l=Qp(A,s,y,p),l!==null&&(y=_A(),ei(l,A,p,y),qp(l,s,p))}}function Zp(A){var s=A.alternate;return A===on||s!==null&&s===on}function Jp(A,s){il=pu=!0;var l=A.pending;l===null?s.next=s:(s.next=l.next,l.next=s),A.pending=s}function qp(A,s,l){if((l&4194240)!==0){var p=s.lanes;p&=A.pendingLanes,l|=p,s.lanes=l,Zn(A,l)}}var vu={readContext:xr,useCallback:aA,useContext:aA,useEffect:aA,useImperativeHandle:aA,useInsertionEffect:aA,useLayoutEffect:aA,useMemo:aA,useReducer:aA,useRef:aA,useState:aA,useDebugValue:aA,useDeferredValue:aA,useTransition:aA,useMutableSource:aA,useSyncExternalStore:aA,useId:aA,unstable_isNewReconciler:!1},Xy={readContext:xr,useCallback:function(A,s){return Qi().memoizedState=[A,s===void 0?null:s],A},useContext:xr,useEffect:Dp,useImperativeHandle:function(A,s,l){return l=l!=null?l.concat([A]):null,gu(4194308,4,Kp.bind(null,s,A),l)},useLayoutEffect:function(A,s){return gu(4194308,4,A,s)},useInsertionEffect:function(A,s){return gu(4,2,A,s)},useMemo:function(A,s){var l=Qi();return s=s===void 0?null:s,A=A(),l.memoizedState=[A,s],A},useReducer:function(A,s,l){var p=Qi();return s=l!==void 0?l(s):s,p.memoizedState=p.baseState=s,A={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:A,lastRenderedState:s},p.queue=A,A=A.dispatch=Jy.bind(null,on,A),[p.memoizedState,A]},useRef:function(A){var s=Qi();return A={current:A},s.memoizedState=A},useState:Hp,useDebugValue:Ld,useDeferredValue:function(A){return Qi().memoizedState=A},useTransition:function(){var A=Hp(!1),s=A[0];return A=Zy.bind(null,A[1]),Qi().memoizedState=A,[s,A]},useMutableSource:function(){},useSyncExternalStore:function(A,s,l){var p=on,y=Qi();if(nn){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),Gn===null)throw Error(t(349));(Eo&30)!==0||kp(p,s,l)}y.memoizedState=l;var x={value:l,getSnapshot:s};return y.queue=x,Dp(Pp.bind(null,p,x,A),[A]),p.flags|=2048,al(9,Tp.bind(null,p,x,l,s),void 0,null),l},useId:function(){var A=Qi(),s=Gn.identifierPrefix;if(nn){var l=is,p=rs;l=(p&~(1<<32-ze(p)-1)).toString(32)+l,s=":"+s+"R"+l,l=sl++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=$y++,s=":"+s+"r"+l.toString(32)+":";return A.memoizedState=s},unstable_isNewReconciler:!1},Yy={readContext:xr,useCallback:Gp,useContext:xr,useEffect:Id,useImperativeHandle:Vp,useInsertionEffect:Rp,useLayoutEffect:Mp,useMemo:zp,useReducer:Fd,useRef:Op,useState:function(){return Fd(ol)},useDebugValue:Ld,useDeferredValue:function(A){var s=br();return Wp(s,In.memoizedState,A)},useTransition:function(){var A=Fd(ol)[0],s=br().memoizedState;return[A,s]},useMutableSource:Ip,useSyncExternalStore:Lp,useId:$p,unstable_isNewReconciler:!1},eB={readContext:xr,useCallback:Gp,useContext:xr,useEffect:Id,useImperativeHandle:Vp,useInsertionEffect:Rp,useLayoutEffect:Mp,useMemo:zp,useReducer:Sd,useRef:Op,useState:function(){return Sd(ol)},useDebugValue:Ld,useDeferredValue:function(A){var s=br();return In===null?s.memoizedState=A:Wp(s,In.memoizedState,A)},useTransition:function(){var A=Sd(ol)[0],s=br().memoizedState;return[A,s]},useMutableSource:Ip,useSyncExternalStore:Lp,useId:$p,unstable_isNewReconciler:!1};function qr(A,s){if(A&&A.defaultProps){s=K({},s),A=A.defaultProps;for(var l in A)s[l]===void 0&&(s[l]=A[l]);return s}return s}function kd(A,s,l,p){s=A.memoizedState,l=l(p,s),l=l==null?s:K({},s,l),A.memoizedState=l,A.lanes===0&&(A.updateQueue.baseState=l)}var wu={isMounted:function(A){return(A=A._reactInternals)?En(A)===A:!1},enqueueSetState:function(A,s,l){A=A._reactInternals;var p=_A(),y=Ds(A),x=os(p,y);x.payload=s,l!=null&&(x.callback=l),s=Ns(A,x,y),s!==null&&(ei(s,A,y,p),cu(s,A,y))},enqueueReplaceState:function(A,s,l){A=A._reactInternals;var p=_A(),y=Ds(A),x=os(p,y);x.tag=1,x.payload=s,l!=null&&(x.callback=l),s=Ns(A,x,y),s!==null&&(ei(s,A,y,p),cu(s,A,y))},enqueueForceUpdate:function(A,s){A=A._reactInternals;var l=_A(),p=Ds(A),y=os(l,p);y.tag=2,s!=null&&(y.callback=s),s=Ns(A,y,p),s!==null&&(ei(s,A,p,l),cu(s,A,p))}};function Xp(A,s,l,p,y,x,I){return A=A.stateNode,typeof A.shouldComponentUpdate=="function"?A.shouldComponentUpdate(p,x,I):s.prototype&&s.prototype.isPureReactComponent?!W(l,p)||!W(y,x):!0}function Yp(A,s,l){var p=!1,y=ks,x=s.contextType;return typeof x=="object"&&x!==null?x=xr(x):(y=jA(s)?Co:oA.current,p=s.contextTypes,x=(p=p!=null)?ia(A,y):ks),s=new s(l,x),A.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=wu,A.stateNode=s,s._reactInternals=A,p&&(A=A.stateNode,A.__reactInternalMemoizedUnmaskedChildContext=y,A.__reactInternalMemoizedMaskedChildContext=x),s}function eg(A,s,l,p){A=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,p),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,p),s.state!==A&&wu.enqueueReplaceState(s,s.state,null)}function Td(A,s,l,p){var y=A.stateNode;y.props=l,y.state=A.memoizedState,y.refs={},yd(A);var x=s.contextType;typeof x=="object"&&x!==null?y.context=xr(x):(x=jA(s)?Co:oA.current,y.context=ia(A,x)),y.state=A.memoizedState,x=s.getDerivedStateFromProps,typeof x=="function"&&(kd(A,s,x,l),y.state=A.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(s=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),s!==y.state&&wu.enqueueReplaceState(y,y.state,null),du(A,l,y,p),y.state=A.memoizedState),typeof y.componentDidMount=="function"&&(A.flags|=4194308)}function ha(A,s){try{var l="",p=s;do l+=Ne(p),p=p.return;while(p);var y=l}catch(x){y=`
Error generating stack: `+x.message+`
`+x.stack}return{value:A,source:s,stack:y,digest:null}}function Pd(A,s,l){return{value:A,source:null,stack:l??null,digest:s??null}}function Nd(A,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var tB=typeof WeakMap=="function"?WeakMap:Map;function tg(A,s,l){l=os(-1,l),l.tag=3,l.payload={element:null};var p=s.value;return l.callback=function(){Qu||(Qu=!0,qd=p),Nd(A,s)},l}function ng(A,s,l){l=os(-1,l),l.tag=3;var p=A.type.getDerivedStateFromError;if(typeof p=="function"){var y=s.value;l.payload=function(){return p(y)},l.callback=function(){Nd(A,s)}}var x=A.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(l.callback=function(){Nd(A,s),typeof p!="function"&&(Hs===null?Hs=new Set([this]):Hs.add(this));var I=s.stack;this.componentDidCatch(s.value,{componentStack:I!==null?I:""})}),l}function Ag(A,s,l){var p=A.pingCache;if(p===null){p=A.pingCache=new tB;var y=new Set;p.set(s,y)}else y=p.get(s),y===void 0&&(y=new Set,p.set(s,y));y.has(l)||(y.add(l),A=pB.bind(null,A,s,l),s.then(A,A))}function rg(A){do{var s;if((s=A.tag===13)&&(s=A.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return A;A=A.return}while(A!==null);return null}function ig(A,s,l,p,y){return(A.mode&1)===0?(A===s?A.flags|=65536:(A.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=os(-1,1),s.tag=2,Ns(l,s,1))),l.lanes|=1),A):(A.flags|=65536,A.lanes=y,A)}var nB=M.ReactCurrentOwner,HA=!1;function BA(A,s,l,p){s.child=A===null?bp(s,null,l,p):la(s,A.child,l,p)}function sg(A,s,l,p,y){l=l.render;var x=s.ref;return ca(s,y),p=Ud(A,s,l,p,x,y),l=Ed(),A!==null&&!HA?(s.updateQueue=A.updateQueue,s.flags&=-2053,A.lanes&=~y,as(A,s,y)):(nn&&l&&ud(s),s.flags|=1,BA(A,s,p,y),s.child)}function og(A,s,l,p,y){if(A===null){var x=l.type;return typeof x=="function"&&!rh(x)&&x.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=x,ag(A,s,x,p,y)):(A=Lu(l.type,null,p,s,s.mode,y),A.ref=s.ref,A.return=s,s.child=A)}if(x=A.child,(A.lanes&y)===0){var I=x.memoizedProps;if(l=l.compare,l=l!==null?l:W,l(I,p)&&A.ref===s.ref)return as(A,s,y)}return s.flags|=1,A=Ms(x,p),A.ref=s.ref,A.return=s,s.child=A}function ag(A,s,l,p,y){if(A!==null){var x=A.memoizedProps;if(W(x,p)&&A.ref===s.ref)if(HA=!1,s.pendingProps=p=x,(A.lanes&y)!==0)(A.flags&131072)!==0&&(HA=!0);else return s.lanes=A.lanes,as(A,s,y)}return jd(A,s,l,p,y)}function lg(A,s,l){var p=s.pendingProps,y=p.children,x=A!==null?A.memoizedState:null;if(p.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Gt(pa,Ar),Ar|=l;else{if((l&1073741824)===0)return A=x!==null?x.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:A,cachePool:null,transitions:null},s.updateQueue=null,Gt(pa,Ar),Ar|=A,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=x!==null?x.baseLanes:l,Gt(pa,Ar),Ar|=p}else x!==null?(p=x.baseLanes|l,s.memoizedState=null):p=l,Gt(pa,Ar),Ar|=p;return BA(A,s,y,l),s.child}function ug(A,s){var l=s.ref;(A===null&&l!==null||A!==null&&A.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function jd(A,s,l,p,y){var x=jA(l)?Co:oA.current;return x=ia(s,x),ca(s,y),l=Ud(A,s,l,p,x,y),p=Ed(),A!==null&&!HA?(s.updateQueue=A.updateQueue,s.flags&=-2053,A.lanes&=~y,as(A,s,y)):(nn&&p&&ud(s),s.flags|=1,BA(A,s,l,y),s.child)}function cg(A,s,l,p,y){if(jA(l)){var x=!0;Au(s)}else x=!1;if(ca(s,y),s.stateNode===null)Bu(A,s),Yp(s,l,p),Td(s,l,p,y),p=!0;else if(A===null){var I=s.stateNode,V=s.memoizedProps;I.props=V;var ee=I.context,Be=l.contextType;typeof Be=="object"&&Be!==null?Be=xr(Be):(Be=jA(l)?Co:oA.current,Be=ia(s,Be));var ke=l.getDerivedStateFromProps,je=typeof ke=="function"||typeof I.getSnapshotBeforeUpdate=="function";je||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(V!==p||ee!==Be)&&eg(s,I,p,Be),Ps=!1;var Le=s.memoizedState;I.state=Le,du(s,p,I,y),ee=s.memoizedState,V!==p||Le!==ee||NA.current||Ps?(typeof ke=="function"&&(kd(s,l,ke,p),ee=s.memoizedState),(V=Ps||Xp(s,l,V,p,Le,ee,Be))?(je||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(s.flags|=4194308)):(typeof I.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=p,s.memoizedState=ee),I.props=p,I.state=ee,I.context=Be,p=V):(typeof I.componentDidMount=="function"&&(s.flags|=4194308),p=!1)}else{I=s.stateNode,Up(A,s),V=s.memoizedProps,Be=s.type===s.elementType?V:qr(s.type,V),I.props=Be,je=s.pendingProps,Le=I.context,ee=l.contextType,typeof ee=="object"&&ee!==null?ee=xr(ee):(ee=jA(l)?Co:oA.current,ee=ia(s,ee));var Xe=l.getDerivedStateFromProps;(ke=typeof Xe=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(V!==je||Le!==ee)&&eg(s,I,p,ee),Ps=!1,Le=s.memoizedState,I.state=Le,du(s,p,I,y);var it=s.memoizedState;V!==je||Le!==it||NA.current||Ps?(typeof Xe=="function"&&(kd(s,l,Xe,p),it=s.memoizedState),(Be=Ps||Xp(s,l,Be,p,Le,it,ee)||!1)?(ke||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(p,it,ee),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(p,it,ee)),typeof I.componentDidUpdate=="function"&&(s.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof I.componentDidUpdate!="function"||V===A.memoizedProps&&Le===A.memoizedState||(s.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||V===A.memoizedProps&&Le===A.memoizedState||(s.flags|=1024),s.memoizedProps=p,s.memoizedState=it),I.props=p,I.state=it,I.context=ee,p=Be):(typeof I.componentDidUpdate!="function"||V===A.memoizedProps&&Le===A.memoizedState||(s.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||V===A.memoizedProps&&Le===A.memoizedState||(s.flags|=1024),p=!1)}return Hd(A,s,l,p,x,y)}function Hd(A,s,l,p,y,x){ug(A,s);var I=(s.flags&128)!==0;if(!p&&!I)return y&&gp(s,l,!1),as(A,s,x);p=s.stateNode,nB.current=s;var V=I&&typeof l.getDerivedStateFromError!="function"?null:p.render();return s.flags|=1,A!==null&&I?(s.child=la(s,A.child,null,x),s.child=la(s,null,V,x)):BA(A,s,V,x),s.memoizedState=p.state,y&&gp(s,l,!0),s.child}function dg(A){var s=A.stateNode;s.pendingContext?fp(A,s.pendingContext,s.pendingContext!==s.context):s.context&&fp(A,s.context,!1),Bd(A,s.containerInfo)}function hg(A,s,l,p,y){return aa(),fd(y),s.flags|=256,BA(A,s,l,p),s.child}var Od={dehydrated:null,treeContext:null,retryLane:0};function Dd(A){return{baseLanes:A,cachePool:null,transitions:null}}function fg(A,s,l){var p=s.pendingProps,y=sn.current,x=!1,I=(s.flags&128)!==0,V;if((V=I)||(V=A!==null&&A.memoizedState===null?!1:(y&2)!==0),V?(x=!0,s.flags&=-129):(A===null||A.memoizedState!==null)&&(y|=1),Gt(sn,y&1),A===null)return hd(s),A=s.memoizedState,A!==null&&(A=A.dehydrated,A!==null)?((s.mode&1)===0?s.lanes=1:A.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(I=p.children,A=p.fallback,x?(p=s.mode,x=s.child,I={mode:"hidden",children:I},(p&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=I):x=ku(I,p,0,null),A=ko(A,p,l,null),x.return=s,A.return=s,x.sibling=A,s.child=x,s.child.memoizedState=Dd(l),s.memoizedState=Od,A):Rd(s,I));if(y=A.memoizedState,y!==null&&(V=y.dehydrated,V!==null))return AB(A,s,I,p,V,y,l);if(x){x=p.fallback,I=s.mode,y=A.child,V=y.sibling;var ee={mode:"hidden",children:p.children};return(I&1)===0&&s.child!==y?(p=s.child,p.childLanes=0,p.pendingProps=ee,s.deletions=null):(p=Ms(y,ee),p.subtreeFlags=y.subtreeFlags&14680064),V!==null?x=Ms(V,x):(x=ko(x,I,l,null),x.flags|=2),x.return=s,p.return=s,p.sibling=x,s.child=p,p=x,x=s.child,I=A.child.memoizedState,I=I===null?Dd(l):{baseLanes:I.baseLanes|l,cachePool:null,transitions:I.transitions},x.memoizedState=I,x.childLanes=A.childLanes&~l,s.memoizedState=Od,p}return x=A.child,A=x.sibling,p=Ms(x,{mode:"visible",children:p.children}),(s.mode&1)===0&&(p.lanes=l),p.return=s,p.sibling=null,A!==null&&(l=s.deletions,l===null?(s.deletions=[A],s.flags|=16):l.push(A)),s.child=p,s.memoizedState=null,p}function Rd(A,s){return s=ku({mode:"visible",children:s},A.mode,0,null),s.return=A,A.child=s}function yu(A,s,l,p){return p!==null&&fd(p),la(s,A.child,null,l),A=Rd(s,s.pendingProps.children),A.flags|=2,s.memoizedState=null,A}function AB(A,s,l,p,y,x,I){if(l)return s.flags&256?(s.flags&=-257,p=Pd(Error(t(422))),yu(A,s,I,p)):s.memoizedState!==null?(s.child=A.child,s.flags|=128,null):(x=p.fallback,y=s.mode,p=ku({mode:"visible",children:p.children},y,0,null),x=ko(x,y,I,null),x.flags|=2,p.return=s,x.return=s,p.sibling=x,s.child=p,(s.mode&1)!==0&&la(s,A.child,null,I),s.child.memoizedState=Dd(I),s.memoizedState=Od,x);if((s.mode&1)===0)return yu(A,s,I,null);if(y.data==="$!"){if(p=y.nextSibling&&y.nextSibling.dataset,p)var V=p.dgst;return p=V,x=Error(t(419)),p=Pd(x,p,void 0),yu(A,s,I,p)}if(V=(I&A.childLanes)!==0,HA||V){if(p=Gn,p!==null){switch(I&-I){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(p.suspendedLanes|I))!==0?0:y,y!==0&&y!==x.retryLane&&(x.retryLane=y,ss(A,y),ei(p,A,y,-1))}return Ah(),p=Pd(Error(t(421))),yu(A,s,I,p)}return y.data==="$?"?(s.flags|=128,s.child=A.child,s=gB.bind(null,A),y._reactRetry=s,null):(A=x.treeContext,nr=xi(y.nextSibling),tr=s,nn=!0,Jr=null,A!==null&&(_r[Cr++]=rs,_r[Cr++]=is,_r[Cr++]=xo,rs=A.id,is=A.overflow,xo=s),s=Rd(s,p.children),s.flags|=4096,s)}function pg(A,s,l){A.lanes|=s;var p=A.alternate;p!==null&&(p.lanes|=s),vd(A.return,s,l)}function Md(A,s,l,p,y){var x=A.memoizedState;x===null?A.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:p,tail:l,tailMode:y}:(x.isBackwards=s,x.rendering=null,x.renderingStartTime=0,x.last=p,x.tail=l,x.tailMode=y)}function gg(A,s,l){var p=s.pendingProps,y=p.revealOrder,x=p.tail;if(BA(A,s,p.children,l),p=sn.current,(p&2)!==0)p=p&1|2,s.flags|=128;else{if(A!==null&&(A.flags&128)!==0)e:for(A=s.child;A!==null;){if(A.tag===13)A.memoizedState!==null&&pg(A,l,s);else if(A.tag===19)pg(A,l,s);else if(A.child!==null){A.child.return=A,A=A.child;continue}if(A===s)break e;for(;A.sibling===null;){if(A.return===null||A.return===s)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}p&=1}if(Gt(sn,p),(s.mode&1)===0)s.memoizedState=null;else switch(y){case"forwards":for(l=s.child,y=null;l!==null;)A=l.alternate,A!==null&&hu(A)===null&&(y=l),l=l.sibling;l=y,l===null?(y=s.child,s.child=null):(y=l.sibling,l.sibling=null),Md(s,!1,y,l,x);break;case"backwards":for(l=null,y=s.child,s.child=null;y!==null;){if(A=y.alternate,A!==null&&hu(A)===null){s.child=y;break}A=y.sibling,y.sibling=l,l=y,y=A}Md(s,!0,l,null,x);break;case"together":Md(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Bu(A,s){(s.mode&1)===0&&A!==null&&(A.alternate=null,s.alternate=null,s.flags|=2)}function as(A,s,l){if(A!==null&&(s.dependencies=A.dependencies),Fo|=s.lanes,(l&s.childLanes)===0)return null;if(A!==null&&s.child!==A.child)throw Error(t(153));if(s.child!==null){for(A=s.child,l=Ms(A,A.pendingProps),s.child=l,l.return=s;A.sibling!==null;)A=A.sibling,l=l.sibling=Ms(A,A.pendingProps),l.return=s;l.sibling=null}return s.child}function rB(A,s,l){switch(s.tag){case 3:dg(s),aa();break;case 5:Sp(s);break;case 1:jA(s.type)&&Au(s);break;case 4:Bd(s,s.stateNode.containerInfo);break;case 10:var p=s.type._context,y=s.memoizedProps.value;Gt(lu,p._currentValue),p._currentValue=y;break;case 13:if(p=s.memoizedState,p!==null)return p.dehydrated!==null?(Gt(sn,sn.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?fg(A,s,l):(Gt(sn,sn.current&1),A=as(A,s,l),A!==null?A.sibling:null);Gt(sn,sn.current&1);break;case 19:if(p=(l&s.childLanes)!==0,(A.flags&128)!==0){if(p)return gg(A,s,l);s.flags|=128}if(y=s.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),Gt(sn,sn.current),p)break;return null;case 22:case 23:return s.lanes=0,lg(A,s,l)}return as(A,s,l)}var mg,Kd,vg,wg;mg=function(A,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)A.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Kd=function(){},vg=function(A,s,l,p){var y=A.memoizedProps;if(y!==p){A=s.stateNode,Uo(bi.current);var x=null;switch(l){case"input":y=oo(A,y),p=oo(A,p),x=[];break;case"select":y=K({},y,{value:void 0}),p=K({},p,{value:void 0}),x=[];break;case"textarea":y=Pi(A,y),p=Pi(A,p),x=[];break;default:typeof y.onClick!="function"&&typeof p.onClick=="function"&&(A.onclick=Ue)}rt(l,p);var I;l=null;for(Be in y)if(!p.hasOwnProperty(Be)&&y.hasOwnProperty(Be)&&y[Be]!=null)if(Be==="style"){var V=y[Be];for(I in V)V.hasOwnProperty(I)&&(l||(l={}),l[I]="")}else Be!=="dangerouslySetInnerHTML"&&Be!=="children"&&Be!=="suppressContentEditableWarning"&&Be!=="suppressHydrationWarning"&&Be!=="autoFocus"&&(o.hasOwnProperty(Be)?x||(x=[]):(x=x||[]).push(Be,null));for(Be in p){var ee=p[Be];if(V=y?.[Be],p.hasOwnProperty(Be)&&ee!==V&&(ee!=null||V!=null))if(Be==="style")if(V){for(I in V)!V.hasOwnProperty(I)||ee&&ee.hasOwnProperty(I)||(l||(l={}),l[I]="");for(I in ee)ee.hasOwnProperty(I)&&V[I]!==ee[I]&&(l||(l={}),l[I]=ee[I])}else l||(x||(x=[]),x.push(Be,l)),l=ee;else Be==="dangerouslySetInnerHTML"?(ee=ee?ee.__html:void 0,V=V?V.__html:void 0,ee!=null&&V!==ee&&(x=x||[]).push(Be,ee)):Be==="children"?typeof ee!="string"&&typeof ee!="number"||(x=x||[]).push(Be,""+ee):Be!=="suppressContentEditableWarning"&&Be!=="suppressHydrationWarning"&&(o.hasOwnProperty(Be)?(ee!=null&&Be==="onScroll"&&Mt("scroll",A),x||V===ee||(x=[])):(x=x||[]).push(Be,ee))}l&&(x=x||[]).push("style",l);var Be=x;(s.updateQueue=Be)&&(s.flags|=4)}},wg=function(A,s,l,p){l!==p&&(s.flags|=4)};function ll(A,s){if(!nn)switch(A.tailMode){case"hidden":s=A.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?A.tail=null:l.sibling=null;break;case"collapsed":l=A.tail;for(var p=null;l!==null;)l.alternate!==null&&(p=l),l=l.sibling;p===null?s||A.tail===null?A.tail=null:A.tail.sibling=null:p.sibling=null}}function lA(A){var s=A.alternate!==null&&A.alternate.child===A.child,l=0,p=0;if(s)for(var y=A.child;y!==null;)l|=y.lanes|y.childLanes,p|=y.subtreeFlags&14680064,p|=y.flags&14680064,y.return=A,y=y.sibling;else for(y=A.child;y!==null;)l|=y.lanes|y.childLanes,p|=y.subtreeFlags,p|=y.flags,y.return=A,y=y.sibling;return A.subtreeFlags|=p,A.childLanes=l,s}function iB(A,s,l){var p=s.pendingProps;switch(cd(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lA(s),null;case 1:return jA(s.type)&&nu(),lA(s),null;case 3:return p=s.stateNode,da(),tn(NA),tn(oA),xd(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(A===null||A.child===null)&&(ou(s)?s.flags|=4:A===null||A.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Jr!==null&&(eh(Jr),Jr=null))),Kd(A,s),lA(s),null;case 5:_d(s);var y=Uo(rl.current);if(l=s.type,A!==null&&s.stateNode!=null)vg(A,s,l,p,y),A.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!p){if(s.stateNode===null)throw Error(t(166));return lA(s),null}if(A=Uo(bi.current),ou(s)){p=s.stateNode,l=s.type;var x=s.memoizedProps;switch(p[Br]=s,p[Ss]=x,A=(s.mode&1)!==0,l){case"dialog":Mt("cancel",p),Mt("close",p);break;case"iframe":case"object":case"embed":Mt("load",p);break;case"video":case"audio":for(y=0;y<Us.length;y++)Mt(Us[y],p);break;case"source":Mt("error",p);break;case"img":case"image":case"link":Mt("error",p),Mt("load",p);break;case"details":Mt("toggle",p);break;case"input":KA(p,x),Mt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!x.multiple},Mt("invalid",p);break;case"textarea":Lr(p,x),Mt("invalid",p)}rt(l,x),y=null;for(var I in x)if(x.hasOwnProperty(I)){var V=x[I];I==="children"?typeof V=="string"?p.textContent!==V&&(x.suppressHydrationWarning!==!0&&we(p.textContent,V,A),y=["children",V]):typeof V=="number"&&p.textContent!==""+V&&(x.suppressHydrationWarning!==!0&&we(p.textContent,V,A),y=["children",""+V]):o.hasOwnProperty(I)&&V!=null&&I==="onScroll"&&Mt("scroll",p)}switch(l){case"input":fA(p),Ti(p,x,!0);break;case"textarea":fA(p),si(p);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(p.onclick=Ue)}p=y,s.updateQueue=p,p!==null&&(s.flags|=4)}else{I=y.nodeType===9?y:y.ownerDocument,A==="http://www.w3.org/1999/xhtml"&&(A=UA(l)),A==="http://www.w3.org/1999/xhtml"?l==="script"?(A=I.createElement("div"),A.innerHTML="<script><\/script>",A=A.removeChild(A.firstChild)):typeof p.is=="string"?A=I.createElement(l,{is:p.is}):(A=I.createElement(l),l==="select"&&(I=A,p.multiple?I.multiple=!0:p.size&&(I.size=p.size))):A=I.createElementNS(A,l),A[Br]=s,A[Ss]=p,mg(A,s,!1,!1),s.stateNode=A;e:{switch(I=pA(l,p),l){case"dialog":Mt("cancel",A),Mt("close",A),y=p;break;case"iframe":case"object":case"embed":Mt("load",A),y=p;break;case"video":case"audio":for(y=0;y<Us.length;y++)Mt(Us[y],A);y=p;break;case"source":Mt("error",A),y=p;break;case"img":case"image":case"link":Mt("error",A),Mt("load",A),y=p;break;case"details":Mt("toggle",A),y=p;break;case"input":KA(A,p),y=oo(A,p),Mt("invalid",A);break;case"option":y=p;break;case"select":A._wrapperState={wasMultiple:!!p.multiple},y=K({},p,{value:void 0}),Mt("invalid",A);break;case"textarea":Lr(A,p),y=Pi(A,p),Mt("invalid",A);break;default:y=p}rt(l,y),V=y;for(x in V)if(V.hasOwnProperty(x)){var ee=V[x];x==="style"?li(A,ee):x==="dangerouslySetInnerHTML"?(ee=ee?ee.__html:void 0,ee!=null&&oi(A,ee)):x==="children"?typeof ee=="string"?(l!=="textarea"||ee!=="")&&sr(A,ee):typeof ee=="number"&&sr(A,""+ee):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(o.hasOwnProperty(x)?ee!=null&&x==="onScroll"&&Mt("scroll",A):ee!=null&&J(A,x,ee,I))}switch(l){case"input":fA(A),Ti(A,p,!1);break;case"textarea":fA(A),si(A);break;case"option":p.value!=null&&A.setAttribute("value",""+mt(p.value));break;case"select":A.multiple=!!p.multiple,x=p.value,x!=null?fn(A,!!p.multiple,x,!1):p.defaultValue!=null&&fn(A,!!p.multiple,p.defaultValue,!0);break;default:typeof y.onClick=="function"&&(A.onclick=Ue)}switch(l){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return lA(s),null;case 6:if(A&&s.stateNode!=null)wg(A,s,A.memoizedProps,p);else{if(typeof p!="string"&&s.stateNode===null)throw Error(t(166));if(l=Uo(rl.current),Uo(bi.current),ou(s)){if(p=s.stateNode,l=s.memoizedProps,p[Br]=s,(x=p.nodeValue!==l)&&(A=tr,A!==null))switch(A.tag){case 3:we(p.nodeValue,l,(A.mode&1)!==0);break;case 5:A.memoizedProps.suppressHydrationWarning!==!0&&we(p.nodeValue,l,(A.mode&1)!==0)}x&&(s.flags|=4)}else p=(l.nodeType===9?l:l.ownerDocument).createTextNode(p),p[Br]=s,s.stateNode=p}return lA(s),null;case 13:if(tn(sn),p=s.memoizedState,A===null||A.memoizedState!==null&&A.memoizedState.dehydrated!==null){if(nn&&nr!==null&&(s.mode&1)!==0&&(s.flags&128)===0)_p(),aa(),s.flags|=98560,x=!1;else if(x=ou(s),p!==null&&p.dehydrated!==null){if(A===null){if(!x)throw Error(t(318));if(x=s.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(t(317));x[Br]=s}else aa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;lA(s),x=!1}else Jr!==null&&(eh(Jr),Jr=null),x=!0;if(!x)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(p=p!==null,p!==(A!==null&&A.memoizedState!==null)&&p&&(s.child.flags|=8192,(s.mode&1)!==0&&(A===null||(sn.current&1)!==0?Ln===0&&(Ln=3):Ah())),s.updateQueue!==null&&(s.flags|=4),lA(s),null);case 4:return da(),Kd(A,s),A===null&&Es(s.stateNode.containerInfo),lA(s),null;case 10:return md(s.type._context),lA(s),null;case 17:return jA(s.type)&&nu(),lA(s),null;case 19:if(tn(sn),x=s.memoizedState,x===null)return lA(s),null;if(p=(s.flags&128)!==0,I=x.rendering,I===null)if(p)ll(x,!1);else{if(Ln!==0||A!==null&&(A.flags&128)!==0)for(A=s.child;A!==null;){if(I=hu(A),I!==null){for(s.flags|=128,ll(x,!1),p=I.updateQueue,p!==null&&(s.updateQueue=p,s.flags|=4),s.subtreeFlags=0,p=l,l=s.child;l!==null;)x=l,A=p,x.flags&=14680066,I=x.alternate,I===null?(x.childLanes=0,x.lanes=A,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=I.childLanes,x.lanes=I.lanes,x.child=I.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=I.memoizedProps,x.memoizedState=I.memoizedState,x.updateQueue=I.updateQueue,x.type=I.type,A=I.dependencies,x.dependencies=A===null?null:{lanes:A.lanes,firstContext:A.firstContext}),l=l.sibling;return Gt(sn,sn.current&1|2),s.child}A=A.sibling}x.tail!==null&&It()>ga&&(s.flags|=128,p=!0,ll(x,!1),s.lanes=4194304)}else{if(!p)if(A=hu(I),A!==null){if(s.flags|=128,p=!0,l=A.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),ll(x,!0),x.tail===null&&x.tailMode==="hidden"&&!I.alternate&&!nn)return lA(s),null}else 2*It()-x.renderingStartTime>ga&&l!==1073741824&&(s.flags|=128,p=!0,ll(x,!1),s.lanes=4194304);x.isBackwards?(I.sibling=s.child,s.child=I):(l=x.last,l!==null?l.sibling=I:s.child=I,x.last=I)}return x.tail!==null?(s=x.tail,x.rendering=s,x.tail=s.sibling,x.renderingStartTime=It(),s.sibling=null,l=sn.current,Gt(sn,p?l&1|2:l&1),s):(lA(s),null);case 22:case 23:return nh(),p=s.memoizedState!==null,A!==null&&A.memoizedState!==null!==p&&(s.flags|=8192),p&&(s.mode&1)!==0?(Ar&1073741824)!==0&&(lA(s),s.subtreeFlags&6&&(s.flags|=8192)):lA(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function sB(A,s){switch(cd(s),s.tag){case 1:return jA(s.type)&&nu(),A=s.flags,A&65536?(s.flags=A&-65537|128,s):null;case 3:return da(),tn(NA),tn(oA),xd(),A=s.flags,(A&65536)!==0&&(A&128)===0?(s.flags=A&-65537|128,s):null;case 5:return _d(s),null;case 13:if(tn(sn),A=s.memoizedState,A!==null&&A.dehydrated!==null){if(s.alternate===null)throw Error(t(340));aa()}return A=s.flags,A&65536?(s.flags=A&-65537|128,s):null;case 19:return tn(sn),null;case 4:return da(),null;case 10:return md(s.type._context),null;case 22:case 23:return nh(),null;case 24:return null;default:return null}}var _u=!1,uA=!1,oB=typeof WeakSet=="function"?WeakSet:Set,nt=null;function fa(A,s){var l=A.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(p){dn(A,s,p)}else l.current=null}function Vd(A,s,l){try{l()}catch(p){dn(A,s,p)}}var yg=!1;function aB(A,s){if($e=Ki,A=ue(),ae(A)){if("selectionStart"in A)var l={start:A.selectionStart,end:A.selectionEnd};else e:{l=(l=A.ownerDocument)&&l.defaultView||window;var p=l.getSelection&&l.getSelection();if(p&&p.rangeCount!==0){l=p.anchorNode;var y=p.anchorOffset,x=p.focusNode;p=p.focusOffset;try{l.nodeType,x.nodeType}catch{l=null;break e}var I=0,V=-1,ee=-1,Be=0,ke=0,je=A,Le=null;t:for(;;){for(var Xe;je!==l||y!==0&&je.nodeType!==3||(V=I+y),je!==x||p!==0&&je.nodeType!==3||(ee=I+p),je.nodeType===3&&(I+=je.nodeValue.length),(Xe=je.firstChild)!==null;)Le=je,je=Xe;for(;;){if(je===A)break t;if(Le===l&&++Be===y&&(V=I),Le===x&&++ke===p&&(ee=I),(Xe=je.nextSibling)!==null)break;je=Le,Le=je.parentNode}je=Xe}l=V===-1||ee===-1?null:{start:V,end:ee}}else l=null}l=l||{start:0,end:0}}else l=null;for(ct={focusedElem:A,selectionRange:l},Ki=!1,nt=s;nt!==null;)if(s=nt,A=s.child,(s.subtreeFlags&1028)!==0&&A!==null)A.return=s,nt=A;else for(;nt!==null;){s=nt;try{var it=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(it!==null){var st=it.memoizedProps,wn=it.memoizedState,fe=s.stateNode,ie=fe.getSnapshotBeforeUpdate(s.elementType===s.type?st:qr(s.type,st),wn);fe.__reactInternalSnapshotBeforeUpdate=ie}break;case 3:var me=s.stateNode.containerInfo;me.nodeType===1?me.textContent="":me.nodeType===9&&me.documentElement&&me.removeChild(me.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Me){dn(s,s.return,Me)}if(A=s.sibling,A!==null){A.return=s.return,nt=A;break}nt=s.return}return it=yg,yg=!1,it}function ul(A,s,l){var p=s.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var y=p=p.next;do{if((y.tag&A)===A){var x=y.destroy;y.destroy=void 0,x!==void 0&&Vd(s,l,x)}y=y.next}while(y!==p)}}function Cu(A,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&A)===A){var p=l.create;l.destroy=p()}l=l.next}while(l!==s)}}function Gd(A){var s=A.ref;if(s!==null){var l=A.stateNode;switch(A.tag){case 5:A=l;break;default:A=l}typeof s=="function"?s(A):s.current=A}}function Bg(A){var s=A.alternate;s!==null&&(A.alternate=null,Bg(s)),A.child=null,A.deletions=null,A.sibling=null,A.tag===5&&(s=A.stateNode,s!==null&&(delete s[Br],delete s[Ss],delete s[Is],delete s[sd],delete s[od])),A.stateNode=null,A.return=null,A.dependencies=null,A.memoizedProps=null,A.memoizedState=null,A.pendingProps=null,A.stateNode=null,A.updateQueue=null}function _g(A){return A.tag===5||A.tag===3||A.tag===4}function Cg(A){e:for(;;){for(;A.sibling===null;){if(A.return===null||_g(A.return))return null;A=A.return}for(A.sibling.return=A.return,A=A.sibling;A.tag!==5&&A.tag!==6&&A.tag!==18;){if(A.flags&2||A.child===null||A.tag===4)continue e;A.child.return=A,A=A.child}if(!(A.flags&2))return A.stateNode}}function zd(A,s,l){var p=A.tag;if(p===5||p===6)A=A.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(A,s):l.insertBefore(A,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(A,l)):(s=l,s.appendChild(A)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Ue));else if(p!==4&&(A=A.child,A!==null))for(zd(A,s,l),A=A.sibling;A!==null;)zd(A,s,l),A=A.sibling}function Wd(A,s,l){var p=A.tag;if(p===5||p===6)A=A.stateNode,s?l.insertBefore(A,s):l.appendChild(A);else if(p!==4&&(A=A.child,A!==null))for(Wd(A,s,l),A=A.sibling;A!==null;)Wd(A,s,l),A=A.sibling}var eA=null,Xr=!1;function js(A,s,l){for(l=l.child;l!==null;)xg(A,s,l),l=l.sibling}function xg(A,s,l){if(jn&&typeof jn.onCommitFiberUnmount=="function")try{jn.onCommitFiberUnmount(hi,l)}catch{}switch(l.tag){case 5:uA||fa(l,s);case 6:var p=eA,y=Xr;eA=null,js(A,s,l),eA=p,Xr=y,eA!==null&&(Xr?(A=eA,l=l.stateNode,A.nodeType===8?A.parentNode.removeChild(l):A.removeChild(l)):eA.removeChild(l.stateNode));break;case 18:eA!==null&&(Xr?(A=eA,l=l.stateNode,A.nodeType===8?el(A.parentNode,l):A.nodeType===1&&el(A,l),qn(A)):el(eA,l.stateNode));break;case 4:p=eA,y=Xr,eA=l.stateNode.containerInfo,Xr=!0,js(A,s,l),eA=p,Xr=y;break;case 0:case 11:case 14:case 15:if(!uA&&(p=l.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){y=p=p.next;do{var x=y,I=x.destroy;x=x.tag,I!==void 0&&((x&2)!==0||(x&4)!==0)&&Vd(l,s,I),y=y.next}while(y!==p)}js(A,s,l);break;case 1:if(!uA&&(fa(l,s),p=l.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=l.memoizedProps,p.state=l.memoizedState,p.componentWillUnmount()}catch(V){dn(l,s,V)}js(A,s,l);break;case 21:js(A,s,l);break;case 22:l.mode&1?(uA=(p=uA)||l.memoizedState!==null,js(A,s,l),uA=p):js(A,s,l);break;default:js(A,s,l)}}function bg(A){var s=A.updateQueue;if(s!==null){A.updateQueue=null;var l=A.stateNode;l===null&&(l=A.stateNode=new oB),s.forEach(function(p){var y=mB.bind(null,A,p);l.has(p)||(l.add(p),p.then(y,y))})}}function Yr(A,s){var l=s.deletions;if(l!==null)for(var p=0;p<l.length;p++){var y=l[p];try{var x=A,I=s,V=I;e:for(;V!==null;){switch(V.tag){case 5:eA=V.stateNode,Xr=!1;break e;case 3:eA=V.stateNode.containerInfo,Xr=!0;break e;case 4:eA=V.stateNode.containerInfo,Xr=!0;break e}V=V.return}if(eA===null)throw Error(t(160));xg(x,I,y),eA=null,Xr=!1;var ee=y.alternate;ee!==null&&(ee.return=null),y.return=null}catch(Be){dn(y,s,Be)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Qg(s,A),s=s.sibling}function Qg(A,s){var l=A.alternate,p=A.flags;switch(A.tag){case 0:case 11:case 14:case 15:if(Yr(s,A),Ui(A),p&4){try{ul(3,A,A.return),Cu(3,A)}catch(st){dn(A,A.return,st)}try{ul(5,A,A.return)}catch(st){dn(A,A.return,st)}}break;case 1:Yr(s,A),Ui(A),p&512&&l!==null&&fa(l,l.return);break;case 5:if(Yr(s,A),Ui(A),p&512&&l!==null&&fa(l,l.return),A.flags&32){var y=A.stateNode;try{sr(y,"")}catch(st){dn(A,A.return,st)}}if(p&4&&(y=A.stateNode,y!=null)){var x=A.memoizedProps,I=l!==null?l.memoizedProps:x,V=A.type,ee=A.updateQueue;if(A.updateQueue=null,ee!==null)try{V==="input"&&x.type==="radio"&&x.name!=null&&ao(y,x),pA(V,I);var Be=pA(V,x);for(I=0;I<ee.length;I+=2){var ke=ee[I],je=ee[I+1];ke==="style"?li(y,je):ke==="dangerouslySetInnerHTML"?oi(y,je):ke==="children"?sr(y,je):J(y,ke,je,Be)}switch(V){case"input":ki(y,x);break;case"textarea":uo(y,x);break;case"select":var Le=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!x.multiple;var Xe=x.value;Xe!=null?fn(y,!!x.multiple,Xe,!1):Le!==!!x.multiple&&(x.defaultValue!=null?fn(y,!!x.multiple,x.defaultValue,!0):fn(y,!!x.multiple,x.multiple?[]:"",!1))}y[Ss]=x}catch(st){dn(A,A.return,st)}}break;case 6:if(Yr(s,A),Ui(A),p&4){if(A.stateNode===null)throw Error(t(162));y=A.stateNode,x=A.memoizedProps;try{y.nodeValue=x}catch(st){dn(A,A.return,st)}}break;case 3:if(Yr(s,A),Ui(A),p&4&&l!==null&&l.memoizedState.isDehydrated)try{qn(s.containerInfo)}catch(st){dn(A,A.return,st)}break;case 4:Yr(s,A),Ui(A);break;case 13:Yr(s,A),Ui(A),y=A.child,y.flags&8192&&(x=y.memoizedState!==null,y.stateNode.isHidden=x,!x||y.alternate!==null&&y.alternate.memoizedState!==null||(Jd=It())),p&4&&bg(A);break;case 22:if(ke=l!==null&&l.memoizedState!==null,A.mode&1?(uA=(Be=uA)||ke,Yr(s,A),uA=Be):Yr(s,A),Ui(A),p&8192){if(Be=A.memoizedState!==null,(A.stateNode.isHidden=Be)&&!ke&&(A.mode&1)!==0)for(nt=A,ke=A.child;ke!==null;){for(je=nt=ke;nt!==null;){switch(Le=nt,Xe=Le.child,Le.tag){case 0:case 11:case 14:case 15:ul(4,Le,Le.return);break;case 1:fa(Le,Le.return);var it=Le.stateNode;if(typeof it.componentWillUnmount=="function"){p=Le,l=Le.return;try{s=p,it.props=s.memoizedProps,it.state=s.memoizedState,it.componentWillUnmount()}catch(st){dn(p,l,st)}}break;case 5:fa(Le,Le.return);break;case 22:if(Le.memoizedState!==null){Fg(je);continue}}Xe!==null?(Xe.return=Le,nt=Xe):Fg(je)}ke=ke.sibling}e:for(ke=null,je=A;;){if(je.tag===5){if(ke===null){ke=je;try{y=je.stateNode,Be?(x=y.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(V=je.stateNode,ee=je.memoizedProps.style,I=ee!=null&&ee.hasOwnProperty("display")?ee.display:null,V.style.display=ai("display",I))}catch(st){dn(A,A.return,st)}}}else if(je.tag===6){if(ke===null)try{je.stateNode.nodeValue=Be?"":je.memoizedProps}catch(st){dn(A,A.return,st)}}else if((je.tag!==22&&je.tag!==23||je.memoizedState===null||je===A)&&je.child!==null){je.child.return=je,je=je.child;continue}if(je===A)break e;for(;je.sibling===null;){if(je.return===null||je.return===A)break e;ke===je&&(ke=null),je=je.return}ke===je&&(ke=null),je.sibling.return=je.return,je=je.sibling}}break;case 19:Yr(s,A),Ui(A),p&4&&bg(A);break;case 21:break;default:Yr(s,A),Ui(A)}}function Ui(A){var s=A.flags;if(s&2){try{e:{for(var l=A.return;l!==null;){if(_g(l)){var p=l;break e}l=l.return}throw Error(t(160))}switch(p.tag){case 5:var y=p.stateNode;p.flags&32&&(sr(y,""),p.flags&=-33);var x=Cg(A);Wd(A,x,y);break;case 3:case 4:var I=p.stateNode.containerInfo,V=Cg(A);zd(A,V,I);break;default:throw Error(t(161))}}catch(ee){dn(A,A.return,ee)}A.flags&=-3}s&4096&&(A.flags&=-4097)}function lB(A,s,l){nt=A,Ug(A)}function Ug(A,s,l){for(var p=(A.mode&1)!==0;nt!==null;){var y=nt,x=y.child;if(y.tag===22&&p){var I=y.memoizedState!==null||_u;if(!I){var V=y.alternate,ee=V!==null&&V.memoizedState!==null||uA;V=_u;var Be=uA;if(_u=I,(uA=ee)&&!Be)for(nt=y;nt!==null;)I=nt,ee=I.child,I.tag===22&&I.memoizedState!==null?Sg(y):ee!==null?(ee.return=I,nt=ee):Sg(y);for(;x!==null;)nt=x,Ug(x),x=x.sibling;nt=y,_u=V,uA=Be}Eg(A)}else(y.subtreeFlags&8772)!==0&&x!==null?(x.return=y,nt=x):Eg(A)}}function Eg(A){for(;nt!==null;){var s=nt;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:uA||Cu(5,s);break;case 1:var p=s.stateNode;if(s.flags&4&&!uA)if(l===null)p.componentDidMount();else{var y=s.elementType===s.type?l.memoizedProps:qr(s.type,l.memoizedProps);p.componentDidUpdate(y,l.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var x=s.updateQueue;x!==null&&Fp(s,x,p);break;case 3:var I=s.updateQueue;if(I!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}Fp(s,I,l)}break;case 5:var V=s.stateNode;if(l===null&&s.flags&4){l=V;var ee=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":ee.autoFocus&&l.focus();break;case"img":ee.src&&(l.src=ee.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var Be=s.alternate;if(Be!==null){var ke=Be.memoizedState;if(ke!==null){var je=ke.dehydrated;je!==null&&qn(je)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}uA||s.flags&512&&Gd(s)}catch(Le){dn(s,s.return,Le)}}if(s===A){nt=null;break}if(l=s.sibling,l!==null){l.return=s.return,nt=l;break}nt=s.return}}function Fg(A){for(;nt!==null;){var s=nt;if(s===A){nt=null;break}var l=s.sibling;if(l!==null){l.return=s.return,nt=l;break}nt=s.return}}function Sg(A){for(;nt!==null;){var s=nt;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{Cu(4,s)}catch(ee){dn(s,l,ee)}break;case 1:var p=s.stateNode;if(typeof p.componentDidMount=="function"){var y=s.return;try{p.componentDidMount()}catch(ee){dn(s,y,ee)}}var x=s.return;try{Gd(s)}catch(ee){dn(s,x,ee)}break;case 5:var I=s.return;try{Gd(s)}catch(ee){dn(s,I,ee)}}}catch(ee){dn(s,s.return,ee)}if(s===A){nt=null;break}var V=s.sibling;if(V!==null){V.return=s.return,nt=V;break}nt=s.return}}var uB=Math.ceil,xu=M.ReactCurrentDispatcher,$d=M.ReactCurrentOwner,Qr=M.ReactCurrentBatchConfig,Lt=0,Gn=null,bn=null,tA=0,Ar=0,pa=Ls(0),Ln=0,cl=null,Fo=0,bu=0,Zd=0,dl=null,OA=null,Jd=0,ga=1/0,ls=null,Qu=!1,qd=null,Hs=null,Uu=!1,Os=null,Eu=0,hl=0,Xd=null,Fu=-1,Su=0;function _A(){return(Lt&6)!==0?It():Fu!==-1?Fu:Fu=It()}function Ds(A){return(A.mode&1)===0?1:(Lt&2)!==0&&tA!==0?tA&-tA:Wy.transition!==null?(Su===0&&(Su=Di()),Su):(A=xt,A!==0||(A=window.event,A=A===void 0?16:Bt(A.type)),A)}function ei(A,s,l,p){if(50<hl)throw hl=0,Xd=null,Error(t(185));Hn(A,l,p),((Lt&2)===0||A!==Gn)&&(A===Gn&&((Lt&2)===0&&(bu|=l),Ln===4&&Rs(A,tA)),DA(A,p),l===1&&Lt===0&&(s.mode&1)===0&&(ga=It()+500,ru&&Ts()))}function DA(A,s){var l=A.callbackNode;pi(A,s);var p=Tt(A,A===Gn?tA:0);if(p===0)l!==null&&Ni(l),A.callbackNode=null,A.callbackPriority=0;else if(s=p&-p,A.callbackPriority!==s){if(l!=null&&Ni(l),s===1)A.tag===0?zy(Lg.bind(null,A)):mp(Lg.bind(null,A)),sA(function(){(Lt&6)===0&&Ts()}),l=null;else{switch(gi(p)){case 1:l=hr;break;case 4:l=ji;break;case 16:l=di;break;case 536870912:l=rA;break;default:l=di}l=Dg(l,Ig.bind(null,A))}A.callbackPriority=s,A.callbackNode=l}}function Ig(A,s){if(Fu=-1,Su=0,(Lt&6)!==0)throw Error(t(327));var l=A.callbackNode;if(ma()&&A.callbackNode!==l)return null;var p=Tt(A,A===Gn?tA:0);if(p===0)return null;if((p&30)!==0||(p&A.expiredLanes)!==0||s)s=Iu(A,p);else{s=p;var y=Lt;Lt|=2;var x=Tg();(Gn!==A||tA!==s)&&(ls=null,ga=It()+500,Io(A,s));do try{hB();break}catch(V){kg(A,V)}while(!0);gd(),xu.current=x,Lt=y,bn!==null?s=0:(Gn=null,tA=0,s=Ln)}if(s!==0){if(s===2&&(y=Cn(A),y!==0&&(p=y,s=Yd(A,y))),s===1)throw l=cl,Io(A,0),Rs(A,p),DA(A,It()),l;if(s===6)Rs(A,p);else{if(y=A.current.alternate,(p&30)===0&&!cB(y)&&(s=Iu(A,p),s===2&&(x=Cn(A),x!==0&&(p=x,s=Yd(A,x))),s===1))throw l=cl,Io(A,0),Rs(A,p),DA(A,It()),l;switch(A.finishedWork=y,A.finishedLanes=p,s){case 0:case 1:throw Error(t(345));case 2:Lo(A,OA,ls);break;case 3:if(Rs(A,p),(p&130023424)===p&&(s=Jd+500-It(),10<s)){if(Tt(A,0)!==0)break;if(y=A.suspendedLanes,(y&p)!==p){_A(),A.pingedLanes|=A.suspendedLanes&y;break}A.timeoutHandle=Sn(Lo.bind(null,A,OA,ls),s);break}Lo(A,OA,ls);break;case 4:if(Rs(A,p),(p&4194240)===p)break;for(s=A.eventTimes,y=-1;0<p;){var I=31-ze(p);x=1<<I,I=s[I],I>y&&(y=I),p&=~x}if(p=y,p=It()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*uB(p/1960))-p,10<p){A.timeoutHandle=Sn(Lo.bind(null,A,OA,ls),p);break}Lo(A,OA,ls);break;case 5:Lo(A,OA,ls);break;default:throw Error(t(329))}}}return DA(A,It()),A.callbackNode===l?Ig.bind(null,A):null}function Yd(A,s){var l=dl;return A.current.memoizedState.isDehydrated&&(Io(A,s).flags|=256),A=Iu(A,s),A!==2&&(s=OA,OA=l,s!==null&&eh(s)),A}function eh(A){OA===null?OA=A:OA.push.apply(OA,A)}function cB(A){for(var s=A;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var p=0;p<l.length;p++){var y=l[p],x=y.getSnapshot;y=y.value;try{if(!re(x(),y))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===A)break;for(;s.sibling===null;){if(s.return===null||s.return===A)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Rs(A,s){for(s&=~Zd,s&=~bu,A.suspendedLanes|=s,A.pingedLanes&=~s,A=A.expirationTimes;0<s;){var l=31-ze(s),p=1<<l;A[l]=-1,s&=~p}}function Lg(A){if((Lt&6)!==0)throw Error(t(327));ma();var s=Tt(A,0);if((s&1)===0)return DA(A,It()),null;var l=Iu(A,s);if(A.tag!==0&&l===2){var p=Cn(A);p!==0&&(s=p,l=Yd(A,p))}if(l===1)throw l=cl,Io(A,0),Rs(A,s),DA(A,It()),l;if(l===6)throw Error(t(345));return A.finishedWork=A.current.alternate,A.finishedLanes=s,Lo(A,OA,ls),DA(A,It()),null}function th(A,s){var l=Lt;Lt|=1;try{return A(s)}finally{Lt=l,Lt===0&&(ga=It()+500,ru&&Ts())}}function So(A){Os!==null&&Os.tag===0&&(Lt&6)===0&&ma();var s=Lt;Lt|=1;var l=Qr.transition,p=xt;try{if(Qr.transition=null,xt=1,A)return A()}finally{xt=p,Qr.transition=l,Lt=s,(Lt&6)===0&&Ts()}}function nh(){Ar=pa.current,tn(pa)}function Io(A,s){A.finishedWork=null,A.finishedLanes=0;var l=A.timeoutHandle;if(l!==-1&&(A.timeoutHandle=-1,xn(l)),bn!==null)for(l=bn.return;l!==null;){var p=l;switch(cd(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&nu();break;case 3:da(),tn(NA),tn(oA),xd();break;case 5:_d(p);break;case 4:da();break;case 13:tn(sn);break;case 19:tn(sn);break;case 10:md(p.type._context);break;case 22:case 23:nh()}l=l.return}if(Gn=A,bn=A=Ms(A.current,null),tA=Ar=s,Ln=0,cl=null,Zd=bu=Fo=0,OA=dl=null,Qo!==null){for(s=0;s<Qo.length;s++)if(l=Qo[s],p=l.interleaved,p!==null){l.interleaved=null;var y=p.next,x=l.pending;if(x!==null){var I=x.next;x.next=y,p.next=I}l.pending=p}Qo=null}return A}function kg(A,s){do{var l=bn;try{if(gd(),fu.current=vu,pu){for(var p=on.memoizedState;p!==null;){var y=p.queue;y!==null&&(y.pending=null),p=p.next}pu=!1}if(Eo=0,Vn=In=on=null,il=!1,sl=0,$d.current=null,l===null||l.return===null){Ln=1,cl=s,bn=null;break}e:{var x=A,I=l.return,V=l,ee=s;if(s=tA,V.flags|=32768,ee!==null&&typeof ee=="object"&&typeof ee.then=="function"){var Be=ee,ke=V,je=ke.tag;if((ke.mode&1)===0&&(je===0||je===11||je===15)){var Le=ke.alternate;Le?(ke.updateQueue=Le.updateQueue,ke.memoizedState=Le.memoizedState,ke.lanes=Le.lanes):(ke.updateQueue=null,ke.memoizedState=null)}var Xe=rg(I);if(Xe!==null){Xe.flags&=-257,ig(Xe,I,V,x,s),Xe.mode&1&&Ag(x,Be,s),s=Xe,ee=Be;var it=s.updateQueue;if(it===null){var st=new Set;st.add(ee),s.updateQueue=st}else it.add(ee);break e}else{if((s&1)===0){Ag(x,Be,s),Ah();break e}ee=Error(t(426))}}else if(nn&&V.mode&1){var wn=rg(I);if(wn!==null){(wn.flags&65536)===0&&(wn.flags|=256),ig(wn,I,V,x,s),fd(ha(ee,V));break e}}x=ee=ha(ee,V),Ln!==4&&(Ln=2),dl===null?dl=[x]:dl.push(x),x=I;do{switch(x.tag){case 3:x.flags|=65536,s&=-s,x.lanes|=s;var fe=tg(x,ee,s);Ep(x,fe);break e;case 1:V=ee;var ie=x.type,me=x.stateNode;if((x.flags&128)===0&&(typeof ie.getDerivedStateFromError=="function"||me!==null&&typeof me.componentDidCatch=="function"&&(Hs===null||!Hs.has(me)))){x.flags|=65536,s&=-s,x.lanes|=s;var Me=ng(x,V,s);Ep(x,Me);break e}}x=x.return}while(x!==null)}Ng(l)}catch(ot){s=ot,bn===l&&l!==null&&(bn=l=l.return);continue}break}while(!0)}function Tg(){var A=xu.current;return xu.current=vu,A===null?vu:A}function Ah(){(Ln===0||Ln===3||Ln===2)&&(Ln=4),Gn===null||(Fo&268435455)===0&&(bu&268435455)===0||Rs(Gn,tA)}function Iu(A,s){var l=Lt;Lt|=2;var p=Tg();(Gn!==A||tA!==s)&&(ls=null,Io(A,s));do try{dB();break}catch(y){kg(A,y)}while(!0);if(gd(),Lt=l,xu.current=p,bn!==null)throw Error(t(261));return Gn=null,tA=0,Ln}function dB(){for(;bn!==null;)Pg(bn)}function hB(){for(;bn!==null&&!Zt();)Pg(bn)}function Pg(A){var s=Og(A.alternate,A,Ar);A.memoizedProps=A.pendingProps,s===null?Ng(A):bn=s,$d.current=null}function Ng(A){var s=A;do{var l=s.alternate;if(A=s.return,(s.flags&32768)===0){if(l=iB(l,s,Ar),l!==null){bn=l;return}}else{if(l=sB(l,s),l!==null){l.flags&=32767,bn=l;return}if(A!==null)A.flags|=32768,A.subtreeFlags=0,A.deletions=null;else{Ln=6,bn=null;return}}if(s=s.sibling,s!==null){bn=s;return}bn=s=A}while(s!==null);Ln===0&&(Ln=5)}function Lo(A,s,l){var p=xt,y=Qr.transition;try{Qr.transition=null,xt=1,fB(A,s,l,p)}finally{Qr.transition=y,xt=p}return null}function fB(A,s,l,p){do ma();while(Os!==null);if((Lt&6)!==0)throw Error(t(327));l=A.finishedWork;var y=A.finishedLanes;if(l===null)return null;if(A.finishedWork=null,A.finishedLanes=0,l===A.current)throw Error(t(177));A.callbackNode=null,A.callbackPriority=0;var x=l.lanes|l.childLanes;if(Jt(A,x),A===Gn&&(bn=Gn=null,tA=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Uu||(Uu=!0,Dg(di,function(){return ma(),null})),x=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||x){x=Qr.transition,Qr.transition=null;var I=xt;xt=1;var V=Lt;Lt|=4,$d.current=null,aB(A,l),Qg(l,A),ce(ct),Ki=!!$e,ct=$e=null,A.current=l,lB(l),SA(),Lt=V,xt=I,Qr.transition=x}else A.current=l;if(Uu&&(Uu=!1,Os=A,Eu=y),x=A.pendingLanes,x===0&&(Hs=null),fi(l.stateNode),DA(A,It()),s!==null)for(p=A.onRecoverableError,l=0;l<s.length;l++)y=s[l],p(y.value,{componentStack:y.stack,digest:y.digest});if(Qu)throw Qu=!1,A=qd,qd=null,A;return(Eu&1)!==0&&A.tag!==0&&ma(),x=A.pendingLanes,(x&1)!==0?A===Xd?hl++:(hl=0,Xd=A):hl=0,Ts(),null}function ma(){if(Os!==null){var A=gi(Eu),s=Qr.transition,l=xt;try{if(Qr.transition=null,xt=16>A?16:A,Os===null)var p=!1;else{if(A=Os,Os=null,Eu=0,(Lt&6)!==0)throw Error(t(331));var y=Lt;for(Lt|=4,nt=A.current;nt!==null;){var x=nt,I=x.child;if((nt.flags&16)!==0){var V=x.deletions;if(V!==null){for(var ee=0;ee<V.length;ee++){var Be=V[ee];for(nt=Be;nt!==null;){var ke=nt;switch(ke.tag){case 0:case 11:case 15:ul(8,ke,x)}var je=ke.child;if(je!==null)je.return=ke,nt=je;else for(;nt!==null;){ke=nt;var Le=ke.sibling,Xe=ke.return;if(Bg(ke),ke===Be){nt=null;break}if(Le!==null){Le.return=Xe,nt=Le;break}nt=Xe}}}var it=x.alternate;if(it!==null){var st=it.child;if(st!==null){it.child=null;do{var wn=st.sibling;st.sibling=null,st=wn}while(st!==null)}}nt=x}}if((x.subtreeFlags&2064)!==0&&I!==null)I.return=x,nt=I;else e:for(;nt!==null;){if(x=nt,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:ul(9,x,x.return)}var fe=x.sibling;if(fe!==null){fe.return=x.return,nt=fe;break e}nt=x.return}}var ie=A.current;for(nt=ie;nt!==null;){I=nt;var me=I.child;if((I.subtreeFlags&2064)!==0&&me!==null)me.return=I,nt=me;else e:for(I=ie;nt!==null;){if(V=nt,(V.flags&2048)!==0)try{switch(V.tag){case 0:case 11:case 15:Cu(9,V)}}catch(ot){dn(V,V.return,ot)}if(V===I){nt=null;break e}var Me=V.sibling;if(Me!==null){Me.return=V.return,nt=Me;break e}nt=V.return}}if(Lt=y,Ts(),jn&&typeof jn.onPostCommitFiberRoot=="function")try{jn.onPostCommitFiberRoot(hi,A)}catch{}p=!0}return p}finally{xt=l,Qr.transition=s}}return!1}function jg(A,s,l){s=ha(l,s),s=tg(A,s,1),A=Ns(A,s,1),s=_A(),A!==null&&(Hn(A,1,s),DA(A,s))}function dn(A,s,l){if(A.tag===3)jg(A,A,l);else for(;s!==null;){if(s.tag===3){jg(s,A,l);break}else if(s.tag===1){var p=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Hs===null||!Hs.has(p))){A=ha(l,A),A=ng(s,A,1),s=Ns(s,A,1),A=_A(),s!==null&&(Hn(s,1,A),DA(s,A));break}}s=s.return}}function pB(A,s,l){var p=A.pingCache;p!==null&&p.delete(s),s=_A(),A.pingedLanes|=A.suspendedLanes&l,Gn===A&&(tA&l)===l&&(Ln===4||Ln===3&&(tA&130023424)===tA&&500>It()-Jd?Io(A,0):Zd|=l),DA(A,s)}function Hg(A,s){s===0&&((A.mode&1)===0?s=1:(s=Ft,Ft<<=1,(Ft&130023424)===0&&(Ft=4194304)));var l=_A();A=ss(A,s),A!==null&&(Hn(A,s,l),DA(A,l))}function gB(A){var s=A.memoizedState,l=0;s!==null&&(l=s.retryLane),Hg(A,l)}function mB(A,s){var l=0;switch(A.tag){case 13:var p=A.stateNode,y=A.memoizedState;y!==null&&(l=y.retryLane);break;case 19:p=A.stateNode;break;default:throw Error(t(314))}p!==null&&p.delete(s),Hg(A,l)}var Og;Og=function(A,s,l){if(A!==null)if(A.memoizedProps!==s.pendingProps||NA.current)HA=!0;else{if((A.lanes&l)===0&&(s.flags&128)===0)return HA=!1,rB(A,s,l);HA=(A.flags&131072)!==0}else HA=!1,nn&&(s.flags&1048576)!==0&&vp(s,su,s.index);switch(s.lanes=0,s.tag){case 2:var p=s.type;Bu(A,s),A=s.pendingProps;var y=ia(s,oA.current);ca(s,l),y=Ud(null,s,p,A,y,l);var x=Ed();return s.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,jA(p)?(x=!0,Au(s)):x=!1,s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,yd(s),y.updater=wu,s.stateNode=y,y._reactInternals=s,Td(s,p,A,l),s=Hd(null,s,p,!0,x,l)):(s.tag=0,nn&&x&&ud(s),BA(null,s,y,l),s=s.child),s;case 16:p=s.elementType;e:{switch(Bu(A,s),A=s.pendingProps,y=p._init,p=y(p._payload),s.type=p,y=s.tag=wB(p),A=qr(p,A),y){case 0:s=jd(null,s,p,A,l);break e;case 1:s=cg(null,s,p,A,l);break e;case 11:s=sg(null,s,p,A,l);break e;case 14:s=og(null,s,p,qr(p.type,A),l);break e}throw Error(t(306,p,""))}return s;case 0:return p=s.type,y=s.pendingProps,y=s.elementType===p?y:qr(p,y),jd(A,s,p,y,l);case 1:return p=s.type,y=s.pendingProps,y=s.elementType===p?y:qr(p,y),cg(A,s,p,y,l);case 3:e:{if(dg(s),A===null)throw Error(t(387));p=s.pendingProps,x=s.memoizedState,y=x.element,Up(A,s),du(s,p,null,l);var I=s.memoizedState;if(p=I.element,x.isDehydrated)if(x={element:p,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},s.updateQueue.baseState=x,s.memoizedState=x,s.flags&256){y=ha(Error(t(423)),s),s=hg(A,s,p,l,y);break e}else if(p!==y){y=ha(Error(t(424)),s),s=hg(A,s,p,l,y);break e}else for(nr=xi(s.stateNode.containerInfo.firstChild),tr=s,nn=!0,Jr=null,l=bp(s,null,p,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(aa(),p===y){s=as(A,s,l);break e}BA(A,s,p,l)}s=s.child}return s;case 5:return Sp(s),A===null&&hd(s),p=s.type,y=s.pendingProps,x=A!==null?A.memoizedProps:null,I=y.children,wt(p,y)?I=null:x!==null&&wt(p,x)&&(s.flags|=32),ug(A,s),BA(A,s,I,l),s.child;case 6:return A===null&&hd(s),null;case 13:return fg(A,s,l);case 4:return Bd(s,s.stateNode.containerInfo),p=s.pendingProps,A===null?s.child=la(s,null,p,l):BA(A,s,p,l),s.child;case 11:return p=s.type,y=s.pendingProps,y=s.elementType===p?y:qr(p,y),sg(A,s,p,y,l);case 7:return BA(A,s,s.pendingProps,l),s.child;case 8:return BA(A,s,s.pendingProps.children,l),s.child;case 12:return BA(A,s,s.pendingProps.children,l),s.child;case 10:e:{if(p=s.type._context,y=s.pendingProps,x=s.memoizedProps,I=y.value,Gt(lu,p._currentValue),p._currentValue=I,x!==null)if(re(x.value,I)){if(x.children===y.children&&!NA.current){s=as(A,s,l);break e}}else for(x=s.child,x!==null&&(x.return=s);x!==null;){var V=x.dependencies;if(V!==null){I=x.child;for(var ee=V.firstContext;ee!==null;){if(ee.context===p){if(x.tag===1){ee=os(-1,l&-l),ee.tag=2;var Be=x.updateQueue;if(Be!==null){Be=Be.shared;var ke=Be.pending;ke===null?ee.next=ee:(ee.next=ke.next,ke.next=ee),Be.pending=ee}}x.lanes|=l,ee=x.alternate,ee!==null&&(ee.lanes|=l),vd(x.return,l,s),V.lanes|=l;break}ee=ee.next}}else if(x.tag===10)I=x.type===s.type?null:x.child;else if(x.tag===18){if(I=x.return,I===null)throw Error(t(341));I.lanes|=l,V=I.alternate,V!==null&&(V.lanes|=l),vd(I,l,s),I=x.sibling}else I=x.child;if(I!==null)I.return=x;else for(I=x;I!==null;){if(I===s){I=null;break}if(x=I.sibling,x!==null){x.return=I.return,I=x;break}I=I.return}x=I}BA(A,s,y.children,l),s=s.child}return s;case 9:return y=s.type,p=s.pendingProps.children,ca(s,l),y=xr(y),p=p(y),s.flags|=1,BA(A,s,p,l),s.child;case 14:return p=s.type,y=qr(p,s.pendingProps),y=qr(p.type,y),og(A,s,p,y,l);case 15:return ag(A,s,s.type,s.pendingProps,l);case 17:return p=s.type,y=s.pendingProps,y=s.elementType===p?y:qr(p,y),Bu(A,s),s.tag=1,jA(p)?(A=!0,Au(s)):A=!1,ca(s,l),Yp(s,p,y),Td(s,p,y,l),Hd(null,s,p,!0,A,l);case 19:return gg(A,s,l);case 22:return lg(A,s,l)}throw Error(t(156,s.tag))};function Dg(A,s){return po(A,s)}function vB(A,s,l,p){this.tag=A,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ur(A,s,l,p){return new vB(A,s,l,p)}function rh(A){return A=A.prototype,!(!A||!A.isReactComponent)}function wB(A){if(typeof A=="function")return rh(A)?1:0;if(A!=null){if(A=A.$$typeof,A===qe)return 11;if(A===et)return 14}return 2}function Ms(A,s){var l=A.alternate;return l===null?(l=Ur(A.tag,s,A.key,A.mode),l.elementType=A.elementType,l.type=A.type,l.stateNode=A.stateNode,l.alternate=A,A.alternate=l):(l.pendingProps=s,l.type=A.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=A.flags&14680064,l.childLanes=A.childLanes,l.lanes=A.lanes,l.child=A.child,l.memoizedProps=A.memoizedProps,l.memoizedState=A.memoizedState,l.updateQueue=A.updateQueue,s=A.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=A.sibling,l.index=A.index,l.ref=A.ref,l}function Lu(A,s,l,p,y,x){var I=2;if(p=A,typeof A=="function")rh(A)&&(I=1);else if(typeof A=="string")I=5;else e:switch(A){case xe:return ko(l.children,y,x,s);case X:I=8,y|=8;break;case Ae:return A=Ur(12,l,s,y|2),A.elementType=Ae,A.lanes=x,A;case Ze:return A=Ur(13,l,s,y),A.elementType=Ze,A.lanes=x,A;case be:return A=Ur(19,l,s,y),A.elementType=be,A.lanes=x,A;case Qe:return ku(l,y,x,s);default:if(typeof A=="object"&&A!==null)switch(A.$$typeof){case ve:I=10;break e;case Ee:I=9;break e;case qe:I=11;break e;case et:I=14;break e;case se:I=16,p=null;break e}throw Error(t(130,A==null?A:typeof A,""))}return s=Ur(I,l,s,y),s.elementType=A,s.type=p,s.lanes=x,s}function ko(A,s,l,p){return A=Ur(7,A,p,s),A.lanes=l,A}function ku(A,s,l,p){return A=Ur(22,A,p,s),A.elementType=Qe,A.lanes=l,A.stateNode={isHidden:!1},A}function ih(A,s,l){return A=Ur(6,A,null,s),A.lanes=l,A}function sh(A,s,l){return s=Ur(4,A.children!==null?A.children:[],A.key,s),s.lanes=l,s.stateNode={containerInfo:A.containerInfo,pendingChildren:null,implementation:A.implementation},s}function yB(A,s,l,p,y){this.tag=s,this.containerInfo=A,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jr(0),this.expirationTimes=jr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jr(0),this.identifierPrefix=p,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function oh(A,s,l,p,y,x,I,V,ee){return A=new yB(A,s,l,V,ee),s===1?(s=1,x===!0&&(s|=8)):s=0,x=Ur(3,null,null,s),A.current=x,x.stateNode=A,x.memoizedState={element:p,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},yd(x),A}function BB(A,s,l){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:q,key:p==null?null:""+p,children:A,containerInfo:s,implementation:l}}function Rg(A){if(!A)return ks;A=A._reactInternals;e:{if(En(A)!==A||A.tag!==1)throw Error(t(170));var s=A;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(jA(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(A.tag===1){var l=A.type;if(jA(l))return pp(A,l,s)}return s}function Mg(A,s,l,p,y,x,I,V,ee){return A=oh(l,p,!0,A,y,x,I,V,ee),A.context=Rg(null),l=A.current,p=_A(),y=Ds(l),x=os(p,y),x.callback=s??null,Ns(l,x,y),A.current.lanes=y,Hn(A,y,p),DA(A,p),A}function Tu(A,s,l,p){var y=s.current,x=_A(),I=Ds(y);return l=Rg(l),s.context===null?s.context=l:s.pendingContext=l,s=os(x,I),s.payload={element:A},p=p===void 0?null:p,p!==null&&(s.callback=p),A=Ns(y,s,I),A!==null&&(ei(A,y,I,x),cu(A,y,I)),I}function Pu(A){if(A=A.current,!A.child)return null;switch(A.child.tag){case 5:return A.child.stateNode;default:return A.child.stateNode}}function Kg(A,s){if(A=A.memoizedState,A!==null&&A.dehydrated!==null){var l=A.retryLane;A.retryLane=l!==0&&l<s?l:s}}function ah(A,s){Kg(A,s),(A=A.alternate)&&Kg(A,s)}function _B(){return null}var Vg=typeof reportError=="function"?reportError:function(A){console.error(A)};function lh(A){this._internalRoot=A}Nu.prototype.render=lh.prototype.render=function(A){var s=this._internalRoot;if(s===null)throw Error(t(409));Tu(A,s,null,null)},Nu.prototype.unmount=lh.prototype.unmount=function(){var A=this._internalRoot;if(A!==null){this._internalRoot=null;var s=A.containerInfo;So(function(){Tu(null,A,null,null)}),s[Nt]=null}};function Nu(A){this._internalRoot=A}Nu.prototype.unstable_scheduleHydration=function(A){if(A){var s=Bs();A={blockedOn:null,target:A,priority:s};for(var l=0;l<qt.length&&s!==0&&s<qt[l].priority;l++);qt.splice(l,0,A),l===0&&Jn(A)}};function uh(A){return!(!A||A.nodeType!==1&&A.nodeType!==9&&A.nodeType!==11)}function ju(A){return!(!A||A.nodeType!==1&&A.nodeType!==9&&A.nodeType!==11&&(A.nodeType!==8||A.nodeValue!==" react-mount-point-unstable "))}function Gg(){}function CB(A,s,l,p,y){if(y){if(typeof p=="function"){var x=p;p=function(){var Be=Pu(I);x.call(Be)}}var I=Mg(s,p,A,0,null,!1,!1,"",Gg);return A._reactRootContainer=I,A[Nt]=I.current,Es(A.nodeType===8?A.parentNode:A),So(),I}for(;y=A.lastChild;)A.removeChild(y);if(typeof p=="function"){var V=p;p=function(){var Be=Pu(ee);V.call(Be)}}var ee=oh(A,0,!1,null,null,!1,!1,"",Gg);return A._reactRootContainer=ee,A[Nt]=ee.current,Es(A.nodeType===8?A.parentNode:A),So(function(){Tu(s,ee,l,p)}),ee}function Hu(A,s,l,p,y){var x=l._reactRootContainer;if(x){var I=x;if(typeof y=="function"){var V=y;y=function(){var ee=Pu(I);V.call(ee)}}Tu(s,I,A,y)}else I=CB(l,s,A,y,p);return Pu(I)}_t=function(A){switch(A.tag){case 3:var s=A.stateNode;if(s.current.memoizedState.isDehydrated){var l=dt(s.pendingLanes);l!==0&&(Zn(s,l|1),DA(s,It()),(Lt&6)===0&&(ga=It()+500,Ts()))}break;case 13:So(function(){var p=ss(A,1);if(p!==null){var y=_A();ei(p,A,1,y)}}),ah(A,1)}},pr=function(A){if(A.tag===13){var s=ss(A,134217728);if(s!==null){var l=_A();ei(s,A,134217728,l)}ah(A,134217728)}},ys=function(A){if(A.tag===13){var s=Ds(A),l=ss(A,s);if(l!==null){var p=_A();ei(l,A,s,p)}ah(A,s)}},Bs=function(){return xt},pn=function(A,s){var l=xt;try{return xt=A,s()}finally{xt=l}},Ge=function(A,s,l){switch(s){case"input":if(ki(A,l),s=l.name,l.type==="radio"&&s!=null){for(l=A;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var p=l[s];if(p!==A&&p.form===A.form){var y=Aa(p);if(!y)throw Error(t(90));Qt(p),ki(p,y)}}}break;case"textarea":uo(A,l);break;case"select":s=l.value,s!=null&&fn(A,!!l.multiple,s,!1)}},Vo=th,Go=So;var xB={usingClientEntryPoint:!1,Events:[ts,ns,Aa,co,ws,th]},fl={findFiberByHostInstance:es,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bB={bundleType:fl.bundleType,version:fl.version,rendererPackageName:fl.rendererPackageName,rendererConfig:fl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(A){return A=fo(A),A===null?null:A.stateNode},findFiberByHostInstance:fl.findFiberByHostInstance||_B,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ou=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ou.isDisabled&&Ou.supportsFiber)try{hi=Ou.inject(bB),jn=Ou}catch{}}return RA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xB,RA.createPortal=function(A,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!uh(s))throw Error(t(200));return BB(A,s,null,l)},RA.createRoot=function(A,s){if(!uh(A))throw Error(t(299));var l=!1,p="",y=Vg;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(p=s.identifierPrefix),s.onRecoverableError!==void 0&&(y=s.onRecoverableError)),s=oh(A,1,!1,null,null,l,!1,p,y),A[Nt]=s.current,Es(A.nodeType===8?A.parentNode:A),new lh(s)},RA.findDOMNode=function(A){if(A==null)return null;if(A.nodeType===1)return A;var s=A._reactInternals;if(s===void 0)throw typeof A.render=="function"?Error(t(188)):(A=Object.keys(A).join(","),Error(t(268,A)));return A=fo(s),A=A===null?null:A.stateNode,A},RA.flushSync=function(A){return So(A)},RA.hydrate=function(A,s,l){if(!ju(s))throw Error(t(200));return Hu(null,A,s,!0,l)},RA.hydrateRoot=function(A,s,l){if(!uh(A))throw Error(t(405));var p=l!=null&&l.hydratedSources||null,y=!1,x="",I=Vg;if(l!=null&&(l.unstable_strictMode===!0&&(y=!0),l.identifierPrefix!==void 0&&(x=l.identifierPrefix),l.onRecoverableError!==void 0&&(I=l.onRecoverableError)),s=Mg(s,null,A,1,l??null,y,!1,x,I),A[Nt]=s.current,Es(A),p)for(A=0;A<p.length;A++)l=p[A],y=l._getVersion,y=y(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,y]:s.mutableSourceEagerHydrationData.push(l,y);return new Nu(s)},RA.render=function(A,s,l){if(!ju(s))throw Error(t(200));return Hu(null,A,s,!1,l)},RA.unmountComponentAtNode=function(A){if(!ju(A))throw Error(t(40));return A._reactRootContainer?(So(function(){Hu(null,null,A,!1,function(){A._reactRootContainer=null,A[Nt]=null})}),!0):!1},RA.unstable_batchedUpdates=th,RA.unstable_renderSubtreeIntoContainer=function(A,s,l,p){if(!ju(l))throw Error(t(200));if(A==null||A._reactInternals===void 0)throw Error(t(38));return Hu(A,s,l,!1,p)},RA.version="18.3.1-next-f1338f8080-20240426",RA}var Yg;function Gv(){if(Yg)return hh.exports;Yg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),hh.exports=NB(),hh.exports}var em;function jB(){if(em)return Du;em=1;var n=Gv();return Du.createRoot=n.createRoot,Du.hydrateRoot=n.hydrateRoot,Du}var HB=jB();const OB=Vl(HB);Gv();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hl(){return Hl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Hl.apply(this,arguments)}var Js;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Js||(Js={}));const tm="popstate";function DB(n){n===void 0&&(n={});function e(i,o){let{pathname:u,search:d,hash:g}=i.location;return Yh("",{pathname:u,search:d,hash:g},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:Uc(o)}return MB(e,t,null,n)}function an(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function zv(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function RB(){return Math.random().toString(36).substr(2,8)}function nm(n,e){return{usr:n.state,key:n.key,idx:e}}function Yh(n,e,t,i){return t===void 0&&(t=null),Hl({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?za(e):e,{state:t,key:e&&e.key||i||RB()})}function Uc(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function za(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function MB(n,e,t,i){i===void 0&&(i={});let{window:o=document.defaultView,v5Compat:u=!1}=i,d=o.history,g=Js.Pop,m=null,B=C();B==null&&(B=0,d.replaceState(Hl({},d.state,{idx:B}),""));function C(){return(d.state||{idx:null}).idx}function b(){g=Js.Pop;let G=C(),O=G==null?null:G-B;B=G,m&&m({action:g,location:N.location,delta:O})}function F(G,O){g=Js.Push;let R=Yh(N.location,G,O);B=C()+1;let J=nm(R,B),M=N.createHref(R);try{d.pushState(J,"",M)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;o.location.assign(M)}u&&m&&m({action:g,location:N.location,delta:1})}function j(G,O){g=Js.Replace;let R=Yh(N.location,G,O);B=C();let J=nm(R,B),M=N.createHref(R);d.replaceState(J,"",M),u&&m&&m({action:g,location:N.location,delta:0})}function P(G){let O=o.location.origin!=="null"?o.location.origin:o.location.href,R=typeof G=="string"?G:Uc(G);return R=R.replace(/ $/,"%20"),an(O,"No window.location.(origin|href) available to create URL for href: "+R),new URL(R,O)}let N={get action(){return g},get location(){return n(o,d)},listen(G){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(tm,b),m=G,()=>{o.removeEventListener(tm,b),m=null}},createHref(G){return e(o,G)},createURL:P,encodeLocation(G){let O=P(G);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:F,replace:j,go(G){return d.go(G)}};return N}var Am;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Am||(Am={}));function KB(n,e,t){return t===void 0&&(t="/"),VB(n,e,t)}function VB(n,e,t,i){let o=typeof e=="string"?za(e):e,u=Ka(o.pathname||"/",t);if(u==null)return null;let d=Wv(n);GB(d);let g=null;for(let m=0;g==null&&m<d.length;++m){let B=n0(u);g=e0(d[m],B)}return g}function Wv(n,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let o=(u,d,g)=>{let m={relativePath:g===void 0?u.path||"":g,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};m.relativePath.startsWith("/")&&(an(m.relativePath.startsWith(i),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(i.length));let B=to([i,m.relativePath]),C=t.concat(m);u.children&&u.children.length>0&&(an(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+B+'".')),Wv(u.children,e,C,B)),!(u.path==null&&!u.index)&&e.push({path:B,score:XB(B,u.index),routesMeta:C})};return n.forEach((u,d)=>{var g;if(u.path===""||!((g=u.path)!=null&&g.includes("?")))o(u,d);else for(let m of $v(u.path))o(u,d,m)}),e}function $v(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(i.length===0)return o?[u,""]:[u];let d=$v(i.join("/")),g=[];return g.push(...d.map(m=>m===""?u:[u,m].join("/"))),o&&g.push(...d),g.map(m=>n.startsWith("/")&&m===""?"/":m)}function GB(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:YB(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const zB=/^:[\w-]+$/,WB=3,$B=2,ZB=1,JB=10,qB=-2,rm=n=>n==="*";function XB(n,e){let t=n.split("/"),i=t.length;return t.some(rm)&&(i+=qB),e&&(i+=$B),t.filter(o=>!rm(o)).reduce((o,u)=>o+(zB.test(u)?WB:u===""?ZB:JB),i)}function YB(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function e0(n,e,t){let{routesMeta:i}=n,o={},u="/",d=[];for(let g=0;g<i.length;++g){let m=i[g],B=g===i.length-1,C=u==="/"?e:e.slice(u.length)||"/",b=ef({path:m.relativePath,caseSensitive:m.caseSensitive,end:B},C),F=m.route;if(!b)return null;Object.assign(o,b.params),d.push({params:o,pathname:to([u,b.pathname]),pathnameBase:s0(to([u,b.pathnameBase])),route:F}),b.pathnameBase!=="/"&&(u=to([u,b.pathnameBase]))}return d}function ef(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=t0(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let u=o[0],d=u.replace(/(.)\/+$/,"$1"),g=o.slice(1);return{params:i.reduce((B,C,b)=>{let{paramName:F,isOptional:j}=C;if(F==="*"){let N=g[b]||"";d=u.slice(0,u.length-N.length).replace(/(.)\/+$/,"$1")}const P=g[b];return j&&!P?B[F]=void 0:B[F]=(P||"").replace(/%2F/g,"/"),B},{}),pathname:u,pathnameBase:d,pattern:n}}function t0(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),zv(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,g,m)=>(i.push({paramName:g,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function n0(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zv(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function Ka(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function A0(n,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?za(n):n;return{pathname:t?t.startsWith("/")?t:r0(t,e):e,search:o0(i),hash:a0(o)}}function r0(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function gh(n,e,t,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function i0(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Zf(n,e){let t=i0(n);return e?t.map((i,o)=>o===t.length-1?i.pathname:i.pathnameBase):t.map(i=>i.pathnameBase)}function Jf(n,e,t,i){i===void 0&&(i=!1);let o;typeof n=="string"?o=za(n):(o=Hl({},n),an(!o.pathname||!o.pathname.includes("?"),gh("?","pathname","search",o)),an(!o.pathname||!o.pathname.includes("#"),gh("#","pathname","hash",o)),an(!o.search||!o.search.includes("#"),gh("#","search","hash",o)));let u=n===""||o.pathname==="",d=u?"/":o.pathname,g;if(d==null)g=t;else{let b=e.length-1;if(!i&&d.startsWith("..")){let F=d.split("/");for(;F[0]==="..";)F.shift(),b-=1;o.pathname=F.join("/")}g=b>=0?e[b]:"/"}let m=A0(o,g),B=d&&d!=="/"&&d.endsWith("/"),C=(u||d===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(B||C)&&(m.pathname+="/"),m}const to=n=>n.join("/").replace(/\/\/+/g,"/"),s0=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),o0=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,a0=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function l0(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const Zv=["post","put","patch","delete"];new Set(Zv);const u0=["get",...Zv];new Set(u0);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ol(){return Ol=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Ol.apply(this,arguments)}const Kc=S.createContext(null),Jv=S.createContext(null),gs=S.createContext(null),Vc=S.createContext(null),ms=S.createContext({outlet:null,matches:[],isDataRoute:!1}),qv=S.createContext(null);function c0(n,e){let{relative:t}=e===void 0?{}:e;Wa()||an(!1);let{basename:i,navigator:o}=S.useContext(gs),{hash:u,pathname:d,search:g}=Gc(n,{relative:t}),m=d;return i!=="/"&&(m=d==="/"?i:to([i,d])),o.createHref({pathname:m,search:g,hash:u})}function Wa(){return S.useContext(Vc)!=null}function io(){return Wa()||an(!1),S.useContext(Vc).location}function Xv(n){S.useContext(gs).static||S.useLayoutEffect(n)}function Gl(){let{isDataRoute:n}=S.useContext(ms);return n?x0():d0()}function d0(){Wa()||an(!1);let n=S.useContext(Kc),{basename:e,future:t,navigator:i}=S.useContext(gs),{matches:o}=S.useContext(ms),{pathname:u}=io(),d=JSON.stringify(Zf(o,t.v7_relativeSplatPath)),g=S.useRef(!1);return Xv(()=>{g.current=!0}),S.useCallback(function(B,C){if(C===void 0&&(C={}),!g.current)return;if(typeof B=="number"){i.go(B);return}let b=Jf(B,JSON.parse(d),u,C.relative==="path");n==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:to([e,b.pathname])),(C.replace?i.replace:i.push)(b,C.state,C)},[e,i,d,u,n])}function qf(){let{matches:n}=S.useContext(ms),e=n[n.length-1];return e?e.params:{}}function Gc(n,e){let{relative:t}=e===void 0?{}:e,{future:i}=S.useContext(gs),{matches:o}=S.useContext(ms),{pathname:u}=io(),d=JSON.stringify(Zf(o,i.v7_relativeSplatPath));return S.useMemo(()=>Jf(n,JSON.parse(d),u,t==="path"),[n,d,u,t])}function h0(n,e){return f0(n,e)}function f0(n,e,t,i){Wa()||an(!1);let{navigator:o}=S.useContext(gs),{matches:u}=S.useContext(ms),d=u[u.length-1],g=d?d.params:{};d&&d.pathname;let m=d?d.pathnameBase:"/";d&&d.route;let B=io(),C;if(e){var b;let G=typeof e=="string"?za(e):e;m==="/"||(b=G.pathname)!=null&&b.startsWith(m)||an(!1),C=G}else C=B;let F=C.pathname||"/",j=F;if(m!=="/"){let G=m.replace(/^\//,"").split("/");j="/"+F.replace(/^\//,"").split("/").slice(G.length).join("/")}let P=KB(n,{pathname:j}),N=w0(P&&P.map(G=>Object.assign({},G,{params:Object.assign({},g,G.params),pathname:to([m,o.encodeLocation?o.encodeLocation(G.pathname).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?m:to([m,o.encodeLocation?o.encodeLocation(G.pathnameBase).pathname:G.pathnameBase])})),u,t,i);return e&&N?S.createElement(Vc.Provider,{value:{location:Ol({pathname:"/",search:"",hash:"",state:null,key:"default"},C),navigationType:Js.Pop}},N):N}function p0(){let n=C0(),e=l0(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),t?S.createElement("pre",{style:o},t):null,null)}const g0=S.createElement(p0,null);class m0 extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?S.createElement(ms.Provider,{value:this.props.routeContext},S.createElement(qv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function v0(n){let{routeContext:e,match:t,children:i}=n,o=S.useContext(Kc);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),S.createElement(ms.Provider,{value:e},i)}function w0(n,e,t,i){var o;if(e===void 0&&(e=[]),t===void 0&&(t=null),i===void 0&&(i=null),n==null){var u;if(!t)return null;if(t.errors)n=t.matches;else if((u=i)!=null&&u.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let d=n,g=(o=t)==null?void 0:o.errors;if(g!=null){let C=d.findIndex(b=>b.route.id&&g?.[b.route.id]!==void 0);C>=0||an(!1),d=d.slice(0,Math.min(d.length,C+1))}let m=!1,B=-1;if(t&&i&&i.v7_partialHydration)for(let C=0;C<d.length;C++){let b=d[C];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(B=C),b.route.id){let{loaderData:F,errors:j}=t,P=b.route.loader&&F[b.route.id]===void 0&&(!j||j[b.route.id]===void 0);if(b.route.lazy||P){m=!0,B>=0?d=d.slice(0,B+1):d=[d[0]];break}}}return d.reduceRight((C,b,F)=>{let j,P=!1,N=null,G=null;t&&(j=g&&b.route.id?g[b.route.id]:void 0,N=b.route.errorElement||g0,m&&(B<0&&F===0?(b0("route-fallback"),P=!0,G=null):B===F&&(P=!0,G=b.route.hydrateFallbackElement||null)));let O=e.concat(d.slice(0,F+1)),R=()=>{let J;return j?J=N:P?J=G:b.route.Component?J=S.createElement(b.route.Component,null):b.route.element?J=b.route.element:J=C,S.createElement(v0,{match:b,routeContext:{outlet:C,matches:O,isDataRoute:t!=null},children:J})};return t&&(b.route.ErrorBoundary||b.route.errorElement||F===0)?S.createElement(m0,{location:t.location,revalidation:t.revalidation,component:N,error:j,children:R(),routeContext:{outlet:null,matches:O,isDataRoute:!0}}):R()},null)}var Yv=(function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n})(Yv||{}),ew=(function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n})(ew||{});function y0(n){let e=S.useContext(Kc);return e||an(!1),e}function B0(n){let e=S.useContext(Jv);return e||an(!1),e}function _0(n){let e=S.useContext(ms);return e||an(!1),e}function tw(n){let e=_0(),t=e.matches[e.matches.length-1];return t.route.id||an(!1),t.route.id}function C0(){var n;let e=S.useContext(qv),t=B0(),i=tw();return e!==void 0?e:(n=t.errors)==null?void 0:n[i]}function x0(){let{router:n}=y0(Yv.UseNavigateStable),e=tw(ew.UseNavigateStable),t=S.useRef(!1);return Xv(()=>{t.current=!0}),S.useCallback(function(o,u){u===void 0&&(u={}),t.current&&(typeof o=="number"?n.navigate(o):n.navigate(o,Ol({fromRouteId:e},u)))},[n,e])}const im={};function b0(n,e,t){im[n]||(im[n]=!0)}function Q0(n,e){n?.v7_startTransition,n?.v7_relativeSplatPath}function sm(n){let{to:e,replace:t,state:i,relative:o}=n;Wa()||an(!1);let{future:u,static:d}=S.useContext(gs),{matches:g}=S.useContext(ms),{pathname:m}=io(),B=Gl(),C=Jf(e,Zf(g,u.v7_relativeSplatPath),m,o==="path"),b=JSON.stringify(C);return S.useEffect(()=>B(JSON.parse(b),{replace:t,state:i,relative:o}),[B,b,o,t,i]),null}function Qn(n){an(!1)}function U0(n){let{basename:e="/",children:t=null,location:i,navigationType:o=Js.Pop,navigator:u,static:d=!1,future:g}=n;Wa()&&an(!1);let m=e.replace(/^\/*/,"/"),B=S.useMemo(()=>({basename:m,navigator:u,static:d,future:Ol({v7_relativeSplatPath:!1},g)}),[m,g,u,d]);typeof i=="string"&&(i=za(i));let{pathname:C="/",search:b="",hash:F="",state:j=null,key:P="default"}=i,N=S.useMemo(()=>{let G=Ka(C,m);return G==null?null:{location:{pathname:G,search:b,hash:F,state:j,key:P},navigationType:o}},[m,C,b,F,j,P,o]);return N==null?null:S.createElement(gs.Provider,{value:B},S.createElement(Vc.Provider,{children:t,value:N}))}function E0(n){let{children:e,location:t}=n;return h0(tf(e),t)}new Promise(()=>{});function tf(n,e){e===void 0&&(e=[]);let t=[];return S.Children.forEach(n,(i,o)=>{if(!S.isValidElement(i))return;let u=[...e,o];if(i.type===S.Fragment){t.push.apply(t,tf(i.props.children,u));return}i.type!==Qn&&an(!1),!i.props.index||!i.props.children||an(!1);let d={id:i.props.id||u.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(d.children=tf(i.props.children,u)),t.push(d)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ec(){return Ec=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Ec.apply(this,arguments)}function nw(n,e){if(n==null)return{};var t={},i=Object.keys(n),o,u;for(u=0;u<i.length;u++)o=i[u],!(e.indexOf(o)>=0)&&(t[o]=n[o]);return t}function F0(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function S0(n,e){return n.button===0&&(!e||e==="_self")&&!F0(n)}const I0=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],L0=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],k0="6";try{window.__reactRouterVersion=k0}catch{}const T0=S.createContext({isTransitioning:!1}),P0="startTransition",om=kB[P0];function N0(n){let{basename:e,children:t,future:i,window:o}=n,u=S.useRef();u.current==null&&(u.current=DB({window:o,v5Compat:!0}));let d=u.current,[g,m]=S.useState({action:d.action,location:d.location}),{v7_startTransition:B}=i||{},C=S.useCallback(b=>{B&&om?om(()=>m(b)):m(b)},[m,B]);return S.useLayoutEffect(()=>d.listen(C),[d,C]),S.useEffect(()=>Q0(i),[i]),S.createElement(U0,{basename:e,children:t,location:g.location,navigationType:g.action,navigator:d,future:i})}const j0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",H0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ri=S.forwardRef(function(e,t){let{onClick:i,relative:o,reloadDocument:u,replace:d,state:g,target:m,to:B,preventScrollReset:C,viewTransition:b}=e,F=nw(e,I0),{basename:j}=S.useContext(gs),P,N=!1;if(typeof B=="string"&&H0.test(B)&&(P=B,j0))try{let J=new URL(window.location.href),M=B.startsWith("//")?new URL(J.protocol+B):new URL(B),$=Ka(M.pathname,j);M.origin===J.origin&&$!=null?B=$+M.search+M.hash:N=!0}catch{}let G=c0(B,{relative:o}),O=D0(B,{replace:d,state:g,target:m,preventScrollReset:C,relative:o,viewTransition:b});function R(J){i&&i(J),J.defaultPrevented||O(J)}return S.createElement("a",Ec({},F,{href:P||G,onClick:N||u?i:R,ref:t,target:m}))}),va=S.forwardRef(function(e,t){let{"aria-current":i="page",caseSensitive:o=!1,className:u="",end:d=!1,style:g,to:m,viewTransition:B,children:C}=e,b=nw(e,L0),F=Gc(m,{relative:b.relative}),j=io(),P=S.useContext(Jv),{navigator:N,basename:G}=S.useContext(gs),O=P!=null&&R0(F)&&B===!0,R=N.encodeLocation?N.encodeLocation(F).pathname:F.pathname,J=j.pathname,M=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;o||(J=J.toLowerCase(),M=M?M.toLowerCase():null,R=R.toLowerCase()),M&&G&&(M=Ka(M,G)||M);const $=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let q=J===R||!d&&J.startsWith(R)&&J.charAt($)==="/",xe=M!=null&&(M===R||!d&&M.startsWith(R)&&M.charAt(R.length)==="/"),X={isActive:q,isPending:xe,isTransitioning:O},Ae=q?i:void 0,ve;typeof u=="function"?ve=u(X):ve=[u,q?"active":null,xe?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let Ee=typeof g=="function"?g(X):g;return S.createElement(ri,Ec({},b,{"aria-current":Ae,className:ve,ref:t,style:Ee,to:m,viewTransition:B}),typeof C=="function"?C(X):C)});var nf;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(nf||(nf={}));var am;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(am||(am={}));function O0(n){let e=S.useContext(Kc);return e||an(!1),e}function D0(n,e){let{target:t,replace:i,state:o,preventScrollReset:u,relative:d,viewTransition:g}=e===void 0?{}:e,m=Gl(),B=io(),C=Gc(n,{relative:d});return S.useCallback(b=>{if(S0(b,t)){b.preventDefault();let F=i!==void 0?i:Uc(B)===Uc(C);m(n,{replace:F,state:o,preventScrollReset:u,relative:d,viewTransition:g})}},[B,m,C,i,o,t,n,u,d,g])}function R0(n,e){e===void 0&&(e={});let t=S.useContext(T0);t==null&&an(!1);let{basename:i}=O0(nf.useViewTransitionState),o=Gc(n,{relative:e.relative});if(!t.isTransitioning)return!1;let u=Ka(t.currentLocation.pathname,i)||t.currentLocation.pathname,d=Ka(t.nextLocation.pathname,i)||t.nextLocation.pathname;return ef(o.pathname,d)!=null||ef(o.pathname,u)!=null}var mc={exports:{}},M0=mc.exports,lm;function K0(){return lm||(lm=1,(function(n,e){(function(t,i){n.exports=i()})(M0,function(){var t=function(h,v){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,U){_.__proto__=U}||function(_,U){for(var E in U)Object.prototype.hasOwnProperty.call(U,E)&&(_[E]=U[E])})(h,v)},i=function(){return(i=Object.assign||function(h){for(var v,_=1,U=arguments.length;_<U;_++)for(var E in v=arguments[_])Object.prototype.hasOwnProperty.call(v,E)&&(h[E]=v[E]);return h}).apply(this,arguments)};function o(h,v,_){for(var U,E=0,k=v.length;E<k;E++)!U&&E in v||((U=U||Array.prototype.slice.call(v,0,E))[E]=v[E]);return h.concat(U||Array.prototype.slice.call(v))}var u=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:EB,d=Object.keys,g=Array.isArray;function m(h,v){return typeof v!="object"||d(v).forEach(function(_){h[_]=v[_]}),h}typeof Promise>"u"||u.Promise||(u.Promise=Promise);var B=Object.getPrototypeOf,C={}.hasOwnProperty;function b(h,v){return C.call(h,v)}function F(h,v){typeof v=="function"&&(v=v(B(h))),(typeof Reflect>"u"?d:Reflect.ownKeys)(v).forEach(function(_){P(h,_,v[_])})}var j=Object.defineProperty;function P(h,v,_,U){j(h,v,m(_&&b(_,"get")&&typeof _.get=="function"?{get:_.get,set:_.set,configurable:!0}:{value:_,configurable:!0,writable:!0},U))}function N(h){return{from:function(v){return h.prototype=Object.create(v.prototype),P(h.prototype,"constructor",h),{extend:F.bind(null,h.prototype)}}}}var G=Object.getOwnPropertyDescriptor,O=[].slice;function R(h,v,_){return O.call(h,v,_)}function J(h,v){return v(h)}function M(h){if(!h)throw new Error("Assertion Failed")}function $(h){u.setImmediate?setImmediate(h):setTimeout(h,0)}function q(h,v){if(typeof v=="string"&&b(h,v))return h[v];if(!v)return h;if(typeof v!="string"){for(var _=[],U=0,E=v.length;U<E;++U){var k=q(h,v[U]);_.push(k)}return _}var H=v.indexOf(".");if(H!==-1){var z=h[v.substr(0,H)];return z==null?void 0:q(z,v.substr(H+1))}}function xe(h,v,_){if(h&&v!==void 0&&!("isFrozen"in Object&&Object.isFrozen(h)))if(typeof v!="string"&&"length"in v){M(typeof _!="string"&&"length"in _);for(var U=0,E=v.length;U<E;++U)xe(h,v[U],_[U])}else{var k,H,z=v.indexOf(".");z!==-1?(k=v.substr(0,z),(H=v.substr(z+1))===""?_===void 0?g(h)&&!isNaN(parseInt(k))?h.splice(k,1):delete h[k]:h[k]=_:xe(z=!(z=h[k])||!b(h,k)?h[k]={}:z,H,_)):_===void 0?g(h)&&!isNaN(parseInt(v))?h.splice(v,1):delete h[v]:h[v]=_}}function X(h){var v,_={};for(v in h)b(h,v)&&(_[v]=h[v]);return _}var Ae=[].concat;function ve(h){return Ae.apply([],h)}var UA="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(ve([8,16,32,64].map(function(h){return["Int","Uint","Float"].map(function(v){return v+h+"Array"})}))).filter(function(h){return u[h]}),Ee=new Set(UA.map(function(h){return u[h]})),qe=null;function Ze(h){return qe=new WeakMap,h=(function v(_){if(!_||typeof _!="object")return _;var U=qe.get(_);if(U)return U;if(g(_)){U=[],qe.set(_,U);for(var E=0,k=_.length;E<k;++E)U.push(v(_[E]))}else if(Ee.has(_.constructor))U=_;else{var H,z=B(_);for(H in U=z===Object.prototype?{}:Object.create(z),qe.set(_,U),_)b(_,H)&&(U[H]=v(_[H]))}return U})(h),qe=null,h}var be={}.toString;function et(h){return be.call(h).slice(8,-1)}var se=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Qe=typeof se=="symbol"?function(h){var v;return h!=null&&(v=h[se])&&v.apply(h)}:function(){return null};function ge(h,v){return v=h.indexOf(v),0<=v&&h.splice(v,1),0<=v}var Pe={};function K(h){var v,_,U,E;if(arguments.length===1){if(g(h))return h.slice();if(this===Pe&&typeof h=="string")return[h];if(E=Qe(h)){for(_=[];!(U=E.next()).done;)_.push(U.value);return _}if(h==null)return[h];if(typeof(v=h.length)!="number")return[h];for(_=new Array(v);v--;)_[v]=h[v];return _}for(v=arguments.length,_=new Array(v);v--;)_[v]=arguments[v];return _}var D=typeof Symbol<"u"?function(h){return h[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},si=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Fn=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(si),le={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Ie(h,v){this.name=h,this.message=v}function Fe(h,v){return h+". Errors: "+Object.keys(v).map(function(_){return v[_].toString()}).filter(function(_,U,E){return E.indexOf(_)===U}).join(`
`)}function Ne(h,v,_,U){this.failures=v,this.failedKeys=U,this.successCount=_,this.message=Fe(h,v)}function Oe(h,v){this.name="BulkError",this.failures=Object.keys(v).map(function(_){return v[_]}),this.failuresByPos=v,this.message=Fe(h,this.failures)}N(Ie).from(Error).extend({toString:function(){return this.name+": "+this.message}}),N(Ne).from(Ie),N(Oe).from(Ie);var At=Fn.reduce(function(h,v){return h[v]=v+"Error",h},{}),mt=Ie,De=Fn.reduce(function(h,v){var _=v+"Error";function U(E,k){this.name=_,E?typeof E=="string"?(this.message="".concat(E).concat(k?`
 `+k:""),this.inner=k||null):typeof E=="object"&&(this.message="".concat(E.name," ").concat(E.message),this.inner=E):(this.message=le[v]||_,this.inner=null)}return N(U).from(mt),h[v]=U,h},{});De.Syntax=SyntaxError,De.Type=TypeError,De.Range=RangeError;var Ot=si.reduce(function(h,v){return h[v+"Error"]=De[v],h},{}),fA=Fn.reduce(function(h,v){return["Syntax","Type","Range"].indexOf(v)===-1&&(h[v+"Error"]=De[v]),h},{});function Qt(){}function QA(h){return h}function oo(h,v){return h==null||h===QA?v:function(_){return v(h(_))}}function KA(h,v){return function(){h.apply(this,arguments),v.apply(this,arguments)}}function ao(h,v){return h===Qt?v:function(){var _=h.apply(this,arguments);_!==void 0&&(arguments[0]=_);var U=this.onsuccess,E=this.onerror;this.onsuccess=null,this.onerror=null;var k=v.apply(this,arguments);return U&&(this.onsuccess=this.onsuccess?KA(U,this.onsuccess):U),E&&(this.onerror=this.onerror?KA(E,this.onerror):E),k!==void 0?k:_}}function ki(h,v){return h===Qt?v:function(){h.apply(this,arguments);var _=this.onsuccess,U=this.onerror;this.onsuccess=this.onerror=null,v.apply(this,arguments),_&&(this.onsuccess=this.onsuccess?KA(_,this.onsuccess):_),U&&(this.onerror=this.onerror?KA(U,this.onerror):U)}}function Ti(h,v){return h===Qt?v:function(_){var U=h.apply(this,arguments);m(_,U);var E=this.onsuccess,k=this.onerror;return this.onsuccess=null,this.onerror=null,_=v.apply(this,arguments),E&&(this.onsuccess=this.onsuccess?KA(E,this.onsuccess):E),k&&(this.onerror=this.onerror?KA(k,this.onerror):k),U===void 0?_===void 0?void 0:_:m(U,_)}}function lo(h,v){return h===Qt?v:function(){return v.apply(this,arguments)!==!1&&h.apply(this,arguments)}}function ir(h,v){return h===Qt?v:function(){var _=h.apply(this,arguments);if(_&&typeof _.then=="function"){for(var U=this,E=arguments.length,k=new Array(E);E--;)k[E]=arguments[E];return _.then(function(){return v.apply(U,k)})}return v.apply(this,arguments)}}fA.ModifyError=Ne,fA.DexieError=Ie,fA.BulkError=Oe;var fn=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Pi(h){fn=h}var Lr={},uo=100,UA=typeof Promise>"u"?[]:(function(){var h=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[h,B(h),h];var v=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[v,B(v),h]})(),si=UA[0],Fn=UA[1],UA=UA[2],Fn=Fn&&Fn.then,EA=si&&si.constructor,kr=!!UA,oi=function(h,v){pA.push([h,v]),VA&&(queueMicrotask(Go),VA=!1)},sr=!0,VA=!0,Tr=[],ai=[],li=QA,GA={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Qt,pgp:!1,env:{},finalize:Qt},rt=GA,pA=[],zA=0,ui=[];function Ge(h){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var v=this._PSD=rt;if(typeof h!="function"){if(h!==Lr)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&vs(this,this._value))}this._state=null,this._value=null,++v.ref,(function _(U,E){try{E(function(k){if(U._state===null){if(k===U)throw new TypeError("A promise cannot be resolved with itself.");var H=U._lib&&ar();k&&typeof k.then=="function"?_(U,function(z,Y){k instanceof Ge?k._then(z,Y):k.then(z,Y)}):(U._state=!0,U._value=k,co(U)),H&&$A()}},vs.bind(null,U))}catch(k){vs(U,k)}})(this,h)}var WA={get:function(){var h=rt,v=Nr;function _(U,E){var k=this,H=!h.global&&(h!==rt||v!==Nr),z=H&&!En(),Y=new Ge(function(ne,re){ws(k,new or(po(U,h,H,z),po(E,h,H,z),ne,re,h))});return this._consoleTask&&(Y._consoleTask=this._consoleTask),Y}return _.prototype=Lr,_},set:function(h){P(this,"then",h&&h.prototype===Lr?WA:{get:function(){return h},set:WA.set})}};function or(h,v,_,U,E){this.onFulfilled=typeof h=="function"?h:null,this.onRejected=typeof v=="function"?v:null,this.resolve=_,this.reject=U,this.psd=E}function vs(h,v){var _,U;ai.push(v),h._state===null&&(_=h._lib&&ar(),v=li(v),h._state=!1,h._value=v,U=h,Tr.some(function(E){return E._value===U._value})||Tr.push(U),co(h),_&&$A())}function co(h){var v=h._listeners;h._listeners=[];for(var _=0,U=v.length;_<U;++_)ws(h,v[_]);var E=h._PSD;--E.ref||E.finalize(),zA===0&&(++zA,oi(function(){--zA==0&&Pr()},[]))}function ws(h,v){if(h._state!==null){var _=h._state?v.onFulfilled:v.onRejected;if(_===null)return(h._state?v.resolve:v.reject)(h._value);++v.psd.ref,++zA,oi(Vo,[_,h,v])}else h._listeners.push(v)}function Vo(h,v,_){try{var U,E=v._value;!v._state&&ai.length&&(ai=[]),U=fn&&v._consoleTask?v._consoleTask.run(function(){return h(E)}):h(E),v._state||ai.indexOf(E)!==-1||(function(k){for(var H=Tr.length;H;)if(Tr[--H]._value===k._value)return Tr.splice(H,1)})(v),_.resolve(U)}catch(k){_.reject(k)}finally{--zA==0&&Pr(),--_.psd.ref||_.psd.finalize()}}function Go(){dr(GA,function(){ar()&&$A()})}function ar(){var h=sr;return VA=sr=!1,h}function $A(){var h,v,_;do for(;0<pA.length;)for(h=pA,pA=[],_=h.length,v=0;v<_;++v){var U=h[v];U[0].apply(null,U[1])}while(0<pA.length);VA=sr=!0}function Pr(){var h=Tr;Tr=[],h.forEach(function(U){U._PSD.onunhandled.call(null,U._value,U)});for(var v=ui.slice(0),_=v.length;_;)v[--_]()}function ci(h){return new Ge(Lr,!1,h)}function kt(h,v){var _=rt;return function(){var U=ar(),E=rt;try{return cr(_,!0),h.apply(this,arguments)}catch(k){v&&v(k)}finally{cr(E,!1),U&&$A()}}}F(Ge.prototype,{then:WA,_then:function(h,v){ws(this,new or(null,null,h,v,rt))},catch:function(h){if(arguments.length===1)return this.then(null,h);var v=h,_=arguments[1];return typeof v=="function"?this.then(null,function(U){return(U instanceof v?_:ci)(U)}):this.then(null,function(U){return(U&&U.name===v?_:ci)(U)})},finally:function(h){return this.then(function(v){return Ge.resolve(h()).then(function(){return v})},function(v){return Ge.resolve(h()).then(function(){return ci(v)})})},timeout:function(h,v){var _=this;return h<1/0?new Ge(function(U,E){var k=setTimeout(function(){return E(new De.Timeout(v))},h);_.then(U,E).finally(clearTimeout.bind(null,k))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&P(Ge.prototype,Symbol.toStringTag,"Dexie.Promise"),GA.env=fo(),F(Ge,{all:function(){var h=K.apply(null,arguments).map(FA);return new Ge(function(v,_){h.length===0&&v([]);var U=h.length;h.forEach(function(E,k){return Ge.resolve(E).then(function(H){h[k]=H,--U||v(h)},_)})})},resolve:function(h){return h instanceof Ge?h:h&&typeof h.then=="function"?new Ge(function(v,_){h.then(v,_)}):new Ge(Lr,!0,h)},reject:ci,race:function(){var h=K.apply(null,arguments).map(FA);return new Ge(function(v,_){h.map(function(U){return Ge.resolve(U).then(v,_)})})},PSD:{get:function(){return rt},set:function(h){return rt=h}},totalEchoes:{get:function(){return Nr}},newPSD:ZA,usePSD:dr,scheduler:{get:function(){return oi},set:function(h){oi=h}},rejectionMapper:{get:function(){return li},set:function(h){li=h}},follow:function(h,v){return new Ge(function(_,U){return ZA(function(E,k){var H=rt;H.unhandleds=[],H.onunhandled=k,H.finalize=KA(function(){var z,Y=this;z=function(){Y.unhandleds.length===0?E():k(Y.unhandleds[0])},ui.push(function ne(){z(),ui.splice(ui.indexOf(ne),1)}),++zA,oi(function(){--zA==0&&Pr()},[])},H.finalize),h()},v,_,U)})}}),EA&&(EA.allSettled&&P(Ge,"allSettled",function(){var h=K.apply(null,arguments).map(FA);return new Ge(function(v){h.length===0&&v([]);var _=h.length,U=new Array(_);h.forEach(function(E,k){return Ge.resolve(E).then(function(H){return U[k]={status:"fulfilled",value:H}},function(H){return U[k]={status:"rejected",reason:H}}).then(function(){return--_||v(U)})})})}),EA.any&&typeof AggregateError<"u"&&P(Ge,"any",function(){var h=K.apply(null,arguments).map(FA);return new Ge(function(v,_){h.length===0&&_(new AggregateError([]));var U=h.length,E=new Array(U);h.forEach(function(k,H){return Ge.resolve(k).then(function(z){return v(z)},function(z){E[H]=z,--U||_(new AggregateError(E))})})})}),EA.withResolvers&&(Ge.withResolvers=EA.withResolvers));var ln={awaits:0,echoes:0,id:0},Nn=0,tt=[],lr=0,Nr=0,zo=0;function ZA(h,v,_,U){var E=rt,k=Object.create(E);return k.parent=E,k.ref=0,k.global=!1,k.id=++zo,GA.env,k.env=kr?{Promise:Ge,PromiseProp:{value:Ge,configurable:!0,writable:!0},all:Ge.all,race:Ge.race,allSettled:Ge.allSettled,any:Ge.any,resolve:Ge.resolve,reject:Ge.reject}:{},v&&m(k,v),++E.ref,k.finalize=function(){--this.parent.ref||this.parent.finalize()},U=dr(k,h,_,U),k.ref===0&&k.finalize(),U}function ur(){return ln.id||(ln.id=++Nn),++ln.awaits,ln.echoes+=uo,ln.id}function En(){return!!ln.awaits&&(--ln.awaits==0&&(ln.id=0),ln.echoes=ln.awaits*uo,!0)}function FA(h){return ln.echoes&&h&&h.constructor===EA?(ur(),h.then(function(v){return En(),v},function(v){return En(),Zt(v)})):h}function ho(){var h=tt[tt.length-1];tt.pop(),cr(h,!1)}function cr(h,v){var _,U=rt;(v?!ln.echoes||lr++&&h===rt:!lr||--lr&&h===rt)||queueMicrotask(v?(function(E){++Nr,ln.echoes&&--ln.echoes!=0||(ln.echoes=ln.awaits=ln.id=0),tt.push(rt),cr(E,!0)}).bind(null,h):ho),h!==rt&&(rt=h,U===GA&&(GA.env=fo()),kr&&(_=GA.env.Promise,v=h.env,(U.global||h.global)&&(Object.defineProperty(u,"Promise",v.PromiseProp),_.all=v.all,_.race=v.race,_.resolve=v.resolve,_.reject=v.reject,v.allSettled&&(_.allSettled=v.allSettled),v.any&&(_.any=v.any))))}function fo(){var h=u.Promise;return kr?{Promise:h,PromiseProp:Object.getOwnPropertyDescriptor(u,"Promise"),all:h.all,race:h.race,allSettled:h.allSettled,any:h.any,resolve:h.resolve,reject:h.reject}:{}}function dr(h,v,_,U,E){var k=rt;try{return cr(h,!0),v(_,U,E)}finally{cr(k,!1)}}function po(h,v,_,U){return typeof h!="function"?h:function(){var E=rt;_&&ur(),cr(v,!0);try{return h.apply(this,arguments)}finally{cr(E,!1),U&&queueMicrotask(En)}}}function Ni(h){Promise===EA&&ln.echoes===0?lr===0?h():enqueueNativeMicroTask(h):setTimeout(h,0)}(""+Fn).indexOf("[native code]")===-1&&(ur=En=Qt);var Zt=Ge.reject,SA="",It="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Wo="String expected.",hr=[],ji="__dbnames",di="readonly",Hi="readwrite";function rA(h,v){return h?v?function(){return h.apply(this,arguments)&&v.apply(this,arguments)}:h:v}var hi={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function jn(h){return typeof h!="string"||/\./.test(h)?function(v){return v}:function(v){return v[h]===void 0&&h in v&&delete(v=Ze(v))[h],v}}function fi(){throw De.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function ze(h,v){try{var _=Dt(h),U=Dt(v);if(_!==U)return _==="Array"?1:U==="Array"?-1:_==="binary"?1:U==="binary"?-1:_==="string"?1:U==="string"?-1:_==="Date"?1:U!=="Date"?NaN:-1;switch(_){case"number":case"Date":case"string":return v<h?1:h<v?-1:0;case"binary":return(function(E,k){for(var H=E.length,z=k.length,Y=H<z?H:z,ne=0;ne<Y;++ne)if(E[ne]!==k[ne])return E[ne]<k[ne]?-1:1;return H===z?0:H<z?-1:1})(Oi(h),Oi(v));case"Array":return(function(E,k){for(var H=E.length,z=k.length,Y=H<z?H:z,ne=0;ne<Y;++ne){var re=ze(E[ne],k[ne]);if(re!==0)return re}return H===z?0:H<z?-1:1})(h,v)}}catch{}return NaN}function Dt(h){var v=typeof h;return v!="object"?v:ArrayBuffer.isView(h)?"binary":(h=et(h),h==="ArrayBuffer"?"binary":h)}function Oi(h){return h instanceof Uint8Array?h:ArrayBuffer.isView(h)?new Uint8Array(h.buffer,h.byteOffset,h.byteLength):new Uint8Array(h)}function JA(h,v,_){var U=h.schema.yProps;return U?(v&&0<_.numFailures&&(v=v.filter(function(E,k){return!_.failures[k]})),Promise.all(U.map(function(E){return E=E.updatesTable,v?h.db.table(E).where("k").anyOf(v).delete():h.db.table(E).clear()})).then(function(){return _})):_}var IA=(Ft.prototype._trans=function(h,v,_){var U=this._tx||rt.trans,E=this.name,k=fn&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(h==="readonly"?"read":"write"," ").concat(this.name));function H(ne,re,W){if(!W.schema[E])throw new De.NotFound("Table "+E+" not part of transaction");return v(W.idbtrans,W)}var z=ar();try{var Y=U&&U.db._novip===this.db._novip?U===rt.trans?U._promise(h,H,_):ZA(function(){return U._promise(h,H,_)},{trans:U,transless:rt.transless||rt}):(function ne(re,W,de,te){if(re.idbdb&&(re._state.openComplete||rt.letThrough||re._vip)){var oe=re._createTransaction(W,de,re._dbSchema);try{oe.create(),re._state.PR1398_maxLoop=3}catch(ue){return ue.name===At.InvalidState&&re.isOpen()&&0<--re._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),re.close({disableAutoOpen:!1}),re.open().then(function(){return ne(re,W,de,te)})):Zt(ue)}return oe._promise(W,function(ue,ae){return ZA(function(){return rt.trans=oe,te(ue,ae,oe)})}).then(function(ue){if(W==="readwrite")try{oe.idbtrans.commit()}catch{}return W==="readonly"?ue:oe._completion.then(function(){return ue})})}if(re._state.openComplete)return Zt(new De.DatabaseClosed(re._state.dbOpenError));if(!re._state.isBeingOpened){if(!re._state.autoOpen)return Zt(new De.DatabaseClosed);re.open().catch(Qt)}return re._state.dbReadyPromise.then(function(){return ne(re,W,de,te)})})(this.db,h,[this.name],H);return k&&(Y._consoleTask=k,Y=Y.catch(function(ne){return console.trace(ne),Zt(ne)})),Y}finally{z&&$A()}},Ft.prototype.get=function(h,v){var _=this;return h&&h.constructor===Object?this.where(h).first(v):h==null?Zt(new De.Type("Invalid argument to Table.get()")):this._trans("readonly",function(U){return _.core.get({trans:U,key:h}).then(function(E){return _.hook.reading.fire(E)})}).then(v)},Ft.prototype.where=function(h){if(typeof h=="string")return new this.db.WhereClause(this,h);if(g(h))return new this.db.WhereClause(this,"[".concat(h.join("+"),"]"));var v=d(h);if(v.length===1)return this.where(v[0]).equals(h[v[0]]);var _=this.schema.indexes.concat(this.schema.primKey).filter(function(z){if(z.compound&&v.every(function(ne){return 0<=z.keyPath.indexOf(ne)})){for(var Y=0;Y<v.length;++Y)if(v.indexOf(z.keyPath[Y])===-1)return!1;return!0}return!1}).sort(function(z,Y){return z.keyPath.length-Y.keyPath.length})[0];if(_&&this.db._maxKey!==SA){var k=_.keyPath.slice(0,v.length);return this.where(k).equals(k.map(function(Y){return h[Y]}))}!_&&fn&&console.warn("The query ".concat(JSON.stringify(h)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(v.join("+"),"]"));var U=this.schema.idxByName;function E(z,Y){return ze(z,Y)===0}var H=v.reduce(function(W,Y){var ne=W[0],re=W[1],W=U[Y],de=h[Y];return[ne||W,ne||!W?rA(re,W&&W.multi?function(te){return te=q(te,Y),g(te)&&te.some(function(oe){return E(de,oe)})}:function(te){return E(de,q(te,Y))}):re]},[null,null]),k=H[0],H=H[1];return k?this.where(k.name).equals(h[k.keyPath]).filter(H):_?this.filter(H):this.where(v).equals("")},Ft.prototype.filter=function(h){return this.toCollection().and(h)},Ft.prototype.count=function(h){return this.toCollection().count(h)},Ft.prototype.offset=function(h){return this.toCollection().offset(h)},Ft.prototype.limit=function(h){return this.toCollection().limit(h)},Ft.prototype.each=function(h){return this.toCollection().each(h)},Ft.prototype.toArray=function(h){return this.toCollection().toArray(h)},Ft.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Ft.prototype.orderBy=function(h){return new this.db.Collection(new this.db.WhereClause(this,g(h)?"[".concat(h.join("+"),"]"):h))},Ft.prototype.reverse=function(){return this.toCollection().reverse()},Ft.prototype.mapToClass=function(h){var v,_=this.db,U=this.name;function E(){return v!==null&&v.apply(this,arguments)||this}(this.schema.mappedClass=h).prototype instanceof fi&&((function(Y,ne){if(typeof ne!="function"&&ne!==null)throw new TypeError("Class extends value "+String(ne)+" is not a constructor or null");function re(){this.constructor=Y}t(Y,ne),Y.prototype=ne===null?Object.create(ne):(re.prototype=ne.prototype,new re)})(E,v=h),Object.defineProperty(E.prototype,"db",{get:function(){return _},enumerable:!1,configurable:!0}),E.prototype.table=function(){return U},h=E);for(var k=new Set,H=h.prototype;H;H=B(H))Object.getOwnPropertyNames(H).forEach(function(Y){return k.add(Y)});function z(Y){if(!Y)return Y;var ne,re=Object.create(h.prototype);for(ne in Y)if(!k.has(ne))try{re[ne]=Y[ne]}catch{}return re}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=z,this.hook("reading",z),h},Ft.prototype.defineClass=function(){return this.mapToClass(function(h){m(this,h)})},Ft.prototype.add=function(h,v){var _=this,U=this.schema.primKey,E=U.auto,k=U.keyPath,H=h;return k&&E&&(H=jn(k)(h)),this._trans("readwrite",function(z){return _.core.mutate({trans:z,type:"add",keys:v!=null?[v]:null,values:[H]})}).then(function(z){return z.numFailures?Ge.reject(z.failures[0]):z.lastResult}).then(function(z){if(k)try{xe(h,k,z)}catch{}return z})},Ft.prototype.update=function(h,v){return typeof h!="object"||g(h)?this.where(":id").equals(h).modify(v):(h=q(h,this.schema.primKey.keyPath),h===void 0?Zt(new De.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(h).modify(v))},Ft.prototype.put=function(h,v){var _=this,U=this.schema.primKey,E=U.auto,k=U.keyPath,H=h;return k&&E&&(H=jn(k)(h)),this._trans("readwrite",function(z){return _.core.mutate({trans:z,type:"put",values:[H],keys:v!=null?[v]:null})}).then(function(z){return z.numFailures?Ge.reject(z.failures[0]):z.lastResult}).then(function(z){if(k)try{xe(h,k,z)}catch{}return z})},Ft.prototype.delete=function(h){var v=this;return this._trans("readwrite",function(_){return v.core.mutate({trans:_,type:"delete",keys:[h]}).then(function(U){return JA(v,[h],U)}).then(function(U){return U.numFailures?Ge.reject(U.failures[0]):void 0})})},Ft.prototype.clear=function(){var h=this;return this._trans("readwrite",function(v){return h.core.mutate({trans:v,type:"deleteRange",range:hi}).then(function(_){return JA(h,null,_)})}).then(function(v){return v.numFailures?Ge.reject(v.failures[0]):void 0})},Ft.prototype.bulkGet=function(h){var v=this;return this._trans("readonly",function(_){return v.core.getMany({keys:h,trans:_}).then(function(U){return U.map(function(E){return v.hook.reading.fire(E)})})})},Ft.prototype.bulkAdd=function(h,v,_){var U=this,E=Array.isArray(v)?v:void 0,k=(_=_||(E?void 0:v))?_.allKeys:void 0;return this._trans("readwrite",function(H){var ne=U.schema.primKey,z=ne.auto,ne=ne.keyPath;if(ne&&E)throw new De.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(E&&E.length!==h.length)throw new De.InvalidArgument("Arguments objects and keys must have the same length");var Y=h.length,ne=ne&&z?h.map(jn(ne)):h;return U.core.mutate({trans:H,type:"add",keys:E,values:ne,wantResults:k}).then(function(oe){var W=oe.numFailures,de=oe.results,te=oe.lastResult,oe=oe.failures;if(W===0)return k?de:te;throw new Oe("".concat(U.name,".bulkAdd(): ").concat(W," of ").concat(Y," operations failed"),oe)})})},Ft.prototype.bulkPut=function(h,v,_){var U=this,E=Array.isArray(v)?v:void 0,k=(_=_||(E?void 0:v))?_.allKeys:void 0;return this._trans("readwrite",function(H){var ne=U.schema.primKey,z=ne.auto,ne=ne.keyPath;if(ne&&E)throw new De.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(E&&E.length!==h.length)throw new De.InvalidArgument("Arguments objects and keys must have the same length");var Y=h.length,ne=ne&&z?h.map(jn(ne)):h;return U.core.mutate({trans:H,type:"put",keys:E,values:ne,wantResults:k}).then(function(oe){var W=oe.numFailures,de=oe.results,te=oe.lastResult,oe=oe.failures;if(W===0)return k?de:te;throw new Oe("".concat(U.name,".bulkPut(): ").concat(W," of ").concat(Y," operations failed"),oe)})})},Ft.prototype.bulkUpdate=function(h){var v=this,_=this.core,U=h.map(function(H){return H.key}),E=h.map(function(H){return H.changes}),k=[];return this._trans("readwrite",function(H){return _.getMany({trans:H,keys:U,cache:"clone"}).then(function(z){var Y=[],ne=[];h.forEach(function(W,de){var te=W.key,oe=W.changes,ue=z[de];if(ue){for(var ae=0,ce=Object.keys(oe);ae<ce.length;ae++){var ye=ce[ae],_e=oe[ye];if(ye===v.schema.primKey.keyPath){if(ze(_e,te)!==0)throw new De.Constraint("Cannot update primary key in bulkUpdate()")}else xe(ue,ye,_e)}k.push(de),Y.push(te),ne.push(ue)}});var re=Y.length;return _.mutate({trans:H,type:"put",keys:Y,values:ne,updates:{keys:U,changeSpecs:E}}).then(function(W){var de=W.numFailures,te=W.failures;if(de===0)return re;for(var oe=0,ue=Object.keys(te);oe<ue.length;oe++){var ae,ce=ue[oe],ye=k[Number(ce)];ye!=null&&(ae=te[ce],delete te[ce],te[ye]=ae)}throw new Oe("".concat(v.name,".bulkUpdate(): ").concat(de," of ").concat(re," operations failed"),te)})})})},Ft.prototype.bulkDelete=function(h){var v=this,_=h.length;return this._trans("readwrite",function(U){return v.core.mutate({trans:U,type:"delete",keys:h}).then(function(E){return JA(v,h,E)})}).then(function(H){var E=H.numFailures,k=H.lastResult,H=H.failures;if(E===0)return k;throw new Oe("".concat(v.name,".bulkDelete(): ").concat(E," of ").concat(_," operations failed"),H)})},Ft);function Ft(){}function dt(h){function v(H,z){if(z){for(var Y=arguments.length,ne=new Array(Y-1);--Y;)ne[Y-1]=arguments[Y];return _[H].subscribe.apply(null,ne),h}if(typeof H=="string")return _[H]}var _={};v.addEventType=k;for(var U=1,E=arguments.length;U<E;++U)k(arguments[U]);return v;function k(H,z,Y){if(typeof H!="object"){var ne;z=z||lo;var re={subscribers:[],fire:Y=Y||Qt,subscribe:function(W){re.subscribers.indexOf(W)===-1&&(re.subscribers.push(W),re.fire=z(re.fire,W))},unsubscribe:function(W){re.subscribers=re.subscribers.filter(function(de){return de!==W}),re.fire=re.subscribers.reduce(z,Y)}};return _[H]=v[H]=re}d(ne=H).forEach(function(W){var de=ne[W];if(g(de))k(W,ne[W][0],ne[W][1]);else{if(de!=="asap")throw new De.InvalidArgument("Invalid event config");var te=k(W,QA,function(){for(var oe=arguments.length,ue=new Array(oe);oe--;)ue[oe]=arguments[oe];te.subscribers.forEach(function(ae){$(function(){ae.apply(null,ue)})})})}})}}function Tt(h,v){return N(v).from({prototype:h}),v}function fr(h,v){return!(h.filter||h.algorithm||h.or)&&(v?h.justLimit:!h.replayFilter)}function pi(h,v){h.filter=rA(h.filter,v)}function Cn(h,v,_){var U=h.replayFilter;h.replayFilter=U?function(){return rA(U(),v())}:v,h.justLimit=_&&!U}function Di(h,v){if(h.isPrimKey)return v.primaryKey;var _=v.getIndexByKeyPath(h.index);if(!_)throw new De.Schema("KeyPath "+h.index+" on object store "+v.name+" is not indexed");return _}function jr(h,v,_){var U=Di(h,v.schema);return v.openCursor({trans:_,values:!h.keysOnly,reverse:h.dir==="prev",unique:!!h.unique,query:{index:U,range:h.range}})}function Hn(h,v,_,U){var E=h.replayFilter?rA(h.filter,h.replayFilter()):h.filter;if(h.or){var k={},H=function(z,Y,ne){var re,W;E&&!E(Y,ne,function(de){return Y.stop(de)},function(de){return Y.fail(de)})||((W=""+(re=Y.primaryKey))=="[object ArrayBuffer]"&&(W=""+new Uint8Array(re)),b(k,W)||(k[W]=!0,v(z,Y,ne)))};return Promise.all([h.or._iterate(H,_),Jt(jr(h,U,_),h.algorithm,H,!h.keysOnly&&h.valueMapper)])}return Jt(jr(h,U,_),rA(h.algorithm,E),v,!h.keysOnly&&h.valueMapper)}function Jt(h,v,_,U){var E=kt(U?function(k,H,z){return _(U(k),H,z)}:_);return h.then(function(k){if(k)return k.start(function(){var H=function(){return k.continue()};v&&!v(k,function(z){return H=z},function(z){k.stop(z),H=Qt},function(z){k.fail(z),H=Qt})||E(k.value,k,function(z){return H=z}),H()})})}var Zn=(xt.prototype.execute=function(h){var v=this["@@propmod"];if(v.add!==void 0){var _=v.add;if(g(_))return o(o([],g(h)?h:[],!0),_).sort();if(typeof _=="number")return(Number(h)||0)+_;if(typeof _=="bigint")try{return BigInt(h)+_}catch{return BigInt(0)+_}throw new TypeError("Invalid term ".concat(_))}if(v.remove!==void 0){var U=v.remove;if(g(U))return g(h)?h.filter(function(E){return!U.includes(E)}).sort():[];if(typeof U=="number")return Number(h)-U;if(typeof U=="bigint")try{return BigInt(h)-U}catch{return BigInt(0)-U}throw new TypeError("Invalid subtrahend ".concat(U))}return _=(_=v.replacePrefix)===null||_===void 0?void 0:_[0],_&&typeof h=="string"&&h.startsWith(_)?v.replacePrefix[1]+h.substring(_.length):h},xt);function xt(h){this["@@propmod"]=h}var gi=(_t.prototype._read=function(h,v){var _=this._ctx;return _.error?_.table._trans(null,Zt.bind(null,_.error)):_.table._trans("readonly",h).then(v)},_t.prototype._write=function(h){var v=this._ctx;return v.error?v.table._trans(null,Zt.bind(null,v.error)):v.table._trans("readwrite",h,"locked")},_t.prototype._addAlgorithm=function(h){var v=this._ctx;v.algorithm=rA(v.algorithm,h)},_t.prototype._iterate=function(h,v){return Hn(this._ctx,h,v,this._ctx.table.core)},_t.prototype.clone=function(h){var v=Object.create(this.constructor.prototype),_=Object.create(this._ctx);return h&&m(_,h),v._ctx=_,v},_t.prototype.raw=function(){return this._ctx.valueMapper=null,this},_t.prototype.each=function(h){var v=this._ctx;return this._read(function(_){return Hn(v,h,_,v.table.core)})},_t.prototype.count=function(h){var v=this;return this._read(function(_){var U=v._ctx,E=U.table.core;if(fr(U,!0))return E.count({trans:_,query:{index:Di(U,E.schema),range:U.range}}).then(function(H){return Math.min(H,U.limit)});var k=0;return Hn(U,function(){return++k,!1},_,E).then(function(){return k})}).then(h)},_t.prototype.sortBy=function(h,v){var _=h.split(".").reverse(),U=_[0],E=_.length-1;function k(Y,ne){return ne?k(Y[_[ne]],ne-1):Y[U]}var H=this._ctx.dir==="next"?1:-1;function z(Y,ne){return ze(k(Y,E),k(ne,E))*H}return this.toArray(function(Y){return Y.sort(z)}).then(v)},_t.prototype.toArray=function(h){var v=this;return this._read(function(_){var U=v._ctx;if(U.dir==="next"&&fr(U,!0)&&0<U.limit){var E=U.valueMapper,k=Di(U,U.table.core.schema);return U.table.core.query({trans:_,limit:U.limit,values:!0,query:{index:k,range:U.range}}).then(function(z){return z=z.result,E?z.map(E):z})}var H=[];return Hn(U,function(z){return H.push(z)},_,U.table.core).then(function(){return H})},h)},_t.prototype.offset=function(h){var v=this._ctx;return h<=0||(v.offset+=h,fr(v)?Cn(v,function(){var _=h;return function(U,E){return _===0||(_===1?--_:E(function(){U.advance(_),_=0}),!1)}}):Cn(v,function(){var _=h;return function(){return--_<0}})),this},_t.prototype.limit=function(h){return this._ctx.limit=Math.min(this._ctx.limit,h),Cn(this._ctx,function(){var v=h;return function(_,U,E){return--v<=0&&U(E),0<=v}},!0),this},_t.prototype.until=function(h,v){return pi(this._ctx,function(_,U,E){return!h(_.value)||(U(E),v)}),this},_t.prototype.first=function(h){return this.limit(1).toArray(function(v){return v[0]}).then(h)},_t.prototype.last=function(h){return this.reverse().first(h)},_t.prototype.filter=function(h){var v;return pi(this._ctx,function(_){return h(_.value)}),(v=this._ctx).isMatch=rA(v.isMatch,h),this},_t.prototype.and=function(h){return this.filter(h)},_t.prototype.or=function(h){return new this.db.WhereClause(this._ctx.table,h,this)},_t.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},_t.prototype.desc=function(){return this.reverse()},_t.prototype.eachKey=function(h){var v=this._ctx;return v.keysOnly=!v.isMatch,this.each(function(_,U){h(U.key,U)})},_t.prototype.eachUniqueKey=function(h){return this._ctx.unique="unique",this.eachKey(h)},_t.prototype.eachPrimaryKey=function(h){var v=this._ctx;return v.keysOnly=!v.isMatch,this.each(function(_,U){h(U.primaryKey,U)})},_t.prototype.keys=function(h){var v=this._ctx;v.keysOnly=!v.isMatch;var _=[];return this.each(function(U,E){_.push(E.key)}).then(function(){return _}).then(h)},_t.prototype.primaryKeys=function(h){var v=this._ctx;if(v.dir==="next"&&fr(v,!0)&&0<v.limit)return this._read(function(U){var E=Di(v,v.table.core.schema);return v.table.core.query({trans:U,values:!1,limit:v.limit,query:{index:E,range:v.range}})}).then(function(U){return U.result}).then(h);v.keysOnly=!v.isMatch;var _=[];return this.each(function(U,E){_.push(E.primaryKey)}).then(function(){return _}).then(h)},_t.prototype.uniqueKeys=function(h){return this._ctx.unique="unique",this.keys(h)},_t.prototype.firstKey=function(h){return this.limit(1).keys(function(v){return v[0]}).then(h)},_t.prototype.lastKey=function(h){return this.reverse().firstKey(h)},_t.prototype.distinct=function(){var h=this._ctx,h=h.index&&h.table.schema.idxByName[h.index];if(!h||!h.multi)return this;var v={};return pi(this._ctx,function(E){var U=E.primaryKey.toString(),E=b(v,U);return v[U]=!0,!E}),this},_t.prototype.modify=function(h){var v=this,_=this._ctx;return this._write(function(U){var E,k,H;H=typeof h=="function"?h:(E=d(h),k=E.length,function(ce){for(var ye=!1,_e=0;_e<k;++_e){var Ce=E[_e],Se=h[Ce],Re=q(ce,Ce);Se instanceof Zn?(xe(ce,Ce,Se.execute(Re)),ye=!0):Re!==Se&&(xe(ce,Ce,Se),ye=!0)}return ye});var z=_.table.core,W=z.schema.primaryKey,Y=W.outbound,ne=W.extractKey,re=200,W=v.db._options.modifyChunkSize;W&&(re=typeof W=="object"?W[z.name]||W["*"]||200:W);function de(ce,Ce){var _e=Ce.failures,Ce=Ce.numFailures;oe+=ce-Ce;for(var Se=0,Re=d(_e);Se<Re.length;Se++){var He=Re[Se];te.push(_e[He])}}var te=[],oe=0,ue=[],ae=h===pr;return v.clone().primaryKeys().then(function(ce){function ye(Ce){var Se=Math.min(re,ce.length-Ce),Re=ce.slice(Ce,Ce+Se);return(ae?Promise.resolve([]):z.getMany({trans:U,keys:Re,cache:"immutable"})).then(function(He){var Te=[],Ve=[],Ke=Y?[]:null,We=ae?Re:[];if(!ae)for(var gt=0;gt<Se;++gt){var Ct=He[gt],lt={value:Ze(Ct),primKey:ce[Ce+gt]};H.call(lt,lt.value,lt)!==!1&&(lt.value==null?We.push(ce[Ce+gt]):Y||ze(ne(Ct),ne(lt.value))===0?(Ve.push(lt.value),Y&&Ke.push(ce[Ce+gt])):(We.push(ce[Ce+gt]),Te.push(lt.value)))}return Promise.resolve(0<Te.length&&z.mutate({trans:U,type:"add",values:Te}).then(function(Rt){for(var pt in Rt.failures)We.splice(parseInt(pt),1);de(Te.length,Rt)})).then(function(){return(0<Ve.length||_e&&typeof h=="object")&&z.mutate({trans:U,type:"put",keys:Ke,values:Ve,criteria:_e,changeSpec:typeof h!="function"&&h,isAdditionalChunk:0<Ce}).then(function(Rt){return de(Ve.length,Rt)})}).then(function(){return(0<We.length||_e&&ae)&&z.mutate({trans:U,type:"delete",keys:We,criteria:_e,isAdditionalChunk:0<Ce}).then(function(Rt){return JA(_.table,We,Rt)}).then(function(Rt){return de(We.length,Rt)})}).then(function(){return ce.length>Ce+Se&&ye(Ce+re)})})}var _e=fr(_)&&_.limit===1/0&&(typeof h!="function"||ae)&&{index:_.index,range:_.range};return ye(0).then(function(){if(0<te.length)throw new Ne("Error modifying one or more objects",te,oe,ue);return ce.length})})})},_t.prototype.delete=function(){var h=this._ctx,v=h.range;return!fr(h)||h.table.schema.yProps||!h.isPrimKey&&v.type!==3?this.modify(pr):this._write(function(_){var U=h.table.core.schema.primaryKey,E=v;return h.table.core.count({trans:_,query:{index:U,range:E}}).then(function(k){return h.table.core.mutate({trans:_,type:"deleteRange",range:E}).then(function(Y){var z=Y.failures,Y=Y.numFailures;if(Y)throw new Ne("Could not delete some values",Object.keys(z).map(function(ne){return z[ne]}),k-Y);return k-Y})})})},_t);function _t(){}var pr=function(h,v){return v.value=null};function ys(h,v){return h<v?-1:h===v?0:1}function Bs(h,v){return v<h?-1:h===v?0:1}function pn(h,v,_){return h=h instanceof gA?new h.Collection(h):h,h._ctx.error=new(_||TypeError)(v),h}function LA(h){return new h.Collection(h,function(){return kA("")}).limit(0)}function qA(h,v,_,U){var E,k,H,z,Y,ne,re,W=_.length;if(!_.every(function(oe){return typeof oe=="string"}))return pn(h,Wo);function de(oe){E=oe==="next"?function(ae){return ae.toUpperCase()}:function(ae){return ae.toLowerCase()},k=oe==="next"?function(ae){return ae.toLowerCase()}:function(ae){return ae.toUpperCase()},H=oe==="next"?ys:Bs;var ue=_.map(function(ae){return{lower:k(ae),upper:E(ae)}}).sort(function(ae,ce){return H(ae.lower,ce.lower)});z=ue.map(function(ae){return ae.upper}),Y=ue.map(function(ae){return ae.lower}),re=(ne=oe)==="next"?"":U}de("next"),h=new h.Collection(h,function(){return un(z[0],Y[W-1]+U)}),h._ondirectionchange=function(oe){de(oe)};var te=0;return h._addAlgorithm(function(oe,ue,ae){var ce=oe.key;if(typeof ce!="string")return!1;var ye=k(ce);if(v(ye,Y,te))return!0;for(var _e=null,Ce=te;Ce<W;++Ce){var Se=(function(Re,He,Te,Ve,Ke,We){for(var gt=Math.min(Re.length,Ve.length),Ct=-1,lt=0;lt<gt;++lt){var Rt=He[lt];if(Rt!==Ve[lt])return Ke(Re[lt],Te[lt])<0?Re.substr(0,lt)+Te[lt]+Te.substr(lt+1):Ke(Re[lt],Ve[lt])<0?Re.substr(0,lt)+Ve[lt]+Te.substr(lt+1):0<=Ct?Re.substr(0,Ct)+He[Ct]+Te.substr(Ct+1):null;Ke(Re[lt],Rt)<0&&(Ct=lt)}return gt<Ve.length&&We==="next"?Re+Te.substr(Re.length):gt<Re.length&&We==="prev"?Re.substr(0,Te.length):Ct<0?null:Re.substr(0,Ct)+Ve[Ct]+Te.substr(Ct+1)})(ce,ye,z[Ce],Y[Ce],H,ne);Se===null&&_e===null?te=Ce+1:(_e===null||0<H(_e,Se))&&(_e=Se)}return ue(_e!==null?function(){oe.continue(_e+re)}:ae),!1}),h}function un(h,v,_,U){return{type:2,lower:h,upper:v,lowerOpen:_,upperOpen:U}}function kA(h){return{type:1,lower:h,upper:h}}var gA=(Object.defineProperty(Vt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Vt.prototype.between=function(h,v,_,U){_=_!==!1,U=U===!0;try{return 0<this._cmp(h,v)||this._cmp(h,v)===0&&(_||U)&&(!_||!U)?LA(this):new this.Collection(this,function(){return un(h,v,!_,!U)})}catch{return pn(this,It)}},Vt.prototype.equals=function(h){return h==null?pn(this,It):new this.Collection(this,function(){return kA(h)})},Vt.prototype.above=function(h){return h==null?pn(this,It):new this.Collection(this,function(){return un(h,void 0,!0)})},Vt.prototype.aboveOrEqual=function(h){return h==null?pn(this,It):new this.Collection(this,function(){return un(h,void 0,!1)})},Vt.prototype.below=function(h){return h==null?pn(this,It):new this.Collection(this,function(){return un(void 0,h,!1,!0)})},Vt.prototype.belowOrEqual=function(h){return h==null?pn(this,It):new this.Collection(this,function(){return un(void 0,h)})},Vt.prototype.startsWith=function(h){return typeof h!="string"?pn(this,Wo):this.between(h,h+SA,!0,!0)},Vt.prototype.startsWithIgnoreCase=function(h){return h===""?this.startsWith(h):qA(this,function(v,_){return v.indexOf(_[0])===0},[h],SA)},Vt.prototype.equalsIgnoreCase=function(h){return qA(this,function(v,_){return v===_[0]},[h],"")},Vt.prototype.anyOfIgnoreCase=function(){var h=K.apply(Pe,arguments);return h.length===0?LA(this):qA(this,function(v,_){return _.indexOf(v)!==-1},h,"")},Vt.prototype.startsWithAnyOfIgnoreCase=function(){var h=K.apply(Pe,arguments);return h.length===0?LA(this):qA(this,function(v,_){return _.some(function(U){return v.indexOf(U)===0})},h,SA)},Vt.prototype.anyOf=function(){var h=this,v=K.apply(Pe,arguments),_=this._cmp;try{v.sort(_)}catch{return pn(this,It)}if(v.length===0)return LA(this);var U=new this.Collection(this,function(){return un(v[0],v[v.length-1])});U._ondirectionchange=function(k){_=k==="next"?h._ascending:h._descending,v.sort(_)};var E=0;return U._addAlgorithm(function(k,H,z){for(var Y=k.key;0<_(Y,v[E]);)if(++E===v.length)return H(z),!1;return _(Y,v[E])===0||(H(function(){k.continue(v[E])}),!1)}),U},Vt.prototype.notEqual=function(h){return this.inAnyRange([[-1/0,h],[h,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Vt.prototype.noneOf=function(){var h=K.apply(Pe,arguments);if(h.length===0)return new this.Collection(this);try{h.sort(this._ascending)}catch{return pn(this,It)}var v=h.reduce(function(_,U){return _?_.concat([[_[_.length-1][1],U]]):[[-1/0,U]]},null);return v.push([h[h.length-1],this.db._maxKey]),this.inAnyRange(v,{includeLowers:!1,includeUppers:!1})},Vt.prototype.inAnyRange=function(ce,v){var _=this,U=this._cmp,E=this._ascending,k=this._descending,H=this._min,z=this._max;if(ce.length===0)return LA(this);if(!ce.every(function(ye){return ye[0]!==void 0&&ye[1]!==void 0&&E(ye[0],ye[1])<=0}))return pn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",De.InvalidArgument);var Y=!v||v.includeLowers!==!1,ne=v&&v.includeUppers===!0,re,W=E;function de(ye,_e){return W(ye[0],_e[0])}try{(re=ce.reduce(function(ye,_e){for(var Ce=0,Se=ye.length;Ce<Se;++Ce){var Re=ye[Ce];if(U(_e[0],Re[1])<0&&0<U(_e[1],Re[0])){Re[0]=H(Re[0],_e[0]),Re[1]=z(Re[1],_e[1]);break}}return Ce===Se&&ye.push(_e),ye},[])).sort(de)}catch{return pn(this,It)}var te=0,oe=ne?function(ye){return 0<E(ye,re[te][1])}:function(ye){return 0<=E(ye,re[te][1])},ue=Y?function(ye){return 0<k(ye,re[te][0])}:function(ye){return 0<=k(ye,re[te][0])},ae=oe,ce=new this.Collection(this,function(){return un(re[0][0],re[re.length-1][1],!Y,!ne)});return ce._ondirectionchange=function(ye){W=ye==="next"?(ae=oe,E):(ae=ue,k),re.sort(de)},ce._addAlgorithm(function(ye,_e,Ce){for(var Se,Re=ye.key;ae(Re);)if(++te===re.length)return _e(Ce),!1;return!oe(Se=Re)&&!ue(Se)||(_._cmp(Re,re[te][1])===0||_._cmp(Re,re[te][0])===0||_e(function(){W===E?ye.continue(re[te][0]):ye.continue(re[te][1])}),!1)}),ce},Vt.prototype.startsWithAnyOf=function(){var h=K.apply(Pe,arguments);return h.every(function(v){return typeof v=="string"})?h.length===0?LA(this):this.inAnyRange(h.map(function(v){return[v,v+SA]})):pn(this,"startsWithAnyOf() only works with strings")},Vt);function Vt(){}function at(h){return kt(function(v){return qt(v),h(v.target.error),!1})}function qt(h){h.stopPropagation&&h.stopPropagation(),h.preventDefault&&h.preventDefault()}var St="storagemutated",Ri="x-storagemutated-1",On=dt(null,St),go=(Jn.prototype._lock=function(){return M(!rt.global),++this._reculock,this._reculock!==1||rt.global||(rt.lockOwnerFor=this),this},Jn.prototype._unlock=function(){if(M(!rt.global),--this._reculock==0)for(rt.global||(rt.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var h=this._blockedFuncs.shift();try{dr(h[1],h[0])}catch{}}return this},Jn.prototype._locked=function(){return this._reculock&&rt.lockOwnerFor!==this},Jn.prototype.create=function(h){var v=this;if(!this.mode)return this;var _=this.db.idbdb,U=this.db._state.dbOpenError;if(M(!this.idbtrans),!h&&!_)switch(U&&U.name){case"DatabaseClosedError":throw new De.DatabaseClosed(U);case"MissingAPIError":throw new De.MissingAPI(U.message,U);default:throw new De.OpenFailed(U)}if(!this.active)throw new De.TransactionInactive;return M(this._completion._state===null),(h=this.idbtrans=h||(this.db.core||_).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=kt(function(E){qt(E),v._reject(h.error)}),h.onabort=kt(function(E){qt(E),v.active&&v._reject(new De.Abort(h.error)),v.active=!1,v.on("abort").fire(E)}),h.oncomplete=kt(function(){v.active=!1,v._resolve(),"mutatedParts"in h&&On.storagemutated.fire(h.mutatedParts)}),this},Jn.prototype._promise=function(h,v,_){var U=this;if(h==="readwrite"&&this.mode!=="readwrite")return Zt(new De.ReadOnly("Transaction is readonly"));if(!this.active)return Zt(new De.TransactionInactive);if(this._locked())return new Ge(function(k,H){U._blockedFuncs.push([function(){U._promise(h,v,_).then(k,H)},rt])});if(_)return ZA(function(){var k=new Ge(function(H,z){U._lock();var Y=v(H,z,U);Y&&Y.then&&Y.then(H,z)});return k.finally(function(){return U._unlock()}),k._lib=!0,k});var E=new Ge(function(k,H){var z=v(k,H,U);z&&z.then&&z.then(k,H)});return E._lib=!0,E},Jn.prototype._root=function(){return this.parent?this.parent._root():this},Jn.prototype.waitFor=function(h){var v,_=this._root(),U=Ge.resolve(h);_._waitingFor?_._waitingFor=_._waitingFor.then(function(){return U}):(_._waitingFor=U,_._waitingQueue=[],v=_.idbtrans.objectStore(_.storeNames[0]),(function k(){for(++_._spinCount;_._waitingQueue.length;)_._waitingQueue.shift()();_._waitingFor&&(v.get(-1/0).onsuccess=k)})());var E=_._waitingFor;return new Ge(function(k,H){U.then(function(z){return _._waitingQueue.push(kt(k.bind(null,z)))},function(z){return _._waitingQueue.push(kt(H.bind(null,z)))}).finally(function(){_._waitingFor===E&&(_._waitingFor=null)})})},Jn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new De.Abort))},Jn.prototype.table=function(h){var v=this._memoizedTables||(this._memoizedTables={});if(b(v,h))return v[h];var _=this.schema[h];if(!_)throw new De.NotFound("Table "+h+" not part of transaction");return _=new this.db.Table(h,_,this),_.core=this.db.core.table(h),v[h]=_},Jn);function Jn(){}function iA(h,v,_,U,E,k,H,z){return{name:h,keyPath:v,unique:_,multi:U,auto:E,compound:k,src:(_&&!H?"&":"")+(U?"*":"")+(E?"++":"")+Mi(v),type:z}}function Mi(h){return typeof h=="string"?h:h?"["+[].join.call(h,"+")+"]":""}function Hr(h,v,_){return{name:h,primKey:v,indexes:_,mappedClass:null,idxByName:(U=function(E){return[E.name,E]},_.reduce(function(E,k,H){return H=U(k,H),H&&(E[H[0]]=H[1]),E},{}))};var U}var Ht=function(h){try{return h.only([[]]),Ht=function(){return[[]]},[[]]}catch{return Ht=function(){return SA},SA}};function qn(h){return h==null?function(){}:typeof h=="string"?(v=h).split(".").length===1?function(_){return _[v]}:function(_){return q(_,v)}:function(_){return q(_,h)};var v}function gr(h){return[].slice.call(h)}var Ki=0;function Vi(h){return h==null?":id":typeof h=="string"?h:"[".concat(h.join("+"),"]")}function $o(h,v,Y){function U(ae){if(ae.type===3)return null;if(ae.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var te=ae.lower,oe=ae.upper,ue=ae.lowerOpen,ae=ae.upperOpen;return te===void 0?oe===void 0?null:v.upperBound(oe,!!ae):oe===void 0?v.lowerBound(te,!!ue):v.bound(te,oe,!!ue,!!ae)}function E(de){var te,oe=de.name;return{name:oe,schema:de,mutate:function(ue){var ae=ue.trans,ce=ue.type,ye=ue.keys,_e=ue.values,Ce=ue.range;return new Promise(function(Se,Re){Se=kt(Se);var He=ae.objectStore(oe),Te=He.keyPath==null,Ve=ce==="put"||ce==="add";if(!Ve&&ce!=="delete"&&ce!=="deleteRange")throw new Error("Invalid operation type: "+ce);var Ke,We=(ye||_e||{length:1}).length;if(ye&&_e&&ye.length!==_e.length)throw new Error("Given keys array must have same length as given values array.");if(We===0)return Se({numFailures:0,failures:{},results:[],lastResult:void 0});function gt(en){++Rt,qt(en)}var Ct=[],lt=[],Rt=0;if(ce==="deleteRange"){if(Ce.type===4)return Se({numFailures:Rt,failures:lt,results:[],lastResult:void 0});Ce.type===3?Ct.push(Ke=He.clear()):Ct.push(Ke=He.delete(U(Ce)))}else{var Te=Ve?Te?[_e,ye]:[_e,null]:[ye,null],pt=Te[0],Yt=Te[1];if(Ve)for(var vn=0;vn<We;++vn)Ct.push(Ke=Yt&&Yt[vn]!==void 0?He[ce](pt[vn],Yt[vn]):He[ce](pt[vn])),Ke.onerror=gt;else for(vn=0;vn<We;++vn)Ct.push(Ke=He[ce](pt[vn])),Ke.onerror=gt}function Kn(en){en=en.target.result,Ct.forEach(function(PA,Qs){return PA.error!=null&&(lt[Qs]=PA.error)}),Se({numFailures:Rt,failures:lt,results:ce==="delete"?ye:Ct.map(function(PA){return PA.result}),lastResult:en})}Ke.onerror=function(en){gt(en),Kn(en)},Ke.onsuccess=Kn})},getMany:function(ue){var ae=ue.trans,ce=ue.keys;return new Promise(function(ye,_e){ye=kt(ye);for(var Ce,Se=ae.objectStore(oe),Re=ce.length,He=new Array(Re),Te=0,Ve=0,Ke=function(Ct){Ct=Ct.target,He[Ct._pos]=Ct.result,++Ve===Te&&ye(He)},We=at(_e),gt=0;gt<Re;++gt)ce[gt]!=null&&((Ce=Se.get(ce[gt]))._pos=gt,Ce.onsuccess=Ke,Ce.onerror=We,++Te);Te===0&&ye(He)})},get:function(ue){var ae=ue.trans,ce=ue.key;return new Promise(function(ye,_e){ye=kt(ye);var Ce=ae.objectStore(oe).get(ce);Ce.onsuccess=function(Se){return ye(Se.target.result)},Ce.onerror=at(_e)})},query:(te=ne,function(ue){return new Promise(function(ae,ce){ae=kt(ae);var ye,_e,Ce,Te=ue.trans,Se=ue.values,Re=ue.limit,Ke=ue.query,He=Re===1/0?void 0:Re,Ve=Ke.index,Ke=Ke.range,Te=Te.objectStore(oe),Ve=Ve.isPrimaryKey?Te:Te.index(Ve.name),Ke=U(Ke);if(Re===0)return ae({result:[]});te?((He=Se?Ve.getAll(Ke,He):Ve.getAllKeys(Ke,He)).onsuccess=function(We){return ae({result:We.target.result})},He.onerror=at(ce)):(ye=0,_e=!Se&&"openKeyCursor"in Ve?Ve.openKeyCursor(Ke):Ve.openCursor(Ke),Ce=[],_e.onsuccess=function(We){var gt=_e.result;return gt?(Ce.push(Se?gt.value:gt.primaryKey),++ye===Re?ae({result:Ce}):void gt.continue()):ae({result:Ce})},_e.onerror=at(ce))})}),openCursor:function(ue){var ae=ue.trans,ce=ue.values,ye=ue.query,_e=ue.reverse,Ce=ue.unique;return new Promise(function(Se,Re){Se=kt(Se);var Ve=ye.index,He=ye.range,Te=ae.objectStore(oe),Te=Ve.isPrimaryKey?Te:Te.index(Ve.name),Ve=_e?Ce?"prevunique":"prev":Ce?"nextunique":"next",Ke=!ce&&"openKeyCursor"in Te?Te.openKeyCursor(U(He),Ve):Te.openCursor(U(He),Ve);Ke.onerror=at(Re),Ke.onsuccess=kt(function(We){var gt,Ct,lt,Rt,pt=Ke.result;pt?(pt.___id=++Ki,pt.done=!1,gt=pt.continue.bind(pt),Ct=(Ct=pt.continuePrimaryKey)&&Ct.bind(pt),lt=pt.advance.bind(pt),Rt=function(){throw new Error("Cursor not stopped")},pt.trans=ae,pt.stop=pt.continue=pt.continuePrimaryKey=pt.advance=function(){throw new Error("Cursor not started")},pt.fail=kt(Re),pt.next=function(){var Yt=this,vn=1;return this.start(function(){return vn--?Yt.continue():Yt.stop()}).then(function(){return Yt})},pt.start=function(Yt){function vn(){if(Ke.result)try{Yt()}catch(en){pt.fail(en)}else pt.done=!0,pt.start=function(){throw new Error("Cursor behind last entry")},pt.stop()}var Kn=new Promise(function(en,PA){en=kt(en),Ke.onerror=at(PA),pt.fail=PA,pt.stop=function(Qs){pt.stop=pt.continue=pt.continuePrimaryKey=pt.advance=Rt,en(Qs)}});return Ke.onsuccess=kt(function(en){Ke.onsuccess=vn,vn()}),pt.continue=gt,pt.continuePrimaryKey=Ct,pt.advance=lt,vn(),Kn},Se(pt)):Se(null)},Re)})},count:function(ue){var ae=ue.query,ce=ue.trans,ye=ae.index,_e=ae.range;return new Promise(function(Ce,Se){var Re=ce.objectStore(oe),He=ye.isPrimaryKey?Re:Re.index(ye.name),Re=U(_e),He=Re?He.count(Re):He.count();He.onsuccess=kt(function(Te){return Ce(Te.target.result)}),He.onerror=at(Se)})}}}var k,H,z,re=(H=Y,z=gr((k=h).objectStoreNames),{schema:{name:k.name,tables:z.map(function(de){return H.objectStore(de)}).map(function(de){var te=de.keyPath,ae=de.autoIncrement,oe=g(te),ue={},ae={name:de.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:te==null,compound:oe,keyPath:te,autoIncrement:ae,unique:!0,extractKey:qn(te)},indexes:gr(de.indexNames).map(function(ce){return de.index(ce)}).map(function(Ce){var ye=Ce.name,_e=Ce.unique,Se=Ce.multiEntry,Ce=Ce.keyPath,Se={name:ye,compound:g(Ce),keyPath:Ce,unique:_e,multiEntry:Se,extractKey:qn(Ce)};return ue[Vi(Ce)]=Se}),getIndexByKeyPath:function(ce){return ue[Vi(ce)]}};return ue[":id"]=ae.primaryKey,te!=null&&(ue[Vi(te)]=ae.primaryKey),ae})},hasGetAll:0<z.length&&"getAll"in H.objectStore(z[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),Y=re.schema,ne=re.hasGetAll,re=Y.tables.map(E),W={};return re.forEach(function(de){return W[de.name]=de}),{stack:"dbcore",transaction:h.transaction.bind(h),table:function(de){if(!W[de])throw new Error("Table '".concat(de,"' not found"));return W[de]},MIN_KEY:-1/0,MAX_KEY:Ht(v),schema:Y}}function Gi(h,v,_,U){var E=_.IDBKeyRange;return _.indexedDB,{dbcore:(U=$o(v,E,U),h.dbcore.reduce(function(k,H){return H=H.create,i(i({},k),H(k))},U))}}function Or(h,U){var _=U.db,U=Gi(h._middlewares,_,h._deps,U);h.core=U.dbcore,h.tables.forEach(function(E){var k=E.name;h.core.schema.tables.some(function(H){return H.name===k})&&(E.core=h.core.table(k),h[k]instanceof h.Table&&(h[k].core=E.core))})}function Dr(h,v,_,U){_.forEach(function(E){var k=U[E];v.forEach(function(H){var z=(function Y(ne,re){return G(ne,re)||(ne=B(ne))&&Y(ne,re)})(H,E);(!z||"value"in z&&z.value===void 0)&&(H===h.Transaction.prototype||H instanceof h.Transaction?P(H,E,{get:function(){return this.table(E)},set:function(Y){j(this,E,{value:Y,writable:!0,configurable:!0,enumerable:!0})}}):H[E]=new h.Table(E,k))})})}function Bt(h,v){v.forEach(function(_){for(var U in _)_[U]instanceof h.Table&&delete _[U]})}function mr(h,v){return h._cfg.version-v._cfg.version}function Xn(h,v,_,U){var E=h._dbSchema;_.objectStoreNames.contains("$meta")&&!E.$meta&&(E.$meta=Hr("$meta",_s("")[0],[]),h._storeNames.push("$meta"));var k=h._createTransaction("readwrite",h._storeNames,E);k.create(_),k._completion.catch(U);var H=k._reject.bind(k),z=rt.transless||rt;ZA(function(){return rt.trans=k,rt.transless=z,v!==0?(Or(h,_),ne=v,((Y=k).storeNames.includes("$meta")?Y.table("$meta").get("version").then(function(re){return re??ne}):Ge.resolve(ne)).then(function(re){return de=re,te=k,oe=_,ue=[],re=(W=h)._versions,ae=W._dbSchema=gn(0,W.idbdb,oe),(re=re.filter(function(ce){return ce._cfg.version>=de})).length!==0?(re.forEach(function(ce){ue.push(function(){var ye=ae,_e=ce._cfg.dbschema;XA(W,ye,oe),XA(W,_e,oe),ae=W._dbSchema=_e;var Ce=zi(ye,_e);Ce.add.forEach(function(Ve){mi(oe,Ve[0],Ve[1].primKey,Ve[1].indexes)}),Ce.change.forEach(function(Ve){if(Ve.recreate)throw new De.Upgrade("Not yet support for changing primary key");var Ke=oe.objectStore(Ve.name);Ve.add.forEach(function(We){return Wi(Ke,We)}),Ve.change.forEach(function(We){Ke.deleteIndex(We.name),Wi(Ke,We)}),Ve.del.forEach(function(We){return Ke.deleteIndex(We)})});var Se=ce._cfg.contentUpgrade;if(Se&&ce._cfg.version>de){Or(W,oe),te._memoizedTables={};var Re=X(_e);Ce.del.forEach(function(Ve){Re[Ve]=ye[Ve]}),Bt(W,[W.Transaction.prototype]),Dr(W,[W.Transaction.prototype],d(Re),Re),te.schema=Re;var He,Te=D(Se);return Te&&ur(),Ce=Ge.follow(function(){var Ve;(He=Se(te))&&Te&&(Ve=En.bind(null,null),He.then(Ve,Ve))}),He&&typeof He.then=="function"?Ge.resolve(He):Ce.then(function(){return He})}}),ue.push(function(ye){var _e,Ce,Se=ce._cfg.dbschema;_e=Se,Ce=ye,[].slice.call(Ce.db.objectStoreNames).forEach(function(Re){return _e[Re]==null&&Ce.db.deleteObjectStore(Re)}),Bt(W,[W.Transaction.prototype]),Dr(W,[W.Transaction.prototype],W._storeNames,W._dbSchema),te.schema=W._dbSchema}),ue.push(function(ye){W.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(W.idbdb.version/10)===ce._cfg.version?(W.idbdb.deleteObjectStore("$meta"),delete W._dbSchema.$meta,W._storeNames=W._storeNames.filter(function(_e){return _e!=="$meta"})):ye.objectStore("$meta").put(ce._cfg.version,"version"))})}),(function ce(){return ue.length?Ge.resolve(ue.shift()(te.idbtrans)).then(ce):Ge.resolve()})().then(function(){Rr(ae,oe)})):Ge.resolve();var W,de,te,oe,ue,ae}).catch(H)):(d(E).forEach(function(re){mi(_,re,E[re].primKey,E[re].indexes)}),Or(h,_),void Ge.follow(function(){return h.on.populate.fire(k)}).catch(H));var Y,ne})}function vr(h,v){Rr(h._dbSchema,v),v.db.version%10!=0||v.objectStoreNames.contains("$meta")||v.db.createObjectStore("$meta").add(Math.ceil(v.db.version/10-1),"version");var _=gn(0,h.idbdb,v);XA(h,h._dbSchema,v);for(var U=0,E=zi(_,h._dbSchema).change;U<E.length;U++){var k=(function(H){if(H.change.length||H.recreate)return console.warn("Unable to patch indexes of table ".concat(H.name," because it has changes on the type of index or primary key.")),{value:void 0};var z=v.objectStore(H.name);H.add.forEach(function(Y){fn&&console.debug("Dexie upgrade patch: Creating missing index ".concat(H.name,".").concat(Y.src)),Wi(z,Y)})})(E[U]);if(typeof k=="object")return k.value}}function zi(h,v){var _,U={del:[],add:[],change:[]};for(_ in h)v[_]||U.del.push(_);for(_ in v){var E=h[_],k=v[_];if(E){var H={name:_,def:k,recreate:!1,del:[],add:[],change:[]};if(""+(E.primKey.keyPath||"")!=""+(k.primKey.keyPath||"")||E.primKey.auto!==k.primKey.auto)H.recreate=!0,U.change.push(H);else{var z=E.idxByName,Y=k.idxByName,ne=void 0;for(ne in z)Y[ne]||H.del.push(ne);for(ne in Y){var re=z[ne],W=Y[ne];re?re.src!==W.src&&H.change.push(W):H.add.push(W)}(0<H.del.length||0<H.add.length||0<H.change.length)&&U.change.push(H)}}else U.add.push([_,k])}return U}function mi(h,v,_,U){var E=h.db.createObjectStore(v,_.keyPath?{keyPath:_.keyPath,autoIncrement:_.auto}:{autoIncrement:_.auto});return U.forEach(function(k){return Wi(E,k)}),E}function Rr(h,v){d(h).forEach(function(_){v.db.objectStoreNames.contains(_)||(fn&&console.debug("Dexie: Creating missing table",_),mi(v,_,h[_].primKey,h[_].indexes))})}function Wi(h,v){h.createIndex(v.name,v.keyPath,{unique:v.unique,multiEntry:v.multi})}function gn(h,v,_){var U={};return R(v.objectStoreNames,0).forEach(function(E){for(var k=_.objectStore(E),H=iA(Mi(ne=k.keyPath),ne||"",!0,!1,!!k.autoIncrement,ne&&typeof ne!="string",!0),z=[],Y=0;Y<k.indexNames.length;++Y){var re=k.index(k.indexNames[Y]),ne=re.keyPath,re=iA(re.name,ne,!!re.unique,!!re.multiEntry,!1,ne&&typeof ne!="string",!1);z.push(re)}U[E]=Hr(E,H,z)}),U}function XA(h,v,_){for(var U=_.db.objectStoreNames,E=0;E<U.length;++E){var k=U[E],H=_.objectStore(k);h._hasGetAll="getAll"in H;for(var z=0;z<H.indexNames.length;++z){var Y=H.indexNames[z],ne=H.index(Y).keyPath,re=typeof ne=="string"?ne:"["+R(ne).join("+")+"]";!v[k]||(ne=v[k].idxByName[re])&&(ne.name=Y,delete v[k].idxByName[re],v[k].idxByName[Y]=ne)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&u.WorkerGlobalScope&&u instanceof u.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(h._hasGetAll=!1)}function _s(h){return h.split(",").map(function(v,_){var k=v.split(":"),U=(E=k[1])===null||E===void 0?void 0:E.trim(),E=(v=k[0].trim()).replace(/([&*]|\+\+)/g,""),k=/^\[/.test(E)?E.match(/^\[(.*)\]$/)[1].split("+"):E;return iA(E,k||null,/\&/.test(v),/\*/.test(v),/\+\+/.test(v),g(k),_===0,U)})}var Mr=(vi.prototype._createTableSchema=Hr,vi.prototype._parseIndexSyntax=_s,vi.prototype._parseStoresSpec=function(h,v){var _=this;d(h).forEach(function(U){if(h[U]!==null){var E=_._parseIndexSyntax(h[U]),k=E.shift();if(!k)throw new De.Schema("Invalid schema for table "+U+": "+h[U]);if(k.unique=!0,k.multi)throw new De.Schema("Primary key cannot be multiEntry*");E.forEach(function(H){if(H.auto)throw new De.Schema("Only primary key can be marked as autoIncrement (++)");if(!H.keyPath)throw new De.Schema("Index must have a name and cannot be an empty string")}),E=_._createTableSchema(U,k,E),v[U]=E}})},vi.prototype.stores=function(_){var v=this.db;this._cfg.storesSource=this._cfg.storesSource?m(this._cfg.storesSource,_):_;var _=v._versions,U={},E={};return _.forEach(function(k){m(U,k._cfg.storesSource),E=k._cfg.dbschema={},k._parseStoresSpec(U,E)}),v._dbSchema=E,Bt(v,[v._allTables,v,v.Transaction.prototype]),Dr(v,[v._allTables,v,v.Transaction.prototype,this._cfg.tables],d(E),E),v._storeNames=d(E),this},vi.prototype.upgrade=function(h){return this._cfg.contentUpgrade=ir(this._cfg.contentUpgrade||Qt,h),this},vi);function vi(){}function Dn(h,v){var _=h._dbNamesDB;return _||(_=h._dbNamesDB=new mn(ji,{addons:[],indexedDB:h,IDBKeyRange:v})).version(1).stores({dbnames:"name"}),_.table("dbnames")}function $i(h){return h&&typeof h.databases=="function"}function wr(h){return ZA(function(){return rt.letThrough=!0,h()})}function Yn(h){return!("from"in h)}var cn=function(h,v){if(!this){var _=new cn;return h&&"d"in h&&m(_,h),_}m(this,arguments.length?{d:1,from:h,to:1<arguments.length?v:h}:{d:0})};function wi(h,v,_){var U=ze(v,_);if(!isNaN(U)){if(0<U)throw RangeError();if(Yn(h))return m(h,{from:v,to:_,d:1});var E=h.l,U=h.r;if(ze(_,h.from)<0)return E?wi(E,v,_):h.l={from:v,to:_,d:1,l:null,r:null},mo(h);if(0<ze(v,h.to))return U?wi(U,v,_):h.r={from:v,to:_,d:1,l:null,r:null},mo(h);ze(v,h.from)<0&&(h.from=v,h.l=null,h.d=U?U.d+1:1),0<ze(_,h.to)&&(h.to=_,h.r=null,h.d=h.l?h.l.d+1:1),_=!h.r,E&&!h.l&&Kr(h,E),U&&_&&Kr(h,U)}}function Kr(h,v){Yn(v)||(function _(U,Y){var k=Y.from,H=Y.to,z=Y.l,Y=Y.r;wi(U,k,H),z&&_(U,z),Y&&_(U,Y)})(h,v)}function Zo(h,v){var _=Vr(v),U=_.next();if(U.done)return!1;for(var E=U.value,k=Vr(h),H=k.next(E.from),z=H.value;!U.done&&!H.done;){if(ze(z.from,E.to)<=0&&0<=ze(z.to,E.from))return!0;ze(E.from,z.from)<0?E=(U=_.next(z.from)).value:z=(H=k.next(E.from)).value}return!1}function Vr(h){var v=Yn(h)?null:{s:0,n:h};return{next:function(_){for(var U=0<arguments.length;v;)switch(v.s){case 0:if(v.s=1,U)for(;v.n.l&&ze(_,v.n.from)<0;)v={up:v,n:v.n.l,s:1};else for(;v.n.l;)v={up:v,n:v.n.l,s:1};case 1:if(v.s=2,!U||ze(_,v.n.to)<=0)return{value:v.n,done:!1};case 2:if(v.n.r){v.s=3,v={up:v,n:v.n.r,s:0};continue}case 3:v=v.up}return{done:!0}}}}function mo(h){var v,_,U=(((v=h.r)===null||v===void 0?void 0:v.d)||0)-(((_=h.l)===null||_===void 0?void 0:_.d)||0),E=1<U?"r":U<-1?"l":"";E&&(v=E=="r"?"l":"r",_=i({},h),U=h[E],h.from=U.from,h.to=U.to,h[E]=U[E],_[E]=U[v],(h[v]=_).d=Jo(_)),h.d=Jo(h)}function Jo(_){var v=_.r,_=_.l;return(v?_?Math.max(v.d,_.d):v.d:_?_.d:0)+1}function Cs(h,v){return d(v).forEach(function(_){h[_]?Kr(h[_],v[_]):h[_]=(function U(E){var k,H,z={};for(k in E)b(E,k)&&(H=E[k],z[k]=!H||typeof H!="object"||Ee.has(H.constructor)?H:U(H));return z})(v[_])}),h}function Zi(h,v){return h.all||v.all||Object.keys(h).some(function(_){return v[_]&&Zo(v[_],h[_])})}F(cn.prototype,((Fn={add:function(h){return Kr(this,h),this},addKey:function(h){return wi(this,h,h),this},addKeys:function(h){var v=this;return h.forEach(function(_){return wi(v,_,_)}),this},hasKey:function(h){var v=Vr(this).next(h).value;return v&&ze(v.from,h)<=0&&0<=ze(v.to,h)}})[se]=function(){return Vr(this)},Fn));var Gr={},Ji={},xs=!1;function zr(h){Cs(Ji,h),xs||(xs=!0,setTimeout(function(){xs=!1,YA(Ji,!(Ji={}))},0))}function YA(h,v){v===void 0&&(v=!1);var _=new Set;if(h.all)for(var U=0,E=Object.values(Gr);U<E.length;U++)qo(H=E[U],h,_,v);else for(var k in h){var H,z=/^idb\:\/\/(.*)\/(.*)\//.exec(k);z&&(k=z[1],z=z[2],(H=Gr["idb://".concat(k,"/").concat(z)])&&qo(H,h,_,v))}_.forEach(function(Y){return Y()})}function qo(h,v,_,U){for(var E=[],k=0,H=Object.entries(h.queries.query);k<H.length;k++){for(var z=H[k],Y=z[0],ne=[],re=0,W=z[1];re<W.length;re++){var de=W[re];Zi(v,de.obsSet)?de.subscribers.forEach(function(ae){return _.add(ae)}):U&&ne.push(de)}U&&E.push([Y,ne])}if(U)for(var te=0,oe=E;te<oe.length;te++){var ue=oe[te],Y=ue[0],ne=ue[1];h.queries.query[Y]=ne}}function Wr(h){var v=h._state,_=h._deps.indexedDB;if(v.isBeingOpened||h.idbdb)return v.dbReadyPromise.then(function(){return v.dbOpenError?Zt(v.dbOpenError):h});v.isBeingOpened=!0,v.dbOpenError=null,v.openComplete=!1;var U=v.openCanceller,E=Math.round(10*h.verno),k=!1;function H(){if(v.openCanceller!==U)throw new De.DatabaseClosed("db.open() was cancelled")}function z(){return new Ge(function(de,te){if(H(),!_)throw new De.MissingAPI;var oe=h.name,ue=v.autoSchema||!E?_.open(oe):_.open(oe,E);if(!ue)throw new De.MissingAPI;ue.onerror=at(te),ue.onblocked=kt(h._fireOnBlocked),ue.onupgradeneeded=kt(function(ae){var ce;re=ue.transaction,v.autoSchema&&!h._options.allowEmptyDB?(ue.onerror=qt,re.abort(),ue.result.close(),(ce=_.deleteDatabase(oe)).onsuccess=ce.onerror=kt(function(){te(new De.NoSuchDatabase("Database ".concat(oe," doesnt exist")))})):(re.onerror=at(te),ae=ae.oldVersion>Math.pow(2,62)?0:ae.oldVersion,W=ae<1,h.idbdb=ue.result,k&&vr(h,re),Xn(h,ae/10,re,te))},te),ue.onsuccess=kt(function(){re=null;var ae,ce,ye,_e,Ce,Se=h.idbdb=ue.result,Re=R(Se.objectStoreNames);if(0<Re.length)try{var He=Se.transaction((_e=Re).length===1?_e[0]:_e,"readonly");if(v.autoSchema)ce=Se,ye=He,(ae=h).verno=ce.version/10,ye=ae._dbSchema=gn(0,ce,ye),ae._storeNames=R(ce.objectStoreNames,0),Dr(ae,[ae._allTables],d(ye),ye);else if(XA(h,h._dbSchema,He),((Ce=zi(gn(0,(Ce=h).idbdb,He),Ce._dbSchema)).add.length||Ce.change.some(function(Te){return Te.add.length||Te.change.length}))&&!k)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Se.close(),E=Se.version+1,k=!0,de(z());Or(h,He)}catch{}hr.push(h),Se.onversionchange=kt(function(Te){v.vcFired=!0,h.on("versionchange").fire(Te)}),Se.onclose=kt(function(Te){h.on("close").fire(Te)}),W&&(Ce=h._deps,He=oe,Se=Ce.indexedDB,Ce=Ce.IDBKeyRange,$i(Se)||He===ji||Dn(Se,Ce).put({name:He}).catch(Qt)),de()},te)}).catch(function(de){switch(de?.name){case"UnknownError":if(0<v.PR1398_maxLoop)return v.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),z();break;case"VersionError":if(0<E)return E=0,z()}return Ge.reject(de)})}var Y,ne=v.dbReadyResolve,re=null,W=!1;return Ge.race([U,(typeof navigator>"u"?Ge.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(de){function te(){return indexedDB.databases().finally(de)}Y=setInterval(te,100),te()}).finally(function(){return clearInterval(Y)}):Promise.resolve()).then(z)]).then(function(){return H(),v.onReadyBeingFired=[],Ge.resolve(wr(function(){return h.on.ready.fire(h.vip)})).then(function de(){if(0<v.onReadyBeingFired.length){var te=v.onReadyBeingFired.reduce(ir,Qt);return v.onReadyBeingFired=[],Ge.resolve(wr(function(){return te(h.vip)})).then(de)}})}).finally(function(){v.openCanceller===U&&(v.onReadyBeingFired=null,v.isBeingOpened=!1)}).catch(function(de){v.dbOpenError=de;try{re&&re.abort()}catch{}return U===v.openCanceller&&h._close(),Zt(de)}).finally(function(){v.openComplete=!0,ne()}).then(function(){var de;return W&&(de={},h.tables.forEach(function(te){te.schema.indexes.forEach(function(oe){oe.name&&(de["idb://".concat(h.name,"/").concat(te.name,"/").concat(oe.name)]=new cn(-1/0,[[[]]]))}),de["idb://".concat(h.name,"/").concat(te.name,"/")]=de["idb://".concat(h.name,"/").concat(te.name,"/:dels")]=new cn(-1/0,[[[]]])}),On(St).fire(de),YA(de,!0)),h})}function Rn(h){function v(k){return h.next(k)}var _=E(v),U=E(function(k){return h.throw(k)});function E(k){return function(Y){var z=k(Y),Y=z.value;return z.done?Y:Y&&typeof Y.then=="function"?Y.then(_,U):g(Y)?Promise.all(Y).then(_,U):_(Y)}}return E(v)()}function qi(h,v,_){for(var U=g(h)?h.slice():[h],E=0;E<_;++E)U.push(v);return U}var Xo={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(h){return i(i({},h),{table:function(v){var _=h.table(v),U=_.schema,E={},k=[];function H(W,de,te){var oe=Vi(W),ue=E[oe]=E[oe]||[],ae=W==null?0:typeof W=="string"?1:W.length,ce=0<de,ce=i(i({},te),{name:ce?"".concat(oe,"(virtual-from:").concat(te.name,")"):te.name,lowLevelIndex:te,isVirtual:ce,keyTail:de,keyLength:ae,extractKey:qn(W),unique:!ce&&te.unique});return ue.push(ce),ce.isPrimaryKey||k.push(ce),1<ae&&H(ae===2?W[0]:W.slice(0,ae-1),de+1,te),ue.sort(function(ye,_e){return ye.keyTail-_e.keyTail}),ce}v=H(U.primaryKey.keyPath,0,U.primaryKey),E[":id"]=[v];for(var z=0,Y=U.indexes;z<Y.length;z++){var ne=Y[z];H(ne.keyPath,0,ne)}function re(W){var de,te=W.query.index;return te.isVirtual?i(i({},W),{query:{index:te.lowLevelIndex,range:(de=W.query.range,te=te.keyTail,{type:de.type===1?2:de.type,lower:qi(de.lower,de.lowerOpen?h.MAX_KEY:h.MIN_KEY,te),lowerOpen:!0,upper:qi(de.upper,de.upperOpen?h.MIN_KEY:h.MAX_KEY,te),upperOpen:!0})}}):W}return i(i({},_),{schema:i(i({},U),{primaryKey:v,indexes:k,getIndexByKeyPath:function(W){return(W=E[Vi(W)])&&W[0]}}),count:function(W){return _.count(re(W))},query:function(W){return _.query(re(W))},openCursor:function(W){var de=W.query.index,te=de.keyTail,oe=de.isVirtual,ue=de.keyLength;return oe?_.openCursor(re(W)).then(function(ce){return ce&&ae(ce)}):_.openCursor(W);function ae(ce){return Object.create(ce,{continue:{value:function(ye){ye!=null?ce.continue(qi(ye,W.reverse?h.MAX_KEY:h.MIN_KEY,te)):W.unique?ce.continue(ce.key.slice(0,ue).concat(W.reverse?h.MIN_KEY:h.MAX_KEY,te)):ce.continue()}},continuePrimaryKey:{value:function(ye,_e){ce.continuePrimaryKey(qi(ye,h.MAX_KEY,te),_e)}},primaryKey:{get:function(){return ce.primaryKey}},key:{get:function(){var ye=ce.key;return ue===1?ye[0]:ye.slice(0,ue)}},value:{get:function(){return ce.value}}})}}})}})}};function bs(h,v,_,U){return _=_||{},U=U||"",d(h).forEach(function(E){var k,H,z;b(v,E)?(k=h[E],H=v[E],typeof k=="object"&&typeof H=="object"&&k&&H?(z=et(k))!==et(H)?_[U+E]=v[E]:z==="Object"?bs(k,H,_,U+E+"."):k!==H&&(_[U+E]=v[E]):k!==H&&(_[U+E]=v[E])):_[U+E]=void 0}),d(v).forEach(function(E){b(h,E)||(_[U+E]=v[E])}),_}function Xi(h,v){return v.type==="delete"?v.keys:v.keys||v.values.map(h.extractKey)}var vo={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(h){return i(i({},h),{table:function(v){var _=h.table(v),U=_.schema.primaryKey;return i(i({},_),{mutate:function(E){var k=rt.trans,H=k.table(v).hook,z=H.deleting,Y=H.creating,ne=H.updating;switch(E.type){case"add":if(Y.fire===Qt)break;return k._promise("readwrite",function(){return re(E)},!0);case"put":if(Y.fire===Qt&&ne.fire===Qt)break;return k._promise("readwrite",function(){return re(E)},!0);case"delete":if(z.fire===Qt)break;return k._promise("readwrite",function(){return re(E)},!0);case"deleteRange":if(z.fire===Qt)break;return k._promise("readwrite",function(){return(function W(de,te,oe){return _.query({trans:de,values:!1,query:{index:U,range:te},limit:oe}).then(function(ue){var ae=ue.result;return re({type:"delete",keys:ae,trans:de}).then(function(ce){return 0<ce.numFailures?Promise.reject(ce.failures[0]):ae.length<oe?{failures:[],numFailures:0,lastResult:void 0}:W(de,i(i({},te),{lower:ae[ae.length-1],lowerOpen:!0}),oe)})})})(E.trans,E.range,1e4)},!0)}return _.mutate(E);function re(W){var de,te,oe,ue=rt.trans,ae=W.keys||Xi(U,W);if(!ae)throw new Error("Keys missing");return(W=W.type==="add"||W.type==="put"?i(i({},W),{keys:ae}):i({},W)).type!=="delete"&&(W.values=o([],W.values)),W.keys&&(W.keys=o([],W.keys)),de=_,oe=ae,((te=W).type==="add"?Promise.resolve([]):de.getMany({trans:te.trans,keys:oe,cache:"immutable"})).then(function(ce){var ye=ae.map(function(_e,Ce){var Se,Re,He,Te=ce[Ce],Ve={onerror:null,onsuccess:null};return W.type==="delete"?z.fire.call(Ve,_e,Te,ue):W.type==="add"||Te===void 0?(Se=Y.fire.call(Ve,_e,W.values[Ce],ue),_e==null&&Se!=null&&(W.keys[Ce]=_e=Se,U.outbound||xe(W.values[Ce],U.keyPath,_e))):(Se=bs(Te,W.values[Ce]),(Re=ne.fire.call(Ve,Se,_e,Te,ue))&&(He=W.values[Ce],Object.keys(Re).forEach(function(Ke){b(He,Ke)?He[Ke]=Re[Ke]:xe(He,Ke,Re[Ke])}))),Ve});return _.mutate(W).then(function(_e){for(var Ce=_e.failures,Se=_e.results,Re=_e.numFailures,_e=_e.lastResult,He=0;He<ae.length;++He){var Te=(Se||ae)[He],Ve=ye[He];Te==null?Ve.onerror&&Ve.onerror(Ce[He]):Ve.onsuccess&&Ve.onsuccess(W.type==="put"&&ce[He]?W.values[He]:Te)}return{failures:Ce,results:Se,numFailures:Re,lastResult:_e}}).catch(function(_e){return ye.forEach(function(Ce){return Ce.onerror&&Ce.onerror(_e)}),Promise.reject(_e)})})}}})}})}};function Yo(h,v,_){try{if(!v||v.keys.length<h.length)return null;for(var U=[],E=0,k=0;E<v.keys.length&&k<h.length;++E)ze(v.keys[E],h[k])===0&&(U.push(_?Ze(v.values[E]):v.values[E]),++k);return U.length===h.length?U:null}catch{return null}}var Ja={stack:"dbcore",level:-1,create:function(h){return{table:function(v){var _=h.table(v);return i(i({},_),{getMany:function(U){if(!U.cache)return _.getMany(U);var E=Yo(U.keys,U.trans._cache,U.cache==="clone");return E?Ge.resolve(E):_.getMany(U).then(function(k){return U.trans._cache={keys:U.keys,values:U.cache==="clone"?Ze(k):k},k})},mutate:function(U){return U.type!=="add"&&(U.trans._cache=null),_.mutate(U)}})}}}};function wo(h,v){return h.trans.mode==="readonly"&&!!h.subscr&&!h.trans.explicit&&h.trans.db._options.cache!=="disabled"&&!v.schema.primaryKey.outbound}function ea(h,v){switch(h){case"query":return v.values&&!v.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var mA={stack:"dbcore",level:0,name:"Observability",create:function(h){var v=h.schema.name,_=new cn(h.MIN_KEY,h.MAX_KEY);return i(i({},h),{transaction:function(U,E,k){if(rt.subscr&&E!=="readonly")throw new De.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(rt.querier));return h.transaction(U,E,k)},table:function(U){var E=h.table(U),k=E.schema,H=k.primaryKey,W=k.indexes,z=H.extractKey,Y=H.outbound,ne=H.autoIncrement&&W.filter(function(te){return te.compound&&te.keyPath.includes(H.keyPath)}),re=i(i({},E),{mutate:function(te){function oe(Ke){return Ke="idb://".concat(v,"/").concat(U,"/").concat(Ke),_e[Ke]||(_e[Ke]=new cn)}var ue,ae,ce,ye=te.trans,_e=te.mutatedParts||(te.mutatedParts={}),Ce=oe(""),Se=oe(":dels"),Re=te.type,Ve=te.type==="deleteRange"?[te.range]:te.type==="delete"?[te.keys]:te.values.length<50?[Xi(H,te).filter(function(Ke){return Ke}),te.values]:[],He=Ve[0],Te=Ve[1],Ve=te.trans._cache;return g(He)?(Ce.addKeys(He),(Ve=Re==="delete"||He.length===Te.length?Yo(He,Ve):null)||Se.addKeys(He),(Ve||Te)&&(ue=oe,ae=Ve,ce=Te,k.indexes.forEach(function(Ke){var We=ue(Ke.name||"");function gt(lt){return lt!=null?Ke.extractKey(lt):null}function Ct(lt){return Ke.multiEntry&&g(lt)?lt.forEach(function(Rt){return We.addKey(Rt)}):We.addKey(lt)}(ae||ce).forEach(function(lt,Yt){var pt=ae&&gt(ae[Yt]),Yt=ce&&gt(ce[Yt]);ze(pt,Yt)!==0&&(pt!=null&&Ct(pt),Yt!=null&&Ct(Yt))})}))):He?(Te={from:(Te=He.lower)!==null&&Te!==void 0?Te:h.MIN_KEY,to:(Te=He.upper)!==null&&Te!==void 0?Te:h.MAX_KEY},Se.add(Te),Ce.add(Te)):(Ce.add(_),Se.add(_),k.indexes.forEach(function(Ke){return oe(Ke.name).add(_)})),E.mutate(te).then(function(Ke){return!He||te.type!=="add"&&te.type!=="put"||(Ce.addKeys(Ke.results),ne&&ne.forEach(function(We){for(var gt=te.values.map(function(pt){return We.extractKey(pt)}),Ct=We.keyPath.findIndex(function(pt){return pt===H.keyPath}),lt=0,Rt=Ke.results.length;lt<Rt;++lt)gt[lt][Ct]=Ke.results[lt];oe(We.name).addKeys(gt)})),ye.mutatedParts=Cs(ye.mutatedParts||{},_e),Ke})}}),W=function(oe){var ue=oe.query,oe=ue.index,ue=ue.range;return[oe,new cn((oe=ue.lower)!==null&&oe!==void 0?oe:h.MIN_KEY,(ue=ue.upper)!==null&&ue!==void 0?ue:h.MAX_KEY)]},de={get:function(te){return[H,new cn(te.key)]},getMany:function(te){return[H,new cn().addKeys(te.keys)]},count:W,query:W,openCursor:W};return d(de).forEach(function(te){re[te]=function(oe){var ue=rt.subscr,ae=!!ue,ce=wo(rt,E)&&ea(te,oe)?oe.obsSet={}:ue;if(ae){var ye=function(Te){return Te="idb://".concat(v,"/").concat(U,"/").concat(Te),ce[Te]||(ce[Te]=new cn)},_e=ye(""),Ce=ye(":dels"),ue=de[te](oe),ae=ue[0],ue=ue[1];if((te==="query"&&ae.isPrimaryKey&&!oe.values?Ce:ye(ae.name||"")).add(ue),!ae.isPrimaryKey){if(te!=="count"){var Se=te==="query"&&Y&&oe.values&&E.query(i(i({},oe),{values:!1}));return E[te].apply(this,arguments).then(function(Te){if(te==="query"){if(Y&&oe.values)return Se.then(function(gt){return gt=gt.result,_e.addKeys(gt),Te});var Ve=oe.values?Te.result.map(z):Te.result;(oe.values?_e:Ce).addKeys(Ve)}else if(te==="openCursor"){var Ke=Te,We=oe.values;return Ke&&Object.create(Ke,{key:{get:function(){return Ce.addKey(Ke.primaryKey),Ke.key}},primaryKey:{get:function(){var gt=Ke.primaryKey;return Ce.addKey(gt),gt}},value:{get:function(){return We&&_e.addKey(Ke.primaryKey),Ke.value}}})}return Te})}Ce.add(_)}}return E[te].apply(this,arguments)}}),re}})}};function er(h,v,_){if(_.numFailures===0)return v;if(v.type==="deleteRange")return null;var U=v.keys?v.keys.length:"values"in v&&v.values?v.values.length:1;return _.numFailures===U?null:(v=i({},v),g(v.keys)&&(v.keys=v.keys.filter(function(E,k){return!(k in _.failures)})),"values"in v&&g(v.values)&&(v.values=v.values.filter(function(E,k){return!(k in _.failures)})),v)}function $r(h,v){return _=h,((U=v).lower===void 0||(U.lowerOpen?0<ze(_,U.lower):0<=ze(_,U.lower)))&&(h=h,(v=v).upper===void 0||(v.upperOpen?ze(h,v.upper)<0:ze(h,v.upper)<=0));var _,U}function TA(h,v,de,U,E,k){if(!de||de.length===0)return h;var H=v.query.index,z=H.multiEntry,Y=v.query.range,ne=U.schema.primaryKey.extractKey,re=H.extractKey,W=(H.lowLevelIndex||H).extractKey,de=de.reduce(function(te,oe){var ue=te,ae=[];if(oe.type==="add"||oe.type==="put")for(var ce=new cn,ye=oe.values.length-1;0<=ye;--ye){var _e,Ce=oe.values[ye],Se=ne(Ce);ce.hasKey(Se)||(_e=re(Ce),(z&&g(_e)?_e.some(function(Ke){return $r(Ke,Y)}):$r(_e,Y))&&(ce.addKey(Se),ae.push(Ce)))}switch(oe.type){case"add":var Re=new cn().addKeys(v.values?te.map(function(We){return ne(We)}):te),ue=te.concat(v.values?ae.filter(function(We){return We=ne(We),!Re.hasKey(We)&&(Re.addKey(We),!0)}):ae.map(function(We){return ne(We)}).filter(function(We){return!Re.hasKey(We)&&(Re.addKey(We),!0)}));break;case"put":var He=new cn().addKeys(oe.values.map(function(We){return ne(We)}));ue=te.filter(function(We){return!He.hasKey(v.values?ne(We):We)}).concat(v.values?ae:ae.map(function(We){return ne(We)}));break;case"delete":var Te=new cn().addKeys(oe.keys);ue=te.filter(function(We){return!Te.hasKey(v.values?ne(We):We)});break;case"deleteRange":var Ve=oe.range;ue=te.filter(function(We){return!$r(ne(We),Ve)})}return ue},h);return de===h?h:(de.sort(function(te,oe){return ze(W(te),W(oe))||ze(ne(te),ne(oe))}),v.limit&&v.limit<1/0&&(de.length>v.limit?de.length=v.limit:h.length===v.limit&&de.length<v.limit&&(E.dirty=!0)),k?Object.freeze(de):de)}function yo(h,v){return ze(h.lower,v.lower)===0&&ze(h.upper,v.upper)===0&&!!h.lowerOpen==!!v.lowerOpen&&!!h.upperOpen==!!v.upperOpen}function Zr(h,v){return(function(_,U,E,k){if(_===void 0)return U!==void 0?-1:0;if(U===void 0)return 1;if((U=ze(_,U))===0){if(E&&k)return 0;if(E)return 1;if(k)return-1}return U})(h.lower,v.lower,h.lowerOpen,v.lowerOpen)<=0&&0<=(function(_,U,E,k){if(_===void 0)return U!==void 0?1:0;if(U===void 0)return-1;if((U=ze(_,U))===0){if(E&&k)return 0;if(E)return-1;if(k)return 1}return U})(h.upper,v.upper,h.upperOpen,v.upperOpen)}function ta(h,v,_,U){h.subscribers.add(_),U.addEventListener("abort",function(){var E,k;h.subscribers.delete(_),h.subscribers.size===0&&(E=h,k=v,setTimeout(function(){E.subscribers.size===0&&ge(k,E)},3e3))})}var yi={stack:"dbcore",level:0,name:"Cache",create:function(h){var v=h.schema.name;return i(i({},h),{transaction:function(_,U,E){var k,H,z=h.transaction(_,U,E);return U==="readwrite"&&(H=(k=new AbortController).signal,E=function(Y){return function(){if(k.abort(),U==="readwrite"){for(var ne=new Set,re=0,W=_;re<W.length;re++){var de=W[re],te=Gr["idb://".concat(v,"/").concat(de)];if(te){var oe=h.table(de),ue=te.optimisticOps.filter(function(We){return We.trans===z});if(z._explicit&&Y&&z.mutatedParts)for(var ae=0,ce=Object.values(te.queries.query);ae<ce.length;ae++)for(var ye=0,_e=(Re=ce[ae]).slice();ye<_e.length;ye++)Zi((He=_e[ye]).obsSet,z.mutatedParts)&&(ge(Re,He),He.subscribers.forEach(function(We){return ne.add(We)}));else if(0<ue.length){te.optimisticOps=te.optimisticOps.filter(function(We){return We.trans!==z});for(var Ce=0,Se=Object.values(te.queries.query);Ce<Se.length;Ce++)for(var Re,He,Te,Ve=0,Ke=(Re=Se[Ce]).slice();Ve<Ke.length;Ve++)(He=Ke[Ve]).res!=null&&z.mutatedParts&&(Y&&!He.dirty?(Te=Object.isFrozen(He.res),Te=TA(He.res,He.req,ue,oe,He,Te),He.dirty?(ge(Re,He),He.subscribers.forEach(function(We){return ne.add(We)})):Te!==He.res&&(He.res=Te,He.promise=Ge.resolve({result:Te}))):(He.dirty&&ge(Re,He),He.subscribers.forEach(function(We){return ne.add(We)})))}}}ne.forEach(function(We){return We()})}}},z.addEventListener("abort",E(!1),{signal:H}),z.addEventListener("error",E(!1),{signal:H}),z.addEventListener("complete",E(!0),{signal:H})),z},table:function(_){var U=h.table(_),E=U.schema.primaryKey;return i(i({},U),{mutate:function(k){var H=rt.trans;if(E.outbound||H.db._options.cache==="disabled"||H.explicit||H.idbtrans.mode!=="readwrite")return U.mutate(k);var z=Gr["idb://".concat(v,"/").concat(_)];return z?(H=U.mutate(k),k.type!=="add"&&k.type!=="put"||!(50<=k.values.length||Xi(E,k).some(function(Y){return Y==null}))?(z.optimisticOps.push(k),k.mutatedParts&&zr(k.mutatedParts),H.then(function(Y){0<Y.numFailures&&(ge(z.optimisticOps,k),(Y=er(0,k,Y))&&z.optimisticOps.push(Y),k.mutatedParts&&zr(k.mutatedParts))}),H.catch(function(){ge(z.optimisticOps,k),k.mutatedParts&&zr(k.mutatedParts)})):H.then(function(Y){var ne=er(0,i(i({},k),{values:k.values.map(function(re,W){var de;return Y.failures[W]?re:(re=(de=E.keyPath)!==null&&de!==void 0&&de.includes(".")?Ze(re):i({},re),xe(re,E.keyPath,Y.results[W]),re)})}),Y);z.optimisticOps.push(ne),queueMicrotask(function(){return k.mutatedParts&&zr(k.mutatedParts)})}),H):U.mutate(k)},query:function(k){if(!wo(rt,U)||!ea("query",k))return U.query(k);var H=((ne=rt.trans)===null||ne===void 0?void 0:ne.db._options.cache)==="immutable",W=rt,z=W.requery,Y=W.signal,ne=(function(oe,ue,ae,ce){var ye=Gr["idb://".concat(oe,"/").concat(ue)];if(!ye)return[];if(!(ue=ye.queries[ae]))return[null,!1,ye,null];var _e=ue[(ce.query?ce.query.index.name:null)||""];if(!_e)return[null,!1,ye,null];switch(ae){case"query":var Ce=_e.find(function(Se){return Se.req.limit===ce.limit&&Se.req.values===ce.values&&yo(Se.req.query.range,ce.query.range)});return Ce?[Ce,!0,ye,_e]:[_e.find(function(Se){return("limit"in Se.req?Se.req.limit:1/0)>=ce.limit&&(!ce.values||Se.req.values)&&Zr(Se.req.query.range,ce.query.range)}),!1,ye,_e];case"count":return Ce=_e.find(function(Se){return yo(Se.req.query.range,ce.query.range)}),[Ce,!!Ce,ye,_e]}})(v,_,"query",k),re=ne[0],W=ne[1],de=ne[2],te=ne[3];return re&&W?re.obsSet=k.obsSet:(W=U.query(k).then(function(oe){var ue=oe.result;if(re&&(re.res=ue),H){for(var ae=0,ce=ue.length;ae<ce;++ae)Object.freeze(ue[ae]);Object.freeze(ue)}else oe.result=Ze(ue);return oe}).catch(function(oe){return te&&re&&ge(te,re),Promise.reject(oe)}),re={obsSet:k.obsSet,promise:W,subscribers:new Set,type:"query",req:k,dirty:!1},te?te.push(re):(te=[re],(de=de||(Gr["idb://".concat(v,"/").concat(_)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[k.query.index.name||""]=te)),ta(re,te,z,Y),re.promise.then(function(oe){return{result:TA(oe.result,k,de?.optimisticOps,U,re,H)}})}})}})}};function Bi(h,v){return new Proxy(h,{get:function(_,U,E){return U==="db"?v:Reflect.get(_,U,E)}})}var mn=(Xt.prototype.version=function(h){if(isNaN(h)||h<.1)throw new De.Type("Given version is not a positive number");if(h=Math.round(10*h)/10,this.idbdb||this._state.isBeingOpened)throw new De.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,h);var v=this._versions,_=v.filter(function(U){return U._cfg.version===h})[0];return _||(_=new this.Version(h),v.push(_),v.sort(mr),_.stores({}),this._state.autoSchema=!1,_)},Xt.prototype._whenReady=function(h){var v=this;return this.idbdb&&(this._state.openComplete||rt.letThrough||this._vip)?h():new Ge(function(_,U){if(v._state.openComplete)return U(new De.DatabaseClosed(v._state.dbOpenError));if(!v._state.isBeingOpened){if(!v._state.autoOpen)return void U(new De.DatabaseClosed);v.open().catch(Qt)}v._state.dbReadyPromise.then(_,U)}).then(h)},Xt.prototype.use=function(h){var v=h.stack,_=h.create,U=h.level,E=h.name;return E&&this.unuse({stack:v,name:E}),h=this._middlewares[v]||(this._middlewares[v]=[]),h.push({stack:v,create:_,level:U??10,name:E}),h.sort(function(k,H){return k.level-H.level}),this},Xt.prototype.unuse=function(h){var v=h.stack,_=h.name,U=h.create;return v&&this._middlewares[v]&&(this._middlewares[v]=this._middlewares[v].filter(function(E){return U?E.create!==U:!!_&&E.name!==_})),this},Xt.prototype.open=function(){var h=this;return dr(GA,function(){return Wr(h)})},Xt.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var h=this._state,v=hr.indexOf(this);if(0<=v&&hr.splice(v,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}h.isBeingOpened||(h.dbReadyPromise=new Ge(function(_){h.dbReadyResolve=_}),h.openCanceller=new Ge(function(_,U){h.cancelOpen=U}))},Xt.prototype.close=function(_){var v=(_===void 0?{disableAutoOpen:!0}:_).disableAutoOpen,_=this._state;v?(_.isBeingOpened&&_.cancelOpen(new De.DatabaseClosed),this._close(),_.autoOpen=!1,_.dbOpenError=new De.DatabaseClosed):(this._close(),_.autoOpen=this._options.autoOpen||_.isBeingOpened,_.openComplete=!1,_.dbOpenError=null)},Xt.prototype.delete=function(h){var v=this;h===void 0&&(h={disableAutoOpen:!0});var _=0<arguments.length&&typeof arguments[0]!="object",U=this._state;return new Ge(function(E,k){function H(){v.close(h);var z=v._deps.indexedDB.deleteDatabase(v.name);z.onsuccess=kt(function(){var Y,ne,re;Y=v._deps,ne=v.name,re=Y.indexedDB,Y=Y.IDBKeyRange,$i(re)||ne===ji||Dn(re,Y).delete(ne).catch(Qt),E()}),z.onerror=at(k),z.onblocked=v._fireOnBlocked}if(_)throw new De.InvalidArgument("Invalid closeOptions argument to db.delete()");U.isBeingOpened?U.dbReadyPromise.then(H):H()})},Xt.prototype.backendDB=function(){return this.idbdb},Xt.prototype.isOpen=function(){return this.idbdb!==null},Xt.prototype.hasBeenClosed=function(){var h=this._state.dbOpenError;return h&&h.name==="DatabaseClosed"},Xt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Xt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Xt.prototype,"tables",{get:function(){var h=this;return d(this._allTables).map(function(v){return h._allTables[v]})},enumerable:!1,configurable:!0}),Xt.prototype.transaction=function(){var h=(function(v,_,U){var E=arguments.length;if(E<2)throw new De.InvalidArgument("Too few arguments");for(var k=new Array(E-1);--E;)k[E-1]=arguments[E];return U=k.pop(),[v,ve(k),U]}).apply(this,arguments);return this._transaction.apply(this,h)},Xt.prototype._transaction=function(h,v,_){var U=this,E=rt.trans;E&&E.db===this&&h.indexOf("!")===-1||(E=null);var k,H,z=h.indexOf("?")!==-1;h=h.replace("!","").replace("?","");try{if(H=v.map(function(ne){if(ne=ne instanceof U.Table?ne.name:ne,typeof ne!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return ne}),h=="r"||h===di)k=di;else{if(h!="rw"&&h!=Hi)throw new De.InvalidArgument("Invalid transaction mode: "+h);k=Hi}if(E){if(E.mode===di&&k===Hi){if(!z)throw new De.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");E=null}E&&H.forEach(function(ne){if(E&&E.storeNames.indexOf(ne)===-1){if(!z)throw new De.SubTransaction("Table "+ne+" not included in parent transaction.");E=null}}),z&&E&&!E.active&&(E=null)}}catch(ne){return E?E._promise(null,function(re,W){W(ne)}):Zt(ne)}var Y=(function ne(re,W,de,te,oe){return Ge.resolve().then(function(){var ue=rt.transless||rt,ae=re._createTransaction(W,de,re._dbSchema,te);if(ae.explicit=!0,ue={trans:ae,transless:ue},te)ae.idbtrans=te.idbtrans;else try{ae.create(),ae.idbtrans._explicit=!0,re._state.PR1398_maxLoop=3}catch(_e){return _e.name===At.InvalidState&&re.isOpen()&&0<--re._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),re.close({disableAutoOpen:!1}),re.open().then(function(){return ne(re,W,de,null,oe)})):Zt(_e)}var ce,ye=D(oe);return ye&&ur(),ue=Ge.follow(function(){var _e;(ce=oe.call(ae,ae))&&(ye?(_e=En.bind(null,null),ce.then(_e,_e)):typeof ce.next=="function"&&typeof ce.throw=="function"&&(ce=Rn(ce)))},ue),(ce&&typeof ce.then=="function"?Ge.resolve(ce).then(function(_e){return ae.active?_e:Zt(new De.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):ue.then(function(){return ce})).then(function(_e){return te&&ae._resolve(),ae._completion.then(function(){return _e})}).catch(function(_e){return ae._reject(_e),Zt(_e)})})}).bind(null,this,k,H,E,_);return E?E._promise(k,Y,"lock"):rt.trans?dr(rt.transless,function(){return U._whenReady(Y)}):this._whenReady(Y)},Xt.prototype.table=function(h){if(!b(this._allTables,h))throw new De.InvalidTable("Table ".concat(h," does not exist"));return this._allTables[h]},Xt);function Xt(h,v){var _=this;this._middlewares={},this.verno=0;var U=Xt.dependencies;this._options=v=i({addons:Xt.addons,autoOpen:!0,indexedDB:U.indexedDB,IDBKeyRange:U.IDBKeyRange,cache:"cloned"},v),this._deps={indexedDB:v.indexedDB,IDBKeyRange:v.IDBKeyRange},U=v.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var E,k,H,z,Y,ne={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Qt,dbReadyPromise:null,cancelOpen:Qt,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:v.autoOpen};ne.dbReadyPromise=new Ge(function(W){ne.dbReadyResolve=W}),ne.openCanceller=new Ge(function(W,de){ne.cancelOpen=de}),this._state=ne,this.name=h,this.on=dt(this,"populate","blocked","versionchange","close",{ready:[ir,Qt]}),this.once=function(W,de){var te=function(){for(var oe=[],ue=0;ue<arguments.length;ue++)oe[ue]=arguments[ue];_.on(W).unsubscribe(te),de.apply(_,oe)};return _.on(W,te)},this.on.ready.subscribe=J(this.on.ready.subscribe,function(W){return function(de,te){Xt.vip(function(){var oe,ue=_._state;ue.openComplete?(ue.dbOpenError||Ge.resolve().then(de),te&&W(de)):ue.onReadyBeingFired?(ue.onReadyBeingFired.push(de),te&&W(de)):(W(de),oe=_,te||W(function ae(){oe.on.ready.unsubscribe(de),oe.on.ready.unsubscribe(ae)}))})}}),this.Collection=(E=this,Tt(gi.prototype,function(ce,ae){this.db=E;var te=hi,oe=null;if(ae)try{te=ae()}catch(ye){oe=ye}var ue=ce._ctx,ae=ue.table,ce=ae.hook.reading.fire;this._ctx={table:ae,index:ue.index,isPrimKey:!ue.index||ae.schema.primKey.keyPath&&ue.index===ae.schema.primKey.name,range:te,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:oe,or:ue.or,valueMapper:ce!==QA?ce:null}})),this.Table=(k=this,Tt(IA.prototype,function(W,de,te){this.db=k,this._tx=te,this.name=W,this.schema=de,this.hook=k._allTables[W]?k._allTables[W].hook:dt(null,{creating:[ao,Qt],reading:[oo,QA],updating:[Ti,Qt],deleting:[ki,Qt]})})),this.Transaction=(H=this,Tt(go.prototype,function(W,de,te,oe,ue){var ae=this;W!=="readonly"&&de.forEach(function(ce){ce=(ce=te[ce])===null||ce===void 0?void 0:ce.yProps,ce&&(de=de.concat(ce.map(function(ye){return ye.updatesTable})))}),this.db=H,this.mode=W,this.storeNames=de,this.schema=te,this.chromeTransactionDurability=oe,this.idbtrans=null,this.on=dt(this,"complete","error","abort"),this.parent=ue||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Ge(function(ce,ye){ae._resolve=ce,ae._reject=ye}),this._completion.then(function(){ae.active=!1,ae.on.complete.fire()},function(ce){var ye=ae.active;return ae.active=!1,ae.on.error.fire(ce),ae.parent?ae.parent._reject(ce):ye&&ae.idbtrans&&ae.idbtrans.abort(),Zt(ce)})})),this.Version=(z=this,Tt(Mr.prototype,function(W){this.db=z,this._cfg={version:W,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(Y=this,Tt(gA.prototype,function(W,de,te){if(this.db=Y,this._ctx={table:W,index:de===":id"?null:de,or:te},this._cmp=this._ascending=ze,this._descending=function(oe,ue){return ze(ue,oe)},this._max=function(oe,ue){return 0<ze(oe,ue)?oe:ue},this._min=function(oe,ue){return ze(oe,ue)<0?oe:ue},this._IDBKeyRange=Y._deps.IDBKeyRange,!this._IDBKeyRange)throw new De.MissingAPI})),this.on("versionchange",function(W){0<W.newVersion?console.warn("Another connection wants to upgrade database '".concat(_.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(_.name,"'. Closing db now to resume the delete request.")),_.close({disableAutoOpen:!1})}),this.on("blocked",function(W){!W.newVersion||W.newVersion<W.oldVersion?console.warn("Dexie.delete('".concat(_.name,"') was blocked")):console.warn("Upgrade '".concat(_.name,"' blocked by other connection holding version ").concat(W.oldVersion/10))}),this._maxKey=Ht(v.IDBKeyRange),this._createTransaction=function(W,de,te,oe){return new _.Transaction(W,de,te,_._options.chromeTransactionDurability,oe)},this._fireOnBlocked=function(W){_.on("blocked").fire(W),hr.filter(function(de){return de.name===_.name&&de!==_&&!de._state.vcFired}).map(function(de){return de.on("versionchange").fire(W)})},this.use(Ja),this.use(yi),this.use(mA),this.use(Xo),this.use(vo);var re=new Proxy(this,{get:function(W,de,te){if(de==="_vip")return!0;if(de==="table")return function(ue){return Bi(_.table(ue),re)};var oe=Reflect.get(W,de,te);return oe instanceof IA?Bi(oe,re):de==="tables"?oe.map(function(ue){return Bi(ue,re)}):de==="_createTransaction"?function(){return Bi(oe.apply(this,arguments),re)}:oe}});this.vip=re,U.forEach(function(W){return W(_)})}var vA,Fn=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",na=(_i.prototype.subscribe=function(h,v,_){return this._subscribe(h&&typeof h!="function"?h:{next:h,error:v,complete:_})},_i.prototype[Fn]=function(){return this},_i);function _i(h){this._subscribe=h}try{vA={indexedDB:u.indexedDB||u.mozIndexedDB||u.webkitIndexedDB||u.msIndexedDB,IDBKeyRange:u.IDBKeyRange||u.webkitIDBKeyRange}}catch{vA={indexedDB:null,IDBKeyRange:null}}function Ci(h){var v,_=!1,U=new na(function(E){var k=D(h),H,z=!1,Y={},ne={},re={get closed(){return z},unsubscribe:function(){z||(z=!0,H&&H.abort(),W&&On.storagemutated.unsubscribe(te))}};E.start&&E.start(re);var W=!1,de=function(){return Ni(oe)},te=function(ue){Cs(Y,ue),Zi(ne,Y)&&de()},oe=function(){var ue,ae,ce;!z&&vA.indexedDB&&(Y={},ue={},H&&H.abort(),H=new AbortController,ce=(function(ye){var _e=ar();try{k&&ur();var Ce=ZA(h,ye);return Ce=k?Ce.finally(En):Ce}finally{_e&&$A()}})(ae={subscr:ue,signal:H.signal,requery:de,querier:h,trans:null}),Promise.resolve(ce).then(function(ye){_=!0,v=ye,z||ae.signal.aborted||(Y={},(function(_e){for(var Ce in _e)if(b(_e,Ce))return;return 1})(ne=ue)||W||(On(St,te),W=!0),Ni(function(){return!z&&E.next&&E.next(ye)}))},function(ye){_=!1,["DatabaseClosedError","AbortError"].includes(ye?.name)||z||Ni(function(){z||E.error&&E.error(ye)})}))};return setTimeout(de,0),re});return U.hasValue=function(){return _},U.getValue=function(){return v},U}var rn=mn;function Bo(h){var v=yr;try{yr=!0,On.storagemutated.fire(h),YA(h,!0)}finally{yr=v}}F(rn,i(i({},fA),{delete:function(h){return new rn(h,{addons:[]}).delete()},exists:function(h){return new rn(h,{addons:[]}).open().then(function(v){return v.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(h){try{return v=rn.dependencies,_=v.indexedDB,v=v.IDBKeyRange,($i(_)?Promise.resolve(_.databases()).then(function(U){return U.map(function(E){return E.name}).filter(function(E){return E!==ji})}):Dn(_,v).toCollection().primaryKeys()).then(h)}catch{return Zt(new De.MissingAPI)}var v,_},defineClass:function(){return function(h){m(this,h)}},ignoreTransaction:function(h){return rt.trans?dr(rt.transless,h):h()},vip:wr,async:function(h){return function(){try{var v=Rn(h.apply(this,arguments));return v&&typeof v.then=="function"?v:Ge.resolve(v)}catch(_){return Zt(_)}}},spawn:function(h,v,_){try{var U=Rn(h.apply(_,v||[]));return U&&typeof U.then=="function"?U:Ge.resolve(U)}catch(E){return Zt(E)}},currentTransaction:{get:function(){return rt.trans||null}},waitFor:function(h,v){return v=Ge.resolve(typeof h=="function"?rn.ignoreTransaction(h):h).timeout(v||6e4),rt.trans?rt.trans.waitFor(v):v},Promise:Ge,debug:{get:function(){return fn},set:function(h){Pi(h)}},derive:N,extend:m,props:F,override:J,Events:dt,on:On,liveQuery:Ci,extendObservabilitySet:Cs,getByKeyPath:q,setByKeyPath:xe,delByKeyPath:function(h,v){typeof v=="string"?xe(h,v,void 0):"length"in v&&[].map.call(v,function(_){xe(h,_,void 0)})},shallowClone:X,deepClone:Ze,getObjectDiff:bs,cmp:ze,asap:$,minKey:-1/0,addons:[],connections:hr,errnames:At,dependencies:vA,cache:Gr,semVer:"4.2.0",version:"4.2.0".split(".").map(function(h){return parseInt(h)}).reduce(function(h,v,_){return h+v/Math.pow(10,2*_)})})),rn.maxKey=Ht(rn.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(On(St,function(h){yr||(h=new CustomEvent(Ri,{detail:h}),yr=!0,dispatchEvent(h),yr=!1)}),addEventListener(Ri,function(h){h=h.detail,yr||Bo(h)}));var Mn,yr=!1,wA=function(){};return typeof BroadcastChannel<"u"&&((wA=function(){(Mn=new BroadcastChannel(Ri)).onmessage=function(h){return h.data&&Bo(h.data)}})(),typeof Mn.unref=="function"&&Mn.unref(),On(St,function(h){yr||Mn.postMessage(h)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(h){if(!mn.disableBfCache&&h.persisted){fn&&console.debug("Dexie: handling persisted pagehide"),Mn?.close();for(var v=0,_=hr;v<_.length;v++)_[v].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(h){!mn.disableBfCache&&h.persisted&&(fn&&console.debug("Dexie: handling persisted pageshow"),wA(),Bo({all:new cn(-1/0,[[]])}))})),Ge.rejectionMapper=function(h,v){return!h||h instanceof Ie||h instanceof TypeError||h instanceof SyntaxError||!h.name||!Ot[h.name]?h:(v=new Ot[h.name](v||h.message,h),"stack"in h&&P(v,"stack",{get:function(){return this.inner.stack}}),v)},Pi(fn),i(mn,Object.freeze({__proto__:null,Dexie:mn,liveQuery:Ci,Entity:fi,cmp:ze,PropModification:Zn,replacePrefix:function(h,v){return new Zn({replacePrefix:[h,v]})},add:function(h){return new Zn({add:h})},remove:function(h){return new Zn({remove:h})},default:mn,RangeSet:cn,mergeRanges:Kr,rangesOverlap:Zo}),{default:mn}),mn})})(mc)),mc.exports}var V0=K0();const Af=Vl(V0),um=Symbol.for("Dexie"),Fc=globalThis[um]||(globalThis[um]=Af);if(Af.semVer!==Fc.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Af.semVer} and ${Fc.semVer}`);const{liveQuery:Aw,mergeRanges:n1,rangesOverlap:A1,RangeSet:r1,cmp:i1,Entity:s1,PropModification:o1,replacePrefix:a1,add:l1,remove:u1,DexieYProvider:c1}=Fc;class G0 extends Fc{jobs;notes;photos;measurements;calcResults;chemProducts;chemLabels;outbox;tracks;waterQuality;checklists;audioNotes;timeEntries;tasks;fishSessions;fishCounts;fishRuns;fishStops;chemRefs;profiles;jobLogs;acreage;depthPoints;ponds;miscPoints;addressBank;constructor(){super("tpm_field_db"),this.version(1).stores({jobs:"id, clientName, createdAt, updatedAt",notes:"id, jobId, createdAt",photos:"id, jobId, createdAt",measurements:"id, jobId, createdAt",calcResults:"id, jobId, createdAt",chemProducts:"id, brand, active",outbox:"id, type, op, createdAt"}),this.version(2).stores({chemLabels:"id, productId, createdAt"}),this.version(3).stores({jobs:"id, clientName, createdAt, updatedAt, createdBy"}),this.version(4).stores({tracks:"id, jobId, createdAt",waterQuality:"id, jobId, createdAt, kind",checklists:"id, jobId, createdAt, kind"}),this.version(5).stores({audioNotes:"id, jobId, createdAt"}),this.version(6).stores({timeEntries:"id, jobId, date",tasks:"id, jobId, createdAt, done",fishSessions:"id, jobId, startedAt, endedAt",fishCounts:"id, sessionId, species"}),this.version(7).stores({chemRefs:"id, name"}),this.version(8).stores({profiles:"id"}),this.version(9).stores({jobLogs:"id, jobId, ts, kind"}),this.version(10).stores({acreage:"id, createdAt"}),this.version(11).stores({depthPoints:"id, jobId, createdAt"}),this.version(12).stores({ponds:"id, jobId, createdAt"}),this.version(13).stores({miscPoints:"id, jobId, createdAt"}),this.version(14).stores({fishRuns:"id, createdAt",fishStops:"id, runId, seq"}),this.version(15).stores({addressBank:"id, clientName, address"})}}const pe=new G0,Xf="vplm_backup_history",rw="vplm_backup_latest";let mh=null;function $t(n){typeof window>"u"||(mh&&clearTimeout(mh),mh=window.setTimeout(()=>{cw(`auto:${n}`).catch(e=>console.warn("Backup snapshot failed",e))},1500))}async function cm(n){await pe.notes.put(n),await zl({id:n.id,type:"note",op:"create",payload:n,createdAt:n.createdAt})}async function iw(n){await pe.photos.put(n),await zl({id:n.id,type:"photo",op:"create",payload:n,createdAt:n.createdAt})}async function z0(n){await pe.measurements.put(n),await zl({id:n.id,type:"measurement",op:"create",payload:n,createdAt:n.createdAt})}async function zl(n){await pe.outbox.put(n),$t(`outbox:${n.type}`)}async function W0(n){await pe.jobs.put(n),await zl({id:n.id,type:"job",op:"create",payload:n,createdAt:n.createdAt})}async function $0(n,e){const t=e.updatedAt||new Date().toISOString();await pe.jobs.update(n,{...e,updatedAt:t})}async function sw(n){await pe.chemProducts.put(n)}async function Z0(n){await pe.chemLabels.put(n)}async function J0(){const[n,e,t,i,o,u,d,g]=await Promise.all([pe.jobs.toArray(),pe.notes.toArray(),pe.photos.toArray(),pe.measurements.toArray(),pe.calcResults.toArray(),pe.chemProducts.toArray(),pe.chemLabels?.toArray?.()??Promise.resolve([]),pe.outbox.toArray()]);return{jobs:n,notes:e,photos:t,measurements:i,calcResults:o,chemProducts:u,chemLabels:d,outbox:g}}async function q0(n){await pe.waterQuality.put(n),await zl({id:n.id,type:"job",op:"update",payload:{waterQuality:!0,jobId:n.jobId},createdAt:n.createdAt}),$t("waterQuality:save")}async function X0(n){await pe.checklists.put(n),$t("checklist:save")}async function ow(n){const{blob:e,data:t,mimeType:i,...o}=n;let u;e?u=new Uint8Array(await e.arrayBuffer()):t instanceof Uint8Array?u=new Uint8Array(t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)):t instanceof ArrayBuffer&&(u=new Uint8Array(t));const d={...o,mimeType:i||e?.type||"audio/webm",...u?{data:u}:{}};await pe.audioNotes.put(d),$t("audioNote:save")}async function dm(n,e){await pe.audioNotes.update(n,e),$t("audioNote:update")}async function Y0(n){await pe.fishRuns.put(n),$t("fishRun:save")}async function vc(){return pe.fishRuns.orderBy("createdAt").reverse().toArray()}async function e_(n){await pe.fishStops.where("runId").equals(n).delete(),await pe.fishRuns.delete(n),$t("fishRun:delete")}async function t_(n){await pe.fishStops.put(n),$t("fishStop:add")}async function hm(n,e){await pe.fishStops.update(n,e),$t("fishStop:update")}async function wa(n){return pe.fishStops.where("runId").equals(n).sortBy("seq")}async function hn(n,e,t,i){const o={id:crypto.randomUUID(),jobId:n,ts:new Date().toISOString(),kind:e,message:t,actor:i};await pe.jobLogs.put(o),$t("jobLog:save")}async function n_(n){return pe.jobLogs.where("jobId").equals(n).reverse().sortBy("ts")}function _n(){try{return localStorage.getItem("defaultEmployee")||void 0}catch{return}}async function A_(n){await pe.acreage.put(n),$t("acreage:save")}async function vh(){return pe.acreage.orderBy("createdAt").reverse().toArray()}async function fm(n){return pe.acreage.get(n)}async function r_(n){await pe.depthPoints.put(n),$t("depth:add")}async function wh(n){return pe.depthPoints.where("jobId").equals(n).toArray()}async function i_(n){await pe.depthPoints.delete(n),$t("depth:delete")}async function s_(n){await pe.ponds.put(n),$t("pond:save")}async function Ru(n){return pe.ponds.where("jobId").equals(n).toArray()}async function o_(n){await pe.ponds.delete(n),$t("pond:delete")}async function a_(n){await pe.addressBank.put(n),$t("addressBank:save")}async function l_(n){await pe.addressBank.delete(n),$t("addressBank:delete")}async function u_(n){await pe.miscPoints.put(n),$t("misc:add")}async function yh(n){return pe.miscPoints.where("jobId").equals(n).toArray()}async function c_(n){await pe.miscPoints.delete(n),$t("misc:delete")}async function wc(n){return pe.timeEntries.where("jobId").equals(n).sortBy("arrivalAt")}async function aw(n,e){const t=new Date().toISOString();if(await pe.timeEntries.where("jobId").equals(n).filter(u=>!u.departureAt).first())throw new Error("Already clocked in for this job. Clock out before starting another entry.");const o={id:crypto.randomUUID(),jobId:n,date:e,arrivalAt:t};return await pe.timeEntries.put(o),$t("time:start"),o}async function lw(n){const e=new Date().toISOString(),t=await pe.timeEntries.where("jobId").equals(n).filter(o=>!o.departureAt).last();if(!t)throw new Error("No active clock-in found for this job.");const i={...t,departureAt:e};return await pe.timeEntries.put(i),$t("time:stop"),i}async function d_(n){await pe.tasks.put(n),$t("task:add")}async function h_(n,e){await pe.tasks.update(n,{done:e}),$t("task:update")}async function Mu(n){return pe.tasks.where("jobId").equals(n).toArray()}async function f_(n){await pe.tasks.delete(n),$t("task:delete")}async function p_(n){const e={id:crypto.randomUUID(),jobId:n,startedAt:new Date().toISOString()};return await pe.fishSessions.put(e),e}async function g_(n){await pe.fishSessions.update(n,{endedAt:new Date().toISOString()})}async function m_(n,e,t){const i=await pe.fishCounts.where({sessionId:n,species:e}).first();i?await pe.fishCounts.update(i.id,{count:Math.max(0,i.count+t)}):await pe.fishCounts.put({id:crypto.randomUUID(),sessionId:n,species:e,count:Math.max(0,t)})}async function v_(n){return pe.fishCounts.where("sessionId").equals(n).toArray()}async function uw(n){await pe.chemRefs.put(n),$t("chemRef:save")}async function rf(){return pe.chemRefs.toArray()}async function w_(n){await pe.profiles.put(n),$t("profile:save")}async function y_(n="me"){return pe.profiles.get(n)}async function cw(n){const e=typeof localStorage>"u"?null:localStorage,t=await __(),i={id:typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():`${Date.now()}`,createdAt:new Date().toISOString(),reason:n,data:t};if(e)try{const o=yc(),u=[i,...o];u.length>20&&(u.length=20),e.setItem(Xf,JSON.stringify(u)),e.setItem(rw,JSON.stringify(i))}catch(o){console.warn("Unable to persist backup history",o)}return i}function yc(){if(typeof localStorage>"u")return[];try{const n=localStorage.getItem(Xf);if(!n)return[];const e=JSON.parse(n);if(Array.isArray(e))return e}catch(n){console.warn("Unable to read backup history",n)}return[]}function B_(){if(!(typeof localStorage>"u"))try{localStorage.removeItem(Xf),localStorage.removeItem(rw)}catch(n){console.warn("Unable to clear backup history",n)}}async function __(){const[n,e,t,i,o,u,d,g,m,B,C]=await Promise.all([pe.jobs.toArray(),pe.notes.toArray(),pe.audioNotes.toArray(),pe.photos.toArray(),pe.measurements.toArray(),pe.timeEntries.toArray(),pe.tasks.toArray(),pe.fishRuns.toArray(),pe.fishStops.toArray(),pe.addressBank.toArray(),pe.outbox.toArray()]),b=await Promise.all(t.map(async j=>{const{blob:P,data:N,...G}=j;let O=null;try{if(N)O=pm(N instanceof Uint8Array?N:new Uint8Array(N));else if(P){const R=new Uint8Array(await P.arrayBuffer());O=pm(R)}}catch(R){console.warn("Failed to encode audio note backup",R)}return{...G,audioBase64:O}})),F=i.map(({blob:j,...P})=>({...P,hasBlob:!!j}));return{jobs:n,notes:e,audioNotes:b,photos:F,measurements:o,timeEntries:u,tasks:d,fishRuns:g,fishStops:m,addressBank:B,outbox:C}}function pm(n){const e=n instanceof Uint8Array?n:new Uint8Array(n);let t="";const i=32768;for(let o=0;o<e.length;o+=i){const u=e.subarray(o,o+i);t+=String.fromCharCode(...u)}return typeof btoa=="function"?btoa(t):typeof Buffer<"u"?Buffer.from(e).toString("base64"):""}const C_="http://127.0.0.1:3333",dw=C_.replace(/\/$/,""),sf=!!dw;function x_(){try{return localStorage.getItem("auth_token")}catch{return null}}async function of(n,e={}){if(!sf)throw new Error("Remote API is not configured");const t={"Content-Type":"application/json",...e.headers},i=x_();i&&(t.Authorization=`Bearer ${i}`);const o=await fetch(`${dw}${n}`,{...e,headers:t});if(!o.ok){let d=o.statusText;try{d=(await o.json()).error||d}catch{}throw new Error(d)}return(o.headers.get("Content-Type")||"").includes("application/json")?o.json():o.text()}const af="users_local";function Wl(){try{const e=localStorage.getItem(af);if(e)return JSON.parse(e)}catch{}const n=[{id:"dev-local-8303072466",phone:"8303072466",name:"Developer 1",role:"developer",password:"Bman200four!"},{id:"dev-local-8303078689",phone:"8303078689",name:"Developer 2",role:"developer",password:"BR@DTH@30$$"}];try{localStorage.setItem(af,JSON.stringify(n))}catch{}return n}function hw(n){try{localStorage.setItem(af,JSON.stringify(n))}catch{}}function Bc(){return Wl()}function b_(n){return Wl().find(e=>String(e.phone)===String(n))}function Q_(n){const e=Wl();let t=e.find(i=>i.phone===n.phone);return t?(t.name=n.name??t.name,t.role=n.role||t.role,t.password=n.password||t.password):(t={id:crypto.randomUUID(),phone:n.phone,name:n.name,role:n.role||"user",password:n.password},e.push(t)),hw(e),t}function U_(n){const e=Wl().filter(t=>t.id!==n);hw(e)}function E_(n,e){return Wl().find(o=>String(o.phone)===String(n)&&String(o.password||"")===String(e))||null}const lf="mapbox_access_token";function fw(){try{return localStorage.getItem(lf)}catch{return null}}function F_(n){try{n?localStorage.setItem(lf,n):localStorage.removeItem(lf)}catch{}}const S_={headers:{Accept:"application/json","User-Agent":"VPLM Portal (autocomplete)"}};async function I_(n){const e=n.trim();if(!e)return[];const t=fw();if(t)try{const i=new URL(`https://api.mapbox.com/geocoding/v5/mapbox.places/${encodeURIComponent(e)}.json`);i.searchParams.set("autocomplete","true"),i.searchParams.set("limit","6"),i.searchParams.set("types","address,place,poi"),i.searchParams.set("access_token",t);const o=await fetch(i.toString());if(!o.ok)throw new Error(`Mapbox error: ${o.status}`);const u=await o.json();if(u&&Array.isArray(u.features))return u.features.map(d=>{const g=d.context||[],m=C=>{const b=g.find(F=>typeof F.id=="string"&&F.id.startsWith(C));return b?.text||b?.short_code||void 0},B=d.properties||{};return{id:String(d.id||d.place_name),label:d.place_name||d.text,addressLine:d.text||d.place_name,city:B.place||m("place"),region:B.region||m("region"),postalCode:B.postcode||m("postcode"),country:B.country||m("country"),lat:typeof d.center?.[1]=="number"?d.center[1]:d.geometry?.coordinates?.[1],lon:typeof d.center?.[0]=="number"?d.center[0]:d.geometry?.coordinates?.[0],source:"mapbox"}})}catch(i){console.warn("Mapbox autocomplete fallback",i)}try{const i=new URL("https://nominatim.openstreetmap.org/search");i.searchParams.set("format","jsonv2"),i.searchParams.set("addressdetails","1"),i.searchParams.set("limit","6"),i.searchParams.set("q",e);const o=await fetch(i.toString(),S_);if(!o.ok)throw new Error(`Nominatim error: ${o.status}`);const u=await o.json();if(Array.isArray(u))return u.map(d=>{const g=d.address||{};return{id:String(d.place_id||d.osm_id||d.display_name),label:d.display_name,addressLine:d.display_name,city:g.city||g.town||g.village,region:g.state,postalCode:g.postcode,country:g.country,lat:d.lat?Number(d.lat):void 0,lon:d.lon?Number(d.lon):void 0,source:"osm"}})}catch(i){console.warn("OSM autocomplete failed",i)}return[]}function $l({id:n,label:e,value:t,placeholder:i,required:o,disabled:u,autoFocus:d,helpText:g,onChange:m,onSelect:B,onEnter:C}){const[b,F]=S.useState(!1),[j,P]=S.useState(!1),[N,G]=S.useState([]),[O,R]=S.useState(-1),J=S.useRef(null),M=S.useRef(0),$=S.useRef(new Map),q=S.useRef(!1);S.useEffect(()=>{const Ae=ve=>{J.current&&(J.current.contains(ve.target)||F(!1))};return document.addEventListener("mousedown",Ae),()=>document.removeEventListener("mousedown",Ae)},[]),S.useEffect(()=>{const Ae=t.trim();if(!Ae){G([]),F(!1);return}if(q.current){q.current=!1;return}if(Ae.length<3){G([]),F(!1);return}const ve=Ae.toLowerCase(),Ee=$.current.get(ve);if(Ee&&Date.now()-Ee.ts<300*1e3){G(Ee.data),F(Ee.data.length>0),R(Ee.data.length>0?0:-1),P(!1);return}const qe=++M.current;P(!0);const Ze=setTimeout(async()=>{try{const be=await I_(Ae);M.current===qe&&(G(be),F(be.length>0),R(be.length>0?0:-1),$.current.set(ve,{ts:Date.now(),data:be}))}finally{M.current===qe&&P(!1)}},350);return()=>clearTimeout(Ze)},[t]);function xe(Ae){m(Ae.label),B?.(Ae),G([]),F(!1),R(-1),q.current=!0}function X(Ae){!b||N.length===0||(Ae.key==="ArrowDown"?(Ae.preventDefault(),R(ve=>(ve+1)%N.length)):Ae.key==="ArrowUp"?(Ae.preventDefault(),R(ve=>(ve-1+N.length)%N.length)):Ae.key==="Enter"?O>=0&&N[O]?(Ae.preventDefault(),xe(N[O])):C&&(Ae.preventDefault(),C()):Ae.key==="Escape"&&F(!1))}return c.jsxs("div",{ref:J,className:"autocomplete",children:[e?c.jsxs("label",{className:"label",htmlFor:n,children:[e,o?c.jsx("span",{"aria-hidden":!0,style:{color:"var(--danger)",marginLeft:2},children:"*"}):null]}):null,c.jsxs("div",{className:"autocomplete__control",children:[c.jsx("input",{id:n,className:"input",autoFocus:d,placeholder:i,required:o,disabled:u,value:t,onChange:Ae=>m(Ae.target.value),onFocus:()=>{N.length>0&&F(!0)},onKeyDown:X}),j&&c.jsx("span",{className:"autocomplete__spinner","aria-hidden":!0})]}),g&&c.jsx("small",{className:"muted",children:g}),b&&N.length>0&&c.jsx("ul",{className:"autocomplete__list",role:"listbox",children:N.map((Ae,ve)=>c.jsxs("li",{role:"option","aria-selected":ve===O,className:ve===O?"active":"",onMouseDown:Ee=>{Ee.preventDefault(),xe(Ae)},onMouseEnter:()=>R(ve),children:[c.jsx("strong",{children:Ae.addressLine}),c.jsx("div",{className:"muted",style:{fontSize:12},children:Ae.label})]},Ae.id))})]})}function L_({onCreated:n}){const[e,t]=S.useState(""),[i,o]=S.useState(""),[u,d]=S.useState(""),[g,m]=S.useState(""),[B,C]=S.useState(""),[b,F]=S.useState(""),[j,P]=S.useState(""),[N,G]=S.useState([]),[O,R]=S.useState([]),[J,M]=S.useState([]),[$,q]=S.useState(null);S.useEffect(()=>{const se=localStorage.getItem("defaultEmployee");se&&P(se),of("/users").then(Qe=>{G(Qe.users||[])}).catch(()=>{G(Bc())}),(async()=>{try{const Qe=await pe.jobs.toArray(),ge=new Set,Pe=new Set;Qe.forEach(K=>{K.city&&ge.add(K.city),K.county&&Pe.add(K.county)}),R(Array.from(ge).sort()),M(Array.from(Pe).sort())}catch{}})()},[]);const[xe,X]=S.useState(!1),[Ae,ve]=S.useState(""),[Ee,qe]=S.useState(!1);function Ze(se){d(se),q(null)}function be(se){d(se.label),q({lat:se.lat,lon:se.lon}),!g&&se.city&&m(se.city),!b&&se.postalCode&&F(se.postalCode)}async function et(se){if(se.preventDefault(),!!e.trim()){qe(!0);try{const Qe=crypto.randomUUID(),ge=new Date().toISOString();let Pe,K;if(xe&&"geolocation"in navigator)try{const D=await new Promise((le,Ie)=>{navigator.geolocation.getCurrentPosition(le,Ie,{enableHighAccuracy:!0,timeout:1e4})});Pe=D.coords.latitude,K=D.coords.longitude,ve("Location captured.")}catch{ve("Could not capture location. Ensure you are on site and allow location access.")}else $?.lat!=null&&$?.lon!=null&&(Pe=$.lat,K=$.lon);await W0({id:Qe,clientName:e,siteName:i,address:u,city:g||void 0,county:B||void 0,zip:b||void 0,lat:Pe,lon:K,createdBy:j||void 0,createdAt:ge,updatedAt:ge}),t(""),o(""),d(""),q(null),m(""),C(""),F(""),P(""),n(Qe)}finally{qe(!1)}}}return c.jsxs("form",{onSubmit:et,style:{display:"grid",gap:10,maxWidth:760,gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))"},children:[c.jsxs("label",{className:"label",children:["Client Name",c.jsx("input",{className:"input",value:e,onChange:se=>t(se.target.value),required:!0})]}),c.jsxs("label",{className:"label",children:["Site Name",c.jsx("input",{className:"input",value:i,onChange:se=>o(se.target.value)})]}),c.jsx("div",{style:{gridColumn:"1 / -1"},children:c.jsx($l,{id:"job-address",label:"Address",value:u,onChange:Ze,onSelect:be,placeholder:"Start typing an address"})}),c.jsxs("label",{className:"label",children:["City",c.jsx("input",{className:"input",list:"cities-list",value:g,onChange:se=>m(se.target.value)}),c.jsx("datalist",{id:"cities-list",children:O.map(se=>c.jsx("option",{value:se},se))})]}),c.jsxs("label",{className:"label",children:["County",c.jsx("input",{className:"input",list:"counties-list",value:B,onChange:se=>C(se.target.value)}),c.jsx("datalist",{id:"counties-list",children:J.map(se=>c.jsx("option",{value:se},se))})]}),c.jsxs("label",{className:"label",children:["Zip",c.jsx("input",{className:"input",value:b,onChange:se=>F(se.target.value),pattern:"^\\d{5}(?:-\\d{4})?$",title:"Enter 5-digit ZIP or ZIP+4"})]}),c.jsxs("label",{className:"label",style:{gridColumn:"1 / -1"},children:["Employee Name",c.jsx("input",{list:"employees-list",value:j,onChange:se=>P(se.target.value),placeholder:"Your name"}),c.jsx("datalist",{id:"employees-list",children:N.map(se=>c.jsx("option",{value:se.name||se.phone},se.id))})]}),c.jsxs("label",{style:{display:"flex",gap:8,alignItems:"center"},children:[c.jsx("input",{type:"checkbox",checked:xe,onChange:se=>X(se.target.checked)}),"Store current location (must be on site and allow location access)"]}),Ae&&c.jsx("small",{style:{color:"#555"},children:Ae}),c.jsx("div",{style:{gridColumn:"1 / -1"},children:c.jsx("button",{className:"btn",type:"submit",disabled:Ee,children:Ee?"Creating...":"Create Job"})})]})}function pw({items:n}){const e=S.useId();return c.jsx("div",{className:"accordion",children:n.map((t,i)=>c.jsx(k_,{base:e,index:i,item:t},i))})}function k_({base:n,index:e,item:t}){const[i,o]=S.useState(!!t.startOpen),u=`${n}-panel-${e}`,d=`${n}-btn-${e}`,g=t.accent?`accent-${t.accent}`:"accent-green",m=S.useRef(null),B=S.useRef(null);return S.useEffect(()=>{if(i){const C=m.current;requestAnimationFrame(()=>{try{C?.dispatchEvent(new CustomEvent("accordion:open",{bubbles:!0}))}catch{}try{B.current?.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}catch{}})}},[i]),c.jsxs("section",{ref:B,className:`accordion-item ${g}`,children:[c.jsxs("button",{id:d,className:"accordion-button","aria-expanded":i,"aria-controls":u,onClick:()=>o(C=>!C),children:[c.jsx("span",{children:t.label}),c.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,children:c.jsx("path",{d:"M6 9l6 6 6-6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),c.jsx("div",{ref:m,id:u,role:"region","aria-labelledby":d,hidden:!i,className:"accordion-panel",children:t.content})]})}var Bl={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var T_=Bl.exports,gm;function P_(){return gm||(gm=1,(function(n,e){(function(t,i){i(e)})(T_,(function(t){var i="1.9.4";function o(r){var a,f,w,Q;for(f=1,w=arguments.length;f<w;f++){Q=arguments[f];for(a in Q)r[a]=Q[a]}return r}var u=Object.create||(function(){function r(){}return function(a){return r.prototype=a,new r}})();function d(r,a){var f=Array.prototype.slice;if(r.bind)return r.bind.apply(r,f.call(arguments,1));var w=f.call(arguments,2);return function(){return r.apply(a,w.length?w.concat(f.call(arguments)):arguments)}}var g=0;function m(r){return"_leaflet_id"in r||(r._leaflet_id=++g),r._leaflet_id}function B(r,a,f){var w,Q,T,Z;return Z=function(){w=!1,Q&&(T.apply(f,Q),Q=!1)},T=function(){w?Q=arguments:(r.apply(f,arguments),setTimeout(Z,a),w=!0)},T}function C(r,a,f){var w=a[1],Q=a[0],T=w-Q;return r===w&&f?r:((r-Q)%T+T)%T+Q}function b(){return!1}function F(r,a){if(a===!1)return r;var f=Math.pow(10,a===void 0?6:a);return Math.round(r*f)/f}function j(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function P(r){return j(r).split(/\s+/)}function N(r,a){Object.prototype.hasOwnProperty.call(r,"options")||(r.options=r.options?u(r.options):{});for(var f in a)r.options[f]=a[f];return r.options}function G(r,a,f){var w=[];for(var Q in r)w.push(encodeURIComponent(f?Q.toUpperCase():Q)+"="+encodeURIComponent(r[Q]));return(!a||a.indexOf("?")===-1?"?":"&")+w.join("&")}var O=/\{ *([\w_ -]+) *\}/g;function R(r,a){return r.replace(O,function(f,w){var Q=a[w];if(Q===void 0)throw new Error("No value provided for variable "+f);return typeof Q=="function"&&(Q=Q(a)),Q})}var J=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};function M(r,a){for(var f=0;f<r.length;f++)if(r[f]===a)return f;return-1}var $="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function q(r){return window["webkit"+r]||window["moz"+r]||window["ms"+r]}var xe=0;function X(r){var a=+new Date,f=Math.max(0,16-(a-xe));return xe=a+f,window.setTimeout(r,f)}var Ae=window.requestAnimationFrame||q("RequestAnimationFrame")||X,ve=window.cancelAnimationFrame||q("CancelAnimationFrame")||q("CancelRequestAnimationFrame")||function(r){window.clearTimeout(r)};function Ee(r,a,f){if(f&&Ae===X)r.call(a);else return Ae.call(window,d(r,a))}function qe(r){r&&ve.call(window,r)}var Ze={__proto__:null,extend:o,create:u,bind:d,get lastId(){return g},stamp:m,throttle:B,wrapNum:C,falseFn:b,formatNum:F,trim:j,splitWords:P,setOptions:N,getParamString:G,template:R,isArray:J,indexOf:M,emptyImageUrl:$,requestFn:Ae,cancelFn:ve,requestAnimFrame:Ee,cancelAnimFrame:qe};function be(){}be.extend=function(r){var a=function(){N(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},f=a.__super__=this.prototype,w=u(f);w.constructor=a,a.prototype=w;for(var Q in this)Object.prototype.hasOwnProperty.call(this,Q)&&Q!=="prototype"&&Q!=="__super__"&&(a[Q]=this[Q]);return r.statics&&o(a,r.statics),r.includes&&(et(r.includes),o.apply(null,[w].concat(r.includes))),o(w,r),delete w.statics,delete w.includes,w.options&&(w.options=f.options?u(f.options):{},o(w.options,r.options)),w._initHooks=[],w.callInitHooks=function(){if(!this._initHooksCalled){f.callInitHooks&&f.callInitHooks.call(this),this._initHooksCalled=!0;for(var T=0,Z=w._initHooks.length;T<Z;T++)w._initHooks[T].call(this)}},a},be.include=function(r){var a=this.prototype.options;return o(this.prototype,r),r.options&&(this.prototype.options=a,this.mergeOptions(r.options)),this},be.mergeOptions=function(r){return o(this.prototype.options,r),this},be.addInitHook=function(r){var a=Array.prototype.slice.call(arguments,1),f=typeof r=="function"?r:function(){this[r].apply(this,a)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(f),this};function et(r){if(!(typeof L>"u"||!L||!L.Mixin)){r=J(r)?r:[r];for(var a=0;a<r.length;a++)r[a]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var se={on:function(r,a,f){if(typeof r=="object")for(var w in r)this._on(w,r[w],a);else{r=P(r);for(var Q=0,T=r.length;Q<T;Q++)this._on(r[Q],a,f)}return this},off:function(r,a,f){if(!arguments.length)delete this._events;else if(typeof r=="object")for(var w in r)this._off(w,r[w],a);else{r=P(r);for(var Q=arguments.length===1,T=0,Z=r.length;T<Z;T++)Q?this._off(r[T]):this._off(r[T],a,f)}return this},_on:function(r,a,f,w){if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}if(this._listens(r,a,f)===!1){f===this&&(f=void 0);var Q={fn:a,ctx:f};w&&(Q.once=!0),this._events=this._events||{},this._events[r]=this._events[r]||[],this._events[r].push(Q)}},_off:function(r,a,f){var w,Q,T;if(this._events&&(w=this._events[r],!!w)){if(arguments.length===1){if(this._firingCount)for(Q=0,T=w.length;Q<T;Q++)w[Q].fn=b;delete this._events[r];return}if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}var Z=this._listens(r,a,f);if(Z!==!1){var he=w[Z];this._firingCount&&(he.fn=b,this._events[r]=w=w.slice()),w.splice(Z,1)}}},fire:function(r,a,f){if(!this.listens(r,f))return this;var w=o({},a,{type:r,target:this,sourceTarget:a&&a.sourceTarget||this});if(this._events){var Q=this._events[r];if(Q){this._firingCount=this._firingCount+1||1;for(var T=0,Z=Q.length;T<Z;T++){var he=Q[T],we=he.fn;he.once&&this.off(r,we,he.ctx),we.call(he.ctx||this,w)}this._firingCount--}}return f&&this._propagateEvent(w),this},listens:function(r,a,f,w){typeof r!="string"&&console.warn('"string" type argument expected');var Q=a;typeof a!="function"&&(w=!!a,Q=void 0,f=void 0);var T=this._events&&this._events[r];if(T&&T.length&&this._listens(r,Q,f)!==!1)return!0;if(w){for(var Z in this._eventParents)if(this._eventParents[Z].listens(r,a,f,w))return!0}return!1},_listens:function(r,a,f){if(!this._events)return!1;var w=this._events[r]||[];if(!a)return!!w.length;f===this&&(f=void 0);for(var Q=0,T=w.length;Q<T;Q++)if(w[Q].fn===a&&w[Q].ctx===f)return Q;return!1},once:function(r,a,f){if(typeof r=="object")for(var w in r)this._on(w,r[w],a,!0);else{r=P(r);for(var Q=0,T=r.length;Q<T;Q++)this._on(r[Q],a,f,!0)}return this},addEventParent:function(r){return this._eventParents=this._eventParents||{},this._eventParents[m(r)]=r,this},removeEventParent:function(r){return this._eventParents&&delete this._eventParents[m(r)],this},_propagateEvent:function(r){for(var a in this._eventParents)this._eventParents[a].fire(r.type,o({layer:r.target,propagatedFrom:r.target},r),!0)}};se.addEventListener=se.on,se.removeEventListener=se.clearAllEventListeners=se.off,se.addOneTimeEventListener=se.once,se.fireEvent=se.fire,se.hasEventListeners=se.listens;var Qe=be.extend(se);function ge(r,a,f){this.x=f?Math.round(r):r,this.y=f?Math.round(a):a}var Pe=Math.trunc||function(r){return r>0?Math.floor(r):Math.ceil(r)};ge.prototype={clone:function(){return new ge(this.x,this.y)},add:function(r){return this.clone()._add(K(r))},_add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.clone()._subtract(K(r))},_subtract:function(r){return this.x-=r.x,this.y-=r.y,this},divideBy:function(r){return this.clone()._divideBy(r)},_divideBy:function(r){return this.x/=r,this.y/=r,this},multiplyBy:function(r){return this.clone()._multiplyBy(r)},_multiplyBy:function(r){return this.x*=r,this.y*=r,this},scaleBy:function(r){return new ge(this.x*r.x,this.y*r.y)},unscaleBy:function(r){return new ge(this.x/r.x,this.y/r.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Pe(this.x),this.y=Pe(this.y),this},distanceTo:function(r){r=K(r);var a=r.x-this.x,f=r.y-this.y;return Math.sqrt(a*a+f*f)},equals:function(r){return r=K(r),r.x===this.x&&r.y===this.y},contains:function(r){return r=K(r),Math.abs(r.x)<=Math.abs(this.x)&&Math.abs(r.y)<=Math.abs(this.y)},toString:function(){return"Point("+F(this.x)+", "+F(this.y)+")"}};function K(r,a,f){return r instanceof ge?r:J(r)?new ge(r[0],r[1]):r==null?r:typeof r=="object"&&"x"in r&&"y"in r?new ge(r.x,r.y):new ge(r,a,f)}function D(r,a){if(r)for(var f=a?[r,a]:r,w=0,Q=f.length;w<Q;w++)this.extend(f[w])}D.prototype={extend:function(r){var a,f;if(!r)return this;if(r instanceof ge||typeof r[0]=="number"||"x"in r)a=f=K(r);else if(r=le(r),a=r.min,f=r.max,!a||!f)return this;return!this.min&&!this.max?(this.min=a.clone(),this.max=f.clone()):(this.min.x=Math.min(a.x,this.min.x),this.max.x=Math.max(f.x,this.max.x),this.min.y=Math.min(a.y,this.min.y),this.max.y=Math.max(f.y,this.max.y)),this},getCenter:function(r){return K((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,r)},getBottomLeft:function(){return K(this.min.x,this.max.y)},getTopRight:function(){return K(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(r){var a,f;return typeof r[0]=="number"||r instanceof ge?r=K(r):r=le(r),r instanceof D?(a=r.min,f=r.max):a=f=r,a.x>=this.min.x&&f.x<=this.max.x&&a.y>=this.min.y&&f.y<=this.max.y},intersects:function(r){r=le(r);var a=this.min,f=this.max,w=r.min,Q=r.max,T=Q.x>=a.x&&w.x<=f.x,Z=Q.y>=a.y&&w.y<=f.y;return T&&Z},overlaps:function(r){r=le(r);var a=this.min,f=this.max,w=r.min,Q=r.max,T=Q.x>a.x&&w.x<f.x,Z=Q.y>a.y&&w.y<f.y;return T&&Z},isValid:function(){return!!(this.min&&this.max)},pad:function(r){var a=this.min,f=this.max,w=Math.abs(a.x-f.x)*r,Q=Math.abs(a.y-f.y)*r;return le(K(a.x-w,a.y-Q),K(f.x+w,f.y+Q))},equals:function(r){return r?(r=le(r),this.min.equals(r.getTopLeft())&&this.max.equals(r.getBottomRight())):!1}};function le(r,a){return!r||r instanceof D?r:new D(r,a)}function Ie(r,a){if(r)for(var f=a?[r,a]:r,w=0,Q=f.length;w<Q;w++)this.extend(f[w])}Ie.prototype={extend:function(r){var a=this._southWest,f=this._northEast,w,Q;if(r instanceof Ne)w=r,Q=r;else if(r instanceof Ie){if(w=r._southWest,Q=r._northEast,!w||!Q)return this}else return r?this.extend(Oe(r)||Fe(r)):this;return!a&&!f?(this._southWest=new Ne(w.lat,w.lng),this._northEast=new Ne(Q.lat,Q.lng)):(a.lat=Math.min(w.lat,a.lat),a.lng=Math.min(w.lng,a.lng),f.lat=Math.max(Q.lat,f.lat),f.lng=Math.max(Q.lng,f.lng)),this},pad:function(r){var a=this._southWest,f=this._northEast,w=Math.abs(a.lat-f.lat)*r,Q=Math.abs(a.lng-f.lng)*r;return new Ie(new Ne(a.lat-w,a.lng-Q),new Ne(f.lat+w,f.lng+Q))},getCenter:function(){return new Ne((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Ne(this.getNorth(),this.getWest())},getSouthEast:function(){return new Ne(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(r){typeof r[0]=="number"||r instanceof Ne||"lat"in r?r=Oe(r):r=Fe(r);var a=this._southWest,f=this._northEast,w,Q;return r instanceof Ie?(w=r.getSouthWest(),Q=r.getNorthEast()):w=Q=r,w.lat>=a.lat&&Q.lat<=f.lat&&w.lng>=a.lng&&Q.lng<=f.lng},intersects:function(r){r=Fe(r);var a=this._southWest,f=this._northEast,w=r.getSouthWest(),Q=r.getNorthEast(),T=Q.lat>=a.lat&&w.lat<=f.lat,Z=Q.lng>=a.lng&&w.lng<=f.lng;return T&&Z},overlaps:function(r){r=Fe(r);var a=this._southWest,f=this._northEast,w=r.getSouthWest(),Q=r.getNorthEast(),T=Q.lat>a.lat&&w.lat<f.lat,Z=Q.lng>a.lng&&w.lng<f.lng;return T&&Z},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(r,a){return r?(r=Fe(r),this._southWest.equals(r.getSouthWest(),a)&&this._northEast.equals(r.getNorthEast(),a)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Fe(r,a){return r instanceof Ie?r:new Ie(r,a)}function Ne(r,a,f){if(isNaN(r)||isNaN(a))throw new Error("Invalid LatLng object: ("+r+", "+a+")");this.lat=+r,this.lng=+a,f!==void 0&&(this.alt=+f)}Ne.prototype={equals:function(r,a){if(!r)return!1;r=Oe(r);var f=Math.max(Math.abs(this.lat-r.lat),Math.abs(this.lng-r.lng));return f<=(a===void 0?1e-9:a)},toString:function(r){return"LatLng("+F(this.lat,r)+", "+F(this.lng,r)+")"},distanceTo:function(r){return mt.distance(this,Oe(r))},wrap:function(){return mt.wrapLatLng(this)},toBounds:function(r){var a=180*r/40075017,f=a/Math.cos(Math.PI/180*this.lat);return Fe([this.lat-a,this.lng-f],[this.lat+a,this.lng+f])},clone:function(){return new Ne(this.lat,this.lng,this.alt)}};function Oe(r,a,f){return r instanceof Ne?r:J(r)&&typeof r[0]!="object"?r.length===3?new Ne(r[0],r[1],r[2]):r.length===2?new Ne(r[0],r[1]):null:r==null?r:typeof r=="object"&&"lat"in r?new Ne(r.lat,"lng"in r?r.lng:r.lon,r.alt):a===void 0?null:new Ne(r,a,f)}var At={latLngToPoint:function(r,a){var f=this.projection.project(r),w=this.scale(a);return this.transformation._transform(f,w)},pointToLatLng:function(r,a){var f=this.scale(a),w=this.transformation.untransform(r,f);return this.projection.unproject(w)},project:function(r){return this.projection.project(r)},unproject:function(r){return this.projection.unproject(r)},scale:function(r){return 256*Math.pow(2,r)},zoom:function(r){return Math.log(r/256)/Math.LN2},getProjectedBounds:function(r){if(this.infinite)return null;var a=this.projection.bounds,f=this.scale(r),w=this.transformation.transform(a.min,f),Q=this.transformation.transform(a.max,f);return new D(w,Q)},infinite:!1,wrapLatLng:function(r){var a=this.wrapLng?C(r.lng,this.wrapLng,!0):r.lng,f=this.wrapLat?C(r.lat,this.wrapLat,!0):r.lat,w=r.alt;return new Ne(f,a,w)},wrapLatLngBounds:function(r){var a=r.getCenter(),f=this.wrapLatLng(a),w=a.lat-f.lat,Q=a.lng-f.lng;if(w===0&&Q===0)return r;var T=r.getSouthWest(),Z=r.getNorthEast(),he=new Ne(T.lat-w,T.lng-Q),we=new Ne(Z.lat-w,Z.lng-Q);return new Ie(he,we)}},mt=o({},At,{wrapLng:[-180,180],R:6371e3,distance:function(r,a){var f=Math.PI/180,w=r.lat*f,Q=a.lat*f,T=Math.sin((a.lat-r.lat)*f/2),Z=Math.sin((a.lng-r.lng)*f/2),he=T*T+Math.cos(w)*Math.cos(Q)*Z*Z,we=2*Math.atan2(Math.sqrt(he),Math.sqrt(1-he));return this.R*we}}),De=6378137,Ot={R:De,MAX_LATITUDE:85.0511287798,project:function(r){var a=Math.PI/180,f=this.MAX_LATITUDE,w=Math.max(Math.min(f,r.lat),-f),Q=Math.sin(w*a);return new ge(this.R*r.lng*a,this.R*Math.log((1+Q)/(1-Q))/2)},unproject:function(r){var a=180/Math.PI;return new Ne((2*Math.atan(Math.exp(r.y/this.R))-Math.PI/2)*a,r.x*a/this.R)},bounds:(function(){var r=De*Math.PI;return new D([-r,-r],[r,r])})()};function fA(r,a,f,w){if(J(r)){this._a=r[0],this._b=r[1],this._c=r[2],this._d=r[3];return}this._a=r,this._b=a,this._c=f,this._d=w}fA.prototype={transform:function(r,a){return this._transform(r.clone(),a)},_transform:function(r,a){return a=a||1,r.x=a*(this._a*r.x+this._b),r.y=a*(this._c*r.y+this._d),r},untransform:function(r,a){return a=a||1,new ge((r.x/a-this._b)/this._a,(r.y/a-this._d)/this._c)}};function Qt(r,a,f,w){return new fA(r,a,f,w)}var QA=o({},mt,{code:"EPSG:3857",projection:Ot,transformation:(function(){var r=.5/(Math.PI*Ot.R);return Qt(r,.5,-r,.5)})()}),oo=o({},QA,{code:"EPSG:900913"});function KA(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function ao(r,a){var f="",w,Q,T,Z,he,we;for(w=0,T=r.length;w<T;w++){for(he=r[w],Q=0,Z=he.length;Q<Z;Q++)we=he[Q],f+=(Q?"L":"M")+we.x+" "+we.y;f+=a?tt.svg?"z":"x":""}return f||"M0 0"}var ki=document.documentElement.style,Ti="ActiveXObject"in window,lo=Ti&&!document.addEventListener,ir="msLaunchUri"in navigator&&!("documentMode"in document),fn=Nn("webkit"),Pi=Nn("android"),Lr=Nn("android 2")||Nn("android 3"),uo=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),si=Pi&&Nn("Google")&&uo<537&&!("AudioNode"in window),UA=!!window.opera,EA=!ir&&Nn("chrome"),kr=Nn("gecko")&&!fn&&!UA&&!Ti,oi=!EA&&Nn("safari"),sr=Nn("phantom"),VA="OTransition"in ki,Tr=navigator.platform.indexOf("Win")===0,ai=Ti&&"transition"in ki,li="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Lr,GA="MozPerspective"in ki,rt=!window.L_DISABLE_3D&&(ai||li||GA)&&!VA&&!sr,pA=typeof orientation<"u"||Nn("mobile"),zA=pA&&fn,ui=pA&&li,Ge=!window.PointerEvent&&window.MSPointerEvent,WA=!!(window.PointerEvent||Ge),or="ontouchstart"in window||!!window.TouchEvent,vs=!window.L_NO_TOUCH&&(or||WA),co=pA&&UA,ws=pA&&kr,Vo=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Go=(function(){var r=!1;try{var a=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassiveEventSupport",b,a),window.removeEventListener("testPassiveEventSupport",b,a)}catch{}return r})(),ar=(function(){return!!document.createElement("canvas").getContext})(),$A=!!(document.createElementNS&&KA("svg").createSVGRect),Pr=!!$A&&(function(){var r=document.createElement("div");return r.innerHTML="<svg/>",(r.firstChild&&r.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),ci=!$A&&(function(){try{var r=document.createElement("div");r.innerHTML='<v:shape adj="1"/>';var a=r.firstChild;return a.style.behavior="url(#default#VML)",a&&typeof a.adj=="object"}catch{return!1}})(),kt=navigator.platform.indexOf("Mac")===0,ln=navigator.platform.indexOf("Linux")===0;function Nn(r){return navigator.userAgent.toLowerCase().indexOf(r)>=0}var tt={ie:Ti,ielt9:lo,edge:ir,webkit:fn,android:Pi,android23:Lr,androidStock:si,opera:UA,chrome:EA,gecko:kr,safari:oi,phantom:sr,opera12:VA,win:Tr,ie3d:ai,webkit3d:li,gecko3d:GA,any3d:rt,mobile:pA,mobileWebkit:zA,mobileWebkit3d:ui,msPointer:Ge,pointer:WA,touch:vs,touchNative:or,mobileOpera:co,mobileGecko:ws,retina:Vo,passiveEvents:Go,canvas:ar,svg:$A,vml:ci,inlineSvg:Pr,mac:kt,linux:ln},lr=tt.msPointer?"MSPointerDown":"pointerdown",Nr=tt.msPointer?"MSPointerMove":"pointermove",zo=tt.msPointer?"MSPointerUp":"pointerup",ZA=tt.msPointer?"MSPointerCancel":"pointercancel",ur={touchstart:lr,touchmove:Nr,touchend:zo,touchcancel:ZA},En={touchstart:It,touchmove:SA,touchend:SA,touchcancel:SA},FA={},ho=!1;function cr(r,a,f){return a==="touchstart"&&Zt(),En[a]?(f=En[a].bind(this,f),r.addEventListener(ur[a],f,!1),f):(console.warn("wrong event specified:",a),b)}function fo(r,a,f){if(!ur[a]){console.warn("wrong event specified:",a);return}r.removeEventListener(ur[a],f,!1)}function dr(r){FA[r.pointerId]=r}function po(r){FA[r.pointerId]&&(FA[r.pointerId]=r)}function Ni(r){delete FA[r.pointerId]}function Zt(){ho||(document.addEventListener(lr,dr,!0),document.addEventListener(Nr,po,!0),document.addEventListener(zo,Ni,!0),document.addEventListener(ZA,Ni,!0),ho=!0)}function SA(r,a){if(a.pointerType!==(a.MSPOINTER_TYPE_MOUSE||"mouse")){a.touches=[];for(var f in FA)a.touches.push(FA[f]);a.changedTouches=[a],r(a)}}function It(r,a){a.MSPOINTER_TYPE_TOUCH&&a.pointerType===a.MSPOINTER_TYPE_TOUCH&&Ht(a),SA(r,a)}function Wo(r){var a={},f,w;for(w in r)f=r[w],a[w]=f&&f.bind?f.bind(r):f;return r=a,a.type="dblclick",a.detail=2,a.isTrusted=!1,a._simulated=!0,a}var hr=200;function ji(r,a){r.addEventListener("dblclick",a);var f=0,w;function Q(T){if(T.detail!==1){w=T.detail;return}if(!(T.pointerType==="mouse"||T.sourceCapabilities&&!T.sourceCapabilities.firesTouchEvents)){var Z=gr(T);if(!(Z.some(function(we){return we instanceof HTMLLabelElement&&we.attributes.for})&&!Z.some(function(we){return we instanceof HTMLInputElement||we instanceof HTMLSelectElement}))){var he=Date.now();he-f<=hr?(w++,w===2&&a(Wo(T))):w=1,f=he}}}return r.addEventListener("click",Q),{dblclick:a,simDblclick:Q}}function di(r,a){r.removeEventListener("dblclick",a.dblclick),r.removeEventListener("click",a.simDblclick)}var Hi=jr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),rA=jr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),hi=rA==="webkitTransition"||rA==="OTransition"?rA+"End":"transitionend";function jn(r){return typeof r=="string"?document.getElementById(r):r}function fi(r,a){var f=r.style[a]||r.currentStyle&&r.currentStyle[a];if((!f||f==="auto")&&document.defaultView){var w=document.defaultView.getComputedStyle(r,null);f=w?w[a]:null}return f==="auto"?null:f}function ze(r,a,f){var w=document.createElement(r);return w.className=a||"",f&&f.appendChild(w),w}function Dt(r){var a=r.parentNode;a&&a.removeChild(r)}function Oi(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function JA(r){var a=r.parentNode;a&&a.lastChild!==r&&a.appendChild(r)}function IA(r){var a=r.parentNode;a&&a.firstChild!==r&&a.insertBefore(r,a.firstChild)}function Ft(r,a){if(r.classList!==void 0)return r.classList.contains(a);var f=pi(r);return f.length>0&&new RegExp("(^|\\s)"+a+"(\\s|$)").test(f)}function dt(r,a){if(r.classList!==void 0)for(var f=P(a),w=0,Q=f.length;w<Q;w++)r.classList.add(f[w]);else if(!Ft(r,a)){var T=pi(r);fr(r,(T?T+" ":"")+a)}}function Tt(r,a){r.classList!==void 0?r.classList.remove(a):fr(r,j((" "+pi(r)+" ").replace(" "+a+" "," ")))}function fr(r,a){r.className.baseVal===void 0?r.className=a:r.className.baseVal=a}function pi(r){return r.correspondingElement&&(r=r.correspondingElement),r.className.baseVal===void 0?r.className:r.className.baseVal}function Cn(r,a){"opacity"in r.style?r.style.opacity=a:"filter"in r.style&&Di(r,a)}function Di(r,a){var f=!1,w="DXImageTransform.Microsoft.Alpha";try{f=r.filters.item(w)}catch{if(a===1)return}a=Math.round(a*100),f?(f.Enabled=a!==100,f.Opacity=a):r.style.filter+=" progid:"+w+"(opacity="+a+")"}function jr(r){for(var a=document.documentElement.style,f=0;f<r.length;f++)if(r[f]in a)return r[f];return!1}function Hn(r,a,f){var w=a||new ge(0,0);r.style[Hi]=(tt.ie3d?"translate("+w.x+"px,"+w.y+"px)":"translate3d("+w.x+"px,"+w.y+"px,0)")+(f?" scale("+f+")":"")}function Jt(r,a){r._leaflet_pos=a,tt.any3d?Hn(r,a):(r.style.left=a.x+"px",r.style.top=a.y+"px")}function Zn(r){return r._leaflet_pos||new ge(0,0)}var xt,gi,_t;if("onselectstart"in document)xt=function(){at(window,"selectstart",Ht)},gi=function(){St(window,"selectstart",Ht)};else{var pr=jr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);xt=function(){if(pr){var r=document.documentElement.style;_t=r[pr],r[pr]="none"}},gi=function(){pr&&(document.documentElement.style[pr]=_t,_t=void 0)}}function ys(){at(window,"dragstart",Ht)}function Bs(){St(window,"dragstart",Ht)}var pn,LA;function qA(r){for(;r.tabIndex===-1;)r=r.parentNode;r.style&&(un(),pn=r,LA=r.style.outlineStyle,r.style.outlineStyle="none",at(window,"keydown",un))}function un(){pn&&(pn.style.outlineStyle=LA,pn=void 0,LA=void 0,St(window,"keydown",un))}function kA(r){do r=r.parentNode;while((!r.offsetWidth||!r.offsetHeight)&&r!==document.body);return r}function gA(r){var a=r.getBoundingClientRect();return{x:a.width/r.offsetWidth||1,y:a.height/r.offsetHeight||1,boundingClientRect:a}}var Vt={__proto__:null,TRANSFORM:Hi,TRANSITION:rA,TRANSITION_END:hi,get:jn,getStyle:fi,create:ze,remove:Dt,empty:Oi,toFront:JA,toBack:IA,hasClass:Ft,addClass:dt,removeClass:Tt,setClass:fr,getClass:pi,setOpacity:Cn,testProp:jr,setTransform:Hn,setPosition:Jt,getPosition:Zn,get disableTextSelection(){return xt},get enableTextSelection(){return gi},disableImageDrag:ys,enableImageDrag:Bs,preventOutline:qA,restoreOutline:un,getSizedParentNode:kA,getScale:gA};function at(r,a,f,w){if(a&&typeof a=="object")for(var Q in a)go(r,Q,a[Q],f);else{a=P(a);for(var T=0,Z=a.length;T<Z;T++)go(r,a[T],f,w)}return this}var qt="_leaflet_events";function St(r,a,f,w){if(arguments.length===1)Ri(r),delete r[qt];else if(a&&typeof a=="object")for(var Q in a)Jn(r,Q,a[Q],f);else if(a=P(a),arguments.length===2)Ri(r,function(he){return M(a,he)!==-1});else for(var T=0,Z=a.length;T<Z;T++)Jn(r,a[T],f,w);return this}function Ri(r,a){for(var f in r[qt]){var w=f.split(/\d/)[0];(!a||a(w))&&Jn(r,w,null,null,f)}}var On={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function go(r,a,f,w){var Q=a+m(f)+(w?"_"+m(w):"");if(r[qt]&&r[qt][Q])return this;var T=function(he){return f.call(w||r,he||window.event)},Z=T;!tt.touchNative&&tt.pointer&&a.indexOf("touch")===0?T=cr(r,a,T):tt.touch&&a==="dblclick"?T=ji(r,T):"addEventListener"in r?a==="touchstart"||a==="touchmove"||a==="wheel"||a==="mousewheel"?r.addEventListener(On[a]||a,T,tt.passiveEvents?{passive:!1}:!1):a==="mouseenter"||a==="mouseleave"?(T=function(he){he=he||window.event,Gi(r,he)&&Z(he)},r.addEventListener(On[a],T,!1)):r.addEventListener(a,Z,!1):r.attachEvent("on"+a,T),r[qt]=r[qt]||{},r[qt][Q]=T}function Jn(r,a,f,w,Q){Q=Q||a+m(f)+(w?"_"+m(w):"");var T=r[qt]&&r[qt][Q];if(!T)return this;!tt.touchNative&&tt.pointer&&a.indexOf("touch")===0?fo(r,a,T):tt.touch&&a==="dblclick"?di(r,T):"removeEventListener"in r?r.removeEventListener(On[a]||a,T,!1):r.detachEvent("on"+a,T),r[qt][Q]=null}function iA(r){return r.stopPropagation?r.stopPropagation():r.originalEvent?r.originalEvent._stopped=!0:r.cancelBubble=!0,this}function Mi(r){return go(r,"wheel",iA),this}function Hr(r){return at(r,"mousedown touchstart dblclick contextmenu",iA),r._leaflet_disable_click=!0,this}function Ht(r){return r.preventDefault?r.preventDefault():r.returnValue=!1,this}function qn(r){return Ht(r),iA(r),this}function gr(r){if(r.composedPath)return r.composedPath();for(var a=[],f=r.target;f;)a.push(f),f=f.parentNode;return a}function Ki(r,a){if(!a)return new ge(r.clientX,r.clientY);var f=gA(a),w=f.boundingClientRect;return new ge((r.clientX-w.left)/f.x-a.clientLeft,(r.clientY-w.top)/f.y-a.clientTop)}var Vi=tt.linux&&tt.chrome?window.devicePixelRatio:tt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function $o(r){return tt.edge?r.wheelDeltaY/2:r.deltaY&&r.deltaMode===0?-r.deltaY/Vi:r.deltaY&&r.deltaMode===1?-r.deltaY*20:r.deltaY&&r.deltaMode===2?-r.deltaY*60:r.deltaX||r.deltaZ?0:r.wheelDelta?(r.wheelDeltaY||r.wheelDelta)/2:r.detail&&Math.abs(r.detail)<32765?-r.detail*20:r.detail?r.detail/-32765*60:0}function Gi(r,a){var f=a.relatedTarget;if(!f)return!0;try{for(;f&&f!==r;)f=f.parentNode}catch{return!1}return f!==r}var Or={__proto__:null,on:at,off:St,stopPropagation:iA,disableScrollPropagation:Mi,disableClickPropagation:Hr,preventDefault:Ht,stop:qn,getPropagationPath:gr,getMousePosition:Ki,getWheelDelta:$o,isExternalTarget:Gi,addListener:at,removeListener:St},Dr=Qe.extend({run:function(r,a,f,w){this.stop(),this._el=r,this._inProgress=!0,this._duration=f||.25,this._easeOutPower=1/Math.max(w||.5,.2),this._startPos=Zn(r),this._offset=a.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Ee(this._animate,this),this._step()},_step:function(r){var a=+new Date-this._startTime,f=this._duration*1e3;a<f?this._runFrame(this._easeOut(a/f),r):(this._runFrame(1),this._complete())},_runFrame:function(r,a){var f=this._startPos.add(this._offset.multiplyBy(r));a&&f._round(),Jt(this._el,f),this.fire("step")},_complete:function(){qe(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(r){return 1-Math.pow(1-r,this._easeOutPower)}}),Bt=Qe.extend({options:{crs:QA,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(r,a){a=N(this,a),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(r),this._initLayout(),this._onResize=d(this._onResize,this),this._initEvents(),a.maxBounds&&this.setMaxBounds(a.maxBounds),a.zoom!==void 0&&(this._zoom=this._limitZoom(a.zoom)),a.center&&a.zoom!==void 0&&this.setView(Oe(a.center),a.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=rA&&tt.any3d&&!tt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),at(this._proxy,hi,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(r,a,f){if(a=a===void 0?this._zoom:this._limitZoom(a),r=this._limitCenter(Oe(r),a,this.options.maxBounds),f=f||{},this._stop(),this._loaded&&!f.reset&&f!==!0){f.animate!==void 0&&(f.zoom=o({animate:f.animate},f.zoom),f.pan=o({animate:f.animate,duration:f.duration},f.pan));var w=this._zoom!==a?this._tryAnimatedZoom&&this._tryAnimatedZoom(r,a,f.zoom):this._tryAnimatedPan(r,f.pan);if(w)return clearTimeout(this._sizeTimer),this}return this._resetView(r,a,f.pan&&f.pan.noMoveStart),this},setZoom:function(r,a){return this._loaded?this.setView(this.getCenter(),r,{zoom:a}):(this._zoom=r,this)},zoomIn:function(r,a){return r=r||(tt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+r,a)},zoomOut:function(r,a){return r=r||(tt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-r,a)},setZoomAround:function(r,a,f){var w=this.getZoomScale(a),Q=this.getSize().divideBy(2),T=r instanceof ge?r:this.latLngToContainerPoint(r),Z=T.subtract(Q).multiplyBy(1-1/w),he=this.containerPointToLatLng(Q.add(Z));return this.setView(he,a,{zoom:f})},_getBoundsCenterZoom:function(r,a){a=a||{},r=r.getBounds?r.getBounds():Fe(r);var f=K(a.paddingTopLeft||a.padding||[0,0]),w=K(a.paddingBottomRight||a.padding||[0,0]),Q=this.getBoundsZoom(r,!1,f.add(w));if(Q=typeof a.maxZoom=="number"?Math.min(a.maxZoom,Q):Q,Q===1/0)return{center:r.getCenter(),zoom:Q};var T=w.subtract(f).divideBy(2),Z=this.project(r.getSouthWest(),Q),he=this.project(r.getNorthEast(),Q),we=this.unproject(Z.add(he).divideBy(2).add(T),Q);return{center:we,zoom:Q}},fitBounds:function(r,a){if(r=Fe(r),!r.isValid())throw new Error("Bounds are not valid.");var f=this._getBoundsCenterZoom(r,a);return this.setView(f.center,f.zoom,a)},fitWorld:function(r){return this.fitBounds([[-90,-180],[90,180]],r)},panTo:function(r,a){return this.setView(r,this._zoom,{pan:a})},panBy:function(r,a){if(r=K(r).round(),a=a||{},!r.x&&!r.y)return this.fire("moveend");if(a.animate!==!0&&!this.getSize().contains(r))return this._resetView(this.unproject(this.project(this.getCenter()).add(r)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Dr,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),a.noMoveStart||this.fire("movestart"),a.animate!==!1){dt(this._mapPane,"leaflet-pan-anim");var f=this._getMapPanePos().subtract(r).round();this._panAnim.run(this._mapPane,f,a.duration||.25,a.easeLinearity)}else this._rawPanBy(r),this.fire("move").fire("moveend");return this},flyTo:function(r,a,f){if(f=f||{},f.animate===!1||!tt.any3d)return this.setView(r,a,f);this._stop();var w=this.project(this.getCenter()),Q=this.project(r),T=this.getSize(),Z=this._zoom;r=Oe(r),a=a===void 0?Z:a;var he=Math.max(T.x,T.y),we=he*this.getZoomScale(Z,a),Ue=Q.distanceTo(w)||1,$e=1.42,ct=$e*$e;function wt(Nt){var Is=Nt?-1:1,sd=Nt?we:he,od=we*we-he*he+Is*ct*ct*Ue*Ue,es=2*sd*ct*Ue,ts=od/es,ns=Math.sqrt(ts*ts+1)-ts,Aa=ns<1e-9?-18:Math.log(ns);return Aa}function Sn(Nt){return(Math.exp(Nt)-Math.exp(-Nt))/2}function xn(Nt){return(Math.exp(Nt)+Math.exp(-Nt))/2}function yA(Nt){return Sn(Nt)/xn(Nt)}var sA=wt(0);function Fs(Nt){return he*(xn(sA)/xn(sA+$e*Nt))}function el(Nt){return he*(xn(sA)*yA(sA+$e*Nt)-Sn(sA))/ct}function xi(Nt){return 1-Math.pow(1-Nt,1.5)}var tu=Date.now(),Yi=(wt(1)-sA)/$e,Br=f.duration?1e3*f.duration:1e3*Yi*.8;function Ss(){var Nt=(Date.now()-tu)/Br,Is=xi(Nt)*Yi;Nt<=1?(this._flyToFrame=Ee(Ss,this),this._move(this.unproject(w.add(Q.subtract(w).multiplyBy(el(Is)/Ue)),Z),this.getScaleZoom(he/Fs(Is),Z),{flyTo:!0})):this._move(r,a)._moveEnd(!0)}return this._moveStart(!0,f.noMoveStart),Ss.call(this),this},flyToBounds:function(r,a){var f=this._getBoundsCenterZoom(r,a);return this.flyTo(f.center,f.zoom,a)},setMaxBounds:function(r){return r=Fe(r),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),r.isValid()?(this.options.maxBounds=r,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(r){var a=this.options.minZoom;return this.options.minZoom=r,this._loaded&&a!==r&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(r):this},setMaxZoom:function(r){var a=this.options.maxZoom;return this.options.maxZoom=r,this._loaded&&a!==r&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(r):this},panInsideBounds:function(r,a){this._enforcingBounds=!0;var f=this.getCenter(),w=this._limitCenter(f,this._zoom,Fe(r));return f.equals(w)||this.panTo(w,a),this._enforcingBounds=!1,this},panInside:function(r,a){a=a||{};var f=K(a.paddingTopLeft||a.padding||[0,0]),w=K(a.paddingBottomRight||a.padding||[0,0]),Q=this.project(this.getCenter()),T=this.project(r),Z=this.getPixelBounds(),he=le([Z.min.add(f),Z.max.subtract(w)]),we=he.getSize();if(!he.contains(T)){this._enforcingBounds=!0;var Ue=T.subtract(he.getCenter()),$e=he.extend(T).getSize().subtract(we);Q.x+=Ue.x<0?-$e.x:$e.x,Q.y+=Ue.y<0?-$e.y:$e.y,this.panTo(this.unproject(Q),a),this._enforcingBounds=!1}return this},invalidateSize:function(r){if(!this._loaded)return this;r=o({animate:!1,pan:!0},r===!0?{animate:!0}:r);var a=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var f=this.getSize(),w=a.divideBy(2).round(),Q=f.divideBy(2).round(),T=w.subtract(Q);return!T.x&&!T.y?this:(r.animate&&r.pan?this.panBy(T):(r.pan&&this._rawPanBy(T),this.fire("move"),r.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(d(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:a,newSize:f}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(r){if(r=this._locateOptions=o({timeout:1e4,watch:!1},r),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var a=d(this._handleGeolocationResponse,this),f=d(this._handleGeolocationError,this);return r.watch?this._locationWatchId=navigator.geolocation.watchPosition(a,f,r):navigator.geolocation.getCurrentPosition(a,f,r),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(r){if(this._container._leaflet_id){var a=r.code,f=r.message||(a===1?"permission denied":a===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:a,message:"Geolocation error: "+f+"."})}},_handleGeolocationResponse:function(r){if(this._container._leaflet_id){var a=r.coords.latitude,f=r.coords.longitude,w=new Ne(a,f),Q=w.toBounds(r.coords.accuracy*2),T=this._locateOptions;if(T.setView){var Z=this.getBoundsZoom(Q);this.setView(w,T.maxZoom?Math.min(Z,T.maxZoom):Z)}var he={latlng:w,bounds:Q,timestamp:r.timestamp};for(var we in r.coords)typeof r.coords[we]=="number"&&(he[we]=r.coords[we]);this.fire("locationfound",he)}},addHandler:function(r,a){if(!a)return this;var f=this[r]=new a(this);return this._handlers.push(f),this.options[r]&&f.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Dt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(qe(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var r;for(r in this._layers)this._layers[r].remove();for(r in this._panes)Dt(this._panes[r]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(r,a){var f="leaflet-pane"+(r?" leaflet-"+r.replace("Pane","")+"-pane":""),w=ze("div",f,a||this._mapPane);return r&&(this._panes[r]=w),w},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var r=this.getPixelBounds(),a=this.unproject(r.getBottomLeft()),f=this.unproject(r.getTopRight());return new Ie(a,f)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(r,a,f){r=Fe(r),f=K(f||[0,0]);var w=this.getZoom()||0,Q=this.getMinZoom(),T=this.getMaxZoom(),Z=r.getNorthWest(),he=r.getSouthEast(),we=this.getSize().subtract(f),Ue=le(this.project(he,w),this.project(Z,w)).getSize(),$e=tt.any3d?this.options.zoomSnap:1,ct=we.x/Ue.x,wt=we.y/Ue.y,Sn=a?Math.max(ct,wt):Math.min(ct,wt);return w=this.getScaleZoom(Sn,w),$e&&(w=Math.round(w/($e/100))*($e/100),w=a?Math.ceil(w/$e)*$e:Math.floor(w/$e)*$e),Math.max(Q,Math.min(T,w))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ge(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(r,a){var f=this._getTopLeftPoint(r,a);return new D(f,f.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(r){return this.options.crs.getProjectedBounds(r===void 0?this.getZoom():r)},getPane:function(r){return typeof r=="string"?this._panes[r]:r},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(r,a){var f=this.options.crs;return a=a===void 0?this._zoom:a,f.scale(r)/f.scale(a)},getScaleZoom:function(r,a){var f=this.options.crs;a=a===void 0?this._zoom:a;var w=f.zoom(r*f.scale(a));return isNaN(w)?1/0:w},project:function(r,a){return a=a===void 0?this._zoom:a,this.options.crs.latLngToPoint(Oe(r),a)},unproject:function(r,a){return a=a===void 0?this._zoom:a,this.options.crs.pointToLatLng(K(r),a)},layerPointToLatLng:function(r){var a=K(r).add(this.getPixelOrigin());return this.unproject(a)},latLngToLayerPoint:function(r){var a=this.project(Oe(r))._round();return a._subtract(this.getPixelOrigin())},wrapLatLng:function(r){return this.options.crs.wrapLatLng(Oe(r))},wrapLatLngBounds:function(r){return this.options.crs.wrapLatLngBounds(Fe(r))},distance:function(r,a){return this.options.crs.distance(Oe(r),Oe(a))},containerPointToLayerPoint:function(r){return K(r).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(r){return K(r).add(this._getMapPanePos())},containerPointToLatLng:function(r){var a=this.containerPointToLayerPoint(K(r));return this.layerPointToLatLng(a)},latLngToContainerPoint:function(r){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Oe(r)))},mouseEventToContainerPoint:function(r){return Ki(r,this._container)},mouseEventToLayerPoint:function(r){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(r))},mouseEventToLatLng:function(r){return this.layerPointToLatLng(this.mouseEventToLayerPoint(r))},_initContainer:function(r){var a=this._container=jn(r);if(a){if(a._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");at(a,"scroll",this._onScroll,this),this._containerId=m(a)},_initLayout:function(){var r=this._container;this._fadeAnimated=this.options.fadeAnimation&&tt.any3d,dt(r,"leaflet-container"+(tt.touch?" leaflet-touch":"")+(tt.retina?" leaflet-retina":"")+(tt.ielt9?" leaflet-oldie":"")+(tt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var a=fi(r,"position");a!=="absolute"&&a!=="relative"&&a!=="fixed"&&a!=="sticky"&&(r.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var r=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Jt(this._mapPane,new ge(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(dt(r.markerPane,"leaflet-zoom-hide"),dt(r.shadowPane,"leaflet-zoom-hide"))},_resetView:function(r,a,f){Jt(this._mapPane,new ge(0,0));var w=!this._loaded;this._loaded=!0,a=this._limitZoom(a),this.fire("viewprereset");var Q=this._zoom!==a;this._moveStart(Q,f)._move(r,a)._moveEnd(Q),this.fire("viewreset"),w&&this.fire("load")},_moveStart:function(r,a){return r&&this.fire("zoomstart"),a||this.fire("movestart"),this},_move:function(r,a,f,w){a===void 0&&(a=this._zoom);var Q=this._zoom!==a;return this._zoom=a,this._lastCenter=r,this._pixelOrigin=this._getNewPixelOrigin(r),w?f&&f.pinch&&this.fire("zoom",f):((Q||f&&f.pinch)&&this.fire("zoom",f),this.fire("move",f)),this},_moveEnd:function(r){return r&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return qe(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(r){Jt(this._mapPane,this._getMapPanePos().subtract(r))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(r){this._targets={},this._targets[m(this._container)]=this;var a=r?St:at;a(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&a(window,"resize",this._onResize,this),tt.any3d&&this.options.transform3DLimit&&(r?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){qe(this._resizeRequest),this._resizeRequest=Ee(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var r=this._getMapPanePos();Math.max(Math.abs(r.x),Math.abs(r.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(r,a){for(var f=[],w,Q=a==="mouseout"||a==="mouseover",T=r.target||r.srcElement,Z=!1;T;){if(w=this._targets[m(T)],w&&(a==="click"||a==="preclick")&&this._draggableMoved(w)){Z=!0;break}if(w&&w.listens(a,!0)&&(Q&&!Gi(T,r)||(f.push(w),Q))||T===this._container)break;T=T.parentNode}return!f.length&&!Z&&!Q&&this.listens(a,!0)&&(f=[this]),f},_isClickDisabled:function(r){for(;r&&r!==this._container;){if(r._leaflet_disable_click)return!0;r=r.parentNode}},_handleDOMEvent:function(r){var a=r.target||r.srcElement;if(!(!this._loaded||a._leaflet_disable_events||r.type==="click"&&this._isClickDisabled(a))){var f=r.type;f==="mousedown"&&qA(a),this._fireDOMEvent(r,f)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(r,a,f){if(r.type==="click"){var w=o({},r);w.type="preclick",this._fireDOMEvent(w,w.type,f)}var Q=this._findEventTargets(r,a);if(f){for(var T=[],Z=0;Z<f.length;Z++)f[Z].listens(a,!0)&&T.push(f[Z]);Q=T.concat(Q)}if(Q.length){a==="contextmenu"&&Ht(r);var he=Q[0],we={originalEvent:r};if(r.type!=="keypress"&&r.type!=="keydown"&&r.type!=="keyup"){var Ue=he.getLatLng&&(!he._radius||he._radius<=10);we.containerPoint=Ue?this.latLngToContainerPoint(he.getLatLng()):this.mouseEventToContainerPoint(r),we.layerPoint=this.containerPointToLayerPoint(we.containerPoint),we.latlng=Ue?he.getLatLng():this.layerPointToLatLng(we.layerPoint)}for(Z=0;Z<Q.length;Z++)if(Q[Z].fire(a,we,!0),we.originalEvent._stopped||Q[Z].options.bubblingMouseEvents===!1&&M(this._mouseEvents,a)!==-1)return}},_draggableMoved:function(r){return r=r.dragging&&r.dragging.enabled()?r:this,r.dragging&&r.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var r=0,a=this._handlers.length;r<a;r++)this._handlers[r].disable()},whenReady:function(r,a){return this._loaded?r.call(a||this,{target:this}):this.on("load",r,a),this},_getMapPanePos:function(){return Zn(this._mapPane)||new ge(0,0)},_moved:function(){var r=this._getMapPanePos();return r&&!r.equals([0,0])},_getTopLeftPoint:function(r,a){var f=r&&a!==void 0?this._getNewPixelOrigin(r,a):this.getPixelOrigin();return f.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(r,a){var f=this.getSize()._divideBy(2);return this.project(r,a)._subtract(f)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(r,a,f){var w=this._getNewPixelOrigin(f,a);return this.project(r,a)._subtract(w)},_latLngBoundsToNewLayerBounds:function(r,a,f){var w=this._getNewPixelOrigin(f,a);return le([this.project(r.getSouthWest(),a)._subtract(w),this.project(r.getNorthWest(),a)._subtract(w),this.project(r.getSouthEast(),a)._subtract(w),this.project(r.getNorthEast(),a)._subtract(w)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(r){return this.latLngToLayerPoint(r).subtract(this._getCenterLayerPoint())},_limitCenter:function(r,a,f){if(!f)return r;var w=this.project(r,a),Q=this.getSize().divideBy(2),T=new D(w.subtract(Q),w.add(Q)),Z=this._getBoundsOffset(T,f,a);return Math.abs(Z.x)<=1&&Math.abs(Z.y)<=1?r:this.unproject(w.add(Z),a)},_limitOffset:function(r,a){if(!a)return r;var f=this.getPixelBounds(),w=new D(f.min.add(r),f.max.add(r));return r.add(this._getBoundsOffset(w,a))},_getBoundsOffset:function(r,a,f){var w=le(this.project(a.getNorthEast(),f),this.project(a.getSouthWest(),f)),Q=w.min.subtract(r.min),T=w.max.subtract(r.max),Z=this._rebound(Q.x,-T.x),he=this._rebound(Q.y,-T.y);return new ge(Z,he)},_rebound:function(r,a){return r+a>0?Math.round(r-a)/2:Math.max(0,Math.ceil(r))-Math.max(0,Math.floor(a))},_limitZoom:function(r){var a=this.getMinZoom(),f=this.getMaxZoom(),w=tt.any3d?this.options.zoomSnap:1;return w&&(r=Math.round(r/w)*w),Math.max(a,Math.min(f,r))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Tt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(r,a){var f=this._getCenterOffset(r)._trunc();return(a&&a.animate)!==!0&&!this.getSize().contains(f)?!1:(this.panBy(f,a),!0)},_createAnimProxy:function(){var r=this._proxy=ze("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(r),this.on("zoomanim",function(a){var f=Hi,w=this._proxy.style[f];Hn(this._proxy,this.project(a.center,a.zoom),this.getZoomScale(a.zoom,1)),w===this._proxy.style[f]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Dt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var r=this.getCenter(),a=this.getZoom();Hn(this._proxy,this.project(r,a),this.getZoomScale(a,1))},_catchTransitionEnd:function(r){this._animatingZoom&&r.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(r,a,f){if(this._animatingZoom)return!0;if(f=f||{},!this._zoomAnimated||f.animate===!1||this._nothingToAnimate()||Math.abs(a-this._zoom)>this.options.zoomAnimationThreshold)return!1;var w=this.getZoomScale(a),Q=this._getCenterOffset(r)._divideBy(1-1/w);return f.animate!==!0&&!this.getSize().contains(Q)?!1:(Ee(function(){this._moveStart(!0,f.noMoveStart||!1)._animateZoom(r,a,!0)},this),!0)},_animateZoom:function(r,a,f,w){this._mapPane&&(f&&(this._animatingZoom=!0,this._animateToCenter=r,this._animateToZoom=a,dt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:r,zoom:a,noUpdate:w}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(d(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Tt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function mr(r,a){return new Bt(r,a)}var Xn=be.extend({options:{position:"topright"},initialize:function(r){N(this,r)},getPosition:function(){return this.options.position},setPosition:function(r){var a=this._map;return a&&a.removeControl(this),this.options.position=r,a&&a.addControl(this),this},getContainer:function(){return this._container},addTo:function(r){this.remove(),this._map=r;var a=this._container=this.onAdd(r),f=this.getPosition(),w=r._controlCorners[f];return dt(a,"leaflet-control"),f.indexOf("bottom")!==-1?w.insertBefore(a,w.firstChild):w.appendChild(a),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Dt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(r){this._map&&r&&r.screenX>0&&r.screenY>0&&this._map.getContainer().focus()}}),vr=function(r){return new Xn(r)};Bt.include({addControl:function(r){return r.addTo(this),this},removeControl:function(r){return r.remove(),this},_initControlPos:function(){var r=this._controlCorners={},a="leaflet-",f=this._controlContainer=ze("div",a+"control-container",this._container);function w(Q,T){var Z=a+Q+" "+a+T;r[Q+T]=ze("div",Z,f)}w("top","left"),w("top","right"),w("bottom","left"),w("bottom","right")},_clearControlPos:function(){for(var r in this._controlCorners)Dt(this._controlCorners[r]);Dt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var zi=Xn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(r,a,f,w){return f<w?-1:w<f?1:0}},initialize:function(r,a,f){N(this,f),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var w in r)this._addLayer(r[w],w);for(w in a)this._addLayer(a[w],w,!0)},onAdd:function(r){this._initLayout(),this._update(),this._map=r,r.on("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(r){return Xn.prototype.addTo.call(this,r),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(r,a){return this._addLayer(r,a),this._map?this._update():this},addOverlay:function(r,a){return this._addLayer(r,a,!0),this._map?this._update():this},removeLayer:function(r){r.off("add remove",this._onLayerChange,this);var a=this._getLayer(m(r));return a&&this._layers.splice(this._layers.indexOf(a),1),this._map?this._update():this},expand:function(){dt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var r=this._map.getSize().y-(this._container.offsetTop+50);return r<this._section.clientHeight?(dt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=r+"px"):Tt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Tt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var r="leaflet-control-layers",a=this._container=ze("div",r),f=this.options.collapsed;a.setAttribute("aria-haspopup",!0),Hr(a),Mi(a);var w=this._section=ze("section",r+"-list");f&&(this._map.on("click",this.collapse,this),at(a,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var Q=this._layersLink=ze("a",r+"-toggle",a);Q.href="#",Q.title="Layers",Q.setAttribute("role","button"),at(Q,{keydown:function(T){T.keyCode===13&&this._expandSafely()},click:function(T){Ht(T),this._expandSafely()}},this),f||this.expand(),this._baseLayersList=ze("div",r+"-base",w),this._separator=ze("div",r+"-separator",w),this._overlaysList=ze("div",r+"-overlays",w),a.appendChild(w)},_getLayer:function(r){for(var a=0;a<this._layers.length;a++)if(this._layers[a]&&m(this._layers[a].layer)===r)return this._layers[a]},_addLayer:function(r,a,f){this._map&&r.on("add remove",this._onLayerChange,this),this._layers.push({layer:r,name:a,overlay:f}),this.options.sortLayers&&this._layers.sort(d(function(w,Q){return this.options.sortFunction(w.layer,Q.layer,w.name,Q.name)},this)),this.options.autoZIndex&&r.setZIndex&&(this._lastZIndex++,r.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Oi(this._baseLayersList),Oi(this._overlaysList),this._layerControlInputs=[];var r,a,f,w,Q=0;for(f=0;f<this._layers.length;f++)w=this._layers[f],this._addItem(w),a=a||w.overlay,r=r||!w.overlay,Q+=w.overlay?0:1;return this.options.hideSingleBase&&(r=r&&Q>1,this._baseLayersList.style.display=r?"":"none"),this._separator.style.display=a&&r?"":"none",this},_onLayerChange:function(r){this._handlingClick||this._update();var a=this._getLayer(m(r.target)),f=a.overlay?r.type==="add"?"overlayadd":"overlayremove":r.type==="add"?"baselayerchange":null;f&&this._map.fire(f,a)},_createRadioElement:function(r,a){var f='<input type="radio" class="leaflet-control-layers-selector" name="'+r+'"'+(a?' checked="checked"':"")+"/>",w=document.createElement("div");return w.innerHTML=f,w.firstChild},_addItem:function(r){var a=document.createElement("label"),f=this._map.hasLayer(r.layer),w;r.overlay?(w=document.createElement("input"),w.type="checkbox",w.className="leaflet-control-layers-selector",w.defaultChecked=f):w=this._createRadioElement("leaflet-base-layers_"+m(this),f),this._layerControlInputs.push(w),w.layerId=m(r.layer),at(w,"click",this._onInputClick,this);var Q=document.createElement("span");Q.innerHTML=" "+r.name;var T=document.createElement("span");a.appendChild(T),T.appendChild(w),T.appendChild(Q);var Z=r.overlay?this._overlaysList:this._baseLayersList;return Z.appendChild(a),this._checkDisabledLayers(),a},_onInputClick:function(){if(!this._preventClick){var r=this._layerControlInputs,a,f,w=[],Q=[];this._handlingClick=!0;for(var T=r.length-1;T>=0;T--)a=r[T],f=this._getLayer(a.layerId).layer,a.checked?w.push(f):a.checked||Q.push(f);for(T=0;T<Q.length;T++)this._map.hasLayer(Q[T])&&this._map.removeLayer(Q[T]);for(T=0;T<w.length;T++)this._map.hasLayer(w[T])||this._map.addLayer(w[T]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var r=this._layerControlInputs,a,f,w=this._map.getZoom(),Q=r.length-1;Q>=0;Q--)a=r[Q],f=this._getLayer(a.layerId).layer,a.disabled=f.options.minZoom!==void 0&&w<f.options.minZoom||f.options.maxZoom!==void 0&&w>f.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var r=this._section;this._preventClick=!0,at(r,"click",Ht),this.expand();var a=this;setTimeout(function(){St(r,"click",Ht),a._preventClick=!1})}}),mi=function(r,a,f){return new zi(r,a,f)},Rr=Xn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(r){var a="leaflet-control-zoom",f=ze("div",a+" leaflet-bar"),w=this.options;return this._zoomInButton=this._createButton(w.zoomInText,w.zoomInTitle,a+"-in",f,this._zoomIn),this._zoomOutButton=this._createButton(w.zoomOutText,w.zoomOutTitle,a+"-out",f,this._zoomOut),this._updateDisabled(),r.on("zoomend zoomlevelschange",this._updateDisabled,this),f},onRemove:function(r){r.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(r){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(r.shiftKey?3:1))},_zoomOut:function(r){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(r.shiftKey?3:1))},_createButton:function(r,a,f,w,Q){var T=ze("a",f,w);return T.innerHTML=r,T.href="#",T.title=a,T.setAttribute("role","button"),T.setAttribute("aria-label",a),Hr(T),at(T,"click",qn),at(T,"click",Q,this),at(T,"click",this._refocusOnMap,this),T},_updateDisabled:function(){var r=this._map,a="leaflet-disabled";Tt(this._zoomInButton,a),Tt(this._zoomOutButton,a),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||r._zoom===r.getMinZoom())&&(dt(this._zoomOutButton,a),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||r._zoom===r.getMaxZoom())&&(dt(this._zoomInButton,a),this._zoomInButton.setAttribute("aria-disabled","true"))}});Bt.mergeOptions({zoomControl:!0}),Bt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Rr,this.addControl(this.zoomControl))});var Wi=function(r){return new Rr(r)},gn=Xn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(r){var a="leaflet-control-scale",f=ze("div",a),w=this.options;return this._addScales(w,a+"-line",f),r.on(w.updateWhenIdle?"moveend":"move",this._update,this),r.whenReady(this._update,this),f},onRemove:function(r){r.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(r,a,f){r.metric&&(this._mScale=ze("div",a,f)),r.imperial&&(this._iScale=ze("div",a,f))},_update:function(){var r=this._map,a=r.getSize().y/2,f=r.distance(r.containerPointToLatLng([0,a]),r.containerPointToLatLng([this.options.maxWidth,a]));this._updateScales(f)},_updateScales:function(r){this.options.metric&&r&&this._updateMetric(r),this.options.imperial&&r&&this._updateImperial(r)},_updateMetric:function(r){var a=this._getRoundNum(r),f=a<1e3?a+" m":a/1e3+" km";this._updateScale(this._mScale,f,a/r)},_updateImperial:function(r){var a=r*3.2808399,f,w,Q;a>5280?(f=a/5280,w=this._getRoundNum(f),this._updateScale(this._iScale,w+" mi",w/f)):(Q=this._getRoundNum(a),this._updateScale(this._iScale,Q+" ft",Q/a))},_updateScale:function(r,a,f){r.style.width=Math.round(this.options.maxWidth*f)+"px",r.innerHTML=a},_getRoundNum:function(r){var a=Math.pow(10,(Math.floor(r)+"").length-1),f=r/a;return f=f>=10?10:f>=5?5:f>=3?3:f>=2?2:1,a*f}}),XA=function(r){return new gn(r)},_s='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Mr=Xn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(tt.inlineSvg?_s+" ":"")+"Leaflet</a>"},initialize:function(r){N(this,r),this._attributions={}},onAdd:function(r){r.attributionControl=this,this._container=ze("div","leaflet-control-attribution"),Hr(this._container);for(var a in r._layers)r._layers[a].getAttribution&&this.addAttribution(r._layers[a].getAttribution());return this._update(),r.on("layeradd",this._addAttribution,this),this._container},onRemove:function(r){r.off("layeradd",this._addAttribution,this)},_addAttribution:function(r){r.layer.getAttribution&&(this.addAttribution(r.layer.getAttribution()),r.layer.once("remove",function(){this.removeAttribution(r.layer.getAttribution())},this))},setPrefix:function(r){return this.options.prefix=r,this._update(),this},addAttribution:function(r){return r?(this._attributions[r]||(this._attributions[r]=0),this._attributions[r]++,this._update(),this):this},removeAttribution:function(r){return r?(this._attributions[r]&&(this._attributions[r]--,this._update()),this):this},_update:function(){if(this._map){var r=[];for(var a in this._attributions)this._attributions[a]&&r.push(a);var f=[];this.options.prefix&&f.push(this.options.prefix),r.length&&f.push(r.join(", ")),this._container.innerHTML=f.join(' <span aria-hidden="true">|</span> ')}}});Bt.mergeOptions({attributionControl:!0}),Bt.addInitHook(function(){this.options.attributionControl&&new Mr().addTo(this)});var vi=function(r){return new Mr(r)};Xn.Layers=zi,Xn.Zoom=Rr,Xn.Scale=gn,Xn.Attribution=Mr,vr.layers=mi,vr.zoom=Wi,vr.scale=XA,vr.attribution=vi;var Dn=be.extend({initialize:function(r){this._map=r},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Dn.addTo=function(r,a){return r.addHandler(a,this),this};var $i={Events:se},wr=tt.touch?"touchstart mousedown":"mousedown",Yn=Qe.extend({options:{clickTolerance:3},initialize:function(r,a,f,w){N(this,w),this._element=r,this._dragStartTarget=a||r,this._preventOutline=f},enable:function(){this._enabled||(at(this._dragStartTarget,wr,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Yn._dragging===this&&this.finishDrag(!0),St(this._dragStartTarget,wr,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(r){if(this._enabled&&(this._moved=!1,!Ft(this._element,"leaflet-zoom-anim"))){if(r.touches&&r.touches.length!==1){Yn._dragging===this&&this.finishDrag();return}if(!(Yn._dragging||r.shiftKey||r.which!==1&&r.button!==1&&!r.touches)&&(Yn._dragging=this,this._preventOutline&&qA(this._element),ys(),xt(),!this._moving)){this.fire("down");var a=r.touches?r.touches[0]:r,f=kA(this._element);this._startPoint=new ge(a.clientX,a.clientY),this._startPos=Zn(this._element),this._parentScale=gA(f);var w=r.type==="mousedown";at(document,w?"mousemove":"touchmove",this._onMove,this),at(document,w?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(r){if(this._enabled){if(r.touches&&r.touches.length>1){this._moved=!0;return}var a=r.touches&&r.touches.length===1?r.touches[0]:r,f=new ge(a.clientX,a.clientY)._subtract(this._startPoint);!f.x&&!f.y||Math.abs(f.x)+Math.abs(f.y)<this.options.clickTolerance||(f.x/=this._parentScale.x,f.y/=this._parentScale.y,Ht(r),this._moved||(this.fire("dragstart"),this._moved=!0,dt(document.body,"leaflet-dragging"),this._lastTarget=r.target||r.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),dt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(f),this._moving=!0,this._lastEvent=r,this._updatePosition())}},_updatePosition:function(){var r={originalEvent:this._lastEvent};this.fire("predrag",r),Jt(this._element,this._newPos),this.fire("drag",r)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(r){Tt(document.body,"leaflet-dragging"),this._lastTarget&&(Tt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),St(document,"mousemove touchmove",this._onMove,this),St(document,"mouseup touchend touchcancel",this._onUp,this),Bs(),gi();var a=this._moved&&this._moving;this._moving=!1,Yn._dragging=!1,a&&this.fire("dragend",{noInertia:r,distance:this._newPos.distanceTo(this._startPos)})}});function cn(r,a,f){var w,Q=[1,4,2,8],T,Z,he,we,Ue,$e,ct,wt;for(T=0,$e=r.length;T<$e;T++)r[T]._code=YA(r[T],a);for(he=0;he<4;he++){for(ct=Q[he],w=[],T=0,$e=r.length,Z=$e-1;T<$e;Z=T++)we=r[T],Ue=r[Z],we._code&ct?Ue._code&ct||(wt=zr(Ue,we,ct,a,f),wt._code=YA(wt,a),w.push(wt)):(Ue._code&ct&&(wt=zr(Ue,we,ct,a,f),wt._code=YA(wt,a),w.push(wt)),w.push(we));r=w}return r}function wi(r,a){var f,w,Q,T,Z,he,we,Ue,$e;if(!r||r.length===0)throw new Error("latlngs not passed");Rn(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var ct=Oe([0,0]),wt=Fe(r),Sn=wt.getNorthWest().distanceTo(wt.getSouthWest())*wt.getNorthEast().distanceTo(wt.getNorthWest());Sn<1700&&(ct=Kr(r));var xn=r.length,yA=[];for(f=0;f<xn;f++){var sA=Oe(r[f]);yA.push(a.project(Oe([sA.lat-ct.lat,sA.lng-ct.lng])))}for(he=we=Ue=0,f=0,w=xn-1;f<xn;w=f++)Q=yA[f],T=yA[w],Z=Q.y*T.x-T.y*Q.x,we+=(Q.x+T.x)*Z,Ue+=(Q.y+T.y)*Z,he+=Z*3;he===0?$e=yA[0]:$e=[we/he,Ue/he];var Fs=a.unproject(K($e));return Oe([Fs.lat+ct.lat,Fs.lng+ct.lng])}function Kr(r){for(var a=0,f=0,w=0,Q=0;Q<r.length;Q++){var T=Oe(r[Q]);a+=T.lat,f+=T.lng,w++}return Oe([a/w,f/w])}var Zo={__proto__:null,clipPolygon:cn,polygonCenter:wi,centroid:Kr};function Vr(r,a){if(!a||!r.length)return r.slice();var f=a*a;return r=Gr(r,f),r=Cs(r,f),r}function mo(r,a,f){return Math.sqrt(Wr(r,a,f,!0))}function Jo(r,a,f){return Wr(r,a,f)}function Cs(r,a){var f=r.length,w=typeof Uint8Array<"u"?Uint8Array:Array,Q=new w(f);Q[0]=Q[f-1]=1,Zi(r,Q,a,0,f-1);var T,Z=[];for(T=0;T<f;T++)Q[T]&&Z.push(r[T]);return Z}function Zi(r,a,f,w,Q){var T=0,Z,he,we;for(he=w+1;he<=Q-1;he++)we=Wr(r[he],r[w],r[Q],!0),we>T&&(Z=he,T=we);T>f&&(a[Z]=1,Zi(r,a,f,w,Z),Zi(r,a,f,Z,Q))}function Gr(r,a){for(var f=[r[0]],w=1,Q=0,T=r.length;w<T;w++)qo(r[w],r[Q])>a&&(f.push(r[w]),Q=w);return Q<T-1&&f.push(r[T-1]),f}var Ji;function xs(r,a,f,w,Q){var T=w?Ji:YA(r,f),Z=YA(a,f),he,we,Ue;for(Ji=Z;;){if(!(T|Z))return[r,a];if(T&Z)return!1;he=T||Z,we=zr(r,a,he,f,Q),Ue=YA(we,f),he===T?(r=we,T=Ue):(a=we,Z=Ue)}}function zr(r,a,f,w,Q){var T=a.x-r.x,Z=a.y-r.y,he=w.min,we=w.max,Ue,$e;return f&8?(Ue=r.x+T*(we.y-r.y)/Z,$e=we.y):f&4?(Ue=r.x+T*(he.y-r.y)/Z,$e=he.y):f&2?(Ue=we.x,$e=r.y+Z*(we.x-r.x)/T):f&1&&(Ue=he.x,$e=r.y+Z*(he.x-r.x)/T),new ge(Ue,$e,Q)}function YA(r,a){var f=0;return r.x<a.min.x?f|=1:r.x>a.max.x&&(f|=2),r.y<a.min.y?f|=4:r.y>a.max.y&&(f|=8),f}function qo(r,a){var f=a.x-r.x,w=a.y-r.y;return f*f+w*w}function Wr(r,a,f,w){var Q=a.x,T=a.y,Z=f.x-Q,he=f.y-T,we=Z*Z+he*he,Ue;return we>0&&(Ue=((r.x-Q)*Z+(r.y-T)*he)/we,Ue>1?(Q=f.x,T=f.y):Ue>0&&(Q+=Z*Ue,T+=he*Ue)),Z=r.x-Q,he=r.y-T,w?Z*Z+he*he:new ge(Q,T)}function Rn(r){return!J(r[0])||typeof r[0][0]!="object"&&typeof r[0][0]<"u"}function qi(r){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Rn(r)}function Xo(r,a){var f,w,Q,T,Z,he,we,Ue;if(!r||r.length===0)throw new Error("latlngs not passed");Rn(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var $e=Oe([0,0]),ct=Fe(r),wt=ct.getNorthWest().distanceTo(ct.getSouthWest())*ct.getNorthEast().distanceTo(ct.getNorthWest());wt<1700&&($e=Kr(r));var Sn=r.length,xn=[];for(f=0;f<Sn;f++){var yA=Oe(r[f]);xn.push(a.project(Oe([yA.lat-$e.lat,yA.lng-$e.lng])))}for(f=0,w=0;f<Sn-1;f++)w+=xn[f].distanceTo(xn[f+1])/2;if(w===0)Ue=xn[0];else for(f=0,T=0;f<Sn-1;f++)if(Z=xn[f],he=xn[f+1],Q=Z.distanceTo(he),T+=Q,T>w){we=(T-w)/Q,Ue=[he.x-we*(he.x-Z.x),he.y-we*(he.y-Z.y)];break}var sA=a.unproject(K(Ue));return Oe([sA.lat+$e.lat,sA.lng+$e.lng])}var bs={__proto__:null,simplify:Vr,pointToSegmentDistance:mo,closestPointOnSegment:Jo,clipSegment:xs,_getEdgeIntersection:zr,_getBitCode:YA,_sqClosestPointOnSegment:Wr,isFlat:Rn,_flat:qi,polylineCenter:Xo},Xi={project:function(r){return new ge(r.lng,r.lat)},unproject:function(r){return new Ne(r.y,r.x)},bounds:new D([-180,-90],[180,90])},vo={R:6378137,R_MINOR:6356752314245179e-9,bounds:new D([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(r){var a=Math.PI/180,f=this.R,w=r.lat*a,Q=this.R_MINOR/f,T=Math.sqrt(1-Q*Q),Z=T*Math.sin(w),he=Math.tan(Math.PI/4-w/2)/Math.pow((1-Z)/(1+Z),T/2);return w=-f*Math.log(Math.max(he,1e-10)),new ge(r.lng*a*f,w)},unproject:function(r){for(var a=180/Math.PI,f=this.R,w=this.R_MINOR/f,Q=Math.sqrt(1-w*w),T=Math.exp(-r.y/f),Z=Math.PI/2-2*Math.atan(T),he=0,we=.1,Ue;he<15&&Math.abs(we)>1e-7;he++)Ue=Q*Math.sin(Z),Ue=Math.pow((1-Ue)/(1+Ue),Q/2),we=Math.PI/2-2*Math.atan(T*Ue)-Z,Z+=we;return new Ne(Z*a,r.x*a/f)}},Yo={__proto__:null,LonLat:Xi,Mercator:vo,SphericalMercator:Ot},Ja=o({},mt,{code:"EPSG:3395",projection:vo,transformation:(function(){var r=.5/(Math.PI*vo.R);return Qt(r,.5,-r,.5)})()}),wo=o({},mt,{code:"EPSG:4326",projection:Xi,transformation:Qt(1/180,1,-1/180,.5)}),ea=o({},At,{projection:Xi,transformation:Qt(1,0,-1,0),scale:function(r){return Math.pow(2,r)},zoom:function(r){return Math.log(r)/Math.LN2},distance:function(r,a){var f=a.lng-r.lng,w=a.lat-r.lat;return Math.sqrt(f*f+w*w)},infinite:!0});At.Earth=mt,At.EPSG3395=Ja,At.EPSG3857=QA,At.EPSG900913=oo,At.EPSG4326=wo,At.Simple=ea;var mA=Qe.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(r){return r.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(r){return r&&r.removeLayer(this),this},getPane:function(r){return this._map.getPane(r?this.options[r]||r:this.options.pane)},addInteractiveTarget:function(r){return this._map._targets[m(r)]=this,this},removeInteractiveTarget:function(r){return delete this._map._targets[m(r)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(r){var a=r.target;if(a.hasLayer(this)){if(this._map=a,this._zoomAnimated=a._zoomAnimated,this.getEvents){var f=this.getEvents();a.on(f,this),this.once("remove",function(){a.off(f,this)},this)}this.onAdd(a),this.fire("add"),a.fire("layeradd",{layer:this})}}});Bt.include({addLayer:function(r){if(!r._layerAdd)throw new Error("The provided object is not a Layer.");var a=m(r);return this._layers[a]?this:(this._layers[a]=r,r._mapToAdd=this,r.beforeAdd&&r.beforeAdd(this),this.whenReady(r._layerAdd,r),this)},removeLayer:function(r){var a=m(r);return this._layers[a]?(this._loaded&&r.onRemove(this),delete this._layers[a],this._loaded&&(this.fire("layerremove",{layer:r}),r.fire("remove")),r._map=r._mapToAdd=null,this):this},hasLayer:function(r){return m(r)in this._layers},eachLayer:function(r,a){for(var f in this._layers)r.call(a,this._layers[f]);return this},_addLayers:function(r){r=r?J(r)?r:[r]:[];for(var a=0,f=r.length;a<f;a++)this.addLayer(r[a])},_addZoomLimit:function(r){(!isNaN(r.options.maxZoom)||!isNaN(r.options.minZoom))&&(this._zoomBoundLayers[m(r)]=r,this._updateZoomLevels())},_removeZoomLimit:function(r){var a=m(r);this._zoomBoundLayers[a]&&(delete this._zoomBoundLayers[a],this._updateZoomLevels())},_updateZoomLevels:function(){var r=1/0,a=-1/0,f=this._getZoomSpan();for(var w in this._zoomBoundLayers){var Q=this._zoomBoundLayers[w].options;r=Q.minZoom===void 0?r:Math.min(r,Q.minZoom),a=Q.maxZoom===void 0?a:Math.max(a,Q.maxZoom)}this._layersMaxZoom=a===-1/0?void 0:a,this._layersMinZoom=r===1/0?void 0:r,f!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var er=mA.extend({initialize:function(r,a){N(this,a),this._layers={};var f,w;if(r)for(f=0,w=r.length;f<w;f++)this.addLayer(r[f])},addLayer:function(r){var a=this.getLayerId(r);return this._layers[a]=r,this._map&&this._map.addLayer(r),this},removeLayer:function(r){var a=r in this._layers?r:this.getLayerId(r);return this._map&&this._layers[a]&&this._map.removeLayer(this._layers[a]),delete this._layers[a],this},hasLayer:function(r){var a=typeof r=="number"?r:this.getLayerId(r);return a in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(r){var a=Array.prototype.slice.call(arguments,1),f,w;for(f in this._layers)w=this._layers[f],w[r]&&w[r].apply(w,a);return this},onAdd:function(r){this.eachLayer(r.addLayer,r)},onRemove:function(r){this.eachLayer(r.removeLayer,r)},eachLayer:function(r,a){for(var f in this._layers)r.call(a,this._layers[f]);return this},getLayer:function(r){return this._layers[r]},getLayers:function(){var r=[];return this.eachLayer(r.push,r),r},setZIndex:function(r){return this.invoke("setZIndex",r)},getLayerId:function(r){return m(r)}}),$r=function(r,a){return new er(r,a)},TA=er.extend({addLayer:function(r){return this.hasLayer(r)?this:(r.addEventParent(this),er.prototype.addLayer.call(this,r),this.fire("layeradd",{layer:r}))},removeLayer:function(r){return this.hasLayer(r)?(r in this._layers&&(r=this._layers[r]),r.removeEventParent(this),er.prototype.removeLayer.call(this,r),this.fire("layerremove",{layer:r})):this},setStyle:function(r){return this.invoke("setStyle",r)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var r=new Ie;for(var a in this._layers){var f=this._layers[a];r.extend(f.getBounds?f.getBounds():f.getLatLng())}return r}}),yo=function(r,a){return new TA(r,a)},Zr=be.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(r){N(this,r)},createIcon:function(r){return this._createIcon("icon",r)},createShadow:function(r){return this._createIcon("shadow",r)},_createIcon:function(r,a){var f=this._getIconUrl(r);if(!f){if(r==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var w=this._createImg(f,a&&a.tagName==="IMG"?a:null);return this._setIconStyles(w,r),(this.options.crossOrigin||this.options.crossOrigin==="")&&(w.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),w},_setIconStyles:function(r,a){var f=this.options,w=f[a+"Size"];typeof w=="number"&&(w=[w,w]);var Q=K(w),T=K(a==="shadow"&&f.shadowAnchor||f.iconAnchor||Q&&Q.divideBy(2,!0));r.className="leaflet-marker-"+a+" "+(f.className||""),T&&(r.style.marginLeft=-T.x+"px",r.style.marginTop=-T.y+"px"),Q&&(r.style.width=Q.x+"px",r.style.height=Q.y+"px")},_createImg:function(r,a){return a=a||document.createElement("img"),a.src=r,a},_getIconUrl:function(r){return tt.retina&&this.options[r+"RetinaUrl"]||this.options[r+"Url"]}});function ta(r){return new Zr(r)}var yi=Zr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(r){return typeof yi.imagePath!="string"&&(yi.imagePath=this._detectIconPath()),(this.options.imagePath||yi.imagePath)+Zr.prototype._getIconUrl.call(this,r)},_stripUrl:function(r){var a=function(f,w,Q){var T=w.exec(f);return T&&T[Q]};return r=a(r,/^url\((['"])?(.+)\1\)$/,2),r&&a(r,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var r=ze("div","leaflet-default-icon-path",document.body),a=fi(r,"background-image")||fi(r,"backgroundImage");if(document.body.removeChild(r),a=this._stripUrl(a),a)return a;var f=document.querySelector('link[href$="leaflet.css"]');return f?f.href.substring(0,f.href.length-11-1):""}}),Bi=Dn.extend({initialize:function(r){this._marker=r},addHooks:function(){var r=this._marker._icon;this._draggable||(this._draggable=new Yn(r,r,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),dt(r,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Tt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(r){var a=this._marker,f=a._map,w=this._marker.options.autoPanSpeed,Q=this._marker.options.autoPanPadding,T=Zn(a._icon),Z=f.getPixelBounds(),he=f.getPixelOrigin(),we=le(Z.min._subtract(he).add(Q),Z.max._subtract(he).subtract(Q));if(!we.contains(T)){var Ue=K((Math.max(we.max.x,T.x)-we.max.x)/(Z.max.x-we.max.x)-(Math.min(we.min.x,T.x)-we.min.x)/(Z.min.x-we.min.x),(Math.max(we.max.y,T.y)-we.max.y)/(Z.max.y-we.max.y)-(Math.min(we.min.y,T.y)-we.min.y)/(Z.min.y-we.min.y)).multiplyBy(w);f.panBy(Ue,{animate:!1}),this._draggable._newPos._add(Ue),this._draggable._startPos._add(Ue),Jt(a._icon,this._draggable._newPos),this._onDrag(r),this._panRequest=Ee(this._adjustPan.bind(this,r))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(r){this._marker.options.autoPan&&(qe(this._panRequest),this._panRequest=Ee(this._adjustPan.bind(this,r)))},_onDrag:function(r){var a=this._marker,f=a._shadow,w=Zn(a._icon),Q=a._map.layerPointToLatLng(w);f&&Jt(f,w),a._latlng=Q,r.latlng=Q,r.oldLatLng=this._oldLatLng,a.fire("move",r).fire("drag",r)},_onDragEnd:function(r){qe(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",r)}}),mn=mA.extend({options:{icon:new yi,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(r,a){N(this,a),this._latlng=Oe(r)},onAdd:function(r){this._zoomAnimated=this._zoomAnimated&&r.options.markerZoomAnimation,this._zoomAnimated&&r.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(r){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&r.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(r){var a=this._latlng;return this._latlng=Oe(r),this.update(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},setZIndexOffset:function(r){return this.options.zIndexOffset=r,this.update()},getIcon:function(){return this.options.icon},setIcon:function(r){return this.options.icon=r,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var r=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(r)}return this},_initIcon:function(){var r=this.options,a="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),f=r.icon.createIcon(this._icon),w=!1;f!==this._icon&&(this._icon&&this._removeIcon(),w=!0,r.title&&(f.title=r.title),f.tagName==="IMG"&&(f.alt=r.alt||"")),dt(f,a),r.keyboard&&(f.tabIndex="0",f.setAttribute("role","button")),this._icon=f,r.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&at(f,"focus",this._panOnFocus,this);var Q=r.icon.createShadow(this._shadow),T=!1;Q!==this._shadow&&(this._removeShadow(),T=!0),Q&&(dt(Q,a),Q.alt=""),this._shadow=Q,r.opacity<1&&this._updateOpacity(),w&&this.getPane().appendChild(this._icon),this._initInteraction(),Q&&T&&this.getPane(r.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&St(this._icon,"focus",this._panOnFocus,this),Dt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Dt(this._shadow),this._shadow=null},_setPos:function(r){this._icon&&Jt(this._icon,r),this._shadow&&Jt(this._shadow,r),this._zIndex=r.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(r){this._icon&&(this._icon.style.zIndex=this._zIndex+r)},_animateZoom:function(r){var a=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center).round();this._setPos(a)},_initInteraction:function(){if(this.options.interactive&&(dt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Bi)){var r=this.options.draggable;this.dragging&&(r=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Bi(this),r&&this.dragging.enable()}},setOpacity:function(r){return this.options.opacity=r,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var r=this.options.opacity;this._icon&&Cn(this._icon,r),this._shadow&&Cn(this._shadow,r)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var r=this._map;if(r){var a=this.options.icon.options,f=a.iconSize?K(a.iconSize):K(0,0),w=a.iconAnchor?K(a.iconAnchor):K(0,0);r.panInside(this._latlng,{paddingTopLeft:w,paddingBottomRight:f.subtract(w)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Xt(r,a){return new mn(r,a)}var vA=mA.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(r){this._renderer=r.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(r){return N(this,r),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&r&&Object.prototype.hasOwnProperty.call(r,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Fn=vA.extend({options:{fill:!0,radius:10},initialize:function(r,a){N(this,a),this._latlng=Oe(r),this._radius=this.options.radius},setLatLng:function(r){var a=this._latlng;return this._latlng=Oe(r),this.redraw(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(r){return this.options.radius=this._radius=r,this.redraw()},getRadius:function(){return this._radius},setStyle:function(r){var a=r&&r.radius||this._radius;return vA.prototype.setStyle.call(this,r),this.setRadius(a),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var r=this._radius,a=this._radiusY||r,f=this._clickTolerance(),w=[r+f,a+f];this._pxBounds=new D(this._point.subtract(w),this._point.add(w))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(r){return r.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function na(r,a){return new Fn(r,a)}var _i=Fn.extend({initialize:function(r,a,f){if(typeof a=="number"&&(a=o({},f,{radius:a})),N(this,a),this._latlng=Oe(r),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(r){return this._mRadius=r,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var r=[this._radius,this._radiusY||this._radius];return new Ie(this._map.layerPointToLatLng(this._point.subtract(r)),this._map.layerPointToLatLng(this._point.add(r)))},setStyle:vA.prototype.setStyle,_project:function(){var r=this._latlng.lng,a=this._latlng.lat,f=this._map,w=f.options.crs;if(w.distance===mt.distance){var Q=Math.PI/180,T=this._mRadius/mt.R/Q,Z=f.project([a+T,r]),he=f.project([a-T,r]),we=Z.add(he).divideBy(2),Ue=f.unproject(we).lat,$e=Math.acos((Math.cos(T*Q)-Math.sin(a*Q)*Math.sin(Ue*Q))/(Math.cos(a*Q)*Math.cos(Ue*Q)))/Q;(isNaN($e)||$e===0)&&($e=T/Math.cos(Math.PI/180*a)),this._point=we.subtract(f.getPixelOrigin()),this._radius=isNaN($e)?0:we.x-f.project([Ue,r-$e]).x,this._radiusY=we.y-Z.y}else{var ct=w.unproject(w.project(this._latlng).subtract([this._mRadius,0]));this._point=f.latLngToLayerPoint(this._latlng),this._radius=this._point.x-f.latLngToLayerPoint(ct).x}this._updateBounds()}});function Ci(r,a,f){return new _i(r,a,f)}var rn=vA.extend({options:{smoothFactor:1,noClip:!1},initialize:function(r,a){N(this,a),this._setLatLngs(r)},getLatLngs:function(){return this._latlngs},setLatLngs:function(r){return this._setLatLngs(r),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(r){for(var a=1/0,f=null,w=Wr,Q,T,Z=0,he=this._parts.length;Z<he;Z++)for(var we=this._parts[Z],Ue=1,$e=we.length;Ue<$e;Ue++){Q=we[Ue-1],T=we[Ue];var ct=w(r,Q,T,!0);ct<a&&(a=ct,f=w(r,Q,T))}return f&&(f.distance=Math.sqrt(a)),f},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Xo(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(r,a){return a=a||this._defaultShape(),r=Oe(r),a.push(r),this._bounds.extend(r),this.redraw()},_setLatLngs:function(r){this._bounds=new Ie,this._latlngs=this._convertLatLngs(r)},_defaultShape:function(){return Rn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(r){for(var a=[],f=Rn(r),w=0,Q=r.length;w<Q;w++)f?(a[w]=Oe(r[w]),this._bounds.extend(a[w])):a[w]=this._convertLatLngs(r[w]);return a},_project:function(){var r=new D;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,r),this._bounds.isValid()&&r.isValid()&&(this._rawPxBounds=r,this._updateBounds())},_updateBounds:function(){var r=this._clickTolerance(),a=new ge(r,r);this._rawPxBounds&&(this._pxBounds=new D([this._rawPxBounds.min.subtract(a),this._rawPxBounds.max.add(a)]))},_projectLatlngs:function(r,a,f){var w=r[0]instanceof Ne,Q=r.length,T,Z;if(w){for(Z=[],T=0;T<Q;T++)Z[T]=this._map.latLngToLayerPoint(r[T]),f.extend(Z[T]);a.push(Z)}else for(T=0;T<Q;T++)this._projectLatlngs(r[T],a,f)},_clipPoints:function(){var r=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}var a=this._parts,f,w,Q,T,Z,he,we;for(f=0,Q=0,T=this._rings.length;f<T;f++)for(we=this._rings[f],w=0,Z=we.length;w<Z-1;w++)he=xs(we[w],we[w+1],r,w,!0),he&&(a[Q]=a[Q]||[],a[Q].push(he[0]),(he[1]!==we[w+1]||w===Z-2)&&(a[Q].push(he[1]),Q++))}},_simplifyPoints:function(){for(var r=this._parts,a=this.options.smoothFactor,f=0,w=r.length;f<w;f++)r[f]=Vr(r[f],a)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(r,a){var f,w,Q,T,Z,he,we=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(f=0,T=this._parts.length;f<T;f++)for(he=this._parts[f],w=0,Z=he.length,Q=Z-1;w<Z;Q=w++)if(!(!a&&w===0)&&mo(r,he[Q],he[w])<=we)return!0;return!1}});function Bo(r,a){return new rn(r,a)}rn._flat=qi;var Mn=rn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return wi(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(r){var a=rn.prototype._convertLatLngs.call(this,r),f=a.length;return f>=2&&a[0]instanceof Ne&&a[0].equals(a[f-1])&&a.pop(),a},_setLatLngs:function(r){rn.prototype._setLatLngs.call(this,r),Rn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Rn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var r=this._renderer._bounds,a=this.options.weight,f=new ge(a,a);if(r=new D(r.min.subtract(f),r.max.add(f)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}for(var w=0,Q=this._rings.length,T;w<Q;w++)T=cn(this._rings[w],r,!0),T.length&&this._parts.push(T)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(r){var a=!1,f,w,Q,T,Z,he,we,Ue;if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(T=0,we=this._parts.length;T<we;T++)for(f=this._parts[T],Z=0,Ue=f.length,he=Ue-1;Z<Ue;he=Z++)w=f[Z],Q=f[he],w.y>r.y!=Q.y>r.y&&r.x<(Q.x-w.x)*(r.y-w.y)/(Q.y-w.y)+w.x&&(a=!a);return a||rn.prototype._containsPoint.call(this,r,!0)}});function yr(r,a){return new Mn(r,a)}var wA=TA.extend({initialize:function(r,a){N(this,a),this._layers={},r&&this.addData(r)},addData:function(r){var a=J(r)?r:r.features,f,w,Q;if(a){for(f=0,w=a.length;f<w;f++)Q=a[f],(Q.geometries||Q.geometry||Q.features||Q.coordinates)&&this.addData(Q);return this}var T=this.options;if(T.filter&&!T.filter(r))return this;var Z=h(r,T);return Z?(Z.feature=z(r),Z.defaultOptions=Z.options,this.resetStyle(Z),T.onEachFeature&&T.onEachFeature(r,Z),this.addLayer(Z)):this},resetStyle:function(r){return r===void 0?this.eachLayer(this.resetStyle,this):(r.options=o({},r.defaultOptions),this._setLayerStyle(r,this.options.style),this)},setStyle:function(r){return this.eachLayer(function(a){this._setLayerStyle(a,r)},this)},_setLayerStyle:function(r,a){r.setStyle&&(typeof a=="function"&&(a=a(r.feature)),r.setStyle(a))}});function h(r,a){var f=r.type==="Feature"?r.geometry:r,w=f?f.coordinates:null,Q=[],T=a&&a.pointToLayer,Z=a&&a.coordsToLatLng||_,he,we,Ue,$e;if(!w&&!f)return null;switch(f.type){case"Point":return he=Z(w),v(T,r,he,a);case"MultiPoint":for(Ue=0,$e=w.length;Ue<$e;Ue++)he=Z(w[Ue]),Q.push(v(T,r,he,a));return new TA(Q);case"LineString":case"MultiLineString":return we=U(w,f.type==="LineString"?0:1,Z),new rn(we,a);case"Polygon":case"MultiPolygon":return we=U(w,f.type==="Polygon"?1:2,Z),new Mn(we,a);case"GeometryCollection":for(Ue=0,$e=f.geometries.length;Ue<$e;Ue++){var ct=h({geometry:f.geometries[Ue],type:"Feature",properties:r.properties},a);ct&&Q.push(ct)}return new TA(Q);case"FeatureCollection":for(Ue=0,$e=f.features.length;Ue<$e;Ue++){var wt=h(f.features[Ue],a);wt&&Q.push(wt)}return new TA(Q);default:throw new Error("Invalid GeoJSON object.")}}function v(r,a,f,w){return r?r(a,f):new mn(f,w&&w.markersInheritOptions&&w)}function _(r){return new Ne(r[1],r[0],r[2])}function U(r,a,f){for(var w=[],Q=0,T=r.length,Z;Q<T;Q++)Z=a?U(r[Q],a-1,f):(f||_)(r[Q]),w.push(Z);return w}function E(r,a){return r=Oe(r),r.alt!==void 0?[F(r.lng,a),F(r.lat,a),F(r.alt,a)]:[F(r.lng,a),F(r.lat,a)]}function k(r,a,f,w){for(var Q=[],T=0,Z=r.length;T<Z;T++)Q.push(a?k(r[T],Rn(r[T])?0:a-1,f,w):E(r[T],w));return!a&&f&&Q.length>0&&Q.push(Q[0].slice()),Q}function H(r,a){return r.feature?o({},r.feature,{geometry:a}):z(a)}function z(r){return r.type==="Feature"||r.type==="FeatureCollection"?r:{type:"Feature",properties:{},geometry:r}}var Y={toGeoJSON:function(r){return H(this,{type:"Point",coordinates:E(this.getLatLng(),r)})}};mn.include(Y),_i.include(Y),Fn.include(Y),rn.include({toGeoJSON:function(r){var a=!Rn(this._latlngs),f=k(this._latlngs,a?1:0,!1,r);return H(this,{type:(a?"Multi":"")+"LineString",coordinates:f})}}),Mn.include({toGeoJSON:function(r){var a=!Rn(this._latlngs),f=a&&!Rn(this._latlngs[0]),w=k(this._latlngs,f?2:a?1:0,!0,r);return a||(w=[w]),H(this,{type:(f?"Multi":"")+"Polygon",coordinates:w})}}),er.include({toMultiPoint:function(r){var a=[];return this.eachLayer(function(f){a.push(f.toGeoJSON(r).geometry.coordinates)}),H(this,{type:"MultiPoint",coordinates:a})},toGeoJSON:function(r){var a=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(a==="MultiPoint")return this.toMultiPoint(r);var f=a==="GeometryCollection",w=[];return this.eachLayer(function(Q){if(Q.toGeoJSON){var T=Q.toGeoJSON(r);if(f)w.push(T.geometry);else{var Z=z(T);Z.type==="FeatureCollection"?w.push.apply(w,Z.features):w.push(Z)}}}),f?H(this,{geometries:w,type:"GeometryCollection"}):{type:"FeatureCollection",features:w}}});function ne(r,a){return new wA(r,a)}var re=ne,W=mA.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(r,a,f){this._url=r,this._bounds=Fe(a),N(this,f)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(dt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Dt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(r){return this.options.opacity=r,this._image&&this._updateOpacity(),this},setStyle:function(r){return r.opacity&&this.setOpacity(r.opacity),this},bringToFront:function(){return this._map&&JA(this._image),this},bringToBack:function(){return this._map&&IA(this._image),this},setUrl:function(r){return this._url=r,this._image&&(this._image.src=r),this},setBounds:function(r){return this._bounds=Fe(r),this._map&&this._reset(),this},getEvents:function(){var r={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var r=this._url.tagName==="IMG",a=this._image=r?this._url:ze("img");if(dt(a,"leaflet-image-layer"),this._zoomAnimated&&dt(a,"leaflet-zoom-animated"),this.options.className&&dt(a,this.options.className),a.onselectstart=b,a.onmousemove=b,a.onload=d(this.fire,this,"load"),a.onerror=d(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),r){this._url=a.src;return}a.src=this._url,a.alt=this.options.alt},_animateZoom:function(r){var a=this._map.getZoomScale(r.zoom),f=this._map._latLngBoundsToNewLayerBounds(this._bounds,r.zoom,r.center).min;Hn(this._image,f,a)},_reset:function(){var r=this._image,a=new D(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),f=a.getSize();Jt(r,a.min),r.style.width=f.x+"px",r.style.height=f.y+"px"},_updateOpacity:function(){Cn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var r=this.options.errorOverlayUrl;r&&this._url!==r&&(this._url=r,this._image.src=r)},getCenter:function(){return this._bounds.getCenter()}}),de=function(r,a,f){return new W(r,a,f)},te=W.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var r=this._url.tagName==="VIDEO",a=this._image=r?this._url:ze("video");if(dt(a,"leaflet-image-layer"),this._zoomAnimated&&dt(a,"leaflet-zoom-animated"),this.options.className&&dt(a,this.options.className),a.onselectstart=b,a.onmousemove=b,a.onloadeddata=d(this.fire,this,"load"),r){for(var f=a.getElementsByTagName("source"),w=[],Q=0;Q<f.length;Q++)w.push(f[Q].src);this._url=f.length>0?w:[a.src];return}J(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(a.style,"objectFit")&&(a.style.objectFit="fill"),a.autoplay=!!this.options.autoplay,a.loop=!!this.options.loop,a.muted=!!this.options.muted,a.playsInline=!!this.options.playsInline;for(var T=0;T<this._url.length;T++){var Z=ze("source");Z.src=this._url[T],a.appendChild(Z)}}});function oe(r,a,f){return new te(r,a,f)}var ue=W.extend({_initImage:function(){var r=this._image=this._url;dt(r,"leaflet-image-layer"),this._zoomAnimated&&dt(r,"leaflet-zoom-animated"),this.options.className&&dt(r,this.options.className),r.onselectstart=b,r.onmousemove=b}});function ae(r,a,f){return new ue(r,a,f)}var ce=mA.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(r,a){r&&(r instanceof Ne||J(r))?(this._latlng=Oe(r),N(this,a)):(N(this,r),this._source=a),this.options.content&&(this._content=this.options.content)},openOn:function(r){return r=arguments.length?r:this._source._map,r.hasLayer(this)||r.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(r){return this._map?this.close():(arguments.length?this._source=r:r=this._source,this._prepareOpen(),this.openOn(r._map)),this},onAdd:function(r){this._zoomAnimated=r._zoomAnimated,this._container||this._initLayout(),r._fadeAnimated&&Cn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),r._fadeAnimated&&Cn(this._container,1),this.bringToFront(),this.options.interactive&&(dt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(r){r._fadeAnimated?(Cn(this._container,0),this._removeTimeout=setTimeout(d(Dt,void 0,this._container),200)):Dt(this._container),this.options.interactive&&(Tt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(r){return this._latlng=Oe(r),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(r){return this._content=r,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var r={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&JA(this._container),this},bringToBack:function(){return this._map&&IA(this._container),this},_prepareOpen:function(r){var a=this._source;if(!a._map)return!1;if(a instanceof TA){a=null;var f=this._source._layers;for(var w in f)if(f[w]._map){a=f[w];break}if(!a)return!1;this._source=a}if(!r)if(a.getCenter)r=a.getCenter();else if(a.getLatLng)r=a.getLatLng();else if(a.getBounds)r=a.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(r),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var r=this._contentNode,a=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof a=="string")r.innerHTML=a;else{for(;r.hasChildNodes();)r.removeChild(r.firstChild);r.appendChild(a)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var r=this._map.latLngToLayerPoint(this._latlng),a=K(this.options.offset),f=this._getAnchor();this._zoomAnimated?Jt(this._container,r.add(f)):a=a.add(r).add(f);var w=this._containerBottom=-a.y,Q=this._containerLeft=-Math.round(this._containerWidth/2)+a.x;this._container.style.bottom=w+"px",this._container.style.left=Q+"px"}},_getAnchor:function(){return[0,0]}});Bt.include({_initOverlay:function(r,a,f,w){var Q=a;return Q instanceof r||(Q=new r(w).setContent(a)),f&&Q.setLatLng(f),Q}}),mA.include({_initOverlay:function(r,a,f,w){var Q=f;return Q instanceof r?(N(Q,w),Q._source=this):(Q=a&&!w?a:new r(w,this),Q.setContent(f)),Q}});var ye=ce.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(r){return r=arguments.length?r:this._source._map,!r.hasLayer(this)&&r._popup&&r._popup.options.autoClose&&r.removeLayer(r._popup),r._popup=this,ce.prototype.openOn.call(this,r)},onAdd:function(r){ce.prototype.onAdd.call(this,r),r.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof vA||this._source.on("preclick",iA))},onRemove:function(r){ce.prototype.onRemove.call(this,r),r.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof vA||this._source.off("preclick",iA))},getEvents:function(){var r=ce.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(r.preclick=this.close),this.options.keepInView&&(r.moveend=this._adjustPan),r},_initLayout:function(){var r="leaflet-popup",a=this._container=ze("div",r+" "+(this.options.className||"")+" leaflet-zoom-animated"),f=this._wrapper=ze("div",r+"-content-wrapper",a);if(this._contentNode=ze("div",r+"-content",f),Hr(a),Mi(this._contentNode),at(a,"contextmenu",iA),this._tipContainer=ze("div",r+"-tip-container",a),this._tip=ze("div",r+"-tip",this._tipContainer),this.options.closeButton){var w=this._closeButton=ze("a",r+"-close-button",a);w.setAttribute("role","button"),w.setAttribute("aria-label","Close popup"),w.href="#close",w.innerHTML='<span aria-hidden="true">&#215;</span>',at(w,"click",function(Q){Ht(Q),this.close()},this)}},_updateLayout:function(){var r=this._contentNode,a=r.style;a.width="",a.whiteSpace="nowrap";var f=r.offsetWidth;f=Math.min(f,this.options.maxWidth),f=Math.max(f,this.options.minWidth),a.width=f+1+"px",a.whiteSpace="",a.height="";var w=r.offsetHeight,Q=this.options.maxHeight,T="leaflet-popup-scrolled";Q&&w>Q?(a.height=Q+"px",dt(r,T)):Tt(r,T),this._containerWidth=this._container.offsetWidth},_animateZoom:function(r){var a=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center),f=this._getAnchor();Jt(this._container,a.add(f))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var r=this._map,a=parseInt(fi(this._container,"marginBottom"),10)||0,f=this._container.offsetHeight+a,w=this._containerWidth,Q=new ge(this._containerLeft,-f-this._containerBottom);Q._add(Zn(this._container));var T=r.layerPointToContainerPoint(Q),Z=K(this.options.autoPanPadding),he=K(this.options.autoPanPaddingTopLeft||Z),we=K(this.options.autoPanPaddingBottomRight||Z),Ue=r.getSize(),$e=0,ct=0;T.x+w+we.x>Ue.x&&($e=T.x+w-Ue.x+we.x),T.x-$e-he.x<0&&($e=T.x-he.x),T.y+f+we.y>Ue.y&&(ct=T.y+f-Ue.y+we.y),T.y-ct-he.y<0&&(ct=T.y-he.y),($e||ct)&&(this.options.keepInView&&(this._autopanning=!0),r.fire("autopanstart").panBy([$e,ct]))}},_getAnchor:function(){return K(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),_e=function(r,a){return new ye(r,a)};Bt.mergeOptions({closePopupOnClick:!0}),Bt.include({openPopup:function(r,a,f){return this._initOverlay(ye,r,a,f).openOn(this),this},closePopup:function(r){return r=arguments.length?r:this._popup,r&&r.close(),this}}),mA.include({bindPopup:function(r,a){return this._popup=this._initOverlay(ye,this._popup,r,a),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(r){return this._popup&&(this instanceof TA||(this._popup._source=this),this._popup._prepareOpen(r||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(r){return this._popup&&this._popup.setContent(r),this},getPopup:function(){return this._popup},_openPopup:function(r){if(!(!this._popup||!this._map)){qn(r);var a=r.layer||r.target;if(this._popup._source===a&&!(a instanceof vA)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(r.latlng);return}this._popup._source=a,this.openPopup(r.latlng)}},_movePopup:function(r){this._popup.setLatLng(r.latlng)},_onKeyPress:function(r){r.originalEvent.keyCode===13&&this._openPopup(r)}});var Ce=ce.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(r){ce.prototype.onAdd.call(this,r),this.setOpacity(this.options.opacity),r.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(r){ce.prototype.onRemove.call(this,r),r.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var r=ce.prototype.getEvents.call(this);return this.options.permanent||(r.preclick=this.close),r},_initLayout:function(){var r="leaflet-tooltip",a=r+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ze("div",a),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+m(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(r){var a,f,w=this._map,Q=this._container,T=w.latLngToContainerPoint(w.getCenter()),Z=w.layerPointToContainerPoint(r),he=this.options.direction,we=Q.offsetWidth,Ue=Q.offsetHeight,$e=K(this.options.offset),ct=this._getAnchor();he==="top"?(a=we/2,f=Ue):he==="bottom"?(a=we/2,f=0):he==="center"?(a=we/2,f=Ue/2):he==="right"?(a=0,f=Ue/2):he==="left"?(a=we,f=Ue/2):Z.x<T.x?(he="right",a=0,f=Ue/2):(he="left",a=we+($e.x+ct.x)*2,f=Ue/2),r=r.subtract(K(a,f,!0)).add($e).add(ct),Tt(Q,"leaflet-tooltip-right"),Tt(Q,"leaflet-tooltip-left"),Tt(Q,"leaflet-tooltip-top"),Tt(Q,"leaflet-tooltip-bottom"),dt(Q,"leaflet-tooltip-"+he),Jt(Q,r)},_updatePosition:function(){var r=this._map.latLngToLayerPoint(this._latlng);this._setPosition(r)},setOpacity:function(r){this.options.opacity=r,this._container&&Cn(this._container,r)},_animateZoom:function(r){var a=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center);this._setPosition(a)},_getAnchor:function(){return K(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Se=function(r,a){return new Ce(r,a)};Bt.include({openTooltip:function(r,a,f){return this._initOverlay(Ce,r,a,f).openOn(this),this},closeTooltip:function(r){return r.close(),this}}),mA.include({bindTooltip:function(r,a){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ce,this._tooltip,r,a),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(r){if(!(!r&&this._tooltipHandlersAdded)){var a=r?"off":"on",f={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?f.add=this._openTooltip:(f.mouseover=this._openTooltip,f.mouseout=this.closeTooltip,f.click=this._openTooltip,this._map?this._addFocusListeners():f.add=this._addFocusListeners),this._tooltip.options.sticky&&(f.mousemove=this._moveTooltip),this[a](f),this._tooltipHandlersAdded=!r}},openTooltip:function(r){return this._tooltip&&(this instanceof TA||(this._tooltip._source=this),this._tooltip._prepareOpen(r)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(r){return this._tooltip&&this._tooltip.setContent(r),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(r){var a=typeof r.getElement=="function"&&r.getElement();a&&(at(a,"focus",function(){this._tooltip._source=r,this.openTooltip()},this),at(a,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(r){var a=typeof r.getElement=="function"&&r.getElement();a&&a.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(r){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var a=this;this._map.once("moveend",function(){a._openOnceFlag=!1,a._openTooltip(r)});return}this._tooltip._source=r.layer||r.target,this.openTooltip(this._tooltip.options.sticky?r.latlng:void 0)}},_moveTooltip:function(r){var a=r.latlng,f,w;this._tooltip.options.sticky&&r.originalEvent&&(f=this._map.mouseEventToContainerPoint(r.originalEvent),w=this._map.containerPointToLayerPoint(f),a=this._map.layerPointToLatLng(w)),this._tooltip.setLatLng(a)}});var Re=Zr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(r){var a=r&&r.tagName==="DIV"?r:document.createElement("div"),f=this.options;if(f.html instanceof Element?(Oi(a),a.appendChild(f.html)):a.innerHTML=f.html!==!1?f.html:"",f.bgPos){var w=K(f.bgPos);a.style.backgroundPosition=-w.x+"px "+-w.y+"px"}return this._setIconStyles(a,"icon"),a},createShadow:function(){return null}});function He(r){return new Re(r)}Zr.Default=yi;var Te=mA.extend({options:{tileSize:256,opacity:1,updateWhenIdle:tt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(r){N(this,r)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(r){r._addZoomLimit(this)},onRemove:function(r){this._removeAllTiles(),Dt(this._container),r._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(JA(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(IA(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(r){return this.options.opacity=r,this._updateOpacity(),this},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var r=this._clampZoom(this._map.getZoom());r!==this._tileZoom&&(this._tileZoom=r,this._updateLevels()),this._update()}return this},getEvents:function(){var r={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=B(this._onMoveEnd,this.options.updateInterval,this)),r.move=this._onMove),this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},createTile:function(){return document.createElement("div")},getTileSize:function(){var r=this.options.tileSize;return r instanceof ge?r:new ge(r,r)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(r){for(var a=this.getPane().children,f=-r(-1/0,1/0),w=0,Q=a.length,T;w<Q;w++)T=a[w].style.zIndex,a[w]!==this._container&&T&&(f=r(f,+T));isFinite(f)&&(this.options.zIndex=f+r(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!tt.ielt9){Cn(this._container,this.options.opacity);var r=+new Date,a=!1,f=!1;for(var w in this._tiles){var Q=this._tiles[w];if(!(!Q.current||!Q.loaded)){var T=Math.min(1,(r-Q.loaded)/200);Cn(Q.el,T),T<1?a=!0:(Q.active?f=!0:this._onOpaqueTile(Q),Q.active=!0)}}f&&!this._noPrune&&this._pruneTiles(),a&&(qe(this._fadeFrame),this._fadeFrame=Ee(this._updateOpacity,this))}},_onOpaqueTile:b,_initContainer:function(){this._container||(this._container=ze("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var r=this._tileZoom,a=this.options.maxZoom;if(r!==void 0){for(var f in this._levels)f=Number(f),this._levels[f].el.children.length||f===r?(this._levels[f].el.style.zIndex=a-Math.abs(r-f),this._onUpdateLevel(f)):(Dt(this._levels[f].el),this._removeTilesAtZoom(f),this._onRemoveLevel(f),delete this._levels[f]);var w=this._levels[r],Q=this._map;return w||(w=this._levels[r]={},w.el=ze("div","leaflet-tile-container leaflet-zoom-animated",this._container),w.el.style.zIndex=a,w.origin=Q.project(Q.unproject(Q.getPixelOrigin()),r).round(),w.zoom=r,this._setZoomTransform(w,Q.getCenter(),Q.getZoom()),b(w.el.offsetWidth),this._onCreateLevel(w)),this._level=w,w}},_onUpdateLevel:b,_onRemoveLevel:b,_onCreateLevel:b,_pruneTiles:function(){if(this._map){var r,a,f=this._map.getZoom();if(f>this.options.maxZoom||f<this.options.minZoom){this._removeAllTiles();return}for(r in this._tiles)a=this._tiles[r],a.retain=a.current;for(r in this._tiles)if(a=this._tiles[r],a.current&&!a.active){var w=a.coords;this._retainParent(w.x,w.y,w.z,w.z-5)||this._retainChildren(w.x,w.y,w.z,w.z+2)}for(r in this._tiles)this._tiles[r].retain||this._removeTile(r)}},_removeTilesAtZoom:function(r){for(var a in this._tiles)this._tiles[a].coords.z===r&&this._removeTile(a)},_removeAllTiles:function(){for(var r in this._tiles)this._removeTile(r)},_invalidateAll:function(){for(var r in this._levels)Dt(this._levels[r].el),this._onRemoveLevel(Number(r)),delete this._levels[r];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(r,a,f,w){var Q=Math.floor(r/2),T=Math.floor(a/2),Z=f-1,he=new ge(+Q,+T);he.z=+Z;var we=this._tileCoordsToKey(he),Ue=this._tiles[we];return Ue&&Ue.active?(Ue.retain=!0,!0):(Ue&&Ue.loaded&&(Ue.retain=!0),Z>w?this._retainParent(Q,T,Z,w):!1)},_retainChildren:function(r,a,f,w){for(var Q=2*r;Q<2*r+2;Q++)for(var T=2*a;T<2*a+2;T++){var Z=new ge(Q,T);Z.z=f+1;var he=this._tileCoordsToKey(Z),we=this._tiles[he];if(we&&we.active){we.retain=!0;continue}else we&&we.loaded&&(we.retain=!0);f+1<w&&this._retainChildren(Q,T,f+1,w)}},_resetView:function(r){var a=r&&(r.pinch||r.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),a,a)},_animateZoom:function(r){this._setView(r.center,r.zoom,!0,r.noUpdate)},_clampZoom:function(r){var a=this.options;return a.minNativeZoom!==void 0&&r<a.minNativeZoom?a.minNativeZoom:a.maxNativeZoom!==void 0&&a.maxNativeZoom<r?a.maxNativeZoom:r},_setView:function(r,a,f,w){var Q=Math.round(a);this.options.maxZoom!==void 0&&Q>this.options.maxZoom||this.options.minZoom!==void 0&&Q<this.options.minZoom?Q=void 0:Q=this._clampZoom(Q);var T=this.options.updateWhenZooming&&Q!==this._tileZoom;(!w||T)&&(this._tileZoom=Q,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),Q!==void 0&&this._update(r),f||this._pruneTiles(),this._noPrune=!!f),this._setZoomTransforms(r,a)},_setZoomTransforms:function(r,a){for(var f in this._levels)this._setZoomTransform(this._levels[f],r,a)},_setZoomTransform:function(r,a,f){var w=this._map.getZoomScale(f,r.zoom),Q=r.origin.multiplyBy(w).subtract(this._map._getNewPixelOrigin(a,f)).round();tt.any3d?Hn(r.el,Q,w):Jt(r.el,Q)},_resetGrid:function(){var r=this._map,a=r.options.crs,f=this._tileSize=this.getTileSize(),w=this._tileZoom,Q=this._map.getPixelWorldBounds(this._tileZoom);Q&&(this._globalTileRange=this._pxBoundsToTileRange(Q)),this._wrapX=a.wrapLng&&!this.options.noWrap&&[Math.floor(r.project([0,a.wrapLng[0]],w).x/f.x),Math.ceil(r.project([0,a.wrapLng[1]],w).x/f.y)],this._wrapY=a.wrapLat&&!this.options.noWrap&&[Math.floor(r.project([a.wrapLat[0],0],w).y/f.x),Math.ceil(r.project([a.wrapLat[1],0],w).y/f.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(r){var a=this._map,f=a._animatingZoom?Math.max(a._animateToZoom,a.getZoom()):a.getZoom(),w=a.getZoomScale(f,this._tileZoom),Q=a.project(r,this._tileZoom).floor(),T=a.getSize().divideBy(w*2);return new D(Q.subtract(T),Q.add(T))},_update:function(r){var a=this._map;if(a){var f=this._clampZoom(a.getZoom());if(r===void 0&&(r=a.getCenter()),this._tileZoom!==void 0){var w=this._getTiledPixelBounds(r),Q=this._pxBoundsToTileRange(w),T=Q.getCenter(),Z=[],he=this.options.keepBuffer,we=new D(Q.getBottomLeft().subtract([he,-he]),Q.getTopRight().add([he,-he]));if(!(isFinite(Q.min.x)&&isFinite(Q.min.y)&&isFinite(Q.max.x)&&isFinite(Q.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Ue in this._tiles){var $e=this._tiles[Ue].coords;($e.z!==this._tileZoom||!we.contains(new ge($e.x,$e.y)))&&(this._tiles[Ue].current=!1)}if(Math.abs(f-this._tileZoom)>1){this._setView(r,f);return}for(var ct=Q.min.y;ct<=Q.max.y;ct++)for(var wt=Q.min.x;wt<=Q.max.x;wt++){var Sn=new ge(wt,ct);if(Sn.z=this._tileZoom,!!this._isValidTile(Sn)){var xn=this._tiles[this._tileCoordsToKey(Sn)];xn?xn.current=!0:Z.push(Sn)}}if(Z.sort(function(sA,Fs){return sA.distanceTo(T)-Fs.distanceTo(T)}),Z.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var yA=document.createDocumentFragment();for(wt=0;wt<Z.length;wt++)this._addTile(Z[wt],yA);this._level.el.appendChild(yA)}}}},_isValidTile:function(r){var a=this._map.options.crs;if(!a.infinite){var f=this._globalTileRange;if(!a.wrapLng&&(r.x<f.min.x||r.x>f.max.x)||!a.wrapLat&&(r.y<f.min.y||r.y>f.max.y))return!1}if(!this.options.bounds)return!0;var w=this._tileCoordsToBounds(r);return Fe(this.options.bounds).overlaps(w)},_keyToBounds:function(r){return this._tileCoordsToBounds(this._keyToTileCoords(r))},_tileCoordsToNwSe:function(r){var a=this._map,f=this.getTileSize(),w=r.scaleBy(f),Q=w.add(f),T=a.unproject(w,r.z),Z=a.unproject(Q,r.z);return[T,Z]},_tileCoordsToBounds:function(r){var a=this._tileCoordsToNwSe(r),f=new Ie(a[0],a[1]);return this.options.noWrap||(f=this._map.wrapLatLngBounds(f)),f},_tileCoordsToKey:function(r){return r.x+":"+r.y+":"+r.z},_keyToTileCoords:function(r){var a=r.split(":"),f=new ge(+a[0],+a[1]);return f.z=+a[2],f},_removeTile:function(r){var a=this._tiles[r];a&&(Dt(a.el),delete this._tiles[r],this.fire("tileunload",{tile:a.el,coords:this._keyToTileCoords(r)}))},_initTile:function(r){dt(r,"leaflet-tile");var a=this.getTileSize();r.style.width=a.x+"px",r.style.height=a.y+"px",r.onselectstart=b,r.onmousemove=b,tt.ielt9&&this.options.opacity<1&&Cn(r,this.options.opacity)},_addTile:function(r,a){var f=this._getTilePos(r),w=this._tileCoordsToKey(r),Q=this.createTile(this._wrapCoords(r),d(this._tileReady,this,r));this._initTile(Q),this.createTile.length<2&&Ee(d(this._tileReady,this,r,null,Q)),Jt(Q,f),this._tiles[w]={el:Q,coords:r,current:!0},a.appendChild(Q),this.fire("tileloadstart",{tile:Q,coords:r})},_tileReady:function(r,a,f){a&&this.fire("tileerror",{error:a,tile:f,coords:r});var w=this._tileCoordsToKey(r);f=this._tiles[w],f&&(f.loaded=+new Date,this._map._fadeAnimated?(Cn(f.el,0),qe(this._fadeFrame),this._fadeFrame=Ee(this._updateOpacity,this)):(f.active=!0,this._pruneTiles()),a||(dt(f.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:f.el,coords:r})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),tt.ielt9||!this._map._fadeAnimated?Ee(this._pruneTiles,this):setTimeout(d(this._pruneTiles,this),250)))},_getTilePos:function(r){return r.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(r){var a=new ge(this._wrapX?C(r.x,this._wrapX):r.x,this._wrapY?C(r.y,this._wrapY):r.y);return a.z=r.z,a},_pxBoundsToTileRange:function(r){var a=this.getTileSize();return new D(r.min.unscaleBy(a).floor(),r.max.unscaleBy(a).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var r in this._tiles)if(!this._tiles[r].loaded)return!1;return!0}});function Ve(r){return new Te(r)}var Ke=Te.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(r,a){this._url=r,a=N(this,a),a.detectRetina&&tt.retina&&a.maxZoom>0?(a.tileSize=Math.floor(a.tileSize/2),a.zoomReverse?(a.zoomOffset--,a.minZoom=Math.min(a.maxZoom,a.minZoom+1)):(a.zoomOffset++,a.maxZoom=Math.max(a.minZoom,a.maxZoom-1)),a.minZoom=Math.max(0,a.minZoom)):a.zoomReverse?a.minZoom=Math.min(a.maxZoom,a.minZoom):a.maxZoom=Math.max(a.minZoom,a.maxZoom),typeof a.subdomains=="string"&&(a.subdomains=a.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(r,a){return this._url===r&&a===void 0&&(a=!0),this._url=r,a||this.redraw(),this},createTile:function(r,a){var f=document.createElement("img");return at(f,"load",d(this._tileOnLoad,this,a,f)),at(f,"error",d(this._tileOnError,this,a,f)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(f.referrerPolicy=this.options.referrerPolicy),f.alt="",f.src=this.getTileUrl(r),f},getTileUrl:function(r){var a={r:tt.retina?"@2x":"",s:this._getSubdomain(r),x:r.x,y:r.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var f=this._globalTileRange.max.y-r.y;this.options.tms&&(a.y=f),a["-y"]=f}return R(this._url,o(a,this.options))},_tileOnLoad:function(r,a){tt.ielt9?setTimeout(d(r,this,null,a),0):r(null,a)},_tileOnError:function(r,a,f){var w=this.options.errorTileUrl;w&&a.getAttribute("src")!==w&&(a.src=w),r(f,a)},_onTileRemove:function(r){r.tile.onload=null},_getZoomForUrl:function(){var r=this._tileZoom,a=this.options.maxZoom,f=this.options.zoomReverse,w=this.options.zoomOffset;return f&&(r=a-r),r+w},_getSubdomain:function(r){var a=Math.abs(r.x+r.y)%this.options.subdomains.length;return this.options.subdomains[a]},_abortLoading:function(){var r,a;for(r in this._tiles)if(this._tiles[r].coords.z!==this._tileZoom&&(a=this._tiles[r].el,a.onload=b,a.onerror=b,!a.complete)){a.src=$;var f=this._tiles[r].coords;Dt(a),delete this._tiles[r],this.fire("tileabort",{tile:a,coords:f})}},_removeTile:function(r){var a=this._tiles[r];if(a)return a.el.setAttribute("src",$),Te.prototype._removeTile.call(this,r)},_tileReady:function(r,a,f){if(!(!this._map||f&&f.getAttribute("src")===$))return Te.prototype._tileReady.call(this,r,a,f)}});function We(r,a){return new Ke(r,a)}var gt=Ke.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(r,a){this._url=r;var f=o({},this.defaultWmsParams);for(var w in a)w in this.options||(f[w]=a[w]);a=N(this,a);var Q=a.detectRetina&&tt.retina?2:1,T=this.getTileSize();f.width=T.x*Q,f.height=T.y*Q,this.wmsParams=f},onAdd:function(r){this._crs=this.options.crs||r.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var a=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[a]=this._crs.code,Ke.prototype.onAdd.call(this,r)},getTileUrl:function(r){var a=this._tileCoordsToNwSe(r),f=this._crs,w=le(f.project(a[0]),f.project(a[1])),Q=w.min,T=w.max,Z=(this._wmsVersion>=1.3&&this._crs===wo?[Q.y,Q.x,T.y,T.x]:[Q.x,Q.y,T.x,T.y]).join(","),he=Ke.prototype.getTileUrl.call(this,r);return he+G(this.wmsParams,he,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Z},setParams:function(r,a){return o(this.wmsParams,r),a||this.redraw(),this}});function Ct(r,a){return new gt(r,a)}Ke.WMS=gt,We.wms=Ct;var lt=mA.extend({options:{padding:.1},initialize:function(r){N(this,r),m(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),dt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var r={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(r.zoomanim=this._onAnimZoom),r},_onAnimZoom:function(r){this._updateTransform(r.center,r.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(r,a){var f=this._map.getZoomScale(a,this._zoom),w=this._map.getSize().multiplyBy(.5+this.options.padding),Q=this._map.project(this._center,a),T=w.multiplyBy(-f).add(Q).subtract(this._map._getNewPixelOrigin(r,a));tt.any3d?Hn(this._container,T,f):Jt(this._container,T)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var r in this._layers)this._layers[r]._reset()},_onZoomEnd:function(){for(var r in this._layers)this._layers[r]._project()},_updatePaths:function(){for(var r in this._layers)this._layers[r]._update()},_update:function(){var r=this.options.padding,a=this._map.getSize(),f=this._map.containerPointToLayerPoint(a.multiplyBy(-r)).round();this._bounds=new D(f,f.add(a.multiplyBy(1+r*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Rt=lt.extend({options:{tolerance:0},getEvents:function(){var r=lt.prototype.getEvents.call(this);return r.viewprereset=this._onViewPreReset,r},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){lt.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var r=this._container=document.createElement("canvas");at(r,"mousemove",this._onMouseMove,this),at(r,"click dblclick mousedown mouseup contextmenu",this._onClick,this),at(r,"mouseout",this._handleMouseOut,this),r._leaflet_disable_events=!0,this._ctx=r.getContext("2d")},_destroyContainer:function(){qe(this._redrawRequest),delete this._ctx,Dt(this._container),St(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var r;this._redrawBounds=null;for(var a in this._layers)r=this._layers[a],r._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){lt.prototype._update.call(this);var r=this._bounds,a=this._container,f=r.getSize(),w=tt.retina?2:1;Jt(a,r.min),a.width=w*f.x,a.height=w*f.y,a.style.width=f.x+"px",a.style.height=f.y+"px",tt.retina&&this._ctx.scale(2,2),this._ctx.translate(-r.min.x,-r.min.y),this.fire("update")}},_reset:function(){lt.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(r){this._updateDashArray(r),this._layers[m(r)]=r;var a=r._order={layer:r,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=a),this._drawLast=a,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(r){this._requestRedraw(r)},_removePath:function(r){var a=r._order,f=a.next,w=a.prev;f?f.prev=w:this._drawLast=w,w?w.next=f:this._drawFirst=f,delete r._order,delete this._layers[m(r)],this._requestRedraw(r)},_updatePath:function(r){this._extendRedrawBounds(r),r._project(),r._update(),this._requestRedraw(r)},_updateStyle:function(r){this._updateDashArray(r),this._requestRedraw(r)},_updateDashArray:function(r){if(typeof r.options.dashArray=="string"){var a=r.options.dashArray.split(/[, ]+/),f=[],w,Q;for(Q=0;Q<a.length;Q++){if(w=Number(a[Q]),isNaN(w))return;f.push(w)}r.options._dashArray=f}else r.options._dashArray=r.options.dashArray},_requestRedraw:function(r){this._map&&(this._extendRedrawBounds(r),this._redrawRequest=this._redrawRequest||Ee(this._redraw,this))},_extendRedrawBounds:function(r){if(r._pxBounds){var a=(r.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new D,this._redrawBounds.extend(r._pxBounds.min.subtract([a,a])),this._redrawBounds.extend(r._pxBounds.max.add([a,a]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var r=this._redrawBounds;if(r){var a=r.getSize();this._ctx.clearRect(r.min.x,r.min.y,a.x,a.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var r,a=this._redrawBounds;if(this._ctx.save(),a){var f=a.getSize();this._ctx.beginPath(),this._ctx.rect(a.min.x,a.min.y,f.x,f.y),this._ctx.clip()}this._drawing=!0;for(var w=this._drawFirst;w;w=w.next)r=w.layer,(!a||r._pxBounds&&r._pxBounds.intersects(a))&&r._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(r,a){if(this._drawing){var f,w,Q,T,Z=r._parts,he=Z.length,we=this._ctx;if(he){for(we.beginPath(),f=0;f<he;f++){for(w=0,Q=Z[f].length;w<Q;w++)T=Z[f][w],we[w?"lineTo":"moveTo"](T.x,T.y);a&&we.closePath()}this._fillStroke(we,r)}}},_updateCircle:function(r){if(!(!this._drawing||r._empty())){var a=r._point,f=this._ctx,w=Math.max(Math.round(r._radius),1),Q=(Math.max(Math.round(r._radiusY),1)||w)/w;Q!==1&&(f.save(),f.scale(1,Q)),f.beginPath(),f.arc(a.x,a.y/Q,w,0,Math.PI*2,!1),Q!==1&&f.restore(),this._fillStroke(f,r)}},_fillStroke:function(r,a){var f=a.options;f.fill&&(r.globalAlpha=f.fillOpacity,r.fillStyle=f.fillColor||f.color,r.fill(f.fillRule||"evenodd")),f.stroke&&f.weight!==0&&(r.setLineDash&&r.setLineDash(a.options&&a.options._dashArray||[]),r.globalAlpha=f.opacity,r.lineWidth=f.weight,r.strokeStyle=f.color,r.lineCap=f.lineCap,r.lineJoin=f.lineJoin,r.stroke())},_onClick:function(r){for(var a=this._map.mouseEventToLayerPoint(r),f,w,Q=this._drawFirst;Q;Q=Q.next)f=Q.layer,f.options.interactive&&f._containsPoint(a)&&(!(r.type==="click"||r.type==="preclick")||!this._map._draggableMoved(f))&&(w=f);this._fireEvent(w?[w]:!1,r)},_onMouseMove:function(r){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var a=this._map.mouseEventToLayerPoint(r);this._handleMouseHover(r,a)}},_handleMouseOut:function(r){var a=this._hoveredLayer;a&&(Tt(this._container,"leaflet-interactive"),this._fireEvent([a],r,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(r,a){if(!this._mouseHoverThrottled){for(var f,w,Q=this._drawFirst;Q;Q=Q.next)f=Q.layer,f.options.interactive&&f._containsPoint(a)&&(w=f);w!==this._hoveredLayer&&(this._handleMouseOut(r),w&&(dt(this._container,"leaflet-interactive"),this._fireEvent([w],r,"mouseover"),this._hoveredLayer=w)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,r),this._mouseHoverThrottled=!0,setTimeout(d(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(r,a,f){this._map._fireDOMEvent(a,f||a.type,r)},_bringToFront:function(r){var a=r._order;if(a){var f=a.next,w=a.prev;if(f)f.prev=w;else return;w?w.next=f:f&&(this._drawFirst=f),a.prev=this._drawLast,this._drawLast.next=a,a.next=null,this._drawLast=a,this._requestRedraw(r)}},_bringToBack:function(r){var a=r._order;if(a){var f=a.next,w=a.prev;if(w)w.next=f;else return;f?f.prev=w:w&&(this._drawLast=w),a.prev=null,a.next=this._drawFirst,this._drawFirst.prev=a,this._drawFirst=a,this._requestRedraw(r)}}});function pt(r){return tt.canvas?new Rt(r):null}var Yt=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(r){return document.createElement("<lvml:"+r+' class="lvml">')}}catch{}return function(r){return document.createElement("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),vn={_initContainer:function(){this._container=ze("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(lt.prototype._update.call(this),this.fire("update"))},_initPath:function(r){var a=r._container=Yt("shape");dt(a,"leaflet-vml-shape "+(this.options.className||"")),a.coordsize="1 1",r._path=Yt("path"),a.appendChild(r._path),this._updateStyle(r),this._layers[m(r)]=r},_addPath:function(r){var a=r._container;this._container.appendChild(a),r.options.interactive&&r.addInteractiveTarget(a)},_removePath:function(r){var a=r._container;Dt(a),r.removeInteractiveTarget(a),delete this._layers[m(r)]},_updateStyle:function(r){var a=r._stroke,f=r._fill,w=r.options,Q=r._container;Q.stroked=!!w.stroke,Q.filled=!!w.fill,w.stroke?(a||(a=r._stroke=Yt("stroke")),Q.appendChild(a),a.weight=w.weight+"px",a.color=w.color,a.opacity=w.opacity,w.dashArray?a.dashStyle=J(w.dashArray)?w.dashArray.join(" "):w.dashArray.replace(/( *, *)/g," "):a.dashStyle="",a.endcap=w.lineCap.replace("butt","flat"),a.joinstyle=w.lineJoin):a&&(Q.removeChild(a),r._stroke=null),w.fill?(f||(f=r._fill=Yt("fill")),Q.appendChild(f),f.color=w.fillColor||w.color,f.opacity=w.fillOpacity):f&&(Q.removeChild(f),r._fill=null)},_updateCircle:function(r){var a=r._point.round(),f=Math.round(r._radius),w=Math.round(r._radiusY||f);this._setPath(r,r._empty()?"M0 0":"AL "+a.x+","+a.y+" "+f+","+w+" 0,"+65535*360)},_setPath:function(r,a){r._path.v=a},_bringToFront:function(r){JA(r._container)},_bringToBack:function(r){IA(r._container)}},Kn=tt.vml?Yt:KA,en=lt.extend({_initContainer:function(){this._container=Kn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Kn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Dt(this._container),St(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){lt.prototype._update.call(this);var r=this._bounds,a=r.getSize(),f=this._container;(!this._svgSize||!this._svgSize.equals(a))&&(this._svgSize=a,f.setAttribute("width",a.x),f.setAttribute("height",a.y)),Jt(f,r.min),f.setAttribute("viewBox",[r.min.x,r.min.y,a.x,a.y].join(" ")),this.fire("update")}},_initPath:function(r){var a=r._path=Kn("path");r.options.className&&dt(a,r.options.className),r.options.interactive&&dt(a,"leaflet-interactive"),this._updateStyle(r),this._layers[m(r)]=r},_addPath:function(r){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(r._path),r.addInteractiveTarget(r._path)},_removePath:function(r){Dt(r._path),r.removeInteractiveTarget(r._path),delete this._layers[m(r)]},_updatePath:function(r){r._project(),r._update()},_updateStyle:function(r){var a=r._path,f=r.options;a&&(f.stroke?(a.setAttribute("stroke",f.color),a.setAttribute("stroke-opacity",f.opacity),a.setAttribute("stroke-width",f.weight),a.setAttribute("stroke-linecap",f.lineCap),a.setAttribute("stroke-linejoin",f.lineJoin),f.dashArray?a.setAttribute("stroke-dasharray",f.dashArray):a.removeAttribute("stroke-dasharray"),f.dashOffset?a.setAttribute("stroke-dashoffset",f.dashOffset):a.removeAttribute("stroke-dashoffset")):a.setAttribute("stroke","none"),f.fill?(a.setAttribute("fill",f.fillColor||f.color),a.setAttribute("fill-opacity",f.fillOpacity),a.setAttribute("fill-rule",f.fillRule||"evenodd")):a.setAttribute("fill","none"))},_updatePoly:function(r,a){this._setPath(r,ao(r._parts,a))},_updateCircle:function(r){var a=r._point,f=Math.max(Math.round(r._radius),1),w=Math.max(Math.round(r._radiusY),1)||f,Q="a"+f+","+w+" 0 1,0 ",T=r._empty()?"M0 0":"M"+(a.x-f)+","+a.y+Q+f*2+",0 "+Q+-f*2+",0 ";this._setPath(r,T)},_setPath:function(r,a){r._path.setAttribute("d",a)},_bringToFront:function(r){JA(r._path)},_bringToBack:function(r){IA(r._path)}});tt.vml&&en.include(vn);function PA(r){return tt.svg||tt.vml?new en(r):null}Bt.include({getRenderer:function(r){var a=r.options.renderer||this._getPaneRenderer(r.options.pane)||this.options.renderer||this._renderer;return a||(a=this._renderer=this._createRenderer()),this.hasLayer(a)||this.addLayer(a),a},_getPaneRenderer:function(r){if(r==="overlayPane"||r===void 0)return!1;var a=this._paneRenderers[r];return a===void 0&&(a=this._createRenderer({pane:r}),this._paneRenderers[r]=a),a},_createRenderer:function(r){return this.options.preferCanvas&&pt(r)||PA(r)}});var Qs=Mn.extend({initialize:function(r,a){Mn.prototype.initialize.call(this,this._boundsToLatLngs(r),a)},setBounds:function(r){return this.setLatLngs(this._boundsToLatLngs(r))},_boundsToLatLngs:function(r){return r=Fe(r),[r.getSouthWest(),r.getNorthWest(),r.getNorthEast(),r.getSouthEast()]}});function id(r,a){return new Qs(r,a)}en.create=Kn,en.pointsToPath=ao,wA.geometryToLayer=h,wA.coordsToLatLng=_,wA.coordsToLatLngs=U,wA.latLngToCoords=E,wA.latLngsToCoords=k,wA.getFeature=H,wA.asFeature=z,Bt.mergeOptions({boxZoom:!0});var Us=Dn.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane,this._resetStateTimeout=0,r.on("unload",this._destroy,this)},addHooks:function(){at(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){St(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Dt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(r){if(!r.shiftKey||r.which!==1&&r.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),xt(),ys(),this._startPoint=this._map.mouseEventToContainerPoint(r),at(document,{contextmenu:qn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(r){this._moved||(this._moved=!0,this._box=ze("div","leaflet-zoom-box",this._container),dt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(r);var a=new D(this._point,this._startPoint),f=a.getSize();Jt(this._box,a.min),this._box.style.width=f.x+"px",this._box.style.height=f.y+"px"},_finish:function(){this._moved&&(Dt(this._box),Tt(this._container,"leaflet-crosshair")),gi(),Bs(),St(document,{contextmenu:qn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(r){if(!(r.which!==1&&r.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(d(this._resetState,this),0);var a=new Ie(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(a).fire("boxzoomend",{boxZoomBounds:a})}},_onKeyDown:function(r){r.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Bt.addInitHook("addHandler","boxZoom",Us),Bt.mergeOptions({doubleClickZoom:!0});var Yl=Dn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(r){var a=this._map,f=a.getZoom(),w=a.options.zoomDelta,Q=r.originalEvent.shiftKey?f-w:f+w;a.options.doubleClickZoom==="center"?a.setZoom(Q):a.setZoomAround(r.containerPoint,Q)}});Bt.addInitHook("addHandler","doubleClickZoom",Yl),Bt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var qa=Dn.extend({addHooks:function(){if(!this._draggable){var r=this._map;this._draggable=new Yn(r._mapPane,r._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),r.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),r.on("zoomend",this._onZoomEnd,this),r.whenReady(this._onZoomEnd,this))}dt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Tt(this._map._container,"leaflet-grab"),Tt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var r=this._map;if(r._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var a=Fe(this._map.options.maxBounds);this._offsetLimit=le(this._map.latLngToContainerPoint(a.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(a.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;r.fire("movestart").fire("dragstart"),r.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(r){if(this._map.options.inertia){var a=this._lastTime=+new Date,f=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(f),this._times.push(a),this._prunePositions(a)}this._map.fire("move",r).fire("drag",r)},_prunePositions:function(r){for(;this._positions.length>1&&r-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var r=this._map.getSize().divideBy(2),a=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=a.subtract(r).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(r,a){return r-(r-a)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var r=this._draggable._newPos.subtract(this._draggable._startPos),a=this._offsetLimit;r.x<a.min.x&&(r.x=this._viscousLimit(r.x,a.min.x)),r.y<a.min.y&&(r.y=this._viscousLimit(r.y,a.min.y)),r.x>a.max.x&&(r.x=this._viscousLimit(r.x,a.max.x)),r.y>a.max.y&&(r.y=this._viscousLimit(r.y,a.max.y)),this._draggable._newPos=this._draggable._startPos.add(r)}},_onPreDragWrap:function(){var r=this._worldWidth,a=Math.round(r/2),f=this._initialWorldOffset,w=this._draggable._newPos.x,Q=(w-a+f)%r+a-f,T=(w+a+f)%r-a-f,Z=Math.abs(Q+f)<Math.abs(T+f)?Q:T;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Z},_onDragEnd:function(r){var a=this._map,f=a.options,w=!f.inertia||r.noInertia||this._times.length<2;if(a.fire("dragend",r),w)a.fire("moveend");else{this._prunePositions(+new Date);var Q=this._lastPos.subtract(this._positions[0]),T=(this._lastTime-this._times[0])/1e3,Z=f.easeLinearity,he=Q.multiplyBy(Z/T),we=he.distanceTo([0,0]),Ue=Math.min(f.inertiaMaxSpeed,we),$e=he.multiplyBy(Ue/we),ct=Ue/(f.inertiaDeceleration*Z),wt=$e.multiplyBy(-ct/2).round();!wt.x&&!wt.y?a.fire("moveend"):(wt=a._limitOffset(wt,a.options.maxBounds),Ee(function(){a.panBy(wt,{duration:ct,easeLinearity:Z,noMoveStart:!0,animate:!0})}))}}});Bt.addInitHook("addHandler","dragging",qa),Bt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Xa=Dn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(r){this._map=r,this._setPanDelta(r.options.keyboardPanDelta),this._setZoomDelta(r.options.zoomDelta)},addHooks:function(){var r=this._map._container;r.tabIndex<=0&&(r.tabIndex="0"),at(r,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),St(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var r=document.body,a=document.documentElement,f=r.scrollTop||a.scrollTop,w=r.scrollLeft||a.scrollLeft;this._map._container.focus(),window.scrollTo(w,f)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(r){var a=this._panKeys={},f=this.keyCodes,w,Q;for(w=0,Q=f.left.length;w<Q;w++)a[f.left[w]]=[-1*r,0];for(w=0,Q=f.right.length;w<Q;w++)a[f.right[w]]=[r,0];for(w=0,Q=f.down.length;w<Q;w++)a[f.down[w]]=[0,r];for(w=0,Q=f.up.length;w<Q;w++)a[f.up[w]]=[0,-1*r]},_setZoomDelta:function(r){var a=this._zoomKeys={},f=this.keyCodes,w,Q;for(w=0,Q=f.zoomIn.length;w<Q;w++)a[f.zoomIn[w]]=r;for(w=0,Q=f.zoomOut.length;w<Q;w++)a[f.zoomOut[w]]=-r},_addHooks:function(){at(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){St(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(r){if(!(r.altKey||r.ctrlKey||r.metaKey)){var a=r.keyCode,f=this._map,w;if(a in this._panKeys){if(!f._panAnim||!f._panAnim._inProgress)if(w=this._panKeys[a],r.shiftKey&&(w=K(w).multiplyBy(3)),f.options.maxBounds&&(w=f._limitOffset(K(w),f.options.maxBounds)),f.options.worldCopyJump){var Q=f.wrapLatLng(f.unproject(f.project(f.getCenter()).add(w)));f.panTo(Q)}else f.panBy(w)}else if(a in this._zoomKeys)f.setZoom(f.getZoom()+(r.shiftKey?3:1)*this._zoomKeys[a]);else if(a===27&&f._popup&&f._popup.options.closeOnEscapeKey)f.closePopup();else return;qn(r)}}});Bt.addInitHook("addHandler","keyboard",Xa),Bt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Mt=Dn.extend({addHooks:function(){at(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){St(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(r){var a=$o(r),f=this._map.options.wheelDebounceTime;this._delta+=a,this._lastMousePos=this._map.mouseEventToContainerPoint(r),this._startTime||(this._startTime=+new Date);var w=Math.max(f-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(d(this._performZoom,this),w),qn(r)},_performZoom:function(){var r=this._map,a=r.getZoom(),f=this._map.options.zoomSnap||0;r._stop();var w=this._delta/(this._map.options.wheelPxPerZoomLevel*4),Q=4*Math.log(2/(1+Math.exp(-Math.abs(w))))/Math.LN2,T=f?Math.ceil(Q/f)*f:Q,Z=r._limitZoom(a+(this._delta>0?T:-T))-a;this._delta=0,this._startTime=null,Z&&(r.options.scrollWheelZoom==="center"?r.setZoom(a+Z):r.setZoomAround(this._lastMousePos,a+Z))}});Bt.addInitHook("addHandler","scrollWheelZoom",Mt);var Ya=600;Bt.mergeOptions({tapHold:tt.touchNative&&tt.safari&&tt.mobile,tapTolerance:15});var _o=Dn.extend({addHooks:function(){at(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){St(this._map._container,"touchstart",this._onDown,this)},_onDown:function(r){if(clearTimeout(this._holdTimeout),r.touches.length===1){var a=r.touches[0];this._startPos=this._newPos=new ge(a.clientX,a.clientY),this._holdTimeout=setTimeout(d(function(){this._cancel(),this._isTapValid()&&(at(document,"touchend",Ht),at(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",a))},this),Ya),at(document,"touchend touchcancel contextmenu",this._cancel,this),at(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function r(){St(document,"touchend",Ht),St(document,"touchend touchcancel",r)},_cancel:function(){clearTimeout(this._holdTimeout),St(document,"touchend touchcancel contextmenu",this._cancel,this),St(document,"touchmove",this._onMove,this)},_onMove:function(r){var a=r.touches[0];this._newPos=new ge(a.clientX,a.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(r,a){var f=new MouseEvent(r,{bubbles:!0,cancelable:!0,view:window,screenX:a.screenX,screenY:a.screenY,clientX:a.clientX,clientY:a.clientY});f._simulated=!0,a.target.dispatchEvent(f)}});Bt.addInitHook("addHandler","tapHold",_o),Bt.mergeOptions({touchZoom:tt.touch,bounceAtZoomLimits:!0});var Es=Dn.extend({addHooks:function(){dt(this._map._container,"leaflet-touch-zoom"),at(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Tt(this._map._container,"leaflet-touch-zoom"),St(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(r){var a=this._map;if(!(!r.touches||r.touches.length!==2||a._animatingZoom||this._zooming)){var f=a.mouseEventToContainerPoint(r.touches[0]),w=a.mouseEventToContainerPoint(r.touches[1]);this._centerPoint=a.getSize()._divideBy(2),this._startLatLng=a.containerPointToLatLng(this._centerPoint),a.options.touchZoom!=="center"&&(this._pinchStartLatLng=a.containerPointToLatLng(f.add(w)._divideBy(2))),this._startDist=f.distanceTo(w),this._startZoom=a.getZoom(),this._moved=!1,this._zooming=!0,a._stop(),at(document,"touchmove",this._onTouchMove,this),at(document,"touchend touchcancel",this._onTouchEnd,this),Ht(r)}},_onTouchMove:function(r){if(!(!r.touches||r.touches.length!==2||!this._zooming)){var a=this._map,f=a.mouseEventToContainerPoint(r.touches[0]),w=a.mouseEventToContainerPoint(r.touches[1]),Q=f.distanceTo(w)/this._startDist;if(this._zoom=a.getScaleZoom(Q,this._startZoom),!a.options.bounceAtZoomLimits&&(this._zoom<a.getMinZoom()&&Q<1||this._zoom>a.getMaxZoom()&&Q>1)&&(this._zoom=a._limitZoom(this._zoom)),a.options.touchZoom==="center"){if(this._center=this._startLatLng,Q===1)return}else{var T=f._add(w)._divideBy(2)._subtract(this._centerPoint);if(Q===1&&T.x===0&&T.y===0)return;this._center=a.unproject(a.project(this._pinchStartLatLng,this._zoom).subtract(T),this._zoom)}this._moved||(a._moveStart(!0,!1),this._moved=!0),qe(this._animRequest);var Z=d(a._move,a,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Ee(Z,this,!0),Ht(r)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,qe(this._animRequest),St(document,"touchmove",this._onTouchMove,this),St(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Bt.addInitHook("addHandler","touchZoom",Es),Bt.BoxZoom=Us,Bt.DoubleClickZoom=Yl,Bt.Drag=qa,Bt.Keyboard=Xa,Bt.ScrollWheelZoom=Mt,Bt.TapHold=_o,Bt.TouchZoom=Es,t.Bounds=D,t.Browser=tt,t.CRS=At,t.Canvas=Rt,t.Circle=_i,t.CircleMarker=Fn,t.Class=be,t.Control=Xn,t.DivIcon=Re,t.DivOverlay=ce,t.DomEvent=Or,t.DomUtil=Vt,t.Draggable=Yn,t.Evented=Qe,t.FeatureGroup=TA,t.GeoJSON=wA,t.GridLayer=Te,t.Handler=Dn,t.Icon=Zr,t.ImageOverlay=W,t.LatLng=Ne,t.LatLngBounds=Ie,t.Layer=mA,t.LayerGroup=er,t.LineUtil=bs,t.Map=Bt,t.Marker=mn,t.Mixin=$i,t.Path=vA,t.Point=ge,t.PolyUtil=Zo,t.Polygon=Mn,t.Polyline=rn,t.Popup=ye,t.PosAnimation=Dr,t.Projection=Yo,t.Rectangle=Qs,t.Renderer=lt,t.SVG=en,t.SVGOverlay=ue,t.TileLayer=Ke,t.Tooltip=Ce,t.Transformation=fA,t.Util=Ze,t.VideoOverlay=te,t.bind=d,t.bounds=le,t.canvas=pt,t.circle=Ci,t.circleMarker=na,t.control=vr,t.divIcon=He,t.extend=o,t.featureGroup=yo,t.geoJSON=ne,t.geoJson=re,t.gridLayer=Ve,t.icon=ta,t.imageOverlay=de,t.latLng=Oe,t.latLngBounds=Fe,t.layerGroup=$r,t.map=mr,t.marker=Xt,t.point=K,t.polygon=yr,t.polyline=Bo,t.popup=_e,t.rectangle=id,t.setOptions=N,t.stamp=m,t.svg=PA,t.svgOverlay=ae,t.tileLayer=We,t.tooltip=Se,t.transformation=Qt,t.version=i,t.videoOverlay=oe;var eu=window.L;t.noConflict=function(){return window.L=eu,this},window.L=t}))})(Bl,Bl.exports)),Bl.exports}var N_=P_();const ut=Vl(N_),gw=["audio/mp4;codecs=mp4a.40.2","audio/mp4","audio/mpeg","audio/aac","audio/3gpp","audio/webm;codecs=opus","audio/webm","audio/ogg;codecs=opus","audio/ogg"];class Si extends Error{issue;constructor(e,t){super(e),this.name="MicrophoneError",this.issue=t}}function uf(){return typeof window<"u"&&typeof window.MediaRecorder<"u"}function j_(n=gw){if(!uf())return;const e=window.MediaRecorder?.isTypeSupported?.bind(window.MediaRecorder);if(e){for(const t of n)if(e(t))return t}}function H_(n){return n?{audio:{deviceId:{exact:n}}}:{audio:!0}}function _c(n){if(!(n instanceof Error))return new Si("Microphone error","unknown");const e=n.name||n.code,t=n.message||"Microphone error";switch(e){case"NotAllowedError":case"SecurityError":case"PermissionDeniedError":return new Si("Microphone permission denied. Allow access in browser settings and try again.","denied");case"NotFoundError":case"DevicesNotFoundError":return new Si("No microphone is available. Connect one or choose a different input and try again.","no-device");case"NotReadableError":case"AbortError":case"InvalidStateError":case"HardwareUnavailableError":return new Si("The microphone is in use by another application. Close other apps that use audio and retry.","hardware");default:return new Si(t,"unknown")}}async function O_(n={}){if(typeof navigator>"u"||!navigator.mediaDevices?.getUserMedia)throw new Si("Microphone not supported in this browser.","not-supported");try{return await navigator.mediaDevices.getUserMedia(H_(n.deviceId))}catch(e){throw _c(e)}}const D_=gw;function zc(n){if(n?.blob instanceof Blob&&n.blob.size>0)return n.blob;const e=n?.data;if(!e)return null;let t=null;if(e instanceof ArrayBuffer)t=e;else if(e instanceof Uint8Array)t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);else if(ArrayBuffer.isView(e)){const o=e;t=o.buffer.slice(o.byteOffset,o.byteOffset+o.byteLength)}if(!t)return null;const i=n?.mimeType||"audio/webm";return new Blob([t],{type:i})}const R_=600;function mw(n={}){const[e,t]=S.useState(!1),[i,o]=S.useState(null),[u,d]=S.useState(null),[g,m]=S.useState("unknown"),B=S.useRef(null),C=S.useRef(null),b=S.useRef([]),F=S.useRef(0),j=S.useRef(null),P=S.useRef(null),N=S.useCallback(()=>{if(P.current!=null&&(clearTimeout(P.current),P.current=null),B.current)try{B.current.ondataavailable=null,B.current.onerror=null,B.current.onstop=null}catch{}if(B.current=null,C.current)try{C.current.getTracks().forEach(J=>J.stop())}catch{}C.current=null},[]);S.useEffect(()=>{let J=!1;try{typeof navigator<"u"&&navigator.permissions?.query&&navigator.permissions.query({name:"microphone"}).then($=>{J||(m($.state),$.onchange=()=>{J||m($.state)})}).catch(()=>m("unknown"))}catch{m("unknown")}return()=>{J=!0}},[]),S.useEffect(()=>()=>{B.current&&N()},[N]);const G=S.useCallback(async()=>{if(e)return;if(!uf()){const X=new Si("This browser does not support audio recording.","not-supported");throw o(X.message),d(X.issue),X}o(null),d(null);const J=j_(n.preferredMimeTypes||D_);let M;try{M=await O_({deviceId:n.deviceId}),m("granted")}catch(X){const Ae=X instanceof Si?X:_c(X);throw o(Ae.message),d(Ae.issue),Ae.issue==="denied"&&m("denied"),Ae}C.current=M;const $=new MediaRecorder(M,J?{mimeType:J}:void 0);B.current=$,b.current=[],F.current=Date.now();const q=()=>{const X=j.current;if(!X)return;P.current!=null&&(clearTimeout(P.current),P.current=null);const Ae=new Blob(b.current,{type:$.mimeType||J||"audio/webm"});b.current=[];const ve=Date.now()-F.current;if(N(),t(!1),j.current=null,!Ae.size||ve<(n.minDurationMs??R_)){const Ee=new Error("No audio captured. Try again.");o(Ee.message),X.reject(Ee);return}X.resolve({blob:Ae,mimeType:Ae.type||"audio/webm",durationMs:ve})},xe=()=>{j.current&&P.current==null&&(P.current=setTimeout(()=>{P.current=null,q()},30))};$.ondataavailable=X=>{X?.data&&(X.data.size>0&&b.current.push(X.data),$.state==="inactive"&&xe())},$.onerror=X=>{const Ae=X.error||new Error("Recording error"),ve=Ae instanceof Si?Ae:_c(Ae);o(ve.message),d(ve.issue),ve.issue==="denied"&&m("denied"),j.current?.reject(ve),j.current=null,N(),t(!1)},$.onstop=()=>{xe()};try{$.start()}catch{$.start()}t(!0)},[N,e,n.deviceId,n.minDurationMs,n.preferredMimeTypes]),O=S.useCallback(()=>{if(!B.current)return Promise.reject(new Error("No active recording to stop."));if(j.current?.promise)return j.current.promise;let J,M;const $=new Promise((q,xe)=>{J=q,M=xe});j.current={resolve:J,reject:M,promise:$};try{try{B.current?.requestData?.()}catch{}B.current.stop()}catch(q){const xe=q instanceof Si?q:_c(q);return o(xe.message),d(xe.issue),xe.issue==="denied"&&m("denied"),j.current=null,N(),t(!1),Promise.reject(xe)}return $},[N]),R=S.useCallback(()=>{o(null),d(null)},[]);return{isRecording:e,error:i,issue:u,permission:g,startRecording:G,stopRecording:O,resetError:R,isSupported:uf()}}function vw(){try{return localStorage.getItem("openai_api_key")||void 0}catch{return}}function Sc(n){if(!n)return;const e=n.trim();if(!e)return;const t=e.split(/[-_]/)[0]?.toLowerCase();if(!(!t||t.length<2))return t.slice(0,2)}async function M_(n,e){const t=vw();if(!t)throw new Error("Missing OpenAI API key in Settings");if(!n||n.size===0)throw new Error("Audio clip is empty. Record a new memo and try again.");const i=new FormData,o=new File([n],`audio.${K_(n.type)}`,{type:n.type||"audio/webm"});i.append("file",o),i.append("model",e?.model||"whisper-1");const u=Sc(e?.language);u&&i.append("language",u);const d=await fetch("https://api.openai.com/v1/audio/transcriptions",{method:"POST",headers:{Authorization:`Bearer ${t}`},body:i});if(!d.ok){let m="";try{const C=await d.json();m=C?.error?.message||C?.message||""}catch{try{m=await d.text()}catch{m=""}}const B=m?` - ${m}`:"";throw new Error(`Transcription failed: HTTP ${d.status}${B}`)}const g=await d.json();if(!g?.text)throw new Error("No text in transcription response");return g.text}function K_(n){return!n||n.includes("webm")?"webm":n.includes("ogg")?"ogg":n.includes("mp3")?"mp3":n.includes("wav")?"wav":n.includes("m4a")||n.includes("mp4")?"m4a":"webm"}function V_(){const[n,e]=S.useState(()=>({id:crypto.randomUUID(),title:"",createdAt:new Date().toISOString(),plannedAt:new Date().toISOString().slice(0,10)})),[t,i]=S.useState([]),[o,u]=S.useState([]),[d,g]=S.useState([]),m=S.useRef(null),B=S.useRef(null),C=S.useRef(null),b=S.useRef(null),[F,j]=S.useState("aerial"),[P,N]=S.useState(null),G=S.useRef(null),O=S.useRef({}),R=S.useRef([]),[J,M]=S.useState(!1);S.useEffect(()=>{M(!1)},[n]),S.useEffect(()=>{G.current=P},[P]),S.useEffect(()=>{P&&g(X=>X.includes(P)?X:[...X,P])},[P]);async function $(){await Y0(n),M(!0),u(await vc())}async function q(){const X={id:crypto.randomUUID(),runId:n.id,seq:t.length+1,createdAt:new Date().toISOString()};await t_(X),g(Ae=>Ae.includes(X.id)?Ae:[...Ae,X.id]),i(await wa(n.id))}S.useEffect(()=>{(async()=>(u(await vc()),i(await wa(n.id))))()},[n.id]),S.useEffect(()=>{g(X=>{if(t.length===0)return[];const Ae=new Set(t.map(Ee=>Ee.id)),ve=X.filter(Ee=>Ae.has(Ee));return ve.length===0?[t[t.length-1].id]:ve.length===X.length&&ve.every((Ee,qe)=>Ee===X[qe])?X:ve})},[t]),S.useEffect(()=>{const X=new Set(t.map(ve=>ve.id)),Ae=O.current;Object.keys(Ae).forEach(ve=>{X.has(ve)||(Ae[ve]=null)})},[t]),S.useEffect(()=>{const X=R.current,Ae=d.filter(ve=>!X.includes(ve));if(Ae.length>0){const ve=Ae[Ae.length-1],Ee=O.current[ve];Ee&&(typeof window<"u"&&typeof window.requestAnimationFrame=="function"?window.requestAnimationFrame(()=>{Ee.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}):Ee.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}))}R.current=[...d]},[d]),S.useEffect(()=>{const X=B.current;if(!m.current)return;if(B.current)X.invalidateSize();else{const Ee=t.find(se=>typeof se.lat=="number"&&typeof se.lon=="number"),qe=Ee?[Ee.lat,Ee.lon]:[30.2672,-97.7431],Ze=ut.map(m.current).setView(qe,Ee?12:6),be=ut.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:" OpenStreetMap contributors",maxZoom:19}).addTo(Ze),et=ut.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",{attribution:"Imagery  Esri, Maxar, Earthstar Geographics",maxZoom:19,opacity:0});et.on("load",()=>et.setOpacity(1)),F==="aerial"&&(be.bringToBack?.(),et.addTo(Ze)),ut.control.scale({imperial:!0,metric:!1}).addTo(Ze),B.current=Ze,C.current=be,b.current=et,Ze.on("click",async se=>{const Qe=G.current;Qe&&(await hm(Qe,{lat:se.latlng.lat,lon:se.latlng.lng}),i(await wa(n.id)),N(null))}),setTimeout(()=>Ze.invalidateSize(),150)}const Ae=B.current;Ae.eachLayer(Ee=>{(Ee instanceof ut.Marker||Ee instanceof ut.Polyline)&&Ae.removeLayer(Ee)});const ve=[];t.forEach(Ee=>{typeof Ee.lat=="number"&&typeof Ee.lon=="number"&&(ut.marker([Ee.lat,Ee.lon]).addTo(Ae),ve.push([Ee.lat,Ee.lon]))}),ve.length>=2&&ut.polyline(ve,{color:"#0ea5e9"}).addTo(Ae),ve.length>=1&&Ae.fitBounds(ut.latLngBounds(ve),{padding:[24,24]})},[t]),S.useEffect(()=>{const X=B.current;if(!(!X||!C.current||!b.current))if(F==="aerial")b.current.addTo(X),b.current.setOpacity(0),b.current.once("load",()=>b.current.setOpacity(1)),C.current.bringToBack?.();else{try{X.removeLayer(b.current)}catch{}C.current.addTo(X)}},[F]);function xe(X){N(Ae=>{const ve=Ae===X?null:X;return ve&&g(Ee=>Ee.includes(ve)?Ee:[...Ee,ve]),ve})}return c.jsxs("div",{className:"grid",style:{gap:12},children:[c.jsxs("section",{className:"card",children:[c.jsx("h3",{children:"Fish Run"}),c.jsx("div",{className:"row",style:{gap:8,marginBottom:8},children:c.jsxs("label",{className:"label",children:["Map",c.jsxs("select",{className:"select",value:F,onChange:X=>j(X.target.value),children:[c.jsx("option",{value:"aerial",children:"Aerial"}),c.jsx("option",{value:"street",children:"Street"})]})]})}),o.length>0&&c.jsxs("div",{className:"row",style:{gap:8,marginBottom:8},children:[c.jsxs("label",{className:"label",children:["Load Existing Run",c.jsx("select",{className:"select",value:n.id,onChange:async X=>{const Ae=X.target.value,ve=o.find(Ee=>Ee.id===Ae);ve&&(e(ve),i(await wa(Ae)))},children:[n,...o.filter(X=>X.id!==n.id)].map(X=>c.jsx("option",{value:X.id,children:X.title||X.id},X.id))})]}),c.jsx("button",{className:"btn warn",onClick:async()=>{if(!confirm("Really delete this fish run?"))return;await e_(n.id);const X=await vc();u(X),X[0]?(e(X[0]),i(await wa(X[0].id))):(e({id:crypto.randomUUID(),title:"",createdAt:new Date().toISOString()}),i([]))},children:"Delete Run"})]}),c.jsxs("div",{className:"form-grid",children:[c.jsxs("label",{className:"label",children:["Title",c.jsx("input",{className:"input",value:n.title||"",onChange:X=>e({...n,title:X.target.value})})]}),c.jsxs("label",{className:"label",children:["Planned Date",c.jsx("input",{className:"input",type:"date",value:(n.plannedAt||"").slice(0,10),onChange:X=>e({...n,plannedAt:X.target.value})})]}),c.jsxs("label",{className:"label",style:{gridColumn:"1 / -1"},children:["Notes",c.jsx("textarea",{className:"textarea",value:n.notes||"",onChange:X=>e({...n,notes:X.target.value})})]})]}),c.jsxs("div",{className:"row",style:{marginTop:8},children:[c.jsx("button",{className:"btn",onClick:$,children:J?"Saved":"Save Run"}),c.jsx("button",{className:"btn secondary",onClick:q,children:"Add Stop"})]})]}),c.jsxs("section",{className:"card",children:[c.jsx("h3",{children:"Run Map"}),c.jsx("div",{ref:m,style:{height:300,width:"100%",borderRadius:8,border:"1px solid var(--border, #d4d4d8)"}})]}),t.length===0?c.jsx("div",{className:"muted",children:"No stops yet"}):c.jsx("div",{className:"grid",style:{gap:8},children:t.map(X=>{const Ae=d.includes(X.id),ve=P===X.id?"Awaiting map click...":typeof X.lat=="number"&&typeof X.lon=="number"?`(${X.lat.toFixed(4)}, ${X.lon.toFixed(4)})`:"No location",Ee={display:"flex",gap:8,alignItems:"center",padding:"10px 12px",borderRadius:8,border:"1px solid var(--border, #d4d4d8)",background:"var(--surface, #fff)",cursor:"pointer",marginBottom:Ae?8:0};return c.jsxs("details",{ref:qe=>{O.current[X.id]=qe},open:Ae,className:"accordion",onToggle:qe=>{const Ze=qe.currentTarget.open;g(be=>Ze?be.includes(X.id)?be:[...be,X.id]:be.filter(et=>et!==X.id))},children:[c.jsxs("summary",{className:"accordion__summary",style:Ee,children:[c.jsxs("span",{children:["Stop #",X.seq,X.site?` - ${X.site}`:""]}),c.jsx("small",{className:"muted",style:{marginLeft:"auto"},children:ve})]}),c.jsx(G_,{runId:n.id,stop:X,onChange:async qe=>{await hm(X.id,qe),i(await wa(n.id))},onSetFromMap:()=>xe(X.id),awaitingMap:P===X.id})]},X.id)})})]})}function G_({runId:n,stop:e,onChange:t,onSetFromMap:i,awaitingMap:o}){const u=typeof navigator<"u"?navigator.language:"en-US",[d,g]=S.useState(null),[m,B]=S.useState(0);function C(M){t({address:M})}function b(M){const $={address:M.label};M.lat!=null&&($.lat=M.lat),M.lon!=null&&($.lon=M.lon),t($)}const{isRecording:F,startRecording:j,stopRecording:P,error:N,resetError:G,isSupported:O}=mw({minDurationMs:800});S.useEffect(()=>{N&&g(N)},[N]);async function R(){g(null),G();try{await j()}catch(M){const $=M?.message||"Could not start recording.";g($)}}async function J(){try{const M=await P(),$=Math.max(1,Math.round(M.durationMs/1e3)),q=new Date().toISOString(),xe=Sc(u);await ow({id:crypto.randomUUID(),jobId:n,stopId:e.id,blob:M.blob,createdAt:q,mimeType:M.mimeType,lang:xe,durationSec:$}),g("Voice memo saved for this stop."),B(X=>X+1)}catch(M){const $=M?.message||"Could not save voice memo.";g($)}}return c.jsxs("section",{className:"card",children:[c.jsxs("h4",{children:["Stop #",e.seq]}),c.jsxs("div",{className:"form-grid",children:[c.jsxs("label",{className:"label",children:["Client",c.jsx("input",{className:"input",value:e.client||"",onChange:M=>t({client:M.target.value})})]}),c.jsxs("label",{className:"label",children:["Site",c.jsx("input",{className:"input",value:e.site||"",onChange:M=>t({site:M.target.value})})]}),c.jsxs("label",{className:"label",style:{gridColumn:"1 / -1"},children:["Address",c.jsxs("div",{className:"row",style:{gap:8,alignItems:"flex-end"},children:[c.jsx("div",{style:{flex:1},children:c.jsx($l,{value:e.address||"",onChange:C,onSelect:b,placeholder:"Start typing address"})}),c.jsx("button",{type:"button",className:"btn secondary",onClick:async()=>{const M=(e.address||"").trim();if(!M){alert("Enter an address first");return}try{const q=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(M)}&limit=1`,{headers:{Accept:"application/json"}})).json();q[0]?await t({lat:Number(q[0].lat),lon:Number(q[0].lon)}):alert("Address not found")}catch($){alert("Geocoding failed: "+($?.message||$))}},children:"Find"})]})]}),c.jsxs("label",{className:"label",children:["Latitude",c.jsx("input",{className:"input",type:"number",value:e.lat??"",onChange:M=>t({lat:M.target.value?Number(M.target.value):void 0})})]}),c.jsxs("label",{className:"label",children:["Longitude",c.jsx("input",{className:"input",type:"number",value:e.lon??"",onChange:M=>t({lon:M.target.value?Number(M.target.value):void 0})})]}),c.jsxs("div",{className:"row",style:{gridColumn:"1 / -1",gap:8,alignItems:"center"},children:[c.jsx("button",{type:"button",className:"btn secondary",onClick:i,title:"Click the run map to set location for this stop",children:o?"Waiting For Map...":"Set From Map"}),c.jsx("small",{className:"muted",children:o?"Click the run map to place this stop.":"Press Set From Map and then click the run map."})]}),c.jsxs("label",{className:"label",children:["Species",c.jsx("input",{className:"input",value:e.species||"",onChange:M=>t({species:M.target.value})})]}),c.jsxs("label",{className:"label",children:["Count",c.jsx("input",{className:"input",type:"number",value:e.count??"",onChange:M=>t({count:Number(M.target.value)||void 0})})]}),c.jsxs("label",{className:"label",children:["Weight (lb)",c.jsx("input",{className:"input",type:"number",value:e.weightLb??"",onChange:M=>t({weightLb:Number(M.target.value)||void 0})})]}),c.jsxs("label",{className:"label",children:["Tank Temp (F)",c.jsx("input",{className:"input",type:"number",value:e.tankTempF??"",onChange:M=>t({tankTempF:Number(M.target.value)||void 0})})]}),c.jsxs("label",{className:"label",children:["Pond Temp (F)",c.jsx("input",{className:"input",type:"number",value:e.pondTempF??"",onChange:M=>t({pondTempF:Number(M.target.value)||void 0})})]}),c.jsxs("label",{className:"label",style:{gridColumn:"1 / -1"},children:["Notes",c.jsx("textarea",{className:"textarea",value:e.note||"",onChange:M=>t({note:M.target.value})})]})]}),c.jsx("div",{className:"row",style:{gap:8,marginTop:8,flexWrap:"wrap"},children:O?F?c.jsx("button",{className:"btn warn",onClick:J,children:"Stop Voice Memo"}):c.jsx("button",{className:"btn",onClick:R,children:"Record Voice Memo"}):c.jsx("button",{className:"btn",disabled:!0,title:"MediaRecorder not supported",children:"Record Voice Memo"})}),d&&c.jsx("div",{className:"muted",style:{marginTop:8,color:d.includes("saved")?"var(--success, #16a34a)":"var(--danger, #dc2626)"},children:d}),c.jsx(z_,{stopId:e.id,refreshKey:m})]})}function z_({stopId:n,refreshKey:e}){const[t,i]=S.useState([]);return S.useEffect(()=>{let o=!0;return(async()=>{const d=await pe.audioNotes.where("stopId").equals(n).reverse().sortBy("createdAt");o&&i(d)})(),()=>{o=!1}},[n,e]),t.length===0?null:c.jsxs("div",{style:{marginTop:8},children:[c.jsx("strong",{children:"Voice Memos"}),c.jsx("ul",{className:"list",children:t.map(o=>c.jsxs("li",{children:[c.jsx("small",{className:"muted",children:new Date(o.createdAt).toLocaleString()}),c.jsx("div",{children:c.jsx(W_,{note:o})})]},o.id))})]})}function W_({note:n}){const e=S.useMemo(()=>zc(n),[n]),t=S.useMemo(()=>e?URL.createObjectURL(e):void 0,[e]);if(S.useEffect(()=>()=>{t&&URL.revokeObjectURL(t)},[t]),!e||!t)return c.jsx("span",{className:"muted",children:"Audio unavailable"});const i=e.type||n?.mimeType||"audio/webm";return c.jsx("audio",{controls:!0,children:c.jsx("source",{src:t,type:i})})}function $_(){const n=Gl(),[e,t]=S.useState([]),[i,o]=S.useState("");S.useEffect(()=>{(async()=>t(await pe.jobs.toArray()))()},[]);const u=S.useMemo(()=>e.filter(g=>i?(g.createdBy||"").toLowerCase().includes(i.toLowerCase()):!0).sort((g,m)=>new Date(m.createdAt).getTime()-new Date(g.createdAt).getTime()),[e,i]);return c.jsx("div",{className:"grid",children:c.jsx(pw,{items:[{label:"New Job",accent:"green",startOpen:!0,content:c.jsxs("div",{className:"card",style:{background:"linear-gradient(180deg, var(--brand-50), #fff)"},children:[c.jsx("div",{style:{marginBottom:8,color:"var(--muted)"},children:"Create a new job by entering the client and site details. Location can be captured on site."}),c.jsx(L_,{onCreated:d=>n(`/job/${d}`)})]})},{label:"New Fish Run",accent:"cyan",content:c.jsxs("div",{className:"card",style:{background:"linear-gradient(180deg, #ecfeff, #fff)"},children:[c.jsx("div",{style:{marginBottom:8,color:"var(--muted)"},children:"Plan multi-stop fish runs with stops, species, counts/weights, and per-stop notes."}),c.jsx(V_,{})]})},{label:"Recent Jobs",accent:"amber",content:c.jsxs("div",{className:"card",children:[c.jsx("div",{className:"row",style:{marginBottom:8},children:c.jsxs("label",{className:"label",children:["Filter by employee",c.jsx("input",{className:"input",value:i,onChange:d=>o(d.target.value),placeholder:"Employee name"})]})}),u.length===0?c.jsx("p",{className:"muted",children:"No jobs yet."}):c.jsxs("table",{className:"table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Client"}),c.jsx("th",{children:"Site"}),c.jsx("th",{children:"Created"}),c.jsx("th",{children:"Employee"}),c.jsx("th",{children:"Location"}),c.jsx("th",{children:"Actions"})]})}),c.jsx("tbody",{children:u.map(d=>c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx(ri,{to:`/job/${d.id}`,children:d.clientName})}),c.jsx("td",{children:d.siteName||"-"}),c.jsx("td",{children:new Date(d.createdAt).toLocaleString()}),c.jsx("td",{children:d.createdBy||"-"}),c.jsx("td",{children:typeof d.lat=="number"&&typeof d.lon=="number"?`${d.lat.toFixed(5)}, ${d.lon.toFixed(5)}`:"-"}),c.jsxs("td",{children:[c.jsx(ri,{className:"btn secondary",to:`/job/${d.id}/summary`,children:"Summary"}),c.jsx("button",{className:"btn warn",style:{marginLeft:6},onClick:()=>Z_(d.id),children:"Delete"})]})]},d.id))})]})]})}]})})}async function Z_(n){confirm("Delete this job and all related notes, photos, measurements, etc.?")&&(await pe.notes.where("jobId").equals(n).delete(),await pe.photos.where("jobId").equals(n).delete(),await pe.measurements.where("jobId").equals(n).delete(),await pe.waterQuality.where("jobId").equals(n).delete(),await pe.tracks.where("jobId").equals(n).delete(),await pe.checklists.where("jobId").equals(n).delete(),await pe.audioNotes.where("jobId").equals(n).delete(),pe.depthPoints&&await pe.depthPoints.where("jobId").equals(n).delete(),pe.ponds&&await pe.ponds.where("jobId").equals(n).delete(),pe.jobLogs&&await pe.jobLogs.where("jobId").equals(n).delete(),await pe.jobs.delete(n),location.reload())}function J_({jobId:n}){const[e,t]=S.useState(""),[i,o]=S.useState([]),[u,d]=S.useState([]),[g,m]=S.useState([]),[B,C]=S.useState(""),[b,F]=S.useState(null),[j,P]=S.useState(null),[N,G]=S.useState(null),[O,R]=S.useState(""),{isRecording:J,startRecording:M,stopRecording:$,error:q,resetError:xe,isSupported:X}=mw({deviceId:B,minDurationMs:800});S.useEffect(()=>{q&&P(q)},[q]),S.useEffect(()=>{let be=!0;const et=async()=>{const Qe=await pe.audioNotes.where("jobId").equals(n).reverse().sortBy("createdAt");be&&d(Qe)};et();const se=setInterval(et,2e3);return()=>{be=!1,clearInterval(se)}},[n]),S.useEffect(()=>{let be=!0;const et=async()=>{const Qe=await pe.notes.where("jobId").equals(n).reverse().sortBy("createdAt");be&&o(Qe)};et();const se=setInterval(et,2e3);return()=>{be=!1,clearInterval(se)}},[n]),S.useEffect(()=>{async function be(){try{if(!navigator.mediaDevices?.enumerateDevices)return;const se=(await navigator.mediaDevices.enumerateDevices()).filter(Qe=>Qe.kind==="audioinput");m(se),!B&&se[0]?.deviceId&&C(se[0].deviceId)}catch{}}be()},[B]);async function Ae(be){be.preventDefault();const et=e.trim();if(!et)return;const se=new Date().toISOString();await cm({id:crypto.randomUUID(),jobId:n,text:et,createdAt:se}),await hn(n,"note_add",`Added note: ${et.slice(0,40)}`,_n()),t("")}async function ve(){P(null),xe();try{await M()}catch(be){const et=be?.message||"Could not start recording.";P(et)}}async function Ee(){try{const be=await $(),et=Math.max(1,Math.round(be.durationMs/1e3)),se=new Date().toISOString(),Qe=Sc(navigator.language);await ow({id:crypto.randomUUID(),jobId:n,blob:be.blob,createdAt:se,mimeType:be.mimeType,lang:Qe,durationSec:et});const ge=await pe.audioNotes.where("jobId").equals(n).reverse().sortBy("createdAt");d(ge),P(null)}catch(be){const et=be?.message||"Recording did not capture any audio.";P(et)}}async function qe(be){try{if(!vw()){alert("Add an OpenAI API key in Settings to enable transcription.");return}F(be.id);const et=zc(be);if(!et){alert("Audio data is unavailable. Please re-record this memo and try again.");return}const se=await M_(et,{language:Sc(be.lang)});await dm(be.id,{transcript:se}),await hn(n,"audio_transcribed",`Transcribed audio note (${(se||"").slice(0,40)})`,_n());const Qe=await pe.audioNotes.where("jobId").equals(n).reverse().sortBy("createdAt");d(Qe)}catch(et){alert(et?.message||"Transcription failed")}finally{F(null)}}async function Ze(be){if(!be?.transcript)return;const et=`Voice memo transcript: ${be.transcript}`,se=new Date().toISOString(),Qe=crypto.randomUUID();await cm({id:Qe,jobId:n,text:et,createdAt:se}),await dm(be.id,{promotedNoteId:Qe}),await hn(n,"note_add",`Converted voice memo to note: ${(be.transcript||"").slice(0,40)}`,_n());const[ge,Pe]=await Promise.all([pe.audioNotes.where("jobId").equals(n).reverse().sortBy("createdAt"),pe.notes.where("jobId").equals(n).reverse().sortBy("createdAt")]);d(ge),o(Pe)}return c.jsxs("div",{className:"grid",style:{gap:12},children:[c.jsxs("form",{className:"row",style:{gap:8},onSubmit:Ae,children:[c.jsx("input",{className:"input",style:{flex:1,minWidth:200},placeholder:"Add a note...",value:e,onChange:be=>t(be.target.value)}),c.jsx("button",{className:"btn",type:"submit",children:"Add"})]}),c.jsxs("div",{className:"row",style:{gap:8,alignItems:"center",flexWrap:"wrap"},children:[g.length>0&&c.jsxs("label",{className:"row",style:{gap:6},children:[c.jsx("span",{className:"muted",children:"Mic"}),c.jsx("select",{className:"select",value:B,onChange:be=>{C(be.target.value),P(null)},children:g.map(be=>c.jsx("option",{value:be.deviceId,children:be.label||"Microphone"},be.deviceId))}),c.jsx("button",{type:"button",className:"btn secondary",onClick:async()=>{try{const be=await navigator.mediaDevices.enumerateDevices();m(be.filter(et=>et.kind==="audioinput"))}catch{}},children:"Refresh"})]}),X?J?c.jsx("button",{className:"btn warn",onClick:Ee,children:"Stop"}):c.jsx("button",{className:"btn",onClick:ve,title:"Requires an available microphone",children:"Record Voice Memo"}):c.jsx("button",{className:"btn",disabled:!0,title:"MediaRecorder not supported",children:"Record Voice Memo"})]}),j&&c.jsx("div",{className:"muted",style:{color:"var(--danger, #dc2626)"},children:j}),i.length>0&&c.jsxs("section",{className:"card",children:[c.jsx("h4",{children:"Text Notes"}),c.jsx("ul",{className:"list",children:i.map(be=>{const et=N===be.id;return c.jsxs("li",{style:{display:"grid",gap:6},children:[c.jsx("small",{className:"muted",children:new Date(be.createdAt).toLocaleString()}),c.jsxs("div",{style:{display:"grid",gap:8},children:[c.jsx("div",{style:{whiteSpace:"pre-wrap"},children:et?c.jsx("textarea",{className:"textarea",value:O,onChange:se=>R(se.target.value),rows:Math.max(2,O.split(`
`).length)}):be.text}),et?c.jsxs("div",{className:"row",style:{gap:6,justifyContent:"flex-end"},children:[c.jsx("button",{className:"btn secondary",onClick:()=>{G(null),R("")},children:"Cancel"}),c.jsx("button",{className:"btn",onClick:async()=>{const se=O.trim();if(!se){alert("Note cannot be empty.");return}await pe.notes.update(be.id,{text:se}),await hn(n,"note_edit",`Updated note: ${se.slice(0,40)}`,_n());const Qe=await pe.notes.where("jobId").equals(n).reverse().sortBy("createdAt");o(Qe),G(null),R("")},children:"Save"})]}):c.jsxs("div",{className:"row",style:{gap:6,justifyContent:"flex-end"},children:[c.jsx("button",{className:"btn secondary",onClick:()=>{G(be.id),R(be.text||"")},children:"Edit"}),c.jsx("button",{className:"btn warn",onClick:async()=>{confirm("Delete this note?")&&(await pe.notes.delete(be.id),o(await pe.notes.where("jobId").equals(n).reverse().sortBy("createdAt")))},children:"Delete"})]})]})]},be.id)})})]}),u.length===0?c.jsx("div",{className:"muted",children:"No voice memos yet."}):c.jsx("div",{className:"grid",style:{gap:8},children:u.map(be=>c.jsxs("div",{className:"card",style:{padding:8},children:[c.jsxs("div",{className:"row",style:{justifyContent:"space-between",alignItems:"center"},children:[c.jsx("small",{className:"muted",children:new Date(be.createdAt).toLocaleString()}),c.jsxs("div",{className:"row",style:{gap:8},children:[c.jsx(q_,{note:be}),c.jsx("button",{className:"btn",disabled:!!b,onClick:()=>qe(be),children:b===be.id?"Transcribing...":"Transcribe"}),c.jsx("button",{className:"btn warn",onClick:async()=>{confirm("Delete this voice memo?")&&(await pe.audioNotes.delete(be.id),d(await pe.audioNotes.where("jobId").equals(n).reverse().sortBy("createdAt")))},children:"Delete"})]})]}),be.transcript&&c.jsxs("div",{style:{marginTop:6},children:[c.jsx("strong",{children:"Transcript:"})," ",c.jsx("div",{children:be.transcript}),c.jsx("div",{className:"row",style:{marginTop:6,gap:8},children:c.jsx("button",{className:"btn secondary",disabled:!!be.promotedNoteId,onClick:()=>Ze(be),children:be.promotedNoteId?"Saved To Notes":"Save Transcript as Note"})})]})]},be.id))})]})}function q_({note:n}){const e=S.useMemo(()=>zc(n),[n]),t=S.useMemo(()=>e?URL.createObjectURL(e):void 0,[e]);if(S.useEffect(()=>()=>{t&&URL.revokeObjectURL(t)},[t]),!t||!e)return c.jsx("span",{className:"muted",children:"Audio unavailable"});const i=e.type||n?.mimeType||"audio/webm";return c.jsxs("audio",{controls:!0,children:[c.jsx("source",{src:t,type:i}),"Your browser does not support audio playback."]})}function X_({jobId:n}){const[e,t]=S.useState(""),[i,o]=S.useState("ft"),[u,d]=S.useState("depth");async function g(m){m.preventDefault();const B=Number(e);if(!Number.isFinite(B))return;const C=new Date().toISOString();await z0({id:crypto.randomUUID(),jobId:n,unit:i,kind:u,value:B,createdAt:C}),await hn(n,"measurement_add",`Added ${u}: ${B} ${i}`,_n()),t("")}return c.jsxs("form",{onSubmit:g,className:"row",children:[c.jsxs("select",{className:"select",value:u,onChange:m=>d(m.target.value),children:[c.jsx("option",{value:"length",children:"Length"}),c.jsx("option",{value:"width",children:"Width"}),c.jsx("option",{value:"depth",children:"Depth"}),c.jsx("option",{value:"perimeter",children:"Perimeter"}),c.jsx("option",{value:"depthSample",children:"Depth Sample"}),c.jsx("option",{value:"custom",children:"Custom"})]}),c.jsx("input",{className:"input",value:e,onChange:m=>t(m.target.value),placeholder:"Value",style:{width:160}}),c.jsxs("select",{className:"select",value:i,onChange:m=>o(m.target.value),children:[c.jsx("option",{value:"ft",children:"ft"}),c.jsx("option",{value:"in",children:"in"}),c.jsx("option",{value:"yd",children:"yd"}),c.jsx("option",{value:"m",children:"m"}),c.jsx("option",{value:"cm",children:"cm"})]}),c.jsx("button",{className:"btn",type:"submit",children:"Add"})]})}function Y_({jobId:n}){const e=S.useRef(null),[t,i]=S.useState(null);async function o(u){const d=u.target.files?.[0];if(!d)return;const g=URL.createObjectURL(d);i(g);const m=new Date().toISOString();let B={};try{if("geolocation"in navigator){const C=await new Promise((b,F)=>navigator.geolocation.getCurrentPosition(b,F,{enableHighAccuracy:!0,timeout:8e3}));B.lat=C.coords.latitude,B.lon=C.coords.longitude,B.accuracy=C.coords.accuracy}}catch{}await iw({id:crypto.randomUUID(),jobId:n,localUri:g,blob:d,caption:"",createdAt:m,exif:B}),await hn(n,"photo_add","Added photo",_n())}return c.jsxs("div",{className:"row",children:[c.jsx("input",{className:"input",ref:e,type:"file",accept:"image/*",capture:"environment",onChange:o}),t&&c.jsx("img",{className:"rounded",alt:"preview",src:t,style:{maxWidth:200,height:"auto"}})]})}function eC({onAdded:n}){const[e,t]=S.useState(""),[i,o]=S.useState(""),[u,d]=S.useState("liquid"),[g,m]=S.useState(""),[B,C]=S.useState(""),[b,F]=S.useState("acre-foot"),[j,P]=S.useState("algae"),[N,G]=S.useState(""),[O,R]=S.useState(""),[J,M]=S.useState("lbs/ac-ft"),[$,q]=S.useState(null);async function xe(X){X.preventDefault();const Ae=e.toLowerCase().replace(/[^a-z0-9]+/g,"_")+"_"+Math.random().toString(36).slice(2,6),ve={id:Ae,brand:e,active:i,form:u,strength:g||void 0,labelNotes:B||void 0,doseRules:[{target:j,basis:b,minRate:Number(N)||0,maxRate:Number(O)||0,unit:J}]};if(await sw(ve),$){const Ee=$;await Z0({id:crypto.randomUUID(),productId:Ae,filename:$.name,mimeType:$.type||"application/pdf",size:$.size,blob:Ee,createdAt:new Date().toISOString()})}t(""),o(""),m(""),C(""),G(""),R(""),q(null),n(ve)}return c.jsxs("form",{onSubmit:xe,className:"grid",children:[c.jsxs("label",{className:"label",children:["Brand",c.jsx("input",{className:"input",value:e,onChange:X=>t(X.target.value),required:!0})]}),c.jsxs("label",{className:"label",children:["Active",c.jsx("input",{className:"input",value:i,onChange:X=>o(X.target.value),required:!0})]}),c.jsxs("label",{className:"label",children:["Form",c.jsxs("select",{className:"select",value:u,onChange:X=>d(X.target.value),children:[c.jsx("option",{value:"liquid",children:"liquid"}),c.jsx("option",{value:"granular",children:"granular"}),c.jsx("option",{value:"crystal",children:"crystal"}),c.jsx("option",{value:"other",children:"other"})]})]}),c.jsxs("label",{className:"label",children:["Strength",c.jsx("input",{className:"input",value:g,onChange:X=>m(X.target.value),placeholder:"e.g., % a.i."})]}),c.jsxs("label",{className:"label",children:["Label Notes",c.jsx("textarea",{className:"textarea",value:B,onChange:X=>C(X.target.value)})]}),c.jsxs("fieldset",{style:{display:"grid",gap:6},children:[c.jsx("legend",{children:"Dose Rule"}),c.jsxs("label",{className:"label",children:["Target",c.jsxs("select",{className:"select",value:j,onChange:X=>P(X.target.value),children:[c.jsx("option",{value:"algae",children:"algae"}),c.jsx("option",{value:"weeds",children:"weeds"}),c.jsx("option",{value:"bacteria",children:"bacteria"}),c.jsx("option",{value:"other",children:"other"})]})]}),c.jsxs("label",{className:"label",children:["Basis",c.jsxs("select",{className:"select",value:b,onChange:X=>F(X.target.value),children:[c.jsx("option",{value:"surface-acre",children:"surface-acre"}),c.jsx("option",{value:"acre-foot",children:"acre-foot"}),c.jsx("option",{value:"ppm",children:"ppm"}),c.jsx("option",{value:"gal-per-1000gal",children:"gal-per-1000gal"})]})]}),c.jsxs("label",{className:"label",children:["Min Rate",c.jsx("input",{className:"input",value:N,onChange:X=>G(X.target.value),placeholder:"e.g., 2.72"})]}),c.jsxs("label",{className:"label",children:["Max Rate",c.jsx("input",{className:"input",value:O,onChange:X=>R(X.target.value),placeholder:"e.g., 5.44"})]}),c.jsxs("label",{className:"label",children:["Unit",c.jsx("input",{className:"input",value:J,onChange:X=>M(X.target.value),placeholder:"e.g., lbs/ac-ft"})]})]}),c.jsxs("label",{className:"label",children:["Label PDF (optional)",c.jsx("input",{className:"input",type:"file",accept:"application/pdf",onChange:X=>q(X.target.files?.[0]||null)})]}),c.jsx("button",{className:"btn",type:"submit",children:"Add Chemical"})]})}function tC({onSelect:n}){const[e,t]=S.useState(""),[i,o]=S.useState([]),[u,d]=S.useState(!1);S.useEffect(()=>{(async()=>{const B=await pe.chemProducts.toArray();if(B.length>0)o(B);else try{const b=await(await fetch("/data/chemicals.json")).json();o(b);for(const F of b)await sw(F)}catch{o([])}})()},[]);const g=i.filter(m=>[m.id,m.brand,m.active].some(B=>B.toLowerCase().includes(e.toLowerCase())));return c.jsxs("div",{children:[c.jsxs("div",{className:"row",children:[c.jsx("input",{className:"input",placeholder:"Search chemicals",value:e,onChange:m=>t(m.target.value)}),c.jsx("button",{className:"btn secondary",onClick:()=>d(m=>!m),children:u?"Close":"Add Chemical"})]}),u&&c.jsx("div",{className:"card",style:{marginTop:8},children:c.jsx(eC,{onAdded:m=>{d(!1),o(B=>[m,...B])}})}),c.jsx("ul",{children:g.map(m=>c.jsx("li",{children:c.jsxs("button",{className:"btn ghost",onClick:()=>n(m),style:{textAlign:"left"},children:[c.jsx("strong",{children:m.brand})," - ",m.active," [",m.form,"]"]})},m.id))})]})}function ww(n){const e=S.useMemo(()=>n?URL.createObjectURL(n):void 0,[n]);return S.useEffect(()=>()=>{e&&URL.revokeObjectURL(e)},[e]),e}function nC({p:n}){const t=ww(n.blob)||n.localUri;return c.jsx("img",{src:t,alt:n.caption||"photo",style:{width:120,height:120,objectFit:"cover",borderRadius:8}},n.id)}function AC({jobId:n}){const[e,t]=S.useState([]),[i,o]=S.useState(null);return S.useEffect(()=>{let u=!0;return(async()=>{const g=await pe.photos.where("jobId").equals(n).reverse().sortBy("createdAt");u&&t(g)})(),()=>{u=!1}},[n]),e.length===0?c.jsx("p",{children:"No photos yet."}):c.jsxs(c.Fragment,{children:[c.jsx("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:e.map((u,d)=>c.jsx("div",{onClick:()=>o({open:!0,index:d}),style:{cursor:"pointer"},children:c.jsx(nC,{p:u})},u.id))}),i?.open&&c.jsx(rC,{photos:e,index:i.index,onClose:()=>o(null),onPrev:()=>o(u=>({open:!0,index:(u.index+e.length-1)%e.length})),onNext:()=>o(u=>({open:!0,index:(u.index+1)%e.length}))})]})}function rC({photos:n,index:e,onClose:t,onPrev:i,onNext:o}){const u=n[e],d=ww(u.blob)||u.localUri;return d?c.jsxs("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.85)",display:"grid",placeItems:"center",zIndex:9999},onClick:t,children:[c.jsxs("div",{style:{position:"absolute",top:16,right:16,display:"flex",gap:8},children:[c.jsx("button",{className:"btn",onClick:t,children:"Close"}),c.jsx("button",{className:"btn warn",onClick:async g=>{g.stopPropagation(),confirm("Really delete this photo?")&&(await pe.photos.delete(u.id),t(),location.reload())},children:"Delete"})]}),c.jsx("button",{className:"btn",style:{position:"absolute",left:16,top:"50%"},onClick:g=>{g.stopPropagation(),i()},children:"<"}),c.jsx("img",{src:d,alt:u.caption||"photo",style:{maxWidth:"92vw",maxHeight:"92vh",objectFit:"contain",borderRadius:8},onClick:g=>g.stopPropagation()}),c.jsx("button",{className:"btn",style:{position:"absolute",right:16,top:"50%"},onClick:g=>{g.stopPropagation(),o()},children:">"})]}):null}/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var cf=function(n,e){return cf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])},cf(n,e)};function ii(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");cf(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var df=function(){return df=Object.assign||function(e){for(var t,i=1,o=arguments.length;i<o;i++){t=arguments[i];for(var u in t)Object.prototype.hasOwnProperty.call(t,u)&&(e[u]=t[u])}return e},df.apply(this,arguments)};function xA(n,e,t,i){function o(u){return u instanceof t?u:new t(function(d){d(u)})}return new(t||(t=Promise))(function(u,d){function g(C){try{B(i.next(C))}catch(b){d(b)}}function m(C){try{B(i.throw(C))}catch(b){d(b)}}function B(C){C.done?u(C.value):o(C.value).then(g,m)}B((i=i.apply(n,[])).next())})}function dA(n,e){var t={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},i,o,u,d;return d={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function g(B){return function(C){return m([B,C])}}function m(B){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,o&&(u=B[0]&2?o.return:B[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,B[1])).done)return u;switch(o=0,u&&(B=[B[0]&2,u.value]),B[0]){case 0:case 1:u=B;break;case 4:return t.label++,{value:B[1],done:!1};case 5:t.label++,o=B[1],B=[0];continue;case 7:B=t.ops.pop(),t.trys.pop();continue;default:if(u=t.trys,!(u=u.length>0&&u[u.length-1])&&(B[0]===6||B[0]===2)){t=0;continue}if(B[0]===3&&(!u||B[1]>u[0]&&B[1]<u[3])){t.label=B[1];break}if(B[0]===6&&t.label<u[1]){t.label=u[1],u=B;break}if(u&&t.label<u[2]){t.label=u[2],t.ops.push(B);break}u[2]&&t.ops.pop(),t.trys.pop();continue}B=e.call(n,t)}catch(C){B=[6,C],o=0}finally{i=u=0}if(B[0]&5)throw B[1];return{value:B[0]?B[1]:void 0,done:!0}}}function Ku(n,e,t){if(arguments.length===2)for(var i=0,o=e.length,u;i<o;i++)(u||!(i in e))&&(u||(u=Array.prototype.slice.call(e,0,i)),u[i]=e[i]);return n.concat(u||e)}var ps=(function(){function n(e,t,i,o){this.left=e,this.top=t,this.width=i,this.height=o}return n.prototype.add=function(e,t,i,o){return new n(this.left+e,this.top+t,this.width+i,this.height+o)},n.fromClientRect=function(e,t){return new n(t.left+e.windowBounds.left,t.top+e.windowBounds.top,t.width,t.height)},n.fromDOMRectList=function(e,t){var i=Array.from(t).find(function(o){return o.width!==0});return i?new n(i.left+e.windowBounds.left,i.top+e.windowBounds.top,i.width,i.height):n.EMPTY},n.EMPTY=new n(0,0,0,0),n})(),Wc=function(n,e){return ps.fromClientRect(n,e.getBoundingClientRect())},iC=function(n){var e=n.body,t=n.documentElement;if(!e||!t)throw new Error("Unable to get document size");var i=Math.max(Math.max(e.scrollWidth,t.scrollWidth),Math.max(e.offsetWidth,t.offsetWidth),Math.max(e.clientWidth,t.clientWidth)),o=Math.max(Math.max(e.scrollHeight,t.scrollHeight),Math.max(e.offsetHeight,t.offsetHeight),Math.max(e.clientHeight,t.clientHeight));return new ps(0,0,i,o)},$c=function(n){for(var e=[],t=0,i=n.length;t<i;){var o=n.charCodeAt(t++);if(o>=55296&&o<=56319&&t<i){var u=n.charCodeAt(t++);(u&64512)===56320?e.push(((o&1023)<<10)+(u&1023)+65536):(e.push(o),t--)}else e.push(o)}return e},Bn=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,n);var t=n.length;if(!t)return"";for(var i=[],o=-1,u="";++o<t;){var d=n[o];d<=65535?i.push(d):(d-=65536,i.push((d>>10)+55296,d%1024+56320)),(o+1===t||i.length>16384)&&(u+=String.fromCharCode.apply(String,i),i.length=0)}return u},mm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",sC=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Vu=0;Vu<mm.length;Vu++)sC[mm.charCodeAt(Vu)]=Vu;var vm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_l=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Gu=0;Gu<vm.length;Gu++)_l[vm.charCodeAt(Gu)]=Gu;var oC=function(n){var e=n.length*.75,t=n.length,i,o=0,u,d,g,m;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);var B=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),C=Array.isArray(B)?B:new Uint8Array(B);for(i=0;i<t;i+=4)u=_l[n.charCodeAt(i)],d=_l[n.charCodeAt(i+1)],g=_l[n.charCodeAt(i+2)],m=_l[n.charCodeAt(i+3)],C[o++]=u<<2|d>>4,C[o++]=(d&15)<<4|g>>2,C[o++]=(g&3)<<6|m&63;return B},aC=function(n){for(var e=n.length,t=[],i=0;i<e;i+=2)t.push(n[i+1]<<8|n[i]);return t},lC=function(n){for(var e=n.length,t=[],i=0;i<e;i+=4)t.push(n[i+3]<<24|n[i+2]<<16|n[i+1]<<8|n[i]);return t},Ro=5,Yf=11,Bh=2,uC=Yf-Ro,yw=65536>>Ro,cC=1<<Ro,_h=cC-1,dC=1024>>Ro,hC=yw+dC,fC=hC,pC=32,gC=fC+pC,mC=65536>>Yf,vC=1<<uC,wC=vC-1,wm=function(n,e,t){return n.slice?n.slice(e,t):new Uint16Array(Array.prototype.slice.call(n,e,t))},yC=function(n,e,t){return n.slice?n.slice(e,t):new Uint32Array(Array.prototype.slice.call(n,e,t))},BC=function(n,e){var t=oC(n),i=Array.isArray(t)?lC(t):new Uint32Array(t),o=Array.isArray(t)?aC(t):new Uint16Array(t),u=24,d=wm(o,u/2,i[4]/2),g=i[5]===2?wm(o,(u+i[4])/2):yC(i,Math.ceil((u+i[4])/4));return new _C(i[0],i[1],i[2],i[3],d,g)},_C=(function(){function n(e,t,i,o,u,d){this.initialValue=e,this.errorValue=t,this.highStart=i,this.highValueIndex=o,this.index=u,this.data=d}return n.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>Ro],t=(t<<Bh)+(e&_h),this.data[t];if(e<=65535)return t=this.index[yw+(e-55296>>Ro)],t=(t<<Bh)+(e&_h),this.data[t];if(e<this.highStart)return t=gC-mC+(e>>Yf),t=this.index[t],t+=e>>Ro&wC,t=this.index[t],t=(t<<Bh)+(e&_h),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},n})(),ym="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",CC=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var zu=0;zu<ym.length;zu++)CC[ym.charCodeAt(zu)]=zu;var xC="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",Bm=50,bC=1,Bw=2,_w=3,QC=4,UC=5,_m=7,Cw=8,Cm=9,qs=10,hf=11,xm=12,ff=13,EC=14,Cl=15,pf=16,Wu=17,gl=18,FC=19,bm=20,gf=21,ml=22,Ch=23,ya=24,rr=25,xl=26,bl=27,Ba=28,SC=29,Ho=30,IC=31,$u=32,Zu=33,mf=34,vf=35,wf=36,Dl=37,yf=38,Cc=39,xc=40,xh=41,xw=42,LC=43,kC=[9001,65288],bw="!",Et="",Ju="",Bf=BC(xC),us=[Ho,wf],_f=[bC,Bw,_w,UC],Qw=[qs,Cw],Qm=[bl,xl],TC=_f.concat(Qw),Um=[yf,Cc,xc,mf,vf],PC=[Cl,ff],NC=function(n,e){e===void 0&&(e="strict");var t=[],i=[],o=[];return n.forEach(function(u,d){var g=Bf.get(u);if(g>Bm?(o.push(!0),g-=Bm):o.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(u)!==-1)return i.push(d),t.push(pf);if(g===QC||g===hf){if(d===0)return i.push(d),t.push(Ho);var m=t[d-1];return TC.indexOf(m)===-1?(i.push(i[d-1]),t.push(m)):(i.push(d),t.push(Ho))}if(i.push(d),g===IC)return t.push(e==="strict"?gf:Dl);if(g===xw||g===SC)return t.push(Ho);if(g===LC)return u>=131072&&u<=196605||u>=196608&&u<=262141?t.push(Dl):t.push(Ho);t.push(g)}),[i,t,o]},bh=function(n,e,t,i){var o=i[t];if(Array.isArray(n)?n.indexOf(o)!==-1:n===o)for(var u=t;u<=i.length;){u++;var d=i[u];if(d===e)return!0;if(d!==qs)break}if(o===qs)for(var u=t;u>0;){u--;var g=i[u];if(Array.isArray(n)?n.indexOf(g)!==-1:n===g)for(var m=t;m<=i.length;){m++;var d=i[m];if(d===e)return!0;if(d!==qs)break}if(g!==qs)break}return!1},Em=function(n,e){for(var t=n;t>=0;){var i=e[t];if(i===qs)t--;else return i}return 0},jC=function(n,e,t,i,o){if(t[i]===0)return Et;var u=i-1;if(Array.isArray(o)&&o[u]===!0)return Et;var d=u-1,g=u+1,m=e[u],B=d>=0?e[d]:0,C=e[g];if(m===Bw&&C===_w)return Et;if(_f.indexOf(m)!==-1)return bw;if(_f.indexOf(C)!==-1||Qw.indexOf(C)!==-1)return Et;if(Em(u,e)===Cw)return Ju;if(Bf.get(n[u])===hf||(m===$u||m===Zu)&&Bf.get(n[g])===hf||m===_m||C===_m||m===Cm||[qs,ff,Cl].indexOf(m)===-1&&C===Cm||[Wu,gl,FC,ya,Ba].indexOf(C)!==-1||Em(u,e)===ml||bh(Ch,ml,u,e)||bh([Wu,gl],gf,u,e)||bh(xm,xm,u,e))return Et;if(m===qs)return Ju;if(m===Ch||C===Ch)return Et;if(C===pf||m===pf)return Ju;if([ff,Cl,gf].indexOf(C)!==-1||m===EC||B===wf&&PC.indexOf(m)!==-1||m===Ba&&C===wf||C===bm||us.indexOf(C)!==-1&&m===rr||us.indexOf(m)!==-1&&C===rr||m===bl&&[Dl,$u,Zu].indexOf(C)!==-1||[Dl,$u,Zu].indexOf(m)!==-1&&C===xl||us.indexOf(m)!==-1&&Qm.indexOf(C)!==-1||Qm.indexOf(m)!==-1&&us.indexOf(C)!==-1||[bl,xl].indexOf(m)!==-1&&(C===rr||[ml,Cl].indexOf(C)!==-1&&e[g+1]===rr)||[ml,Cl].indexOf(m)!==-1&&C===rr||m===rr&&[rr,Ba,ya].indexOf(C)!==-1)return Et;if([rr,Ba,ya,Wu,gl].indexOf(C)!==-1)for(var b=u;b>=0;){var F=e[b];if(F===rr)return Et;if([Ba,ya].indexOf(F)!==-1)b--;else break}if([bl,xl].indexOf(C)!==-1)for(var b=[Wu,gl].indexOf(m)!==-1?d:u;b>=0;){var F=e[b];if(F===rr)return Et;if([Ba,ya].indexOf(F)!==-1)b--;else break}if(yf===m&&[yf,Cc,mf,vf].indexOf(C)!==-1||[Cc,mf].indexOf(m)!==-1&&[Cc,xc].indexOf(C)!==-1||[xc,vf].indexOf(m)!==-1&&C===xc||Um.indexOf(m)!==-1&&[bm,xl].indexOf(C)!==-1||Um.indexOf(C)!==-1&&m===bl||us.indexOf(m)!==-1&&us.indexOf(C)!==-1||m===ya&&us.indexOf(C)!==-1||us.concat(rr).indexOf(m)!==-1&&C===ml&&kC.indexOf(n[g])===-1||us.concat(rr).indexOf(C)!==-1&&m===gl)return Et;if(m===xh&&C===xh){for(var j=t[u],P=1;j>0&&(j--,e[j]===xh);)P++;if(P%2!==0)return Et}return m===$u&&C===Zu?Et:Ju},HC=function(n,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var t=NC(n,e.lineBreak),i=t[0],o=t[1],u=t[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(o=o.map(function(g){return[rr,Ho,xw].indexOf(g)!==-1?Dl:g}));var d=e.wordBreak==="keep-all"?u.map(function(g,m){return g&&n[m]>=19968&&n[m]<=40959}):void 0;return[i,o,d]},OC=(function(){function n(e,t,i,o){this.codePoints=e,this.required=t===bw,this.start=i,this.end=o}return n.prototype.slice=function(){return Bn.apply(void 0,this.codePoints.slice(this.start,this.end))},n})(),DC=function(n,e){var t=$c(n),i=HC(t,e),o=i[0],u=i[1],d=i[2],g=t.length,m=0,B=0;return{next:function(){if(B>=g)return{done:!0,value:null};for(var C=Et;B<g&&(C=jC(t,u,o,++B,d))===Et;);if(C!==Et||B===g){var b=new OC(t,C,m,B);return m=B,{value:b,done:!1}}return{done:!0,value:null}}}},RC=1,MC=2,Zl=4,Fm=8,Ic=10,Sm=47,Sl=92,KC=9,VC=32,qu=34,vl=61,GC=35,zC=36,WC=37,Xu=39,Yu=40,wl=41,$C=95,MA=45,ZC=33,JC=60,qC=62,XC=64,YC=91,ex=93,tx=61,nx=123,ec=63,Ax=125,Im=124,rx=126,ix=128,Lm=65533,Qh=42,Do=43,sx=44,ox=58,ax=59,Rl=46,lx=0,ux=8,cx=11,dx=14,hx=31,fx=127,Ei=-1,Uw=48,Ew=97,Fw=101,px=102,gx=117,mx=122,Sw=65,Iw=69,Lw=70,vx=85,wx=90,hA=function(n){return n>=Uw&&n<=57},yx=function(n){return n>=55296&&n<=57343},_a=function(n){return hA(n)||n>=Sw&&n<=Lw||n>=Ew&&n<=px},Bx=function(n){return n>=Ew&&n<=mx},_x=function(n){return n>=Sw&&n<=wx},Cx=function(n){return Bx(n)||_x(n)},xx=function(n){return n>=ix},tc=function(n){return n===Ic||n===KC||n===VC},Lc=function(n){return Cx(n)||xx(n)||n===$C},km=function(n){return Lc(n)||hA(n)||n===MA},bx=function(n){return n>=lx&&n<=ux||n===cx||n>=dx&&n<=hx||n===fx},$s=function(n,e){return n!==Sl?!1:e!==Ic},nc=function(n,e,t){return n===MA?Lc(e)||$s(e,t):Lc(n)?!0:!!(n===Sl&&$s(n,e))},Uh=function(n,e,t){return n===Do||n===MA?hA(e)?!0:e===Rl&&hA(t):hA(n===Rl?e:n)},Qx=function(n){var e=0,t=1;(n[e]===Do||n[e]===MA)&&(n[e]===MA&&(t=-1),e++);for(var i=[];hA(n[e]);)i.push(n[e++]);var o=i.length?parseInt(Bn.apply(void 0,i),10):0;n[e]===Rl&&e++;for(var u=[];hA(n[e]);)u.push(n[e++]);var d=u.length,g=d?parseInt(Bn.apply(void 0,u),10):0;(n[e]===Iw||n[e]===Fw)&&e++;var m=1;(n[e]===Do||n[e]===MA)&&(n[e]===MA&&(m=-1),e++);for(var B=[];hA(n[e]);)B.push(n[e++]);var C=B.length?parseInt(Bn.apply(void 0,B),10):0;return t*(o+g*Math.pow(10,-d))*Math.pow(10,m*C)},Ux={type:2},Ex={type:3},Fx={type:4},Sx={type:13},Ix={type:8},Lx={type:21},kx={type:9},Tx={type:10},Px={type:11},Nx={type:12},jx={type:14},Ac={type:23},Hx={type:1},Ox={type:25},Dx={type:24},Rx={type:26},Mx={type:27},Kx={type:28},Vx={type:29},Gx={type:31},Cf={type:32},kw=(function(){function n(){this._value=[]}return n.prototype.write=function(e){this._value=this._value.concat($c(e))},n.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==Cf;)e.push(t),t=this.consumeToken();return e},n.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case qu:return this.consumeStringToken(qu);case GC:var t=this.peekCodePoint(0),i=this.peekCodePoint(1),o=this.peekCodePoint(2);if(km(t)||$s(i,o)){var u=nc(t,i,o)?MC:RC,d=this.consumeName();return{type:5,value:d,flags:u}}break;case zC:if(this.peekCodePoint(0)===vl)return this.consumeCodePoint(),Sx;break;case Xu:return this.consumeStringToken(Xu);case Yu:return Ux;case wl:return Ex;case Qh:if(this.peekCodePoint(0)===vl)return this.consumeCodePoint(),jx;break;case Do:if(Uh(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case sx:return Fx;case MA:var g=e,m=this.peekCodePoint(0),B=this.peekCodePoint(1);if(Uh(g,m,B))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(nc(g,m,B))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(m===MA&&B===qC)return this.consumeCodePoint(),this.consumeCodePoint(),Dx;break;case Rl:if(Uh(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Sm:if(this.peekCodePoint(0)===Qh)for(this.consumeCodePoint();;){var C=this.consumeCodePoint();if(C===Qh&&(C=this.consumeCodePoint(),C===Sm))return this.consumeToken();if(C===Ei)return this.consumeToken()}break;case ox:return Rx;case ax:return Mx;case JC:if(this.peekCodePoint(0)===ZC&&this.peekCodePoint(1)===MA&&this.peekCodePoint(2)===MA)return this.consumeCodePoint(),this.consumeCodePoint(),Ox;break;case XC:var b=this.peekCodePoint(0),F=this.peekCodePoint(1),j=this.peekCodePoint(2);if(nc(b,F,j)){var d=this.consumeName();return{type:7,value:d}}break;case YC:return Kx;case Sl:if($s(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case ex:return Vx;case tx:if(this.peekCodePoint(0)===vl)return this.consumeCodePoint(),Ix;break;case nx:return Px;case Ax:return Nx;case gx:case vx:var P=this.peekCodePoint(0),N=this.peekCodePoint(1);return P===Do&&(_a(N)||N===ec)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case Im:if(this.peekCodePoint(0)===vl)return this.consumeCodePoint(),kx;if(this.peekCodePoint(0)===Im)return this.consumeCodePoint(),Lx;break;case rx:if(this.peekCodePoint(0)===vl)return this.consumeCodePoint(),Tx;break;case Ei:return Cf}return tc(e)?(this.consumeWhiteSpace(),Gx):hA(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):Lc(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:Bn(e)}},n.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},n.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},n.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},n.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();_a(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var i=!1;t===ec&&e.length<6;)e.push(t),t=this.consumeCodePoint(),i=!0;if(i){var o=parseInt(Bn.apply(void 0,e.map(function(m){return m===ec?Uw:m})),16),u=parseInt(Bn.apply(void 0,e.map(function(m){return m===ec?Lw:m})),16);return{type:30,start:o,end:u}}var d=parseInt(Bn.apply(void 0,e),16);if(this.peekCodePoint(0)===MA&&_a(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var g=[];_a(t)&&g.length<6;)g.push(t),t=this.consumeCodePoint();var u=parseInt(Bn.apply(void 0,g),16);return{type:30,start:d,end:u}}else return{type:30,start:d,end:d}},n.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===Yu?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Yu?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},n.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ei)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===Xu||t===qu){var i=this.consumeStringToken(this.consumeCodePoint());return i.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ei||this.peekCodePoint(0)===wl)?(this.consumeCodePoint(),{type:22,value:i.value}):(this.consumeBadUrlRemnants(),Ac)}for(;;){var o=this.consumeCodePoint();if(o===Ei||o===wl)return{type:22,value:Bn.apply(void 0,e)};if(tc(o))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Ei||this.peekCodePoint(0)===wl?(this.consumeCodePoint(),{type:22,value:Bn.apply(void 0,e)}):(this.consumeBadUrlRemnants(),Ac);if(o===qu||o===Xu||o===Yu||bx(o))return this.consumeBadUrlRemnants(),Ac;if(o===Sl)if($s(o,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Ac;else e.push(o)}},n.prototype.consumeWhiteSpace=function(){for(;tc(this.peekCodePoint(0));)this.consumeCodePoint()},n.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===wl||e===Ei)return;$s(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},n.prototype.consumeStringSlice=function(e){for(var t=5e4,i="";e>0;){var o=Math.min(t,e);i+=Bn.apply(void 0,this._value.splice(0,o)),e-=o}return this._value.shift(),i},n.prototype.consumeStringToken=function(e){var t="",i=0;do{var o=this._value[i];if(o===Ei||o===void 0||o===e)return t+=this.consumeStringSlice(i),{type:0,value:t};if(o===Ic)return this._value.splice(0,i),Hx;if(o===Sl){var u=this._value[i+1];u!==Ei&&u!==void 0&&(u===Ic?(t+=this.consumeStringSlice(i),i=-1,this._value.shift()):$s(o,u)&&(t+=this.consumeStringSlice(i),t+=Bn(this.consumeEscapedCodePoint()),i=-1))}i++}while(!0)},n.prototype.consumeNumber=function(){var e=[],t=Zl,i=this.peekCodePoint(0);for((i===Do||i===MA)&&e.push(this.consumeCodePoint());hA(this.peekCodePoint(0));)e.push(this.consumeCodePoint());i=this.peekCodePoint(0);var o=this.peekCodePoint(1);if(i===Rl&&hA(o))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=Fm;hA(this.peekCodePoint(0));)e.push(this.consumeCodePoint());i=this.peekCodePoint(0),o=this.peekCodePoint(1);var u=this.peekCodePoint(2);if((i===Iw||i===Fw)&&((o===Do||o===MA)&&hA(u)||hA(o)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=Fm;hA(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[Qx(e),t]},n.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],i=e[1],o=this.peekCodePoint(0),u=this.peekCodePoint(1),d=this.peekCodePoint(2);if(nc(o,u,d)){var g=this.consumeName();return{type:15,number:t,flags:i,unit:g}}return o===WC?(this.consumeCodePoint(),{type:16,number:t,flags:i}):{type:17,number:t,flags:i}},n.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(_a(e)){for(var t=Bn(e);_a(this.peekCodePoint(0))&&t.length<6;)t+=Bn(this.consumeCodePoint());tc(this.peekCodePoint(0))&&this.consumeCodePoint();var i=parseInt(t,16);return i===0||yx(i)||i>1114111?Lm:i}return e===Ei?Lm:e},n.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(km(t))e+=Bn(t);else if($s(t,this.peekCodePoint(0)))e+=Bn(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(t),e}},n})(),Tw=(function(){function n(e){this._tokens=e}return n.create=function(e){var t=new kw;return t.write(e),new n(t.read())},n.parseValue=function(e){return n.create(e).parseComponentValue()},n.parseValues=function(e){return n.create(e).parseComponentValues()},n.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},n.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(t.type===32)return e;e.push(t),e.push()}},n.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},n.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},i=this.consumeToken();;){if(i.type===32||Wx(i,e))return t;this.reconsumeToken(i),t.values.push(this.consumeComponentValue()),i=this.consumeToken()}},n.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var i=this.consumeToken();if(i.type===32||i.type===3)return t;this.reconsumeToken(i),t.values.push(this.consumeComponentValue())}},n.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?Cf:e},n.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},n})(),Jl=function(n){return n.type===15},$a=function(n){return n.type===17},Kt=function(n){return n.type===20},zx=function(n){return n.type===0},xf=function(n,e){return Kt(n)&&n.value===e},Pw=function(n){return n.type!==31},Va=function(n){return n.type!==31&&n.type!==4},Ii=function(n){var e=[],t=[];return n.forEach(function(i){if(i.type===4){if(t.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(t),t=[];return}i.type!==31&&t.push(i)}),t.length&&e.push(t),e},Wx=function(n,e){return e===11&&n.type===12||e===28&&n.type===29?!0:e===2&&n.type===3},ro=function(n){return n.type===17||n.type===15},Un=function(n){return n.type===16||ro(n)},Nw=function(n){return n.length>1?[n[0],n[1]]:[n[0]]},AA={type:17,number:0,flags:Zl},ep={type:16,number:50,flags:Zl},Xs={type:16,number:100,flags:Zl},Ql=function(n,e,t){var i=n[0],o=n[1];return[Wt(i,e),Wt(typeof o<"u"?o:i,t)]},Wt=function(n,e){if(n.type===16)return n.number/100*e;if(Jl(n))switch(n.unit){case"rem":case"em":return 16*n.number;case"px":default:return n.number}return n.number},jw="deg",Hw="grad",Ow="rad",Dw="turn",Zc={name:"angle",parse:function(n,e){if(e.type===15)switch(e.unit){case jw:return Math.PI*e.number/180;case Hw:return Math.PI/200*e.number;case Ow:return e.number;case Dw:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},Rw=function(n){return n.type===15&&(n.unit===jw||n.unit===Hw||n.unit===Ow||n.unit===Dw)},Mw=function(n){var e=n.filter(Kt).map(function(t){return t.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[AA,AA];case"to top":case"bottom":return Sr(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[AA,Xs];case"to right":case"left":return Sr(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Xs,Xs];case"to bottom":case"top":return Sr(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Xs,AA];case"to left":case"right":return Sr(270)}return 0},Sr=function(n){return Math.PI*n/180},no={name:"color",parse:function(n,e){if(e.type===18){var t=$x[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return t(n,e.values)}if(e.type===5){if(e.value.length===3){var i=e.value.substring(0,1),o=e.value.substring(1,2),u=e.value.substring(2,3);return Ys(parseInt(i+i,16),parseInt(o+o,16),parseInt(u+u,16),1)}if(e.value.length===4){var i=e.value.substring(0,1),o=e.value.substring(1,2),u=e.value.substring(2,3),d=e.value.substring(3,4);return Ys(parseInt(i+i,16),parseInt(o+o,16),parseInt(u+u,16),parseInt(d+d,16)/255)}if(e.value.length===6){var i=e.value.substring(0,2),o=e.value.substring(2,4),u=e.value.substring(4,6);return Ys(parseInt(i,16),parseInt(o,16),parseInt(u,16),1)}if(e.value.length===8){var i=e.value.substring(0,2),o=e.value.substring(2,4),u=e.value.substring(4,6),d=e.value.substring(6,8);return Ys(parseInt(i,16),parseInt(o,16),parseInt(u,16),parseInt(d,16)/255)}}if(e.type===20){var g=fs[e.value.toUpperCase()];if(typeof g<"u")return g}return fs.TRANSPARENT}},Ao=function(n){return(255&n)===0},$n=function(n){var e=255&n,t=255&n>>8,i=255&n>>16,o=255&n>>24;return e<255?"rgba("+o+","+i+","+t+","+e/255+")":"rgb("+o+","+i+","+t+")"},Ys=function(n,e,t,i){return(n<<24|e<<16|t<<8|Math.round(i*255)<<0)>>>0},Tm=function(n,e){if(n.type===17)return n.number;if(n.type===16){var t=e===3?1:255;return e===3?n.number/100*t:Math.round(n.number/100*t)}return 0},Pm=function(n,e){var t=e.filter(Va);if(t.length===3){var i=t.map(Tm),o=i[0],u=i[1],d=i[2];return Ys(o,u,d,1)}if(t.length===4){var g=t.map(Tm),o=g[0],u=g[1],d=g[2],m=g[3];return Ys(o,u,d,m)}return 0};function Eh(n,e,t){return t<0&&(t+=1),t>=1&&(t-=1),t<1/6?(e-n)*t*6+n:t<1/2?e:t<2/3?(e-n)*6*(2/3-t)+n:n}var Nm=function(n,e){var t=e.filter(Va),i=t[0],o=t[1],u=t[2],d=t[3],g=(i.type===17?Sr(i.number):Zc.parse(n,i))/(Math.PI*2),m=Un(o)?o.number/100:0,B=Un(u)?u.number/100:0,C=typeof d<"u"&&Un(d)?Wt(d,1):1;if(m===0)return Ys(B*255,B*255,B*255,1);var b=B<=.5?B*(m+1):B+m-B*m,F=B*2-b,j=Eh(F,b,g+1/3),P=Eh(F,b,g),N=Eh(F,b,g-1/3);return Ys(j*255,P*255,N*255,C)},$x={hsl:Nm,hsla:Nm,rgb:Pm,rgba:Pm},Il=function(n,e){return no.parse(n,Tw.create(e).parseComponentValue())},fs={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},Zx={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(n,e){return e.map(function(t){if(Kt(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Jx={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Jc=function(n,e){var t=no.parse(n,e[0]),i=e[1];return i&&Un(i)?{color:t,stop:i}:{color:t,stop:null}},jm=function(n,e){var t=n[0],i=n[n.length-1];t.stop===null&&(t.stop=AA),i.stop===null&&(i.stop=Xs);for(var o=[],u=0,d=0;d<n.length;d++){var g=n[d].stop;if(g!==null){var m=Wt(g,e);m>u?o.push(m):o.push(u),u=m}else o.push(null)}for(var B=null,d=0;d<o.length;d++){var C=o[d];if(C===null)B===null&&(B=d);else if(B!==null){for(var b=d-B,F=o[B-1],j=(C-F)/(b+1),P=1;P<=b;P++)o[B+P-1]=j*P;B=null}}return n.map(function(N,G){var O=N.color;return{color:O,stop:Math.max(Math.min(1,o[G]/e),0)}})},qx=function(n,e,t){var i=e/2,o=t/2,u=Wt(n[0],e)-i,d=o-Wt(n[1],t);return(Math.atan2(d,u)+Math.PI*2)%(Math.PI*2)},Xx=function(n,e,t){var i=typeof n=="number"?n:qx(n,e,t),o=Math.abs(e*Math.sin(i))+Math.abs(t*Math.cos(i)),u=e/2,d=t/2,g=o/2,m=Math.sin(i-Math.PI/2)*g,B=Math.cos(i-Math.PI/2)*g;return[o,u-B,u+B,d-m,d+m]},ti=function(n,e){return Math.sqrt(n*n+e*e)},Hm=function(n,e,t,i,o){var u=[[0,0],[0,e],[n,0],[n,e]];return u.reduce(function(d,g){var m=g[0],B=g[1],C=ti(t-m,i-B);return(o?C<d.optimumDistance:C>d.optimumDistance)?{optimumCorner:g,optimumDistance:C}:d},{optimumDistance:o?1/0:-1/0,optimumCorner:null}).optimumCorner},Yx=function(n,e,t,i,o){var u=0,d=0;switch(n.size){case 0:n.shape===0?u=d=Math.min(Math.abs(e),Math.abs(e-i),Math.abs(t),Math.abs(t-o)):n.shape===1&&(u=Math.min(Math.abs(e),Math.abs(e-i)),d=Math.min(Math.abs(t),Math.abs(t-o)));break;case 2:if(n.shape===0)u=d=Math.min(ti(e,t),ti(e,t-o),ti(e-i,t),ti(e-i,t-o));else if(n.shape===1){var g=Math.min(Math.abs(t),Math.abs(t-o))/Math.min(Math.abs(e),Math.abs(e-i)),m=Hm(i,o,e,t,!0),B=m[0],C=m[1];u=ti(B-e,(C-t)/g),d=g*u}break;case 1:n.shape===0?u=d=Math.max(Math.abs(e),Math.abs(e-i),Math.abs(t),Math.abs(t-o)):n.shape===1&&(u=Math.max(Math.abs(e),Math.abs(e-i)),d=Math.max(Math.abs(t),Math.abs(t-o)));break;case 3:if(n.shape===0)u=d=Math.max(ti(e,t),ti(e,t-o),ti(e-i,t),ti(e-i,t-o));else if(n.shape===1){var g=Math.max(Math.abs(t),Math.abs(t-o))/Math.max(Math.abs(e),Math.abs(e-i)),b=Hm(i,o,e,t,!1),B=b[0],C=b[1];u=ti(B-e,(C-t)/g),d=g*u}break}return Array.isArray(n.size)&&(u=Wt(n.size[0],i),d=n.size.length===2?Wt(n.size[1],o):u),[u,d]},eb=function(n,e){var t=Sr(180),i=[];return Ii(e).forEach(function(o,u){if(u===0){var d=o[0];if(d.type===20&&d.value==="to"){t=Mw(o);return}else if(Rw(d)){t=Zc.parse(n,d);return}}var g=Jc(n,o);i.push(g)}),{angle:t,stops:i,type:1}},rc=function(n,e){var t=Sr(180),i=[];return Ii(e).forEach(function(o,u){if(u===0){var d=o[0];if(d.type===20&&["top","left","right","bottom"].indexOf(d.value)!==-1){t=Mw(o);return}else if(Rw(d)){t=(Zc.parse(n,d)+Sr(270))%Sr(360);return}}var g=Jc(n,o);i.push(g)}),{angle:t,stops:i,type:1}},tb=function(n,e){var t=Sr(180),i=[],o=1,u=0,d=3,g=[];return Ii(e).forEach(function(m,B){var C=m[0];if(B===0){if(Kt(C)&&C.value==="linear"){o=1;return}else if(Kt(C)&&C.value==="radial"){o=2;return}}if(C.type===18){if(C.name==="from"){var b=no.parse(n,C.values[0]);i.push({stop:AA,color:b})}else if(C.name==="to"){var b=no.parse(n,C.values[0]);i.push({stop:Xs,color:b})}else if(C.name==="color-stop"){var F=C.values.filter(Va);if(F.length===2){var b=no.parse(n,F[1]),j=F[0];$a(j)&&i.push({stop:{type:16,number:j.number*100,flags:j.flags},color:b})}}}}),o===1?{angle:(t+Sr(180))%Sr(360),stops:i,type:o}:{size:d,shape:u,stops:i,position:g,type:o}},Kw="closest-side",Vw="farthest-side",Gw="closest-corner",zw="farthest-corner",Ww="circle",$w="ellipse",Zw="cover",Jw="contain",nb=function(n,e){var t=0,i=3,o=[],u=[];return Ii(e).forEach(function(d,g){var m=!0;if(g===0){var B=!1;m=d.reduce(function(b,F){if(B)if(Kt(F))switch(F.value){case"center":return u.push(ep),b;case"top":case"left":return u.push(AA),b;case"right":case"bottom":return u.push(Xs),b}else(Un(F)||ro(F))&&u.push(F);else if(Kt(F))switch(F.value){case Ww:return t=0,!1;case $w:return t=1,!1;case"at":return B=!0,!1;case Kw:return i=0,!1;case Zw:case Vw:return i=1,!1;case Jw:case Gw:return i=2,!1;case zw:return i=3,!1}else if(ro(F)||Un(F))return Array.isArray(i)||(i=[]),i.push(F),!1;return b},m)}if(m){var C=Jc(n,d);o.push(C)}}),{size:i,shape:t,stops:o,position:u,type:2}},ic=function(n,e){var t=0,i=3,o=[],u=[];return Ii(e).forEach(function(d,g){var m=!0;if(g===0?m=d.reduce(function(C,b){if(Kt(b))switch(b.value){case"center":return u.push(ep),!1;case"top":case"left":return u.push(AA),!1;case"right":case"bottom":return u.push(Xs),!1}else if(Un(b)||ro(b))return u.push(b),!1;return C},m):g===1&&(m=d.reduce(function(C,b){if(Kt(b))switch(b.value){case Ww:return t=0,!1;case $w:return t=1,!1;case Jw:case Kw:return i=0,!1;case Vw:return i=1,!1;case Gw:return i=2,!1;case Zw:case zw:return i=3,!1}else if(ro(b)||Un(b))return Array.isArray(i)||(i=[]),i.push(b),!1;return C},m)),m){var B=Jc(n,d);o.push(B)}}),{size:i,shape:t,stops:o,position:u,type:2}},Ab=function(n){return n.type===1},rb=function(n){return n.type===2},tp={name:"image",parse:function(n,e){if(e.type===22){var t={url:e.value,type:0};return n.cache.addImage(e.value),t}if(e.type===18){var i=qw[e.name];if(typeof i>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return i(n,e.values)}throw new Error("Unsupported image type "+e.type)}};function ib(n){return!(n.type===20&&n.value==="none")&&(n.type!==18||!!qw[n.name])}var qw={"linear-gradient":eb,"-moz-linear-gradient":rc,"-ms-linear-gradient":rc,"-o-linear-gradient":rc,"-webkit-linear-gradient":rc,"radial-gradient":nb,"-moz-radial-gradient":ic,"-ms-radial-gradient":ic,"-o-radial-gradient":ic,"-webkit-radial-gradient":ic,"-webkit-gradient":tb},sb={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(n,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e.filter(function(i){return Va(i)&&ib(i)}).map(function(i){return tp.parse(n,i)})}},ob={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(n,e){return e.map(function(t){if(Kt(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},ab={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(n,e){return Ii(e).map(function(t){return t.filter(Un)}).map(Nw)}},lb={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(n,e){return Ii(e).map(function(t){return t.filter(Kt).map(function(i){return i.value}).join(" ")}).map(ub)}},ub=function(n){switch(n){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Ma;(function(n){n.AUTO="auto",n.CONTAIN="contain",n.COVER="cover"})(Ma||(Ma={}));var cb={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(n,e){return Ii(e).map(function(t){return t.filter(hb)})}},hb=function(n){return Kt(n)||Un(n)},qc=function(n){return{name:"border-"+n+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},fb=qc("top"),pb=qc("right"),gb=qc("bottom"),mb=qc("left"),Xc=function(n){return{name:"border-radius-"+n,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return Nw(t.filter(Un))}}},vb=Xc("top-left"),wb=Xc("top-right"),yb=Xc("bottom-right"),Bb=Xc("bottom-left"),Yc=function(n){return{name:"border-"+n+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},_b=Yc("top"),Cb=Yc("right"),xb=Yc("bottom"),bb=Yc("left"),ed=function(n){return{name:"border-"+n+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Jl(t)?t.number:0}}},Qb=ed("top"),Ub=ed("right"),Eb=ed("bottom"),Fb=ed("left"),Sb={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Ib={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(n,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},Lb={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(n,e){return e.filter(Kt).reduce(function(t,i){return t|kb(i.value)},0)}},kb=function(n){switch(n){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Tb={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Pb={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(n,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},kc;(function(n){n.NORMAL="normal",n.STRICT="strict"})(kc||(kc={}));var Nb={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"strict":return kc.STRICT;case"normal":default:return kc.NORMAL}}},jb={name:"line-height",initialValue:"normal",prefix:!1,type:4},Om=function(n,e){return Kt(n)&&n.value==="normal"?1.2*e:n.type===17?e*n.number:Un(n)?Wt(n,e):e},Hb={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(n,e){return e.type===20&&e.value==="none"?null:tp.parse(n,e)}},Ob={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(n,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},bf={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},td=function(n){return{name:"margin-"+n,initialValue:"0",prefix:!1,type:4}},Db=td("top"),Rb=td("right"),Mb=td("bottom"),Kb=td("left"),Vb={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(n,e){return e.filter(Kt).map(function(t){switch(t.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},Gb={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},nd=function(n){return{name:"padding-"+n,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},zb=nd("top"),Wb=nd("right"),$b=nd("bottom"),Zb=nd("left"),Jb={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(n,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},qb={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(n,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Xb={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(n,e){return e.length===1&&xf(e[0],"none")?[]:Ii(e).map(function(t){for(var i={color:fs.TRANSPARENT,offsetX:AA,offsetY:AA,blur:AA},o=0,u=0;u<t.length;u++){var d=t[u];ro(d)?(o===0?i.offsetX=d:o===1?i.offsetY=d:i.blur=d,o++):i.color=no.parse(n,d)}return i})}},Yb={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},eQ={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(n,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var t=AQ[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return t(e.values)}return null}},tQ=function(n){var e=n.filter(function(t){return t.type===17}).map(function(t){return t.number});return e.length===6?e:null},nQ=function(n){var e=n.filter(function(m){return m.type===17}).map(function(m){return m.number}),t=e[0],i=e[1];e[2],e[3];var o=e[4],u=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var d=e[12],g=e[13];return e[14],e[15],e.length===16?[t,i,o,u,d,g]:null},AQ={matrix:tQ,matrix3d:nQ},Dm={type:16,number:50,flags:Zl},rQ=[Dm,Dm],iQ={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(n,e){var t=e.filter(Un);return t.length!==2?rQ:[t[0],t[1]]}},sQ={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Ll;(function(n){n.NORMAL="normal",n.BREAK_ALL="break-all",n.KEEP_ALL="keep-all"})(Ll||(Ll={}));var oQ={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"break-all":return Ll.BREAK_ALL;case"keep-all":return Ll.KEEP_ALL;case"normal":default:return Ll.NORMAL}}},aQ={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(n,e){if(e.type===20)return{auto:!0,order:0};if($a(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},Xw={name:"time",parse:function(n,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},lQ={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(n,e){return $a(e)?e.number:1}},uQ={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},cQ={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(n,e){return e.filter(Kt).map(function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(t){return t!==0})}},dQ={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(n,e){var t=[],i=[];return e.forEach(function(o){switch(o.type){case 20:case 0:t.push(o.value);break;case 17:t.push(o.number.toString());break;case 4:i.push(t.join(" ")),t.length=0;break}}),t.length&&i.push(t.join(" ")),i.map(function(o){return o.indexOf(" ")===-1?o:"'"+o+"'"})}},hQ={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},fQ={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(n,e){if($a(e))return e.number;if(Kt(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},pQ={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(n,e){return e.filter(Kt).map(function(t){return t.value})}},gQ={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Pn=function(n,e){return(n&e)!==0},mQ={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(n,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e}},vQ={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(n,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;for(var i=[],o=e.filter(Pw),u=0;u<o.length;u++){var d=o[u],g=o[u+1];if(d.type===20){var m=g&&$a(g)?g.number:1;i.push({counter:d.value,increment:m})}}return i}},wQ={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(n,e){if(e.length===0)return[];for(var t=[],i=e.filter(Pw),o=0;o<i.length;o++){var u=i[o],d=i[o+1];if(Kt(u)&&u.value!=="none"){var g=d&&$a(d)?d.number:0;t.push({counter:u.value,reset:g})}}return t}},yQ={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(n,e){return e.filter(Jl).map(function(t){return Xw.parse(n,t)})}},BQ={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(n,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;var i=[],o=e.filter(zx);if(o.length%2!==0)return null;for(var u=0;u<o.length;u+=2){var d=o[u].value,g=o[u+1].value;i.push({open:d,close:g})}return i}},Rm=function(n,e,t){if(!n)return"";var i=n[Math.min(e,n.length-1)];return i?t?i.open:i.close:""},_Q={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(n,e){return e.length===1&&xf(e[0],"none")?[]:Ii(e).map(function(t){for(var i={color:255,offsetX:AA,offsetY:AA,blur:AA,spread:AA,inset:!1},o=0,u=0;u<t.length;u++){var d=t[u];xf(d,"inset")?i.inset=!0:ro(d)?(o===0?i.offsetX=d:o===1?i.offsetY=d:o===2?i.blur=d:i.spread=d,o++):i.color=no.parse(n,d)}return i})}},CQ={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(n,e){var t=[0,1,2],i=[];return e.filter(Kt).forEach(function(o){switch(o.value){case"stroke":i.push(1);break;case"fill":i.push(0);break;case"markers":i.push(2);break}}),t.forEach(function(o){i.indexOf(o)===-1&&i.push(o)}),i}},xQ={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},bQ={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(n,e){return Jl(e)?e.number:0}},QQ=(function(){function n(e,t){var i,o;this.animationDuration=Ye(e,yQ,t.animationDuration),this.backgroundClip=Ye(e,Zx,t.backgroundClip),this.backgroundColor=Ye(e,Jx,t.backgroundColor),this.backgroundImage=Ye(e,sb,t.backgroundImage),this.backgroundOrigin=Ye(e,ob,t.backgroundOrigin),this.backgroundPosition=Ye(e,ab,t.backgroundPosition),this.backgroundRepeat=Ye(e,lb,t.backgroundRepeat),this.backgroundSize=Ye(e,cb,t.backgroundSize),this.borderTopColor=Ye(e,fb,t.borderTopColor),this.borderRightColor=Ye(e,pb,t.borderRightColor),this.borderBottomColor=Ye(e,gb,t.borderBottomColor),this.borderLeftColor=Ye(e,mb,t.borderLeftColor),this.borderTopLeftRadius=Ye(e,vb,t.borderTopLeftRadius),this.borderTopRightRadius=Ye(e,wb,t.borderTopRightRadius),this.borderBottomRightRadius=Ye(e,yb,t.borderBottomRightRadius),this.borderBottomLeftRadius=Ye(e,Bb,t.borderBottomLeftRadius),this.borderTopStyle=Ye(e,_b,t.borderTopStyle),this.borderRightStyle=Ye(e,Cb,t.borderRightStyle),this.borderBottomStyle=Ye(e,xb,t.borderBottomStyle),this.borderLeftStyle=Ye(e,bb,t.borderLeftStyle),this.borderTopWidth=Ye(e,Qb,t.borderTopWidth),this.borderRightWidth=Ye(e,Ub,t.borderRightWidth),this.borderBottomWidth=Ye(e,Eb,t.borderBottomWidth),this.borderLeftWidth=Ye(e,Fb,t.borderLeftWidth),this.boxShadow=Ye(e,_Q,t.boxShadow),this.color=Ye(e,Sb,t.color),this.direction=Ye(e,Ib,t.direction),this.display=Ye(e,Lb,t.display),this.float=Ye(e,Tb,t.cssFloat),this.fontFamily=Ye(e,dQ,t.fontFamily),this.fontSize=Ye(e,hQ,t.fontSize),this.fontStyle=Ye(e,gQ,t.fontStyle),this.fontVariant=Ye(e,pQ,t.fontVariant),this.fontWeight=Ye(e,fQ,t.fontWeight),this.letterSpacing=Ye(e,Pb,t.letterSpacing),this.lineBreak=Ye(e,Nb,t.lineBreak),this.lineHeight=Ye(e,jb,t.lineHeight),this.listStyleImage=Ye(e,Hb,t.listStyleImage),this.listStylePosition=Ye(e,Ob,t.listStylePosition),this.listStyleType=Ye(e,bf,t.listStyleType),this.marginTop=Ye(e,Db,t.marginTop),this.marginRight=Ye(e,Rb,t.marginRight),this.marginBottom=Ye(e,Mb,t.marginBottom),this.marginLeft=Ye(e,Kb,t.marginLeft),this.opacity=Ye(e,lQ,t.opacity);var u=Ye(e,Vb,t.overflow);this.overflowX=u[0],this.overflowY=u[u.length>1?1:0],this.overflowWrap=Ye(e,Gb,t.overflowWrap),this.paddingTop=Ye(e,zb,t.paddingTop),this.paddingRight=Ye(e,Wb,t.paddingRight),this.paddingBottom=Ye(e,$b,t.paddingBottom),this.paddingLeft=Ye(e,Zb,t.paddingLeft),this.paintOrder=Ye(e,CQ,t.paintOrder),this.position=Ye(e,qb,t.position),this.textAlign=Ye(e,Jb,t.textAlign),this.textDecorationColor=Ye(e,uQ,(i=t.textDecorationColor)!==null&&i!==void 0?i:t.color),this.textDecorationLine=Ye(e,cQ,(o=t.textDecorationLine)!==null&&o!==void 0?o:t.textDecoration),this.textShadow=Ye(e,Xb,t.textShadow),this.textTransform=Ye(e,Yb,t.textTransform),this.transform=Ye(e,eQ,t.transform),this.transformOrigin=Ye(e,iQ,t.transformOrigin),this.visibility=Ye(e,sQ,t.visibility),this.webkitTextStrokeColor=Ye(e,xQ,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=Ye(e,bQ,t.webkitTextStrokeWidth),this.wordBreak=Ye(e,oQ,t.wordBreak),this.zIndex=Ye(e,aQ,t.zIndex)}return n.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},n.prototype.isTransparent=function(){return Ao(this.backgroundColor)},n.prototype.isTransformed=function(){return this.transform!==null},n.prototype.isPositioned=function(){return this.position!==0},n.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},n.prototype.isFloating=function(){return this.float!==0},n.prototype.isInlineLevel=function(){return Pn(this.display,4)||Pn(this.display,33554432)||Pn(this.display,268435456)||Pn(this.display,536870912)||Pn(this.display,67108864)||Pn(this.display,134217728)},n})(),UQ=(function(){function n(e,t){this.content=Ye(e,mQ,t.content),this.quotes=Ye(e,BQ,t.quotes)}return n})(),Mm=(function(){function n(e,t){this.counterIncrement=Ye(e,vQ,t.counterIncrement),this.counterReset=Ye(e,wQ,t.counterReset)}return n})(),Ye=function(n,e,t){var i=new kw,o=t!==null&&typeof t<"u"?t.toString():e.initialValue;i.write(o);var u=new Tw(i.read());switch(e.type){case 2:var d=u.parseComponentValue();return e.parse(n,Kt(d)?d.value:e.initialValue);case 0:return e.parse(n,u.parseComponentValue());case 1:return e.parse(n,u.parseComponentValues());case 4:return u.parseComponentValue();case 3:switch(e.format){case"angle":return Zc.parse(n,u.parseComponentValue());case"color":return no.parse(n,u.parseComponentValue());case"image":return tp.parse(n,u.parseComponentValue());case"length":var g=u.parseComponentValue();return ro(g)?g:AA;case"length-percentage":var m=u.parseComponentValue();return Un(m)?m:AA;case"time":return Xw.parse(n,u.parseComponentValue())}break}},EQ="data-html2canvas-debug",FQ=function(n){var e=n.getAttribute(EQ);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Qf=function(n,e){var t=FQ(n);return t===1||e===t},Li=(function(){function n(e,t){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,Qf(t,3))debugger;this.styles=new QQ(e,window.getComputedStyle(t,null)),Ff(t)&&(this.styles.animationDuration.some(function(i){return i>0})&&(t.style.animationDuration="0s"),this.styles.transform!==null&&(t.style.transform="none")),this.bounds=Wc(this.context,t),Qf(t,4)&&(this.flags|=16)}return n})(),SQ="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Km="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ul=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var sc=0;sc<Km.length;sc++)Ul[Km.charCodeAt(sc)]=sc;var IQ=function(n){var e=n.length*.75,t=n.length,i,o=0,u,d,g,m;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);var B=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),C=Array.isArray(B)?B:new Uint8Array(B);for(i=0;i<t;i+=4)u=Ul[n.charCodeAt(i)],d=Ul[n.charCodeAt(i+1)],g=Ul[n.charCodeAt(i+2)],m=Ul[n.charCodeAt(i+3)],C[o++]=u<<2|d>>4,C[o++]=(d&15)<<4|g>>2,C[o++]=(g&3)<<6|m&63;return B},LQ=function(n){for(var e=n.length,t=[],i=0;i<e;i+=2)t.push(n[i+1]<<8|n[i]);return t},kQ=function(n){for(var e=n.length,t=[],i=0;i<e;i+=4)t.push(n[i+3]<<24|n[i+2]<<16|n[i+1]<<8|n[i]);return t},Mo=5,np=11,Fh=2,TQ=np-Mo,Yw=65536>>Mo,PQ=1<<Mo,Sh=PQ-1,NQ=1024>>Mo,jQ=Yw+NQ,HQ=jQ,OQ=32,DQ=HQ+OQ,RQ=65536>>np,MQ=1<<TQ,KQ=MQ-1,Vm=function(n,e,t){return n.slice?n.slice(e,t):new Uint16Array(Array.prototype.slice.call(n,e,t))},VQ=function(n,e,t){return n.slice?n.slice(e,t):new Uint32Array(Array.prototype.slice.call(n,e,t))},GQ=function(n,e){var t=IQ(n),i=Array.isArray(t)?kQ(t):new Uint32Array(t),o=Array.isArray(t)?LQ(t):new Uint16Array(t),u=24,d=Vm(o,u/2,i[4]/2),g=i[5]===2?Vm(o,(u+i[4])/2):VQ(i,Math.ceil((u+i[4])/4));return new zQ(i[0],i[1],i[2],i[3],d,g)},zQ=(function(){function n(e,t,i,o,u,d){this.initialValue=e,this.errorValue=t,this.highStart=i,this.highValueIndex=o,this.index=u,this.data=d}return n.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>Mo],t=(t<<Fh)+(e&Sh),this.data[t];if(e<=65535)return t=this.index[Yw+(e-55296>>Mo)],t=(t<<Fh)+(e&Sh),this.data[t];if(e<this.highStart)return t=DQ-RQ+(e>>np),t=this.index[t],t+=e>>Mo&KQ,t=this.index[t],t=(t<<Fh)+(e&Sh),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},n})(),Gm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",WQ=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var oc=0;oc<Gm.length;oc++)WQ[Gm.charCodeAt(oc)]=oc;var $Q=1,Ih=2,Lh=3,zm=4,Wm=5,ZQ=7,$m=8,kh=9,Th=10,Zm=11,Jm=12,qm=13,Xm=14,Ph=15,JQ=function(n){for(var e=[],t=0,i=n.length;t<i;){var o=n.charCodeAt(t++);if(o>=55296&&o<=56319&&t<i){var u=n.charCodeAt(t++);(u&64512)===56320?e.push(((o&1023)<<10)+(u&1023)+65536):(e.push(o),t--)}else e.push(o)}return e},qQ=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,n);var t=n.length;if(!t)return"";for(var i=[],o=-1,u="";++o<t;){var d=n[o];d<=65535?i.push(d):(d-=65536,i.push((d>>10)+55296,d%1024+56320)),(o+1===t||i.length>16384)&&(u+=String.fromCharCode.apply(String,i),i.length=0)}return u},XQ=GQ(SQ),Er="",Nh="",YQ=function(n){return XQ.get(n)},eU=function(n,e,t){var i=t-2,o=e[i],u=e[t-1],d=e[t];if(u===Ih&&d===Lh)return Er;if(u===Ih||u===Lh||u===zm||d===Ih||d===Lh||d===zm)return Nh;if(u===$m&&[$m,kh,Zm,Jm].indexOf(d)!==-1||(u===Zm||u===kh)&&(d===kh||d===Th)||(u===Jm||u===Th)&&d===Th||d===qm||d===Wm||d===ZQ||u===$Q)return Er;if(u===qm&&d===Xm){for(;o===Wm;)o=e[--i];if(o===Xm)return Er}if(u===Ph&&d===Ph){for(var g=0;o===Ph;)g++,o=e[--i];if(g%2===0)return Er}return Nh},tU=function(n){var e=JQ(n),t=e.length,i=0,o=0,u=e.map(YQ);return{next:function(){if(i>=t)return{done:!0,value:null};for(var d=Er;i<t&&(d=eU(e,u,++i))===Er;);if(d!==Er||i===t){var g=qQ.apply(null,e.slice(o,i));return o=i,{value:g,done:!1}}return{done:!0,value:null}}}},nU=function(n){for(var e=tU(n),t=[],i;!(i=e.next()).done;)i.value&&t.push(i.value.slice());return t},AU=function(n){var e=123;if(n.createRange){var t=n.createRange();if(t.getBoundingClientRect){var i=n.createElement("boundtest");i.style.height=e+"px",i.style.display="block",n.body.appendChild(i),t.selectNode(i);var o=t.getBoundingClientRect(),u=Math.round(o.height);if(n.body.removeChild(i),u===e)return!0}}return!1},rU=function(n){var e=n.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",n.body.appendChild(e);var t=n.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var i=e.firstChild,o=$c(i.data).map(function(m){return Bn(m)}),u=0,d={},g=o.every(function(m,B){t.setStart(i,u),t.setEnd(i,u+m.length);var C=t.getBoundingClientRect();u+=m.length;var b=C.x>d.x||C.y>d.y;return d=C,B===0?!0:b});return n.body.removeChild(e),g},iU=function(){return typeof new Image().crossOrigin<"u"},sU=function(){return typeof new XMLHttpRequest().responseType=="string"},oU=function(n){var e=new Image,t=n.createElement("canvas"),i=t.getContext("2d");if(!i)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{i.drawImage(e,0,0),t.toDataURL()}catch{return!1}return!0},Ym=function(n){return n[0]===0&&n[1]===255&&n[2]===0&&n[3]===255},aU=function(n){var e=n.createElement("canvas"),t=100;e.width=t,e.height=t;var i=e.getContext("2d");if(!i)return Promise.reject(!1);i.fillStyle="rgb(0, 255, 0)",i.fillRect(0,0,t,t);var o=new Image,u=e.toDataURL();o.src=u;var d=Uf(t,t,0,0,o);return i.fillStyle="red",i.fillRect(0,0,t,t),ev(d).then(function(g){i.drawImage(g,0,0);var m=i.getImageData(0,0,t,t).data;i.fillStyle="red",i.fillRect(0,0,t,t);var B=n.createElement("div");return B.style.backgroundImage="url("+u+")",B.style.height=t+"px",Ym(m)?ev(Uf(t,t,0,0,B)):Promise.reject(!1)}).then(function(g){return i.drawImage(g,0,0),Ym(i.getImageData(0,0,t,t).data)}).catch(function(){return!1})},Uf=function(n,e,t,i,o){var u="http://www.w3.org/2000/svg",d=document.createElementNS(u,"svg"),g=document.createElementNS(u,"foreignObject");return d.setAttributeNS(null,"width",n.toString()),d.setAttributeNS(null,"height",e.toString()),g.setAttributeNS(null,"width","100%"),g.setAttributeNS(null,"height","100%"),g.setAttributeNS(null,"x",t.toString()),g.setAttributeNS(null,"y",i.toString()),g.setAttributeNS(null,"externalResourcesRequired","true"),d.appendChild(g),g.appendChild(o),d},ev=function(n){return new Promise(function(e,t){var i=new Image;i.onload=function(){return e(i)},i.onerror=t,i.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(n))})},nA={get SUPPORT_RANGE_BOUNDS(){var n=AU(document);return Object.defineProperty(nA,"SUPPORT_RANGE_BOUNDS",{value:n}),n},get SUPPORT_WORD_BREAKING(){var n=nA.SUPPORT_RANGE_BOUNDS&&rU(document);return Object.defineProperty(nA,"SUPPORT_WORD_BREAKING",{value:n}),n},get SUPPORT_SVG_DRAWING(){var n=oU(document);return Object.defineProperty(nA,"SUPPORT_SVG_DRAWING",{value:n}),n},get SUPPORT_FOREIGNOBJECT_DRAWING(){var n=typeof Array.from=="function"&&typeof window.fetch=="function"?aU(document):Promise.resolve(!1);return Object.defineProperty(nA,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:n}),n},get SUPPORT_CORS_IMAGES(){var n=iU();return Object.defineProperty(nA,"SUPPORT_CORS_IMAGES",{value:n}),n},get SUPPORT_RESPONSE_TYPE(){var n=sU();return Object.defineProperty(nA,"SUPPORT_RESPONSE_TYPE",{value:n}),n},get SUPPORT_CORS_XHR(){var n="withCredentials"in new XMLHttpRequest;return Object.defineProperty(nA,"SUPPORT_CORS_XHR",{value:n}),n},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var n=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(nA,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:n}),n}},kl=(function(){function n(e,t){this.text=e,this.bounds=t}return n})(),lU=function(n,e,t,i){var o=dU(e,t),u=[],d=0;return o.forEach(function(g){if(t.textDecorationLine.length||g.trim().length>0)if(nA.SUPPORT_RANGE_BOUNDS){var m=tv(i,d,g.length).getClientRects();if(m.length>1){var B=Ap(g),C=0;B.forEach(function(F){u.push(new kl(F,ps.fromDOMRectList(n,tv(i,C+d,F.length).getClientRects()))),C+=F.length})}else u.push(new kl(g,ps.fromDOMRectList(n,m)))}else{var b=i.splitText(g.length);u.push(new kl(g,uU(n,i))),i=b}else nA.SUPPORT_RANGE_BOUNDS||(i=i.splitText(g.length));d+=g.length}),u},uU=function(n,e){var t=e.ownerDocument;if(t){var i=t.createElement("html2canvaswrapper");i.appendChild(e.cloneNode(!0));var o=e.parentNode;if(o){o.replaceChild(i,e);var u=Wc(n,i);return i.firstChild&&o.replaceChild(i.firstChild,i),u}}return ps.EMPTY},tv=function(n,e,t){var i=n.ownerDocument;if(!i)throw new Error("Node has no owner document");var o=i.createRange();return o.setStart(n,e),o.setEnd(n,e+t),o},Ap=function(n){if(nA.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(n)).map(function(t){return t.segment})}return nU(n)},cU=function(n,e){if(nA.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(t.segment(n)).map(function(i){return i.segment})}return fU(n,e)},dU=function(n,e){return e.letterSpacing!==0?Ap(n):cU(n,e)},hU=[32,160,4961,65792,65793,4153,4241],fU=function(n,e){for(var t=DC(n,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),i=[],o,u=function(){if(o.value){var d=o.value.slice(),g=$c(d),m="";g.forEach(function(B){hU.indexOf(B)===-1?m+=Bn(B):(m.length&&i.push(m),i.push(Bn(B)),m="")}),m.length&&i.push(m)}};!(o=t.next()).done;)u();return i},pU=(function(){function n(e,t,i){this.text=gU(t.data,i.textTransform),this.textBounds=lU(e,this.text,i,t)}return n})(),gU=function(n,e){switch(e){case 1:return n.toLowerCase();case 3:return n.replace(mU,vU);case 2:return n.toUpperCase();default:return n}},mU=/(^|\s|:|-|\(|\))([a-z])/g,vU=function(n,e,t){return n.length>0?e+t.toUpperCase():n},ey=(function(n){ii(e,n);function e(t,i){var o=n.call(this,t,i)||this;return o.src=i.currentSrc||i.src,o.intrinsicWidth=i.naturalWidth,o.intrinsicHeight=i.naturalHeight,o.context.cache.addImage(o.src),o}return e})(Li),ty=(function(n){ii(e,n);function e(t,i){var o=n.call(this,t,i)||this;return o.canvas=i,o.intrinsicWidth=i.width,o.intrinsicHeight=i.height,o}return e})(Li),ny=(function(n){ii(e,n);function e(t,i){var o=n.call(this,t,i)||this,u=new XMLSerializer,d=Wc(t,i);return i.setAttribute("width",d.width+"px"),i.setAttribute("height",d.height+"px"),o.svg="data:image/svg+xml,"+encodeURIComponent(u.serializeToString(i)),o.intrinsicWidth=i.width.baseVal.value,o.intrinsicHeight=i.height.baseVal.value,o.context.cache.addImage(o.svg),o}return e})(Li),Ay=(function(n){ii(e,n);function e(t,i){var o=n.call(this,t,i)||this;return o.value=i.value,o}return e})(Li),Ef=(function(n){ii(e,n);function e(t,i){var o=n.call(this,t,i)||this;return o.start=i.start,o.reversed=typeof i.reversed=="boolean"&&i.reversed===!0,o}return e})(Li),wU=[{type:15,flags:0,unit:"px",number:3}],yU=[{type:16,flags:0,number:50}],BU=function(n){return n.width>n.height?new ps(n.left+(n.width-n.height)/2,n.top,n.height,n.height):n.width<n.height?new ps(n.left,n.top+(n.height-n.width)/2,n.width,n.width):n},_U=function(n){var e=n.type===CU?new Array(n.value.length+1).join(""):n.value;return e.length===0?n.placeholder||"":e},Tc="checkbox",Pc="radio",CU="password",nv=707406591,rp=(function(n){ii(e,n);function e(t,i){var o=n.call(this,t,i)||this;switch(o.type=i.type.toLowerCase(),o.checked=i.checked,o.value=_U(i),(o.type===Tc||o.type===Pc)&&(o.styles.backgroundColor=3739148031,o.styles.borderTopColor=o.styles.borderRightColor=o.styles.borderBottomColor=o.styles.borderLeftColor=2779096575,o.styles.borderTopWidth=o.styles.borderRightWidth=o.styles.borderBottomWidth=o.styles.borderLeftWidth=1,o.styles.borderTopStyle=o.styles.borderRightStyle=o.styles.borderBottomStyle=o.styles.borderLeftStyle=1,o.styles.backgroundClip=[0],o.styles.backgroundOrigin=[0],o.bounds=BU(o.bounds)),o.type){case Tc:o.styles.borderTopRightRadius=o.styles.borderTopLeftRadius=o.styles.borderBottomRightRadius=o.styles.borderBottomLeftRadius=wU;break;case Pc:o.styles.borderTopRightRadius=o.styles.borderTopLeftRadius=o.styles.borderBottomRightRadius=o.styles.borderBottomLeftRadius=yU;break}return o}return e})(Li),ry=(function(n){ii(e,n);function e(t,i){var o=n.call(this,t,i)||this,u=i.options[i.selectedIndex||0];return o.value=u&&u.text||"",o}return e})(Li),iy=(function(n){ii(e,n);function e(t,i){var o=n.call(this,t,i)||this;return o.value=i.value,o}return e})(Li),sy=(function(n){ii(e,n);function e(t,i){var o=n.call(this,t,i)||this;o.src=i.src,o.width=parseInt(i.width,10)||0,o.height=parseInt(i.height,10)||0,o.backgroundColor=o.styles.backgroundColor;try{if(i.contentWindow&&i.contentWindow.document&&i.contentWindow.document.documentElement){o.tree=ay(t,i.contentWindow.document.documentElement);var u=i.contentWindow.document.documentElement?Il(t,getComputedStyle(i.contentWindow.document.documentElement).backgroundColor):fs.TRANSPARENT,d=i.contentWindow.document.body?Il(t,getComputedStyle(i.contentWindow.document.body).backgroundColor):fs.TRANSPARENT;o.backgroundColor=Ao(u)?Ao(d)?o.styles.backgroundColor:d:u}}catch{}return o}return e})(Li),xU=["OL","UL","MENU"],bc=function(n,e,t,i){for(var o=e.firstChild,u=void 0;o;o=u)if(u=o.nextSibling,ly(o)&&o.data.trim().length>0)t.textNodes.push(new pU(n,o,t.styles));else if(Ra(o))if(hy(o)&&o.assignedNodes)o.assignedNodes().forEach(function(g){return bc(n,g,t,i)});else{var d=oy(n,o);d.styles.isVisible()&&(bU(o,d,i)?d.flags|=4:QU(d.styles)&&(d.flags|=2),xU.indexOf(o.tagName)!==-1&&(d.flags|=8),t.elements.push(d),o.slot,o.shadowRoot?bc(n,o.shadowRoot,d,i):!Nc(o)&&!uy(o)&&!jc(o)&&bc(n,o,d,i))}},oy=function(n,e){return Sf(e)?new ey(n,e):cy(e)?new ty(n,e):uy(e)?new ny(n,e):UU(e)?new Ay(n,e):EU(e)?new Ef(n,e):FU(e)?new rp(n,e):jc(e)?new ry(n,e):Nc(e)?new iy(n,e):dy(e)?new sy(n,e):new Li(n,e)},ay=function(n,e){var t=oy(n,e);return t.flags|=4,bc(n,e,t,t),t},bU=function(n,e,t){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||ip(n)&&t.styles.isTransparent()},QU=function(n){return n.isPositioned()||n.isFloating()},ly=function(n){return n.nodeType===Node.TEXT_NODE},Ra=function(n){return n.nodeType===Node.ELEMENT_NODE},Ff=function(n){return Ra(n)&&typeof n.style<"u"&&!Qc(n)},Qc=function(n){return typeof n.className=="object"},UU=function(n){return n.tagName==="LI"},EU=function(n){return n.tagName==="OL"},FU=function(n){return n.tagName==="INPUT"},SU=function(n){return n.tagName==="HTML"},uy=function(n){return n.tagName==="svg"},ip=function(n){return n.tagName==="BODY"},cy=function(n){return n.tagName==="CANVAS"},Av=function(n){return n.tagName==="VIDEO"},Sf=function(n){return n.tagName==="IMG"},dy=function(n){return n.tagName==="IFRAME"},rv=function(n){return n.tagName==="STYLE"},IU=function(n){return n.tagName==="SCRIPT"},Nc=function(n){return n.tagName==="TEXTAREA"},jc=function(n){return n.tagName==="SELECT"},hy=function(n){return n.tagName==="SLOT"},iv=function(n){return n.tagName.indexOf("-")>0},LU=(function(){function n(){this.counters={}}return n.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},n.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},n.prototype.pop=function(e){var t=this;e.forEach(function(i){return t.counters[i].pop()})},n.prototype.parse=function(e){var t=this,i=e.counterIncrement,o=e.counterReset,u=!0;i!==null&&i.forEach(function(g){var m=t.counters[g.counter];m&&g.increment!==0&&(u=!1,m.length||m.push(1),m[Math.max(0,m.length-1)]+=g.increment)});var d=[];return u&&o.forEach(function(g){var m=t.counters[g.counter];d.push(g.counter),m||(m=t.counters[g.counter]=[]),m.push(g.reset)}),d},n})(),sv={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},ov={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},kU={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},TU={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Ca=function(n,e,t,i,o,u){return n<e||n>t?Ml(n,o,u.length>0):i.integers.reduce(function(d,g,m){for(;n>=g;)n-=g,d+=i.values[m];return d},"")+u},fy=function(n,e,t,i){var o="";do t||n--,o=i(n)+o,n/=e;while(n*e>=e);return o},yn=function(n,e,t,i,o){var u=t-e+1;return(n<0?"-":"")+(fy(Math.abs(n),u,i,function(d){return Bn(Math.floor(d%u)+e)})+o)},To=function(n,e,t){t===void 0&&(t=". ");var i=e.length;return fy(Math.abs(n),i,!1,function(o){return e[Math.floor(o%i)]})+t},ja=1,Gs=2,zs=4,El=8,cs=function(n,e,t,i,o,u){if(n<-9999||n>9999)return Ml(n,4,o.length>0);var d=Math.abs(n),g=o;if(d===0)return e[0]+g;for(var m=0;d>0&&m<=4;m++){var B=d%10;B===0&&Pn(u,ja)&&g!==""?g=e[B]+g:B>1||B===1&&m===0||B===1&&m===1&&Pn(u,Gs)||B===1&&m===1&&Pn(u,zs)&&n>100||B===1&&m>1&&Pn(u,El)?g=e[B]+(m>0?t[m-1]:"")+g:B===1&&m>0&&(g=t[m-1]+g),d=Math.floor(d/10)}return(n<0?i:"")+g},av="",lv="",uv="",jh="",Ml=function(n,e,t){var i=t?". ":"",o=t?"":"",u=t?", ":"",d=t?" ":"";switch(e){case 0:return""+d;case 1:return""+d;case 2:return""+d;case 5:var g=yn(n,48,57,!0,i);return g.length<4?"0"+g:g;case 4:return To(n,"",o);case 6:return Ca(n,1,3999,sv,3,i).toLowerCase();case 7:return Ca(n,1,3999,sv,3,i);case 8:return yn(n,945,969,!1,i);case 9:return yn(n,97,122,!1,i);case 10:return yn(n,65,90,!1,i);case 11:return yn(n,1632,1641,!0,i);case 12:case 49:return Ca(n,1,9999,ov,3,i);case 35:return Ca(n,1,9999,ov,3,i).toLowerCase();case 13:return yn(n,2534,2543,!0,i);case 14:case 30:return yn(n,6112,6121,!0,i);case 15:return To(n,"",o);case 16:return To(n,"",o);case 17:case 48:return cs(n,"",av,"",o,Gs|zs|El);case 47:return cs(n,"",lv,"",o,ja|Gs|zs|El);case 42:return cs(n,"",av,"",o,Gs|zs|El);case 41:return cs(n,"",lv,"",o,ja|Gs|zs|El);case 26:return cs(n,"","",uv,o,0);case 25:return cs(n,"","",uv,o,ja|Gs|zs);case 31:return cs(n,"","",jh,u,ja|Gs|zs);case 33:return cs(n,"","",jh,u,0);case 32:return cs(n,"","",jh,u,ja|Gs|zs);case 18:return yn(n,2406,2415,!0,i);case 20:return Ca(n,1,19999,TU,3,i);case 21:return yn(n,2790,2799,!0,i);case 22:return yn(n,2662,2671,!0,i);case 22:return Ca(n,1,10999,kU,3,i);case 23:return To(n,"");case 24:return To(n,"");case 27:return yn(n,3302,3311,!0,i);case 28:return To(n,"",o);case 29:return To(n,"",o);case 34:return yn(n,3792,3801,!0,i);case 37:return yn(n,6160,6169,!0,i);case 38:return yn(n,4160,4169,!0,i);case 39:return yn(n,2918,2927,!0,i);case 40:return yn(n,1776,1785,!0,i);case 43:return yn(n,3046,3055,!0,i);case 44:return yn(n,3174,3183,!0,i);case 45:return yn(n,3664,3673,!0,i);case 46:return yn(n,3872,3881,!0,i);case 3:default:return yn(n,48,57,!0,i)}},py="data-html2canvas-ignore",cv=(function(){function n(e,t,i){if(this.context=e,this.options=i,this.scrolledElements=[],this.referenceElement=t,this.counters=new LU,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return n.prototype.toIFrame=function(e,t){var i=this,o=PU(e,t);if(!o.contentWindow)return Promise.reject("Unable to find iframe window");var u=e.defaultView.pageXOffset,d=e.defaultView.pageYOffset,g=o.contentWindow,m=g.document,B=HU(o).then(function(){return xA(i,void 0,void 0,function(){var C,b;return dA(this,function(F){switch(F.label){case 0:return this.scrolledElements.forEach(MU),g&&(g.scrollTo(t.left,t.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(g.scrollY!==t.top||g.scrollX!==t.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(g.scrollX-t.left,g.scrollY-t.top,0,0))),C=this.options.onclone,b=this.clonedReferenceElement,typeof b>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:m.fonts&&m.fonts.ready?[4,m.fonts.ready]:[3,2];case 1:F.sent(),F.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,jU(m)]:[3,4];case 3:F.sent(),F.label=4;case 4:return typeof C=="function"?[2,Promise.resolve().then(function(){return C(m,b)}).then(function(){return o})]:[2,o]}})})});return m.open(),m.write(DU(document.doctype)+"<html></html>"),RU(this.referenceElement.ownerDocument,u,d),m.replaceChild(m.adoptNode(this.documentElement),m.documentElement),m.close(),B},n.prototype.createElementClone=function(e){if(Qf(e,2))debugger;if(cy(e))return this.createCanvasClone(e);if(Av(e))return this.createVideoClone(e);if(rv(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return Sf(t)&&(Sf(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),t.loading==="lazy"&&(t.loading="eager")),iv(t)?this.createCustomElementClone(t):t},n.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return Hh(e.style,t),t},n.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var i=[].slice.call(t.cssRules,0).reduce(function(u,d){return d&&typeof d.cssText=="string"?u+d.cssText:u},""),o=e.cloneNode(!1);return o.textContent=i,o}}catch(u){if(this.context.logger.error("Unable to access cssRules property",u),u.name!=="SecurityError")throw u}return e.cloneNode(!1)},n.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var i=e.ownerDocument.createElement("img");try{return i.src=e.toDataURL(),i}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var o=e.cloneNode(!1);try{o.width=e.width,o.height=e.height;var u=e.getContext("2d"),d=o.getContext("2d");if(d)if(!this.options.allowTaint&&u)d.putImageData(u.getImageData(0,0,e.width,e.height),0,0);else{var g=(t=e.getContext("webgl2"))!==null&&t!==void 0?t:e.getContext("webgl");if(g){var m=g.getContextAttributes();m?.preserveDrawingBuffer===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}d.drawImage(e,0,0)}return o}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return o},n.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var i=t.getContext("2d");try{return i&&(i.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||i.getImageData(0,0,t.width,t.height)),t}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var o=e.ownerDocument.createElement("canvas");return o.width=e.offsetWidth,o.height=e.offsetHeight,o},n.prototype.appendChildNode=function(e,t,i){(!Ra(t)||!IU(t)&&!t.hasAttribute(py)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(t)))&&(!this.options.copyStyles||!Ra(t)||!rv(t))&&e.appendChild(this.cloneNode(t,i))},n.prototype.cloneChildNodes=function(e,t,i){for(var o=this,u=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;u;u=u.nextSibling)if(Ra(u)&&hy(u)&&typeof u.assignedNodes=="function"){var d=u.assignedNodes();d.length&&d.forEach(function(g){return o.appendChildNode(t,g,i)})}else this.appendChildNode(t,u,i)},n.prototype.cloneNode=function(e,t){if(ly(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var i=e.ownerDocument.defaultView;if(i&&Ra(e)&&(Ff(e)||Qc(e))){var o=this.createElementClone(e);o.style.transitionProperty="none";var u=i.getComputedStyle(e),d=i.getComputedStyle(e,":before"),g=i.getComputedStyle(e,":after");this.referenceElement===e&&Ff(o)&&(this.clonedReferenceElement=o),ip(o)&&GU(o);var m=this.counters.parse(new Mm(this.context,u)),B=this.resolvePseudoContent(e,o,d,Tl.BEFORE);iv(e)&&(t=!0),Av(e)||this.cloneChildNodes(e,o,t),B&&o.insertBefore(B,o.firstChild);var C=this.resolvePseudoContent(e,o,g,Tl.AFTER);return C&&o.appendChild(C),this.counters.pop(m),(u&&(this.options.copyStyles||Qc(e))&&!dy(e)||t)&&Hh(u,o),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([o,e.scrollLeft,e.scrollTop]),(Nc(e)||jc(e))&&(Nc(o)||jc(o))&&(o.value=e.value),o}return e.cloneNode(!1)},n.prototype.resolvePseudoContent=function(e,t,i,o){var u=this;if(i){var d=i.content,g=t.ownerDocument;if(!(!g||!d||d==="none"||d==="-moz-alt-content"||i.display==="none")){this.counters.parse(new Mm(this.context,i));var m=new UQ(this.context,i),B=g.createElement("html2canvaspseudoelement");Hh(i,B),m.content.forEach(function(b){if(b.type===0)B.appendChild(g.createTextNode(b.value));else if(b.type===22){var F=g.createElement("img");F.src=b.value,F.style.opacity="1",B.appendChild(F)}else if(b.type===18){if(b.name==="attr"){var j=b.values.filter(Kt);j.length&&B.appendChild(g.createTextNode(e.getAttribute(j[0].value)||""))}else if(b.name==="counter"){var P=b.values.filter(Va),N=P[0],G=P[1];if(N&&Kt(N)){var O=u.counters.getCounterValue(N.value),R=G&&Kt(G)?bf.parse(u.context,G.value):3;B.appendChild(g.createTextNode(Ml(O,R,!1)))}}else if(b.name==="counters"){var J=b.values.filter(Va),N=J[0],M=J[1],G=J[2];if(N&&Kt(N)){var $=u.counters.getCounterValues(N.value),q=G&&Kt(G)?bf.parse(u.context,G.value):3,xe=M&&M.type===0?M.value:"",X=$.map(function(Ee){return Ml(Ee,q,!1)}).join(xe);B.appendChild(g.createTextNode(X))}}}else if(b.type===20)switch(b.value){case"open-quote":B.appendChild(g.createTextNode(Rm(m.quotes,u.quoteDepth++,!0)));break;case"close-quote":B.appendChild(g.createTextNode(Rm(m.quotes,--u.quoteDepth,!1)));break;default:B.appendChild(g.createTextNode(b.value))}}),B.className=If+" "+Lf;var C=o===Tl.BEFORE?" "+If:" "+Lf;return Qc(t)?t.className.baseValue+=C:t.className+=C,B}}},n.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},n})(),Tl;(function(n){n[n.BEFORE=0]="BEFORE",n[n.AFTER=1]="AFTER"})(Tl||(Tl={}));var PU=function(n,e){var t=n.createElement("iframe");return t.className="html2canvas-container",t.style.visibility="hidden",t.style.position="fixed",t.style.left="-10000px",t.style.top="0px",t.style.border="0",t.width=e.width.toString(),t.height=e.height.toString(),t.scrolling="no",t.setAttribute(py,"true"),n.body.appendChild(t),t},NU=function(n){return new Promise(function(e){if(n.complete){e();return}if(!n.src){e();return}n.onload=e,n.onerror=e})},jU=function(n){return Promise.all([].slice.call(n.images,0).map(NU))},HU=function(n){return new Promise(function(e,t){var i=n.contentWindow;if(!i)return t("No window assigned for iframe");var o=i.document;i.onload=n.onload=function(){i.onload=n.onload=null;var u=setInterval(function(){o.body.childNodes.length>0&&o.readyState==="complete"&&(clearInterval(u),e(n))},50)}})},OU=["all","d","content"],Hh=function(n,e){for(var t=n.length-1;t>=0;t--){var i=n.item(t);OU.indexOf(i)===-1&&e.style.setProperty(i,n.getPropertyValue(i))}return e},DU=function(n){var e="";return n&&(e+="<!DOCTYPE ",n.name&&(e+=n.name),n.internalSubset&&(e+=n.internalSubset),n.publicId&&(e+='"'+n.publicId+'"'),n.systemId&&(e+='"'+n.systemId+'"'),e+=">"),e},RU=function(n,e,t){n&&n.defaultView&&(e!==n.defaultView.pageXOffset||t!==n.defaultView.pageYOffset)&&n.defaultView.scrollTo(e,t)},MU=function(n){var e=n[0],t=n[1],i=n[2];e.scrollLeft=t,e.scrollTop=i},KU=":before",VU=":after",If="___html2canvas___pseudoelement_before",Lf="___html2canvas___pseudoelement_after",dv=`{
    content: "" !important;
    display: none !important;
}`,GU=function(n){zU(n,"."+If+KU+dv+`
         .`+Lf+VU+dv)},zU=function(n,e){var t=n.ownerDocument;if(t){var i=t.createElement("style");i.textContent=e,n.appendChild(i)}},gy=(function(){function n(){}return n.getOrigin=function(e){var t=n._link;return t?(t.href=e,t.href=t.href,t.protocol+t.hostname+t.port):"about:blank"},n.isSameOrigin=function(e){return n.getOrigin(e)===n._origin},n.setContext=function(e){n._link=e.document.createElement("a"),n._origin=n.getOrigin(e.location.href)},n._origin="about:blank",n})(),WU=(function(){function n(e,t){this.context=e,this._options=t,this._cache={}}return n.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)||(Dh(e)||qU(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),t},n.prototype.match=function(e){return this._cache[e]},n.prototype.loadImage=function(e){return xA(this,void 0,void 0,function(){var t,i,o,u,d=this;return dA(this,function(g){switch(g.label){case 0:return t=gy.isSameOrigin(e),i=!Oh(e)&&this._options.useCORS===!0&&nA.SUPPORT_CORS_IMAGES&&!t,o=!Oh(e)&&!t&&!Dh(e)&&typeof this._options.proxy=="string"&&nA.SUPPORT_CORS_XHR&&!i,!t&&this._options.allowTaint===!1&&!Oh(e)&&!Dh(e)&&!o&&!i?[2]:(u=e,o?[4,this.proxy(u)]:[3,2]);case 1:u=g.sent(),g.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(m,B){var C=new Image;C.onload=function(){return m(C)},C.onerror=B,(XU(u)||i)&&(C.crossOrigin="anonymous"),C.src=u,C.complete===!0&&setTimeout(function(){return m(C)},500),d._options.imageTimeout>0&&setTimeout(function(){return B("Timed out ("+d._options.imageTimeout+"ms) loading image")},d._options.imageTimeout)})];case 3:return[2,g.sent()]}})})},n.prototype.has=function(e){return typeof this._cache[e]<"u"},n.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},n.prototype.proxy=function(e){var t=this,i=this._options.proxy;if(!i)throw new Error("No proxy defined");var o=e.substring(0,256);return new Promise(function(u,d){var g=nA.SUPPORT_RESPONSE_TYPE?"blob":"text",m=new XMLHttpRequest;m.onload=function(){if(m.status===200)if(g==="text")u(m.response);else{var b=new FileReader;b.addEventListener("load",function(){return u(b.result)},!1),b.addEventListener("error",function(F){return d(F)},!1),b.readAsDataURL(m.response)}else d("Failed to proxy resource "+o+" with status code "+m.status)},m.onerror=d;var B=i.indexOf("?")>-1?"&":"?";if(m.open("GET",""+i+B+"url="+encodeURIComponent(e)+"&responseType="+g),g!=="text"&&m instanceof XMLHttpRequest&&(m.responseType=g),t._options.imageTimeout){var C=t._options.imageTimeout;m.timeout=C,m.ontimeout=function(){return d("Timed out ("+C+"ms) proxying "+o)}}m.send()})},n})(),$U=/^data:image\/svg\+xml/i,ZU=/^data:image\/.*;base64,/i,JU=/^data:image\/.*/i,qU=function(n){return nA.SUPPORT_SVG_DRAWING||!YU(n)},Oh=function(n){return JU.test(n)},XU=function(n){return ZU.test(n)},Dh=function(n){return n.substr(0,4)==="blob"},YU=function(n){return n.substr(-3).toLowerCase()==="svg"||$U.test(n)},Je=(function(){function n(e,t){this.type=0,this.x=e,this.y=t}return n.prototype.add=function(e,t){return new n(this.x+e,this.y+t)},n})(),xa=function(n,e,t){return new Je(n.x+(e.x-n.x)*t,n.y+(e.y-n.y)*t)},ac=(function(){function n(e,t,i,o){this.type=1,this.start=e,this.startControl=t,this.endControl=i,this.end=o}return n.prototype.subdivide=function(e,t){var i=xa(this.start,this.startControl,e),o=xa(this.startControl,this.endControl,e),u=xa(this.endControl,this.end,e),d=xa(i,o,e),g=xa(o,u,e),m=xa(d,g,e);return t?new n(this.start,i,d,m):new n(m,g,u,this.end)},n.prototype.add=function(e,t){return new n(this.start.add(e,t),this.startControl.add(e,t),this.endControl.add(e,t),this.end.add(e,t))},n.prototype.reverse=function(){return new n(this.end,this.endControl,this.startControl,this.start)},n})(),Fr=function(n){return n.type===1},eE=(function(){function n(e){var t=e.styles,i=e.bounds,o=Ql(t.borderTopLeftRadius,i.width,i.height),u=o[0],d=o[1],g=Ql(t.borderTopRightRadius,i.width,i.height),m=g[0],B=g[1],C=Ql(t.borderBottomRightRadius,i.width,i.height),b=C[0],F=C[1],j=Ql(t.borderBottomLeftRadius,i.width,i.height),P=j[0],N=j[1],G=[];G.push((u+m)/i.width),G.push((P+b)/i.width),G.push((d+N)/i.height),G.push((B+F)/i.height);var O=Math.max.apply(Math,G);O>1&&(u/=O,d/=O,m/=O,B/=O,b/=O,F/=O,P/=O,N/=O);var R=i.width-m,J=i.height-F,M=i.width-b,$=i.height-N,q=t.borderTopWidth,xe=t.borderRightWidth,X=t.borderBottomWidth,Ae=t.borderLeftWidth,ve=Wt(t.paddingTop,e.bounds.width),Ee=Wt(t.paddingRight,e.bounds.width),qe=Wt(t.paddingBottom,e.bounds.width),Ze=Wt(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=u>0||d>0?An(i.left+Ae/3,i.top+q/3,u-Ae/3,d-q/3,jt.TOP_LEFT):new Je(i.left+Ae/3,i.top+q/3),this.topRightBorderDoubleOuterBox=u>0||d>0?An(i.left+R,i.top+q/3,m-xe/3,B-q/3,jt.TOP_RIGHT):new Je(i.left+i.width-xe/3,i.top+q/3),this.bottomRightBorderDoubleOuterBox=b>0||F>0?An(i.left+M,i.top+J,b-xe/3,F-X/3,jt.BOTTOM_RIGHT):new Je(i.left+i.width-xe/3,i.top+i.height-X/3),this.bottomLeftBorderDoubleOuterBox=P>0||N>0?An(i.left+Ae/3,i.top+$,P-Ae/3,N-X/3,jt.BOTTOM_LEFT):new Je(i.left+Ae/3,i.top+i.height-X/3),this.topLeftBorderDoubleInnerBox=u>0||d>0?An(i.left+Ae*2/3,i.top+q*2/3,u-Ae*2/3,d-q*2/3,jt.TOP_LEFT):new Je(i.left+Ae*2/3,i.top+q*2/3),this.topRightBorderDoubleInnerBox=u>0||d>0?An(i.left+R,i.top+q*2/3,m-xe*2/3,B-q*2/3,jt.TOP_RIGHT):new Je(i.left+i.width-xe*2/3,i.top+q*2/3),this.bottomRightBorderDoubleInnerBox=b>0||F>0?An(i.left+M,i.top+J,b-xe*2/3,F-X*2/3,jt.BOTTOM_RIGHT):new Je(i.left+i.width-xe*2/3,i.top+i.height-X*2/3),this.bottomLeftBorderDoubleInnerBox=P>0||N>0?An(i.left+Ae*2/3,i.top+$,P-Ae*2/3,N-X*2/3,jt.BOTTOM_LEFT):new Je(i.left+Ae*2/3,i.top+i.height-X*2/3),this.topLeftBorderStroke=u>0||d>0?An(i.left+Ae/2,i.top+q/2,u-Ae/2,d-q/2,jt.TOP_LEFT):new Je(i.left+Ae/2,i.top+q/2),this.topRightBorderStroke=u>0||d>0?An(i.left+R,i.top+q/2,m-xe/2,B-q/2,jt.TOP_RIGHT):new Je(i.left+i.width-xe/2,i.top+q/2),this.bottomRightBorderStroke=b>0||F>0?An(i.left+M,i.top+J,b-xe/2,F-X/2,jt.BOTTOM_RIGHT):new Je(i.left+i.width-xe/2,i.top+i.height-X/2),this.bottomLeftBorderStroke=P>0||N>0?An(i.left+Ae/2,i.top+$,P-Ae/2,N-X/2,jt.BOTTOM_LEFT):new Je(i.left+Ae/2,i.top+i.height-X/2),this.topLeftBorderBox=u>0||d>0?An(i.left,i.top,u,d,jt.TOP_LEFT):new Je(i.left,i.top),this.topRightBorderBox=m>0||B>0?An(i.left+R,i.top,m,B,jt.TOP_RIGHT):new Je(i.left+i.width,i.top),this.bottomRightBorderBox=b>0||F>0?An(i.left+M,i.top+J,b,F,jt.BOTTOM_RIGHT):new Je(i.left+i.width,i.top+i.height),this.bottomLeftBorderBox=P>0||N>0?An(i.left,i.top+$,P,N,jt.BOTTOM_LEFT):new Je(i.left,i.top+i.height),this.topLeftPaddingBox=u>0||d>0?An(i.left+Ae,i.top+q,Math.max(0,u-Ae),Math.max(0,d-q),jt.TOP_LEFT):new Je(i.left+Ae,i.top+q),this.topRightPaddingBox=m>0||B>0?An(i.left+Math.min(R,i.width-xe),i.top+q,R>i.width+xe?0:Math.max(0,m-xe),Math.max(0,B-q),jt.TOP_RIGHT):new Je(i.left+i.width-xe,i.top+q),this.bottomRightPaddingBox=b>0||F>0?An(i.left+Math.min(M,i.width-Ae),i.top+Math.min(J,i.height-X),Math.max(0,b-xe),Math.max(0,F-X),jt.BOTTOM_RIGHT):new Je(i.left+i.width-xe,i.top+i.height-X),this.bottomLeftPaddingBox=P>0||N>0?An(i.left+Ae,i.top+Math.min($,i.height-X),Math.max(0,P-Ae),Math.max(0,N-X),jt.BOTTOM_LEFT):new Je(i.left+Ae,i.top+i.height-X),this.topLeftContentBox=u>0||d>0?An(i.left+Ae+Ze,i.top+q+ve,Math.max(0,u-(Ae+Ze)),Math.max(0,d-(q+ve)),jt.TOP_LEFT):new Je(i.left+Ae+Ze,i.top+q+ve),this.topRightContentBox=m>0||B>0?An(i.left+Math.min(R,i.width+Ae+Ze),i.top+q+ve,R>i.width+Ae+Ze?0:m-Ae+Ze,B-(q+ve),jt.TOP_RIGHT):new Je(i.left+i.width-(xe+Ee),i.top+q+ve),this.bottomRightContentBox=b>0||F>0?An(i.left+Math.min(M,i.width-(Ae+Ze)),i.top+Math.min(J,i.height+q+ve),Math.max(0,b-(xe+Ee)),F-(X+qe),jt.BOTTOM_RIGHT):new Je(i.left+i.width-(xe+Ee),i.top+i.height-(X+qe)),this.bottomLeftContentBox=P>0||N>0?An(i.left+Ae+Ze,i.top+$,Math.max(0,P-(Ae+Ze)),N-(X+qe),jt.BOTTOM_LEFT):new Je(i.left+Ae+Ze,i.top+i.height-(X+qe))}return n})(),jt;(function(n){n[n.TOP_LEFT=0]="TOP_LEFT",n[n.TOP_RIGHT=1]="TOP_RIGHT",n[n.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",n[n.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(jt||(jt={}));var An=function(n,e,t,i,o){var u=4*((Math.sqrt(2)-1)/3),d=t*u,g=i*u,m=n+t,B=e+i;switch(o){case jt.TOP_LEFT:return new ac(new Je(n,B),new Je(n,B-g),new Je(m-d,e),new Je(m,e));case jt.TOP_RIGHT:return new ac(new Je(n,e),new Je(n+d,e),new Je(m,B-g),new Je(m,B));case jt.BOTTOM_RIGHT:return new ac(new Je(m,e),new Je(m,e+g),new Je(n+d,B),new Je(n,B));case jt.BOTTOM_LEFT:default:return new ac(new Je(m,B),new Je(m-d,B),new Je(n,e+g),new Je(n,e))}},Hc=function(n){return[n.topLeftBorderBox,n.topRightBorderBox,n.bottomRightBorderBox,n.bottomLeftBorderBox]},tE=function(n){return[n.topLeftContentBox,n.topRightContentBox,n.bottomRightContentBox,n.bottomLeftContentBox]},Oc=function(n){return[n.topLeftPaddingBox,n.topRightPaddingBox,n.bottomRightPaddingBox,n.bottomLeftPaddingBox]},nE=(function(){function n(e,t,i){this.offsetX=e,this.offsetY=t,this.matrix=i,this.type=0,this.target=6}return n})(),lc=(function(){function n(e,t){this.path=e,this.target=t,this.type=1}return n})(),AE=(function(){function n(e){this.opacity=e,this.type=2,this.target=6}return n})(),rE=function(n){return n.type===0},my=function(n){return n.type===1},iE=function(n){return n.type===2},hv=function(n,e){return n.length===e.length?n.some(function(t,i){return t===e[i]}):!1},sE=function(n,e,t,i,o){return n.map(function(u,d){switch(d){case 0:return u.add(e,t);case 1:return u.add(e+i,t);case 2:return u.add(e+i,t+o);case 3:return u.add(e,t+o)}return u})},vy=(function(){function n(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return n})(),wy=(function(){function n(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new eE(this.container),this.container.styles.opacity<1&&this.effects.push(new AE(this.container.styles.opacity)),this.container.styles.transform!==null){var i=this.container.bounds.left+this.container.styles.transformOrigin[0].number,o=this.container.bounds.top+this.container.styles.transformOrigin[1].number,u=this.container.styles.transform;this.effects.push(new nE(i,o,u))}if(this.container.styles.overflowX!==0){var d=Hc(this.curves),g=Oc(this.curves);hv(d,g)?this.effects.push(new lc(d,6)):(this.effects.push(new lc(d,2)),this.effects.push(new lc(g,4)))}}return n.prototype.getEffects=function(e){for(var t=[2,3].indexOf(this.container.styles.position)===-1,i=this.parent,o=this.effects.slice(0);i;){var u=i.effects.filter(function(m){return!my(m)});if(t||i.container.styles.position!==0||!i.parent){if(o.unshift.apply(o,u),t=[2,3].indexOf(i.container.styles.position)===-1,i.container.styles.overflowX!==0){var d=Hc(i.curves),g=Oc(i.curves);hv(d,g)||o.unshift(new lc(g,6))}}else o.unshift.apply(o,u);i=i.parent}return o.filter(function(m){return Pn(m.target,e)})},n})(),kf=function(n,e,t,i){n.container.elements.forEach(function(o){var u=Pn(o.flags,4),d=Pn(o.flags,2),g=new wy(o,n);Pn(o.styles.display,2048)&&i.push(g);var m=Pn(o.flags,8)?[]:i;if(u||d){var B=u||o.styles.isPositioned()?t:e,C=new vy(g);if(o.styles.isPositioned()||o.styles.opacity<1||o.styles.isTransformed()){var b=o.styles.zIndex.order;if(b<0){var F=0;B.negativeZIndex.some(function(P,N){return b>P.element.container.styles.zIndex.order?(F=N,!1):F>0}),B.negativeZIndex.splice(F,0,C)}else if(b>0){var j=0;B.positiveZIndex.some(function(P,N){return b>=P.element.container.styles.zIndex.order?(j=N+1,!1):j>0}),B.positiveZIndex.splice(j,0,C)}else B.zeroOrAutoZIndexOrTransformedOrOpacity.push(C)}else o.styles.isFloating()?B.nonPositionedFloats.push(C):B.nonPositionedInlineLevel.push(C);kf(g,C,u?C:t,m)}else o.styles.isInlineLevel()?e.inlineLevel.push(g):e.nonInlineLevel.push(g),kf(g,e,t,m);Pn(o.flags,8)&&yy(o,m)})},yy=function(n,e){for(var t=n instanceof Ef?n.start:1,i=n instanceof Ef?n.reversed:!1,o=0;o<e.length;o++){var u=e[o];u.container instanceof Ay&&typeof u.container.value=="number"&&u.container.value!==0&&(t=u.container.value),u.listValue=Ml(t,u.container.styles.listStyleType,!0),t+=i?-1:1}},oE=function(n){var e=new wy(n,null),t=new vy(e),i=[];return kf(e,t,t,i),yy(e.container,i),t},fv=function(n,e){switch(e){case 0:return Ir(n.topLeftBorderBox,n.topLeftPaddingBox,n.topRightBorderBox,n.topRightPaddingBox);case 1:return Ir(n.topRightBorderBox,n.topRightPaddingBox,n.bottomRightBorderBox,n.bottomRightPaddingBox);case 2:return Ir(n.bottomRightBorderBox,n.bottomRightPaddingBox,n.bottomLeftBorderBox,n.bottomLeftPaddingBox);case 3:default:return Ir(n.bottomLeftBorderBox,n.bottomLeftPaddingBox,n.topLeftBorderBox,n.topLeftPaddingBox)}},aE=function(n,e){switch(e){case 0:return Ir(n.topLeftBorderBox,n.topLeftBorderDoubleOuterBox,n.topRightBorderBox,n.topRightBorderDoubleOuterBox);case 1:return Ir(n.topRightBorderBox,n.topRightBorderDoubleOuterBox,n.bottomRightBorderBox,n.bottomRightBorderDoubleOuterBox);case 2:return Ir(n.bottomRightBorderBox,n.bottomRightBorderDoubleOuterBox,n.bottomLeftBorderBox,n.bottomLeftBorderDoubleOuterBox);case 3:default:return Ir(n.bottomLeftBorderBox,n.bottomLeftBorderDoubleOuterBox,n.topLeftBorderBox,n.topLeftBorderDoubleOuterBox)}},lE=function(n,e){switch(e){case 0:return Ir(n.topLeftBorderDoubleInnerBox,n.topLeftPaddingBox,n.topRightBorderDoubleInnerBox,n.topRightPaddingBox);case 1:return Ir(n.topRightBorderDoubleInnerBox,n.topRightPaddingBox,n.bottomRightBorderDoubleInnerBox,n.bottomRightPaddingBox);case 2:return Ir(n.bottomRightBorderDoubleInnerBox,n.bottomRightPaddingBox,n.bottomLeftBorderDoubleInnerBox,n.bottomLeftPaddingBox);case 3:default:return Ir(n.bottomLeftBorderDoubleInnerBox,n.bottomLeftPaddingBox,n.topLeftBorderDoubleInnerBox,n.topLeftPaddingBox)}},uE=function(n,e){switch(e){case 0:return uc(n.topLeftBorderStroke,n.topRightBorderStroke);case 1:return uc(n.topRightBorderStroke,n.bottomRightBorderStroke);case 2:return uc(n.bottomRightBorderStroke,n.bottomLeftBorderStroke);case 3:default:return uc(n.bottomLeftBorderStroke,n.topLeftBorderStroke)}},uc=function(n,e){var t=[];return Fr(n)?t.push(n.subdivide(.5,!1)):t.push(n),Fr(e)?t.push(e.subdivide(.5,!0)):t.push(e),t},Ir=function(n,e,t,i){var o=[];return Fr(n)?o.push(n.subdivide(.5,!1)):o.push(n),Fr(t)?o.push(t.subdivide(.5,!0)):o.push(t),Fr(i)?o.push(i.subdivide(.5,!0).reverse()):o.push(i),Fr(e)?o.push(e.subdivide(.5,!1).reverse()):o.push(e),o},By=function(n){var e=n.bounds,t=n.styles;return e.add(t.borderLeftWidth,t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth),-(t.borderTopWidth+t.borderBottomWidth))},Dc=function(n){var e=n.styles,t=n.bounds,i=Wt(e.paddingLeft,t.width),o=Wt(e.paddingRight,t.width),u=Wt(e.paddingTop,t.width),d=Wt(e.paddingBottom,t.width);return t.add(i+e.borderLeftWidth,u+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+i+o),-(e.borderTopWidth+e.borderBottomWidth+u+d))},cE=function(n,e){return n===0?e.bounds:n===2?Dc(e):By(e)},dE=function(n,e){return n===0?e.bounds:n===2?Dc(e):By(e)},Rh=function(n,e,t){var i=cE(Ha(n.styles.backgroundOrigin,e),n),o=dE(Ha(n.styles.backgroundClip,e),n),u=hE(Ha(n.styles.backgroundSize,e),t,i),d=u[0],g=u[1],m=Ql(Ha(n.styles.backgroundPosition,e),i.width-d,i.height-g),B=fE(Ha(n.styles.backgroundRepeat,e),m,u,i,o),C=Math.round(i.left+m[0]),b=Math.round(i.top+m[1]);return[B,C,b,d,g]},ba=function(n){return Kt(n)&&n.value===Ma.AUTO},cc=function(n){return typeof n=="number"},hE=function(n,e,t){var i=e[0],o=e[1],u=e[2],d=n[0],g=n[1];if(!d)return[0,0];if(Un(d)&&g&&Un(g))return[Wt(d,t.width),Wt(g,t.height)];var m=cc(u);if(Kt(d)&&(d.value===Ma.CONTAIN||d.value===Ma.COVER)){if(cc(u)){var B=t.width/t.height;return B<u!=(d.value===Ma.COVER)?[t.width,t.width/u]:[t.height*u,t.height]}return[t.width,t.height]}var C=cc(i),b=cc(o),F=C||b;if(ba(d)&&(!g||ba(g))){if(C&&b)return[i,o];if(!m&&!F)return[t.width,t.height];if(F&&m){var j=C?i:o*u,P=b?o:i/u;return[j,P]}var N=C?i:t.width,G=b?o:t.height;return[N,G]}if(m){var O=0,R=0;return Un(d)?O=Wt(d,t.width):Un(g)&&(R=Wt(g,t.height)),ba(d)?O=R*u:(!g||ba(g))&&(R=O/u),[O,R]}var J=null,M=null;if(Un(d)?J=Wt(d,t.width):g&&Un(g)&&(M=Wt(g,t.height)),J!==null&&(!g||ba(g))&&(M=C&&b?J/i*o:t.height),M!==null&&ba(d)&&(J=C&&b?M/o*i:t.width),J!==null&&M!==null)return[J,M];throw new Error("Unable to calculate background-size for element")},Ha=function(n,e){var t=n[e];return typeof t>"u"?n[0]:t},fE=function(n,e,t,i,o){var u=e[0],d=e[1],g=t[0],m=t[1];switch(n){case 2:return[new Je(Math.round(i.left),Math.round(i.top+d)),new Je(Math.round(i.left+i.width),Math.round(i.top+d)),new Je(Math.round(i.left+i.width),Math.round(m+i.top+d)),new Je(Math.round(i.left),Math.round(m+i.top+d))];case 3:return[new Je(Math.round(i.left+u),Math.round(i.top)),new Je(Math.round(i.left+u+g),Math.round(i.top)),new Je(Math.round(i.left+u+g),Math.round(i.height+i.top)),new Je(Math.round(i.left+u),Math.round(i.height+i.top))];case 1:return[new Je(Math.round(i.left+u),Math.round(i.top+d)),new Je(Math.round(i.left+u+g),Math.round(i.top+d)),new Je(Math.round(i.left+u+g),Math.round(i.top+d+m)),new Je(Math.round(i.left+u),Math.round(i.top+d+m))];default:return[new Je(Math.round(o.left),Math.round(o.top)),new Je(Math.round(o.left+o.width),Math.round(o.top)),new Je(Math.round(o.left+o.width),Math.round(o.height+o.top)),new Je(Math.round(o.left),Math.round(o.height+o.top))]}},pE="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",pv="Hidden Text",gE=(function(){function n(e){this._data={},this._document=e}return n.prototype.parseMetrics=function(e,t){var i=this._document.createElement("div"),o=this._document.createElement("img"),u=this._document.createElement("span"),d=this._document.body;i.style.visibility="hidden",i.style.fontFamily=e,i.style.fontSize=t,i.style.margin="0",i.style.padding="0",i.style.whiteSpace="nowrap",d.appendChild(i),o.src=pE,o.width=1,o.height=1,o.style.margin="0",o.style.padding="0",o.style.verticalAlign="baseline",u.style.fontFamily=e,u.style.fontSize=t,u.style.margin="0",u.style.padding="0",u.appendChild(this._document.createTextNode(pv)),i.appendChild(u),i.appendChild(o);var g=o.offsetTop-u.offsetTop+2;i.removeChild(u),i.appendChild(this._document.createTextNode(pv)),i.style.lineHeight="normal",o.style.verticalAlign="super";var m=o.offsetTop-i.offsetTop+2;return d.removeChild(i),{baseline:g,middle:m}},n.prototype.getMetrics=function(e,t){var i=e+" "+t;return typeof this._data[i]>"u"&&(this._data[i]=this.parseMetrics(e,t)),this._data[i]},n})(),_y=(function(){function n(e,t){this.context=e,this.options=t}return n})(),mE=1e4,vE=(function(n){ii(e,n);function e(t,i){var o=n.call(this,t,i)||this;return o._activeEffects=[],o.canvas=i.canvas?i.canvas:document.createElement("canvas"),o.ctx=o.canvas.getContext("2d"),i.canvas||(o.canvas.width=Math.floor(i.width*i.scale),o.canvas.height=Math.floor(i.height*i.scale),o.canvas.style.width=i.width+"px",o.canvas.style.height=i.height+"px"),o.fontMetrics=new gE(document),o.ctx.scale(o.options.scale,o.options.scale),o.ctx.translate(-i.x,-i.y),o.ctx.textBaseline="bottom",o._activeEffects=[],o.context.logger.debug("Canvas renderer initialized ("+i.width+"x"+i.height+") with scale "+i.scale),o}return e.prototype.applyEffects=function(t){for(var i=this;this._activeEffects.length;)this.popEffect();t.forEach(function(o){return i.applyEffect(o)})},e.prototype.applyEffect=function(t){this.ctx.save(),iE(t)&&(this.ctx.globalAlpha=t.opacity),rE(t)&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),my(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(t){return xA(this,void 0,void 0,function(){var i;return dA(this,function(o){switch(o.label){case 0:return i=t.element.container.styles,i.isVisible()?[4,this.renderStackContent(t)]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(t){return xA(this,void 0,void 0,function(){return dA(this,function(i){switch(i.label){case 0:if(Pn(t.container.flags,16))debugger;return t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return i.sent(),[4,this.renderNodeContent(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(t,i,o){var u=this;if(i===0)this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+o);else{var d=Ap(t.text);d.reduce(function(g,m){return u.ctx.fillText(m,g,t.bounds.top+o),g+u.ctx.measureText(m).width},t.bounds.left)}},e.prototype.createFontStyle=function(t){var i=t.fontVariant.filter(function(d){return d==="normal"||d==="small-caps"}).join(""),o=CE(t.fontFamily).join(", "),u=Jl(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,i,t.fontWeight,u,o].join(" "),o,u]},e.prototype.renderTextNode=function(t,i){return xA(this,void 0,void 0,function(){var o,u,d,g,m,B,C,b,F=this;return dA(this,function(j){return o=this.createFontStyle(i),u=o[0],d=o[1],g=o[2],this.ctx.font=u,this.ctx.direction=i.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",m=this.fontMetrics.getMetrics(d,g),B=m.baseline,C=m.middle,b=i.paintOrder,t.textBounds.forEach(function(P){b.forEach(function(N){switch(N){case 0:F.ctx.fillStyle=$n(i.color),F.renderTextWithLetterSpacing(P,i.letterSpacing,B);var G=i.textShadow;G.length&&P.text.trim().length&&(G.slice(0).reverse().forEach(function(O){F.ctx.shadowColor=$n(O.color),F.ctx.shadowOffsetX=O.offsetX.number*F.options.scale,F.ctx.shadowOffsetY=O.offsetY.number*F.options.scale,F.ctx.shadowBlur=O.blur.number,F.renderTextWithLetterSpacing(P,i.letterSpacing,B)}),F.ctx.shadowColor="",F.ctx.shadowOffsetX=0,F.ctx.shadowOffsetY=0,F.ctx.shadowBlur=0),i.textDecorationLine.length&&(F.ctx.fillStyle=$n(i.textDecorationColor||i.color),i.textDecorationLine.forEach(function(O){switch(O){case 1:F.ctx.fillRect(P.bounds.left,Math.round(P.bounds.top+B),P.bounds.width,1);break;case 2:F.ctx.fillRect(P.bounds.left,Math.round(P.bounds.top),P.bounds.width,1);break;case 3:F.ctx.fillRect(P.bounds.left,Math.ceil(P.bounds.top+C),P.bounds.width,1);break}}));break;case 1:i.webkitTextStrokeWidth&&P.text.trim().length&&(F.ctx.strokeStyle=$n(i.webkitTextStrokeColor),F.ctx.lineWidth=i.webkitTextStrokeWidth,F.ctx.lineJoin=window.chrome?"miter":"round",F.ctx.strokeText(P.text,P.bounds.left,P.bounds.top+B)),F.ctx.strokeStyle="",F.ctx.lineWidth=0,F.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(t,i,o){if(o&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var u=Dc(t),d=Oc(i);this.path(d),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(o,0,0,t.intrinsicWidth,t.intrinsicHeight,u.left,u.top,u.width,u.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(t){return xA(this,void 0,void 0,function(){var i,o,u,d,g,m,R,R,B,C,b,F,M,j,P,$,N,G,O,R,J,M,$;return dA(this,function(q){switch(q.label){case 0:this.applyEffects(t.getEffects(4)),i=t.container,o=t.curves,u=i.styles,d=0,g=i.textNodes,q.label=1;case 1:return d<g.length?(m=g[d],[4,this.renderTextNode(m,u)]):[3,4];case 2:q.sent(),q.label=3;case 3:return d++,[3,1];case 4:if(!(i instanceof ey))return[3,8];q.label=5;case 5:return q.trys.push([5,7,,8]),[4,this.context.cache.match(i.src)];case 6:return R=q.sent(),this.renderReplacedElement(i,o,R),[3,8];case 7:return q.sent(),this.context.logger.error("Error loading image "+i.src),[3,8];case 8:if(i instanceof ty&&this.renderReplacedElement(i,o,i.canvas),!(i instanceof ny))return[3,12];q.label=9;case 9:return q.trys.push([9,11,,12]),[4,this.context.cache.match(i.svg)];case 10:return R=q.sent(),this.renderReplacedElement(i,o,R),[3,12];case 11:return q.sent(),this.context.logger.error("Error loading svg "+i.svg.substring(0,255)),[3,12];case 12:return i instanceof sy&&i.tree?(B=new e(this.context,{scale:this.options.scale,backgroundColor:i.backgroundColor,x:0,y:0,width:i.width,height:i.height}),[4,B.render(i.tree)]):[3,14];case 13:C=q.sent(),i.width&&i.height&&this.ctx.drawImage(C,0,0,i.width,i.height,i.bounds.left,i.bounds.top,i.bounds.width,i.bounds.height),q.label=14;case 14:if(i instanceof rp&&(b=Math.min(i.bounds.width,i.bounds.height),i.type===Tc?i.checked&&(this.ctx.save(),this.path([new Je(i.bounds.left+b*.39363,i.bounds.top+b*.79),new Je(i.bounds.left+b*.16,i.bounds.top+b*.5549),new Je(i.bounds.left+b*.27347,i.bounds.top+b*.44071),new Je(i.bounds.left+b*.39694,i.bounds.top+b*.5649),new Je(i.bounds.left+b*.72983,i.bounds.top+b*.23),new Je(i.bounds.left+b*.84,i.bounds.top+b*.34085),new Je(i.bounds.left+b*.39363,i.bounds.top+b*.79)]),this.ctx.fillStyle=$n(nv),this.ctx.fill(),this.ctx.restore()):i.type===Pc&&i.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(i.bounds.left+b/2,i.bounds.top+b/2,b/4,0,Math.PI*2,!0),this.ctx.fillStyle=$n(nv),this.ctx.fill(),this.ctx.restore())),wE(i)&&i.value.length){switch(F=this.createFontStyle(u),M=F[0],j=F[1],P=this.fontMetrics.getMetrics(M,j).baseline,this.ctx.font=M,this.ctx.fillStyle=$n(u.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=BE(i.styles.textAlign),$=Dc(i),N=0,i.styles.textAlign){case 1:N+=$.width/2;break;case 2:N+=$.width;break}G=$.add(N,0,0,-$.height/2+1),this.ctx.save(),this.path([new Je($.left,$.top),new Je($.left+$.width,$.top),new Je($.left+$.width,$.top+$.height),new Je($.left,$.top+$.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new kl(i.value,G),u.letterSpacing,P),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Pn(i.styles.display,2048))return[3,20];if(i.styles.listStyleImage===null)return[3,19];if(O=i.styles.listStyleImage,O.type!==0)return[3,18];R=void 0,J=O.url,q.label=15;case 15:return q.trys.push([15,17,,18]),[4,this.context.cache.match(J)];case 16:return R=q.sent(),this.ctx.drawImage(R,i.bounds.left-(R.width+10),i.bounds.top),[3,18];case 17:return q.sent(),this.context.logger.error("Error loading list-style-image "+J),[3,18];case 18:return[3,20];case 19:t.listValue&&i.styles.listStyleType!==-1&&(M=this.createFontStyle(u)[0],this.ctx.font=M,this.ctx.fillStyle=$n(u.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",$=new ps(i.bounds.left,i.bounds.top+Wt(i.styles.paddingTop,i.bounds.width),i.bounds.width,Om(u.lineHeight,u.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new kl(t.listValue,$),u.letterSpacing,Om(u.lineHeight,u.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),q.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(t){return xA(this,void 0,void 0,function(){var i,o,O,u,d,O,g,m,O,B,C,O,b,F,O,j,P,O,N,G,O;return dA(this,function(R){switch(R.label){case 0:if(Pn(t.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:R.sent(),i=0,o=t.negativeZIndex,R.label=2;case 2:return i<o.length?(O=o[i],[4,this.renderStack(O)]):[3,5];case 3:R.sent(),R.label=4;case 4:return i++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:R.sent(),u=0,d=t.nonInlineLevel,R.label=7;case 7:return u<d.length?(O=d[u],[4,this.renderNode(O)]):[3,10];case 8:R.sent(),R.label=9;case 9:return u++,[3,7];case 10:g=0,m=t.nonPositionedFloats,R.label=11;case 11:return g<m.length?(O=m[g],[4,this.renderStack(O)]):[3,14];case 12:R.sent(),R.label=13;case 13:return g++,[3,11];case 14:B=0,C=t.nonPositionedInlineLevel,R.label=15;case 15:return B<C.length?(O=C[B],[4,this.renderStack(O)]):[3,18];case 16:R.sent(),R.label=17;case 17:return B++,[3,15];case 18:b=0,F=t.inlineLevel,R.label=19;case 19:return b<F.length?(O=F[b],[4,this.renderNode(O)]):[3,22];case 20:R.sent(),R.label=21;case 21:return b++,[3,19];case 22:j=0,P=t.zeroOrAutoZIndexOrTransformedOrOpacity,R.label=23;case 23:return j<P.length?(O=P[j],[4,this.renderStack(O)]):[3,26];case 24:R.sent(),R.label=25;case 25:return j++,[3,23];case 26:N=0,G=t.positiveZIndex,R.label=27;case 27:return N<G.length?(O=G[N],[4,this.renderStack(O)]):[3,30];case 28:R.sent(),R.label=29;case 29:return N++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},e.prototype.formatPath=function(t){var i=this;t.forEach(function(o,u){var d=Fr(o)?o.start:o;u===0?i.ctx.moveTo(d.x,d.y):i.ctx.lineTo(d.x,d.y),Fr(o)&&i.ctx.bezierCurveTo(o.startControl.x,o.startControl.y,o.endControl.x,o.endControl.y,o.end.x,o.end.y)})},e.prototype.renderRepeat=function(t,i,o,u){this.path(t),this.ctx.fillStyle=i,this.ctx.translate(o,u),this.ctx.fill(),this.ctx.translate(-o,-u)},e.prototype.resizeImage=function(t,i,o){var u;if(t.width===i&&t.height===o)return t;var d=(u=this.canvas.ownerDocument)!==null&&u!==void 0?u:document,g=d.createElement("canvas");g.width=Math.max(1,i),g.height=Math.max(1,o);var m=g.getContext("2d");return m.drawImage(t,0,0,t.width,t.height,0,0,i,o),g},e.prototype.renderBackgroundImage=function(t){return xA(this,void 0,void 0,function(){var i,o,u,d,g,m;return dA(this,function(B){switch(B.label){case 0:i=t.styles.backgroundImage.length-1,o=function(C){var b,F,j,ve,se,Qe,Ze,be,X,P,ve,se,Qe,Ze,be,N,G,O,R,J,M,$,q,xe,X,Ae,ve,Ee,qe,Ze,be,et,se,Qe,ge,Pe,K,D,le,Ie,Fe,Ne;return dA(this,function(Oe){switch(Oe.label){case 0:if(C.type!==0)return[3,5];b=void 0,F=C.url,Oe.label=1;case 1:return Oe.trys.push([1,3,,4]),[4,u.context.cache.match(F)];case 2:return b=Oe.sent(),[3,4];case 3:return Oe.sent(),u.context.logger.error("Error loading background-image "+F),[3,4];case 4:return b&&(j=Rh(t,i,[b.width,b.height,b.width/b.height]),ve=j[0],se=j[1],Qe=j[2],Ze=j[3],be=j[4],X=u.ctx.createPattern(u.resizeImage(b,Ze,be),"repeat"),u.renderRepeat(ve,X,se,Qe)),[3,6];case 5:Ab(C)?(P=Rh(t,i,[null,null,null]),ve=P[0],se=P[1],Qe=P[2],Ze=P[3],be=P[4],N=Xx(C.angle,Ze,be),G=N[0],O=N[1],R=N[2],J=N[3],M=N[4],$=document.createElement("canvas"),$.width=Ze,$.height=be,q=$.getContext("2d"),xe=q.createLinearGradient(O,J,R,M),jm(C.stops,G).forEach(function(At){return xe.addColorStop(At.stop,$n(At.color))}),q.fillStyle=xe,q.fillRect(0,0,Ze,be),Ze>0&&be>0&&(X=u.ctx.createPattern($,"repeat"),u.renderRepeat(ve,X,se,Qe))):rb(C)&&(Ae=Rh(t,i,[null,null,null]),ve=Ae[0],Ee=Ae[1],qe=Ae[2],Ze=Ae[3],be=Ae[4],et=C.position.length===0?[ep]:C.position,se=Wt(et[0],Ze),Qe=Wt(et[et.length-1],be),ge=Yx(C,se,Qe,Ze,be),Pe=ge[0],K=ge[1],Pe>0&&K>0&&(D=u.ctx.createRadialGradient(Ee+se,qe+Qe,0,Ee+se,qe+Qe,Pe),jm(C.stops,Pe*2).forEach(function(At){return D.addColorStop(At.stop,$n(At.color))}),u.path(ve),u.ctx.fillStyle=D,Pe!==K?(le=t.bounds.left+.5*t.bounds.width,Ie=t.bounds.top+.5*t.bounds.height,Fe=K/Pe,Ne=1/Fe,u.ctx.save(),u.ctx.translate(le,Ie),u.ctx.transform(1,0,0,Fe,0,0),u.ctx.translate(-le,-Ie),u.ctx.fillRect(Ee,Ne*(qe-Ie)+Ie,Ze,be*Ne),u.ctx.restore()):u.ctx.fill())),Oe.label=6;case 6:return i--,[2]}})},u=this,d=0,g=t.styles.backgroundImage.slice(0).reverse(),B.label=1;case 1:return d<g.length?(m=g[d],[5,o(m)]):[3,4];case 2:B.sent(),B.label=3;case 3:return d++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(t,i,o){return xA(this,void 0,void 0,function(){return dA(this,function(u){return this.path(fv(o,i)),this.ctx.fillStyle=$n(t),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(t,i,o,u){return xA(this,void 0,void 0,function(){var d,g;return dA(this,function(m){switch(m.label){case 0:return i<3?[4,this.renderSolidBorder(t,o,u)]:[3,2];case 1:return m.sent(),[2];case 2:return d=aE(u,o),this.path(d),this.ctx.fillStyle=$n(t),this.ctx.fill(),g=lE(u,o),this.path(g),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(t){return xA(this,void 0,void 0,function(){var i,o,u,d,g,m,B,C,b=this;return dA(this,function(F){switch(F.label){case 0:return this.applyEffects(t.getEffects(2)),i=t.container.styles,o=!Ao(i.backgroundColor)||i.backgroundImage.length,u=[{style:i.borderTopStyle,color:i.borderTopColor,width:i.borderTopWidth},{style:i.borderRightStyle,color:i.borderRightColor,width:i.borderRightWidth},{style:i.borderBottomStyle,color:i.borderBottomColor,width:i.borderBottomWidth},{style:i.borderLeftStyle,color:i.borderLeftColor,width:i.borderLeftWidth}],d=yE(Ha(i.backgroundClip,0),t.curves),o||i.boxShadow.length?(this.ctx.save(),this.path(d),this.ctx.clip(),Ao(i.backgroundColor)||(this.ctx.fillStyle=$n(i.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:F.sent(),this.ctx.restore(),i.boxShadow.slice(0).reverse().forEach(function(j){b.ctx.save();var P=Hc(t.curves),N=j.inset?0:mE,G=sE(P,-N+(j.inset?1:-1)*j.spread.number,(j.inset?1:-1)*j.spread.number,j.spread.number*(j.inset?-2:2),j.spread.number*(j.inset?-2:2));j.inset?(b.path(P),b.ctx.clip(),b.mask(G)):(b.mask(P),b.ctx.clip(),b.path(G)),b.ctx.shadowOffsetX=j.offsetX.number+N,b.ctx.shadowOffsetY=j.offsetY.number,b.ctx.shadowColor=$n(j.color),b.ctx.shadowBlur=j.blur.number,b.ctx.fillStyle=j.inset?$n(j.color):"rgba(0,0,0,1)",b.ctx.fill(),b.ctx.restore()}),F.label=2;case 2:g=0,m=0,B=u,F.label=3;case 3:return m<B.length?(C=B[m],C.style!==0&&!Ao(C.color)&&C.width>0?C.style!==2?[3,5]:[4,this.renderDashedDottedBorder(C.color,C.width,g,t.curves,2)]:[3,11]):[3,13];case 4:return F.sent(),[3,11];case 5:return C.style!==3?[3,7]:[4,this.renderDashedDottedBorder(C.color,C.width,g,t.curves,3)];case 6:return F.sent(),[3,11];case 7:return C.style!==4?[3,9]:[4,this.renderDoubleBorder(C.color,C.width,g,t.curves)];case 8:return F.sent(),[3,11];case 9:return[4,this.renderSolidBorder(C.color,g,t.curves)];case 10:F.sent(),F.label=11;case 11:g++,F.label=12;case 12:return m++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(t,i,o,u,d){return xA(this,void 0,void 0,function(){var g,m,B,C,b,F,j,P,N,G,O,R,J,M,$,q,$,q;return dA(this,function(xe){return this.ctx.save(),g=uE(u,o),m=fv(u,o),d===2&&(this.path(m),this.ctx.clip()),Fr(m[0])?(B=m[0].start.x,C=m[0].start.y):(B=m[0].x,C=m[0].y),Fr(m[1])?(b=m[1].end.x,F=m[1].end.y):(b=m[1].x,F=m[1].y),o===0||o===2?j=Math.abs(B-b):j=Math.abs(C-F),this.ctx.beginPath(),d===3?this.formatPath(g):this.formatPath(m.slice(0,2)),P=i<3?i*3:i*2,N=i<3?i*2:i,d===3&&(P=i,N=i),G=!0,j<=P*2?G=!1:j<=P*2+N?(O=j/(2*P+N),P*=O,N*=O):(R=Math.floor((j+N)/(P+N)),J=(j-R*P)/(R-1),M=(j-(R+1)*P)/R,N=M<=0||Math.abs(N-J)<Math.abs(N-M)?J:M),G&&(d===3?this.ctx.setLineDash([0,P+N]):this.ctx.setLineDash([P,N])),d===3?(this.ctx.lineCap="round",this.ctx.lineWidth=i):this.ctx.lineWidth=i*2+1.1,this.ctx.strokeStyle=$n(t),this.ctx.stroke(),this.ctx.setLineDash([]),d===2&&(Fr(m[0])&&($=m[3],q=m[0],this.ctx.beginPath(),this.formatPath([new Je($.end.x,$.end.y),new Je(q.start.x,q.start.y)]),this.ctx.stroke()),Fr(m[1])&&($=m[1],q=m[2],this.ctx.beginPath(),this.formatPath([new Je($.end.x,$.end.y),new Je(q.start.x,q.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(t){return xA(this,void 0,void 0,function(){var i;return dA(this,function(o){switch(o.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=$n(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),i=oE(t),[4,this.renderStack(i)];case 1:return o.sent(),this.applyEffects([]),[2,this.canvas]}})})},e})(_y),wE=function(n){return n instanceof iy||n instanceof ry?!0:n instanceof rp&&n.type!==Pc&&n.type!==Tc},yE=function(n,e){switch(n){case 0:return Hc(e);case 2:return tE(e);case 1:default:return Oc(e)}},BE=function(n){switch(n){case 1:return"center";case 2:return"right";case 0:default:return"left"}},_E=["-apple-system","system-ui"],CE=function(n){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?n.filter(function(e){return _E.indexOf(e)===-1}):n},xE=(function(n){ii(e,n);function e(t,i){var o=n.call(this,t,i)||this;return o.canvas=i.canvas?i.canvas:document.createElement("canvas"),o.ctx=o.canvas.getContext("2d"),o.options=i,o.canvas.width=Math.floor(i.width*i.scale),o.canvas.height=Math.floor(i.height*i.scale),o.canvas.style.width=i.width+"px",o.canvas.style.height=i.height+"px",o.ctx.scale(o.options.scale,o.options.scale),o.ctx.translate(-i.x,-i.y),o.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+i.width+"x"+i.height+" at "+i.x+","+i.y+") with scale "+i.scale),o}return e.prototype.render=function(t){return xA(this,void 0,void 0,function(){var i,o;return dA(this,function(u){switch(u.label){case 0:return i=Uf(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,t),[4,bE(i)];case 1:return o=u.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=$n(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(o,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e})(_y),bE=function(n){return new Promise(function(e,t){var i=new Image;i.onload=function(){e(i)},i.onerror=t,i.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(n))})},QE=(function(){function n(e){var t=e.id,i=e.enabled;this.id=t,this.enabled=i,this.start=Date.now()}return n.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Ku([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},n.prototype.getTime=function(){return Date.now()-this.start},n.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Ku([this.id,this.getTime()+"ms"],e))},n.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Ku([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},n.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Ku([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},n.instances={},n})(),UE=(function(){function n(e,t){var i;this.windowBounds=t,this.instanceName="#"+n.instanceCount++,this.logger=new QE({id:this.instanceName,enabled:e.logging}),this.cache=(i=e.cache)!==null&&i!==void 0?i:new WU(this,e)}return n.instanceCount=1,n})(),EE=function(n,e){return e===void 0&&(e={}),FE(n,e)};typeof window<"u"&&gy.setContext(window);var FE=function(n,e){return xA(void 0,void 0,void 0,function(){var t,i,o,u,d,g,m,B,C,b,F,j,P,N,G,O,R,J,M,$,xe,q,xe,X,Ae,ve,Ee,qe,Ze,be,et,se,Qe,ge,Pe,K,D,le,Ie,Fe;return dA(this,function(Ne){switch(Ne.label){case 0:if(!n||typeof n!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(t=n.ownerDocument,!t)throw new Error("Element is not attached to a Document");if(i=t.defaultView,!i)throw new Error("Document is not attached to a Window");return o={allowTaint:(X=e.allowTaint)!==null&&X!==void 0?X:!1,imageTimeout:(Ae=e.imageTimeout)!==null&&Ae!==void 0?Ae:15e3,proxy:e.proxy,useCORS:(ve=e.useCORS)!==null&&ve!==void 0?ve:!1},u=df({logging:(Ee=e.logging)!==null&&Ee!==void 0?Ee:!0,cache:e.cache},o),d={windowWidth:(qe=e.windowWidth)!==null&&qe!==void 0?qe:i.innerWidth,windowHeight:(Ze=e.windowHeight)!==null&&Ze!==void 0?Ze:i.innerHeight,scrollX:(be=e.scrollX)!==null&&be!==void 0?be:i.pageXOffset,scrollY:(et=e.scrollY)!==null&&et!==void 0?et:i.pageYOffset},g=new ps(d.scrollX,d.scrollY,d.windowWidth,d.windowHeight),m=new UE(u,g),B=(se=e.foreignObjectRendering)!==null&&se!==void 0?se:!1,C={allowTaint:(Qe=e.allowTaint)!==null&&Qe!==void 0?Qe:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:B,copyStyles:B},m.logger.debug("Starting document clone with size "+g.width+"x"+g.height+" scrolled to "+-g.left+","+-g.top),b=new cv(m,n,C),F=b.clonedReferenceElement,F?[4,b.toIFrame(t,g)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return j=Ne.sent(),P=ip(F)||SU(F)?iC(F.ownerDocument):Wc(m,F),N=P.width,G=P.height,O=P.left,R=P.top,J=SE(m,F,e.backgroundColor),M={canvas:e.canvas,backgroundColor:J,scale:(Pe=(ge=e.scale)!==null&&ge!==void 0?ge:i.devicePixelRatio)!==null&&Pe!==void 0?Pe:1,x:((K=e.x)!==null&&K!==void 0?K:0)+O,y:((D=e.y)!==null&&D!==void 0?D:0)+R,width:(le=e.width)!==null&&le!==void 0?le:Math.ceil(N),height:(Ie=e.height)!==null&&Ie!==void 0?Ie:Math.ceil(G)},B?(m.logger.debug("Document cloned, using foreign object rendering"),xe=new xE(m,M),[4,xe.render(F)]):[3,3];case 2:return $=Ne.sent(),[3,5];case 3:return m.logger.debug("Document cloned, element located at "+O+","+R+" with size "+N+"x"+G+" using computed rendering"),m.logger.debug("Starting DOM parsing"),q=ay(m,F),J===q.styles.backgroundColor&&(q.styles.backgroundColor=fs.TRANSPARENT),m.logger.debug("Starting renderer for element at "+M.x+","+M.y+" with size "+M.width+"x"+M.height),xe=new vE(m,M),[4,xe.render(q)];case 4:$=Ne.sent(),Ne.label=5;case 5:return(!((Fe=e.removeContainer)!==null&&Fe!==void 0)||Fe)&&(cv.destroy(j)||m.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),m.logger.debug("Finished rendering"),[2,$]}})})},SE=function(n,e,t){var i=e.ownerDocument,o=i.documentElement?Il(n,getComputedStyle(i.documentElement).backgroundColor):fs.TRANSPARENT,u=i.body?Il(n,getComputedStyle(i.body).backgroundColor):fs.TRANSPARENT,d=typeof t=="string"?Il(n,t):t===null?fs.TRANSPARENT:4294967295;return e===i.documentElement?Ao(o)?Ao(u)?d:u:o:d};function IE(n){if(!n||n.length<3)return 0;const e=g=>g*Math.PI/180,t=n.reduce((g,m)=>g+m[0],0)/n.length,i=n.reduce((g,m)=>g+m[1],0)/n.length,o=6371e3,u=n.map(([g,m])=>[o*e(m-i)*Math.cos(e(t)),o*e(g-t)]);let d=0;for(let g=0;g<u.length;g++){const[m,B]=u[g],[C,b]=u[(g+1)%u.length];d+=m*b-C*B}return d=Math.abs(d)/2,d/4046.8564224}function LE(n,e){const t=B=>B*Math.PI/180,o=t(e[0]-n[0]),u=t(e[1]-n[1]),d=t(n[0]),g=t(e[0]),m=Math.sin(o/2)**2+Math.cos(d)*Math.cos(g)*Math.sin(u/2)**2;return 2*6371e3*Math.asin(Math.sqrt(m))}function kE(n,e){const t=n[1],i=n[0];let o=!1;for(let u=0,d=e.length-1;u<e.length;d=u++){const g=e[u][0],m=e[u][1],B=e[d][0],C=e[d][1];g>i!=B>i&&t<(C-m)*(i-g)/(B-g||1e-12)+m&&(o=!o)}return o}function TE({jobId:n}){const e=S.useRef(null),t=S.useRef(null),i=S.useRef(null),o=S.useRef(null),u=S.useRef(null),d=S.useRef(null),g=S.useRef(null),m=S.useRef(null),B=S.useRef(null),C=S.useRef(null),b=S.useRef(null),F=S.useRef(null),j=S.useRef(null),[P,N]=S.useState("aerial"),[G,O]=S.useState([]),[R,J]=S.useState(!1),[M,$]=S.useState(!1),[q,xe]=S.useState([]),[X,Ae]=S.useState([]),[ve,Ee]=S.useState([]),[qe,Ze]=S.useState(null),[be,et]=S.useState("");S.useEffect(()=>{if(!e.current||t.current)return;const K=ut.map(e.current).setView([30.2672,-97.7431],15),D=ut.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:" OpenStreetMap contributors",maxZoom:19}).addTo(K);ut.control.scale({imperial:!0,metric:!1}).addTo(K),i.current=D,o.current=ut.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",{attribution:"Imagery  Esri, Maxar, Earthstar Geographics",maxZoom:19,opacity:0}),u.current=ut.layerGroup().addTo(K),g.current=ut.layerGroup().addTo(K),m.current=ut.layerGroup().addTo(K),B.current=ut.layerGroup().addTo(K),C.current=ut.layerGroup().addTo(K),b.current=ut.layerGroup().addTo(K),F.current=ut.layerGroup().addTo(K),j.current=ut.layerGroup().addTo(K);const le=ut.control({position:"topright"});le.onAdd=()=>{const Ie=ut.DomUtil.create("div");return Ie.textContent="N",Ie.className="north-arrow",Ie},le.addTo(K),t.current=K,setTimeout(()=>K.invalidateSize(),100)},[]),S.useEffect(()=>{const K=t.current;if(!K)return;const D=()=>{setTimeout(()=>{K.invalidateSize();const le=se();le&&K.fitBounds(le,{padding:[24,24]})},0)};return document.addEventListener("accordion:open",D),()=>{try{document.removeEventListener("accordion:open",D)}catch{}}},[t.current,q,X,ve]);function se(){const K=[];return q.forEach(D=>(D.polygon||[]).forEach(le=>K.push(le))),X.forEach(D=>K.push([D.lat,D.lon])),ve.forEach(D=>K.push([D.lat,D.lon])),K.length===0?null:ut.latLngBounds(K.map(([D,le])=>ut.latLng(D,le)))}S.useEffect(()=>{const K=t.current;if(!(!K||!i.current||!o.current))if(P==="aerial")o.current.addTo(K),o.current.setOpacity(0),o.current.once("load",()=>o.current.setOpacity(1)),i.current.bringToBack?.();else{try{K.removeLayer(o.current)}catch{}i.current.addTo(K)}},[P]),S.useEffect(()=>{(async()=>xe(await Ru(n)))()},[n]),S.useEffect(()=>{!t.current||!u.current||(u.current.clearLayers(),q.forEach(D=>{const le=ut.polygon(D.polygon,{color:D.color||"#16a34a",fillOpacity:.15,weight:2});le.bindTooltip(D.name||"Pond",{permanent:!0,direction:"center"}),u.current.addLayer(le)}))},[q]);function Qe(K){et(K.label);const D=t.current;if(D){if(K.lat!=null&&K.lon!=null){j.current?.clearLayers();const le=ut.circleMarker([K.lat,K.lon],{radius:7,color:"#10b981",weight:2,fillColor:"#a7f3d0",fillOpacity:.95});j.current?.addLayer(le),D.setView([K.lat,K.lon],16);return}ge()}}async function ge(){const K=t.current;if(!K)return;const D=(be||"").trim();if(!D)return;const le=D.match(/^\s*([-+]?[0-9]*\.?[0-9]+)\s*,\s*([-+]?[0-9]*\.?[0-9]+)\s*$/);let Ie=null,Fe=null;if(le&&(Ie=Number(le[1]),Fe=Number(le[2])),Ie!=null&&Fe!=null&&Number.isFinite(Ie)&&Number.isFinite(Fe)){j.current?.clearLayers();const Ne=ut.circleMarker([Ie,Fe],{radius:7,color:"#10b981",weight:2,fillColor:"#a7f3d0",fillOpacity:.95});j.current.addLayer(Ne),K.setView([Ie,Fe],16);return}try{const Ne=`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(D)}&limit=1`,At=await(await fetch(Ne,{headers:{Accept:"application/json"}})).json();if(Array.isArray(At)&&At[0]){const mt=At[0],De=Number(mt.lat),Ot=Number(mt.lon);if(Number.isFinite(De)&&Number.isFinite(Ot)){j.current?.clearLayers();const fA=ut.circleMarker([De,Ot],{radius:7,color:"#10b981",weight:2,fillColor:"#a7f3d0",fillOpacity:.95});j.current.addLayer(fA),K.setView([De,Ot],16)}}}catch{}}S.useEffect(()=>{(async()=>Ae(await wh(n)))()},[n]),S.useEffect(()=>{!t.current||!B.current||(B.current.clearLayers(),X.forEach(D=>{const le=ut.circleMarker([D.lat,D.lon],{radius:5,color:"#2563eb",weight:2,fillColor:"#93c5fd",fillOpacity:.9});le.bindTooltip(`${Number(D.depthFt).toFixed(1)} ft`,{permanent:!0,direction:"top",offset:ut.point(0,-8)}),le.on("click",async()=>{confirm("Delete this depth point?")&&(await i_(D.id),Ae(await wh(n)))}),B.current.addLayer(le)}))},[X,n]),S.useEffect(()=>{(async()=>Ee(await yh(n)))()},[n]),S.useEffect(()=>{!t.current||!C.current||(C.current.clearLayers(),ve.forEach(D=>{const le=ut.circleMarker([D.lat,D.lon],{radius:6,color:"#f97316",weight:2,fillColor:"#fdba74",fillOpacity:.9});le.bindPopup(`<strong>${D.name}</strong>${D.note?"<br/>"+D.note:""}<br/><button data-mid="${D.id}">Delete</button>`),le.on("popupopen",()=>{document.querySelector(`button[data-mid="${D.id}"]`)?.addEventListener("click",async()=>{confirm("Delete point?")&&(await c_(D.id),Ee(await yh(n)))})}),C.current.addLayer(le)}))},[ve,n]),S.useEffect(()=>{const K=t.current;K&&(d.current&&d.current.remove(),g.current&&g.current.clearLayers?.(),m.current?.clearLayers(),G.length>=2&&(d.current=ut.polyline(G,{color:"#16a34a",dashArray:"6,6"}).addTo(K)),G.length>=3&&ut.polygon(G,{color:"#16a34a",fillOpacity:.2,weight:2}).addTo(g.current),G.forEach(([D,le])=>m.current?.addLayer(ut.circleMarker([D,le],{radius:3,color:"#16a34a",fillColor:"#16a34a",fillOpacity:1}))))},[G]),S.useEffect(()=>{const K=t.current;if(!K)return;const D=()=>{if(K.getZoom()<=12){try{u.current&&K.removeLayer(u.current)}catch{}try{B.current&&K.removeLayer(B.current)}catch{}try{C.current&&K.removeLayer(C.current)}catch{}b.current&&!K.hasLayer(b.current)&&b.current.addTo(K),b.current?.clearLayers(),q.forEach(Fe=>{const Ne=Fe.polygon||[];if(Ne.length===0)return;const Oe=Ne.reduce((De,Ot)=>De+Ot[0],0)/Ne.length,At=Ne.reduce((De,Ot)=>De+Ot[1],0)/Ne.length,mt=ut.circleMarker([Oe,At],{radius:8,color:"#0ea5e9",weight:2,fillColor:"#93c5fd",fillOpacity:.9});mt.bindTooltip(Fe.name||"Pond",{direction:"top",offset:ut.point(0,-8)}),b.current.addLayer(mt)})}else{try{b.current&&K.removeLayer(b.current)}catch{}u.current&&!K.hasLayer(u.current)&&u.current.addTo(K),B.current&&!K.hasLayer(B.current)&&B.current.addTo(K),C.current&&!K.hasLayer(C.current)&&C.current.addTo(K)}};return K.on("zoomend",D),D(),()=>{K.off("zoomend",D)}},[q]),S.useEffect(()=>{const K=t.current;if(!K)return;const D=async le=>{if(R){O(Ie=>[...Ie,[le.latlng.lat,le.latlng.lng]]);return}if(M){const Ie=await Ru(n);let Fe;for(const At of Ie)if(kE([le.latlng.lat,le.latlng.lng],At.polygon)){Fe=At.id;break}if(!Fe){alert("Save a pond outline first, then add depth points inside it.");return}const Ne=prompt("Depth (ft)?"),Oe=Ne?Number(Ne):NaN;if(!Number.isFinite(Oe))return;await r_({id:crypto.randomUUID(),jobId:n,lat:le.latlng.lat,lon:le.latlng.lng,depthFt:Oe,createdAt:new Date().toISOString(),pondId:Fe}),Ae(await wh(n)),hn(n,"depth_add",`Depth ${Oe} ft`,_n())}};return K.on("click",D),()=>{K.off("click",D)}},[R,M,n]);const Pe=S.useMemo(()=>{const K={};return q.forEach(D=>{const le=IE(D.polygon||[]);let Ie=0;const Fe=D.polygon||[];for(let At=0;At<Fe.length;At++)Ie+=LE(Fe[At],Fe[(At+1)%Fe.length]);const Ne=X.filter(At=>At.pondId===D.id),Oe=Ne.length?Ne.reduce((At,mt)=>At+(Number(mt.depthFt)||0),0)/Ne.length:null;K[D.id]={acres:le,perimeterFt:Ie*3.28084,avgDepth:Oe,count:Ne.length}}),K},[q,X]);return c.jsxs("div",{className:"grid",children:[c.jsxs("div",{className:"row",style:{justifyContent:"space-between"},children:[c.jsxs("div",{className:"row",style:{gap:8},children:[c.jsx("button",{className:"btn",onClick:()=>J(K=>!K),children:R?"Finish Pond Trace":"Start Pond Trace"}),c.jsx("button",{className:"btn secondary",onClick:()=>O([]),children:"Clear Trace"}),G.length>=3&&c.jsx("button",{className:"btn",onClick:async()=>{const K=prompt("Pond name")||void 0;await s_({id:crypto.randomUUID(),jobId:n,name:K,polygon:G,createdAt:new Date().toISOString()}),O([]),xe(await Ru(n)),hn(n,"pond_save",`Saved pond ${K||""}`,_n())},children:"Save Pond"}),c.jsx("button",{className:"btn secondary",onClick:async()=>{if(!navigator.geolocation){alert("Geolocation not available");return}navigator.geolocation.getCurrentPosition(K=>{const{latitude:D,longitude:le,accuracy:Ie}=K.coords,Fe=t.current;if(!Fe)return;F.current?.clearLayers();const Ne=ut.circleMarker([D,le],{radius:7,color:"#06b6d4",weight:2,fillColor:"#67e8f9",fillOpacity:.95});if(F.current.addLayer(Ne),Number.isFinite(Ie)&&Ie>0){const Oe=ut.circle([D,le],{radius:Math.min(Ie,100),color:"#06b6d4",weight:1,fillColor:"#67e8f9",fillOpacity:.2});F.current.addLayer(Oe)}Fe.setView([D,le],16)},K=>alert(K.message||"Location permission denied"))},children:"Use My Location"})]}),c.jsxs("label",{className:"row",style:{gap:8},children:[c.jsx("span",{className:"muted",children:"Map"}),c.jsxs("select",{className:"select",value:P,onChange:K=>N(K.target.value),children:[c.jsx("option",{value:"street",children:"Street"}),c.jsx("option",{value:"aerial",children:"Aerial"})]})]})]}),c.jsx("div",{className:"row",children:c.jsx("button",{className:"btn secondary",onClick:async()=>{try{if(!e.current)throw new Error("Map not ready");const K=await EE(e.current,{useCORS:!0,allowTaint:!0,backgroundColor:"#fff"}),D=await new Promise(Ie=>K.toBlob(Fe=>Ie(Fe),"image/png")),le=new Date().toISOString();await iw({id:crypto.randomUUID(),jobId:n,blob:D,caption:"Map Snapshot",createdAt:le}),alert("Map snapshot saved to Photos")}catch(K){alert("Could not capture map snapshot: "+(K?.message||K))}},children:"Capture Map Snapshot"})}),c.jsx("div",{className:"row",style:{justifyContent:"space-between"},children:c.jsxs("label",{className:"row",style:{gap:8,flex:1},children:[c.jsx("span",{className:"muted",children:"Find"}),c.jsx("div",{style:{minWidth:240,flex:1},children:c.jsx($l,{value:be,onChange:K=>et(K),onSelect:Qe,onEnter:()=>ge(),placeholder:"lat,lon or address"})}),c.jsx("button",{className:"btn secondary",onClick:ge,children:"Go"})]})}),c.jsx("div",{ref:e,style:{height:540,width:"100%",borderRadius:8,border:"1px solid var(--border)"}}),c.jsxs("div",{className:"row",children:[c.jsx("button",{className:"btn secondary",onClick:()=>$(K=>!K),children:M?"Done Adding Depths":"Add Depth Point"}),c.jsx("button",{className:"btn secondary",onClick:async()=>{const K=prompt("Name this point (misc)");if(!K)return;const D=prompt("Optional note")||void 0;alert("Click the map to place the misc point");const le=t.current;if(!le)return;const Ie=async Fe=>{await u_({id:crypto.randomUUID(),jobId:n,name:K,note:D,lat:Fe.latlng.lat,lon:Fe.latlng.lng,createdAt:new Date().toISOString()}),Ee(await yh(n)),le.off("click",Ie)};le.on("click",Ie)},children:"Add Misc Point"})]}),q.length>0&&c.jsxs("section",{className:"card",children:[c.jsx("h3",{children:"Ponds Summary"}),c.jsxs("table",{className:"table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Name"}),c.jsx("th",{children:"Acreage"}),c.jsx("th",{children:"Perimeter (ft)"}),c.jsx("th",{children:"Avg Depth (ft)"}),c.jsx("th",{children:"Depths"}),c.jsx("th",{children:"Actions"})]})}),c.jsx("tbody",{children:q.map(K=>c.jsxs("tr",{children:[c.jsx("td",{children:K.name||"(unnamed)"}),c.jsx("td",{children:Pe[K.id]?.acres?.toFixed(3)||"-"}),c.jsx("td",{children:Pe[K.id]?Pe[K.id].perimeterFt.toFixed(1):"-"}),c.jsx("td",{children:Pe[K.id]?.avgDepth!=null?Pe[K.id].avgDepth.toFixed(2):"-"}),c.jsx("td",{children:Pe[K.id]?.count??0}),c.jsxs("td",{children:[c.jsx("button",{className:"btn secondary",onClick:()=>{const D=ut.latLngBounds((K.polygon||[]).map(le=>ut.latLng(le[0],le[1])));t.current?.fitBounds(D,{padding:[24,24]})},children:"Zoom"}),qe===K.id?c.jsx("button",{className:"btn warn",style:{marginLeft:6},onClick:async()=>{if(!confirm("Really delete this pond and its stats?")){Ze(null);return}await o_(K.id),xe(await Ru(n)),Ze(null)},children:"Confirm Delete"}):c.jsx("button",{className:"btn secondary",style:{marginLeft:6},onClick:()=>Ze(K.id),children:"Delete"})]})]},K.id))})]})]})]})}function PE({jobId:n}){const[e,t]=S.useState("secchi"),[i,o]=S.useState(""),[u,d]=S.useState(""),[g,m]=S.useState("");function B(C){return C==="secchi"?"ft":C==="ph"?"pH":C==="do"?"mg/L":C==="temp"?"C":C==="alkalinity"||C==="hardness"?"mg/L as CaCO3":""}return c.jsxs("form",{className:"row",onSubmit:async C=>{C.preventDefault();const b=Number(i);if(!Number.isFinite(b))return;const F=new Date().toISOString();await q0({id:crypto.randomUUID(),jobId:n,kind:e,value:b,unit:u||B(e),depthFt:g?Number(g):void 0,createdAt:F}),await hn(n,"water_quality_add",`Added ${e}: ${b} ${u||B(e)}`,_n()),o(""),m("")},children:[c.jsxs("select",{className:"select",value:e,onChange:C=>{const b=C.target.value;t(b),d(B(b))},children:[c.jsx("option",{value:"secchi",children:"Secchi Depth"}),c.jsx("option",{value:"ph",children:"pH"}),c.jsx("option",{value:"do",children:"Dissolved Oxygen"}),c.jsx("option",{value:"temp",children:"Temperature"}),c.jsx("option",{value:"alkalinity",children:"Alkalinity"}),c.jsx("option",{value:"hardness",children:"Hardness"})]}),c.jsx("input",{className:"input",placeholder:"Value",value:i,onChange:C=>o(C.target.value)}),c.jsx("input",{className:"input",placeholder:"Unit",value:u,onChange:C=>d(C.target.value),style:{width:180}}),c.jsx("input",{className:"input",placeholder:"Depth (ft, optional)",value:g,onChange:C=>m(C.target.value)}),c.jsx("button",{className:"btn",type:"submit",children:"Add"})]})}function NE(n){const e=n.targetConcentrationPct/n.productStrengthPct,t=n.tankVolumeGal*e,i=Math.max(0,n.tankVolumeGal-t);return{productNeededGal:t,carrierNeededGal:i}}function jE(){const[n,e]=S.useState("100"),[t,i]=S.useState("1"),[o,u]=S.useState("37.5"),d=Number(n)||0,g=Number(t)||0,m=Number(o)||1e-4,B=NE({tankVolumeGal:d,targetConcentrationPct:g,productStrengthPct:m});return c.jsxs("div",{className:"grid",children:[c.jsxs("div",{className:"row",children:[c.jsxs("label",{className:"label",children:["Tank Volume (gal)",c.jsx("input",{className:"input",value:n,onChange:C=>e(C.target.value)})]}),c.jsxs("label",{className:"label",children:["Target Conc. (%)",c.jsx("input",{className:"input",value:t,onChange:C=>i(C.target.value)})]}),c.jsxs("label",{className:"label",children:["Product Strength (%)",c.jsx("input",{className:"input",value:o,onChange:C=>u(C.target.value)})]})]}),c.jsxs("div",{className:"row",children:[c.jsxs("div",{className:"card",children:["Product needed: ",c.jsxs("strong",{children:[B.productNeededGal.toFixed(2)," gal"]})]}),c.jsxs("div",{className:"card",children:["Carrier (water): ",c.jsxs("strong",{children:[B.carrierNeededGal.toFixed(2)," gal"]})]})]}),c.jsx("small",{className:"muted",children:"Note: Simplified volume-based calculation. Confirm label mixing instructions."})]})}const HE=["PPE: Gloves","PPE: Eye protection","PPE: Boots","Spill kit on vehicle","Weather checked (wind/lightning)","Label reviewed and dosing confirmed","Bystander/animal safety considered"];function OE({jobId:n}){const[e,t]=S.useState(HE.map(d=>({label:d,checked:!1}))),[i,o]=S.useState("");S.useEffect(()=>{},[n]);async function u(){const d=new Date().toISOString();await X0({id:crypto.randomUUID(),jobId:n,kind:"safety",items:e,notes:i||void 0,createdAt:d}),await hn(n,"checklist_save","Saved safety checklist",_n())}return c.jsxs("div",{className:"grid",children:[c.jsx("ul",{className:"list",children:e.map((d,g)=>c.jsx("li",{children:c.jsxs("label",{className:"row",style:{gap:8},children:[c.jsx("input",{type:"checkbox",checked:d.checked,onChange:m=>t(B=>B.map((C,b)=>b===g?{...C,checked:m.target.checked}:C))}),d.label]})},g))}),c.jsxs("label",{className:"label",children:["Notes",c.jsx("textarea",{className:"textarea",value:i,onChange:d=>o(d.target.value)})]}),c.jsx("div",{className:"row",children:c.jsx("button",{className:"btn",onClick:u,children:"Save Checklist"})})]})}function DE({jobId:n}){const[e,t]=S.useState([]),[i,o]=S.useState("");S.useEffect(()=>{(async()=>t(await Mu(n)))()},[n]);async function u(){const g=i.trim();if(!g)return;const m={id:crypto.randomUUID(),jobId:n,label:g,done:!1,createdAt:new Date().toISOString()};await d_(m),await hn(n,"task_add",`Added task: ${g}`,_n()),o(""),t(await Mu(n))}async function d(g,m){await h_(g,m),await hn(n,"task_toggle",`Marked task ${m?"done":"open"}`,_n()),t(await Mu(n))}return c.jsxs("div",{className:"grid",children:[c.jsxs("div",{className:"row",children:[c.jsx("input",{className:"input",placeholder:"Add task (e.g., applied chemical)",value:i,onChange:g=>o(g.target.value)}),c.jsx("button",{className:"btn",onClick:u,children:"Add"})]}),e.length===0?c.jsx("div",{className:"muted",children:"No tasks yet"}):c.jsx("ul",{className:"list",children:e.sort((g,m)=>g.createdAt.localeCompare(m.createdAt)).map(g=>c.jsx("li",{children:c.jsxs("div",{className:"row",style:{gap:8,justifyContent:"space-between"},children:[c.jsxs("label",{className:"row",style:{gap:8},children:[c.jsx("input",{type:"checkbox",checked:g.done,onChange:m=>d(g.id,m.target.checked)}),c.jsx("span",{style:{textDecoration:g.done?"line-through":"none"},children:g.label})]}),c.jsx("button",{className:"btn warn",onClick:async()=>{confirm("Really delete this task?")&&(await f_(g.id),await hn(n,"task_delete","Deleted a task",_n()),t(await Mu(n)))},children:"Delete"})]})},g.id))})]})}function RE({jobId:n}){const[e,t]=S.useState(()=>new Date().toISOString().slice(0,10)),[i,o]=S.useState([]);S.useEffect(()=>{(async()=>o(await wc(n)))()},[n]);async function u(){try{await aw(n,e),await hn(n,"time_clock_in",`Clock in for ${e}`,_n()),o(await wc(n))}catch(g){alert(g?.message||"Could not clock in.")}}async function d(){try{const g=await lw(n);await hn(n,"time_clock_out",`Clock out (${g.date})`,_n()),o(await wc(n))}catch(g){alert(g?.message||"No active clock-in to close.")}}return c.jsxs("div",{className:"grid",children:[c.jsxs("div",{className:"row",children:[c.jsx("input",{className:"input",type:"date",value:e,onChange:g=>t(g.target.value)}),c.jsx("button",{className:"btn",onClick:u,children:"Clock In"}),c.jsx("button",{className:"btn secondary",onClick:d,children:"Clock Out"})]}),i.length===0?c.jsx("div",{className:"muted",children:"No time entries"}):c.jsxs("table",{className:"table",style:{minWidth:480},children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"#"}),c.jsx("th",{children:"Date"}),c.jsx("th",{children:"Clock In"}),c.jsx("th",{children:"Clock Out"}),c.jsx("th",{children:"Duration"})]})}),c.jsxs("tbody",{children:[(()=>{const g=[...i].sort((m,B)=>new Date(B.arrivalAt).getTime()-new Date(m.arrivalAt).getTime());return g.map((m,B)=>{const C=m.departureAt?new Date(m.departureAt).getTime()-new Date(m.arrivalAt).getTime():0,b=C>0?Math.floor(C/36e5):0;let F=C>0?Math.round(C%36e5/6e4):0,j=b;F===60&&(j+=1,F=0);const P=C>0?`${j}h ${String(F).padStart(2,"0")}m`:"In progress",N=g.length-B;return c.jsxs("tr",{children:[c.jsx("td",{children:N}),c.jsx("td",{children:m.date}),c.jsx("td",{children:new Date(m.arrivalAt).toLocaleString()}),c.jsx("td",{children:m.departureAt?new Date(m.departureAt).toLocaleString():"-"}),c.jsx("td",{children:P})]},m.id)})})(),c.jsxs("tr",{children:[c.jsx("td",{colSpan:4,style:{textAlign:"right",fontWeight:600},children:"Total"}),c.jsx("td",{children:ME(i)})]})]})]})]})}function ME(n){const e=n.reduce((o,u)=>{if(!u.departureAt)return o;const d=new Date(u.departureAt).getTime()-new Date(u.arrivalAt).getTime();return d>0?o+d:o},0);if(e<=0)return"0h 00m";let t=Math.floor(e/36e5),i=Math.round(e%36e5/6e4);return i===60&&(t+=1,i=0),`${t}h ${String(i).padStart(2,"0")}m`}function KE({jobId:n}){const[e,t]=S.useState(""),[i,o]=S.useState(""),[u,d]=S.useState(""),[g,m]=S.useState(""),[B,C]=S.useState(void 0),[b,F]=S.useState(void 0),[j,P]=S.useState(!1);S.useEffect(()=>{(async()=>{const R=await pe.jobs.get(n);R&&(t(R.clientName||""),o(R.siteName||""),d(R.address||""),m(R.createdBy||localStorage.getItem("defaultEmployee")||""),C(R.lat),F(R.lon))})()},[n]);function N(R){d(R.label),R.lat!=null&&C(R.lat),R.lon!=null&&F(R.lon)}async function G(){P(!0);try{await $0(n,{clientName:e,siteName:i,address:u,createdBy:g,lat:B,lon:b});const R=localStorage.getItem("defaultEmployee")||void 0;await hn(n,"update","Updated job details",R||g||void 0),alert("Saved")}finally{P(!1)}}async function O(){if("geolocation"in navigator){P(!0);try{const R=await new Promise((J,M)=>{navigator.geolocation.getCurrentPosition(J,M,{enableHighAccuracy:!0,timeout:1e4})});C(R.coords.latitude),F(R.coords.longitude)}catch{alert("Could not get location")}finally{P(!1)}}}return c.jsxs("div",{className:"grid",children:[c.jsxs("div",{className:"row",style:{flexWrap:"wrap",gap:8},children:[c.jsxs("label",{className:"label",children:["Client Name",c.jsx("input",{className:"input",value:e,onChange:R=>t(R.target.value)})]}),c.jsxs("label",{className:"label",children:["Site Name",c.jsx("input",{className:"input",value:i,onChange:R=>o(R.target.value)})]}),c.jsx("div",{className:"label",style:{flex:"1 1 300px"},children:c.jsx($l,{id:"job-edit-address",label:"Address",value:u,onChange:d,onSelect:N,placeholder:"Start typing an address"})}),c.jsxs("label",{className:"label",children:["Created By",c.jsx("input",{className:"input",value:g,onChange:R=>m(R.target.value)})]})]}),c.jsxs("div",{className:"row",children:[c.jsxs("label",{className:"label",children:["Latitude",c.jsx("input",{className:"input",value:B??"",onChange:R=>C(R.target.value?Number(R.target.value):void 0)})]}),c.jsxs("label",{className:"label",children:["Longitude",c.jsx("input",{className:"input",value:b??"",onChange:R=>F(R.target.value?Number(R.target.value):void 0)})]}),c.jsx("button",{className:"btn secondary",disabled:j,onClick:O,children:"Use Current Location"})]}),c.jsx("div",{className:"row",children:c.jsx("button",{className:"btn",disabled:j,onClick:G,children:j?"Saving...":"Save Changes"})})]})}function VE({jobId:n}){const[e,t]=S.useState([]);return S.useEffect(()=>{(async()=>t(await n_(n)))()},[n]),e.length===0?c.jsx("div",{className:"muted",children:"No activity yet"}):c.jsxs("table",{className:"table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Time"}),c.jsx("th",{children:"Actor"}),c.jsx("th",{children:"Action"})]})}),c.jsx("tbody",{children:e.sort((i,o)=>o.ts.localeCompare(i.ts)).map(i=>c.jsxs("tr",{children:[c.jsx("td",{children:new Date(i.ts).toLocaleString()}),c.jsx("td",{children:i.actor||"-"}),c.jsx("td",{children:i.message})]},i.id))})]})}const sp=43560;function GE(n,e){return n*e/sp}function zE(n){return Math.PI*n*n/sp}function WE(n){return n*n/(4*Math.PI)/sp}function $E(n){return n.length?n.reduce((t,i)=>t+i,0)/n.length:0}function ZE(n,e){return n*e}function JE(n){return n*325851.43}function Cy(){const[n,e]=S.useState("150"),[t,i]=S.useState("100"),[o,u]=S.useState(""),[d,g]=S.useState(""),[m,B]=S.useState("3,4,5,4"),[C,b]=S.useState("60"),[F,j]=S.useState("1"),[P,N]=S.useState("10"),[G,O]=S.useState("1"),[R,J]=S.useState("100"),[M,$]=S.useState("1.0"),q=S.useMemo(()=>o?zE(Number(o)):d?WE(Number(d)):GE(Number(n),Number(t)),[n,t,o,d]),xe=S.useMemo(()=>{const ve=m.split(",").map(Ee=>Number(Ee.trim())).filter(Ee=>Number.isFinite(Ee));return $E(ve)},[m]),X=S.useMemo(()=>ZE(q||0,xe||0),[q,xe]),Ae=S.useMemo(()=>JE(X||0),[X]);return c.jsxs("div",{style:{display:"grid",gap:16},children:[c.jsxs("section",{children:[c.jsx("h3",{children:"Geometry"}),c.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:[c.jsxs("label",{children:["Length ft ",c.jsx("input",{value:n,onChange:ve=>e(ve.target.value),style:{width:100}})]}),c.jsxs("label",{children:["Width ft ",c.jsx("input",{value:t,onChange:ve=>i(ve.target.value),style:{width:100}})]}),c.jsx("span",{children:"or"}),c.jsxs("label",{children:["Radius ft ",c.jsx("input",{value:o,onChange:ve=>u(ve.target.value),style:{width:100}})]}),c.jsx("span",{children:"or"}),c.jsxs("label",{children:["Shoreline ft ",c.jsx("input",{value:d,onChange:ve=>g(ve.target.value),style:{width:120}})]})]}),c.jsxs("div",{style:{marginTop:8},children:["Surface acres: ",c.jsx("strong",{children:q.toFixed(3)})]})]}),c.jsxs("section",{children:[c.jsx("h3",{children:"Depth & Volume"}),c.jsxs("label",{children:["Depth samples (ft, comma-separated)",c.jsx("input",{value:m,onChange:ve=>B(ve.target.value),style:{width:240,marginLeft:8}})]}),c.jsxs("div",{children:["Average depth: ",c.jsxs("strong",{children:[xe.toFixed(2)," ft"]})]}),c.jsxs("div",{children:["Volume: ",c.jsxs("strong",{children:[X.toFixed(3)," ac-ft"]})," (~",Math.round(Ae).toLocaleString()," gal)"]})]}),c.jsxs("section",{children:[c.jsx("h3",{children:"Pump Time"}),c.jsx("div",{className:"row",children:c.jsxs("label",{className:"label",children:["Flow rate (gpm)",c.jsx("input",{className:"input",value:C,onChange:ve=>b(ve.target.value),style:{width:120}})]})}),Number(C)>0&&c.jsxs("div",{style:{marginTop:8},children:["At ",c.jsxs("strong",{children:[Number(C)," gpm"]}),", time to move ~",Math.round(Ae).toLocaleString()," gal is",c.jsxs("strong",{children:[" ",(Ae/60/Number(C)).toFixed(2)," hours"]})," (~",Math.round(Ae/Number(C)).toLocaleString()," minutes)"]})]}),c.jsxs("section",{children:[c.jsx("h3",{children:"Unit Conversions"}),c.jsxs("div",{className:"row",style:{gap:12,flexWrap:"wrap"},children:[c.jsxs("label",{className:"label",children:["Feet  Meters",c.jsx("input",{className:"input",value:F,onChange:ve=>j(ve.target.value),style:{width:120}})]}),c.jsxs("div",{style:{alignSelf:"end"},children:["= ",c.jsxs("strong",{children:[yl(F)?(Number(F)*.3048).toFixed(3):""," m"]})]})]}),c.jsxs("div",{className:"row",style:{gap:12,flexWrap:"wrap",marginTop:6},children:[c.jsxs("label",{className:"label",children:["Gallons  Liters",c.jsx("input",{className:"input",value:P,onChange:ve=>N(ve.target.value),style:{width:120}})]}),c.jsxs("div",{style:{alignSelf:"end"},children:["= ",c.jsxs("strong",{children:[yl(P)?(Number(P)*3.78541).toFixed(1):""," L"]})]})]}),c.jsxs("div",{className:"row",style:{gap:12,flexWrap:"wrap",marginTop:6},children:[c.jsxs("label",{className:"label",children:["Acres  Square feet",c.jsx("input",{className:"input",value:G,onChange:ve=>O(ve.target.value),style:{width:120}})]}),c.jsxs("div",{style:{alignSelf:"end"},children:["= ",c.jsxs("strong",{children:[yl(G)?Math.round(Number(G)*43560).toLocaleString():""," ft"]})]})]})]}),c.jsxs("section",{children:[c.jsx("h3",{children:"Percent Mix"}),c.jsxs("div",{className:"row",style:{gap:8,flexWrap:"wrap"},children:[c.jsxs("label",{className:"label",children:["Tank volume (gal)",c.jsx("input",{className:"input",value:R,onChange:ve=>J(ve.target.value),style:{width:140}})]}),c.jsxs("label",{className:"label",children:["Target %",c.jsx("input",{className:"input",value:M,onChange:ve=>$(ve.target.value),style:{width:100}})]})]}),yl(R)&&yl(M)&&c.jsxs("div",{style:{marginTop:8},children:["Product needed: ",c.jsxs("strong",{children:[(Number(R)*(Number(M)/100)).toFixed(2)," gal"]})," ","(~",(Number(R)*(Number(M)/100)*128).toFixed(0)," fl oz)"]})]})]})}function yl(n){const e=Number(n);return Number.isFinite(e)}function qE({lat:n,lon:e}){const[t,i]=S.useState(null),[o,u]=S.useState(null),[d,g]=S.useState(void 0),[m,B]=S.useState(!1);S.useEffect(()=>{const b=typeof localStorage<"u"&&localStorage.getItem("openweather_key")||void 0;g(b)},[]);async function C(){if(!(!d||n==null||e==null)){B(!0),u(null);try{const b=`https://api.openweathermap.org/data/2.5/weather?lat=${n}&lon=${e}&appid=${d}&units=imperial`,F=await fetch(b);if(!F.ok)throw new Error("weather fetch failed");const j=await F.json();i({tempC:j.main.temp,windMps:j.wind.speed,desc:j.weather?.[0]?.description||""})}catch{u("Weather unavailable")}finally{B(!1)}}}return n==null||e==null?null:d?o?c.jsx("small",{className:"muted",children:o}):t?c.jsxs("span",{className:"badge",style:{background:"#eff6ff",color:"#1e3a8a"},children:[t.desc," | ",t.tempC.toFixed(0)," deg C | wind ",t.windMps.toFixed(1)," m/s"]}):c.jsx("span",{className:"badge",style:{background:"#eff6ff",color:"#1e3a8a"},children:c.jsx("button",{className:"btn secondary",disabled:m||n==null||e==null,onClick:C,children:m?"Fetching":"Get Weather"})}):c.jsx("small",{className:"muted",children:"Set OpenWeather key in Settings"})}function XE(){const{jobId:n=""}=qf(),[e,t]=S.useState(null);return c.jsxs("div",{className:"grid",children:[c.jsx(YE,{jobId:n}),c.jsx(pw,{items:[{label:"Time",accent:"amber",startOpen:!0,content:c.jsx("div",{className:"grid card",children:c.jsx(RE,{jobId:n})})},{label:"Ponds & Mapping",accent:"cyan",content:c.jsx("div",{className:"grid card",children:c.jsx(TE,{jobId:n})})},{label:"Notes",accent:"amber",content:c.jsx("div",{className:"grid card",children:c.jsx(J_,{jobId:n})})},{label:"Measurements",accent:"blue",content:c.jsx("div",{className:"grid card",children:c.jsx(X_,{jobId:n})})},{label:"Tasks",accent:"green",content:c.jsx("div",{className:"grid card",children:c.jsx(DE,{jobId:n})})},{label:"Details",accent:"purple",content:c.jsx("div",{className:"grid card",children:c.jsx(KE,{jobId:n})})},{label:"Activity Log",accent:"amber",content:c.jsx("div",{className:"grid card",children:c.jsx(VE,{jobId:n})})},{label:"Photos",accent:"purple",content:c.jsxs("div",{className:"grid card",children:[c.jsx("div",{className:"row",children:c.jsx(Y_,{jobId:n})}),c.jsx(AC,{jobId:n})]})},{label:"Calculators",accent:"cyan",content:c.jsx("div",{className:"grid card",children:c.jsx(eF,{})})},{label:"Tank Mix",accent:"blue",content:c.jsx("div",{className:"grid card",children:c.jsx(jE,{})})},{label:"Water Quality",accent:"green",content:c.jsx("div",{className:"grid card",children:c.jsx(PE,{jobId:n})})},{label:"Safety",accent:"amber",content:c.jsx("div",{className:"grid card",children:c.jsx(OE,{jobId:n})})},{label:"Chemicals",accent:"green",content:c.jsxs("div",{className:"grid card",children:[c.jsx(tC,{onSelect:t}),e&&c.jsxs("div",{children:[c.jsx("strong",{children:"Selected:"})," ",e.brand," - ",e.active]})]})},{label:"Summary",accent:"purple",content:c.jsx("div",{className:"grid card",children:c.jsx(ri,{className:"btn",to:`/job/${n}/summary`,children:"Open Job Summary"})})}]})]})}function YE({jobId:n}){const[e,t]=S.useState(null);return S.useEffect(()=>{(async()=>t(await pe.jobs.get(n)))()},[n]),c.jsxs("div",{className:"card",children:[c.jsxs("h2",{children:["Job: ",e?.clientName||n]}),c.jsxs("div",{style:{color:"var(--muted)",display:"flex",gap:12,alignItems:"center",flexWrap:"wrap"},children:[e?.createdAt&&c.jsxs("span",{children:["Created ",new Date(e.createdAt).toLocaleString()]}),e?.createdBy&&c.jsxs("span",{style:{marginLeft:12},children:["by ",e.createdBy]}),typeof e?.lat=="number"&&typeof e?.lon=="number"&&c.jsxs("span",{style:{marginLeft:12},children:["(lat ",e.lat.toFixed(5),", lon ",e.lon.toFixed(5),")"]}),c.jsx(qE,{lat:e?.lat,lon:e?.lon})]})]})}function eF(){return c.jsx("div",{children:c.jsx(Cy,{})})}async function Mh(n){return new Promise((e,t)=>{const i=new FileReader;i.onload=()=>e(i.result),i.onerror=t,i.readAsDataURL(n)})}async function tF(n){const e=await J0(),t=await Promise.all(e.photos.map(async m=>{const B={...m};if(n)try{if(m.blob instanceof Blob)B.dataUrl=await Mh(m.blob);else if(m.localUri&&typeof m.localUri=="string"&&m.localUri.startsWith("blob:")){const b=await(await fetch(m.localUri)).blob();B.dataUrl=await Mh(b)}}catch{}return B})),i=await Promise.all((e.chemLabels||[]).map(async m=>({id:m.id,productId:m.productId,filename:m.filename,mimeType:m.mimeType,size:m.size,createdAt:m.createdAt,dataUrl:n?await Mh(m.blob):void 0}))),o={exportedAt:new Date().toISOString(),jobs:e.jobs,notes:e.notes,photos:t,measurements:e.measurements,calcResults:e.calcResults,chemProducts:e.chemProducts,chemLabels:i,outbox:e.outbox,disclaimer:"Field export for offline backup. Contains estimates only  verify against product labels and regulations."},u=JSON.stringify(o),d=new Blob([u],{type:"application/json"});return{url:URL.createObjectURL(d),size:u.length}}function gv(n){const[e,t]=n.split(","),i=/data:(.*?);base64/.exec(e)?.[1]||"application/octet-stream",o=atob(t),u=o.length,d=new Uint8Array(u);for(let g=0;g<u;g++)d[g]=o.charCodeAt(g);return new Blob([d],{type:i})}async function nF(n){const e=await n.text(),t=JSON.parse(e),i=t.jobs||[],o=t.notes||[],u=t.measurements||[],d=t.calcResults||[],g=t.chemProducts||[],m=t.outbox||[],B=(t.photos||[]).map(b=>{const F={...b};if(b.dataUrl&&!b.blob)try{F.blob=gv(b.dataUrl)}catch{}return delete F.dataUrl,F}),C=(t.chemLabels||[]).map(b=>{const F={...b};if(b.dataUrl&&!b.blob)try{F.blob=gv(b.dataUrl)}catch{}return delete F.dataUrl,F});return await pe.transaction("rw",pe.jobs,pe.notes,pe.measurements,pe.calcResults,pe.chemProducts,pe.chemLabels,pe.photos,pe.outbox,async()=>{await pe.jobs.bulkPut(i),await pe.notes.bulkPut(o),await pe.measurements.bulkPut(u),d.length&&await pe.calcResults.bulkPut(d),g.length&&await pe.chemProducts.bulkPut(g),C.length&&pe.chemLabels&&await pe.chemLabels.bulkPut(C),B.length&&await pe.photos.bulkPut(B),m.length&&await pe.outbox.bulkPut(m)}),{jobs:i.length,notes:o.length,measurements:u.length,photos:B.length,chemProducts:g.length,chemLabels:C.length}}function AF(){const[n,e]=S.useState({}),[t,i]=S.useState(!1),[o,u]=S.useState(!0),[d,g]=S.useState(!1),[m,B]=S.useState(null),[C,b]=S.useState([]),[F,j]=S.useState([]);return S.useEffect(()=>{(async()=>{const[N,G,O,R,J,M,$]=await Promise.all([pe.jobs.count(),pe.notes.count(),pe.photos.count(),pe.measurements.count(),pe.outbox.count(),pe.jobs.orderBy("createdAt").reverse().toArray(),vc()]);e({jobs:N,notes:G,photos:O,measurements:R,outbox:J}),b(M),j($)})()},[]),c.jsx("div",{className:"grid",children:c.jsxs("div",{children:[c.jsx("div",{className:"card",style:{marginBottom:8},children:c.jsx("h2",{children:"Offline"})}),c.jsx("div",{children:c.jsxs("div",{className:"accordion",children:[c.jsxs("section",{className:"accordion-item accent-green",children:[c.jsxs("button",{className:"accordion-button","aria-expanded":!0,"aria-controls":"panel-offline",id:"btn-offline",children:[c.jsx("span",{children:"Offline Data"}),c.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,children:c.jsx("path",{d:"M6 9l6 6 6-6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),c.jsx("div",{id:"panel-offline",role:"region","aria-labelledby":"btn-offline",className:"accordion-panel",children:c.jsxs("ul",{className:"list",children:[c.jsxs("li",{children:["Jobs: ",n.jobs??0]}),c.jsxs("li",{children:["Notes: ",n.notes??0]}),c.jsxs("li",{children:["Photos: ",n.photos??0]}),c.jsxs("li",{children:["Measurements: ",n.measurements??0]}),c.jsxs("li",{children:["Outbox: ",n.outbox??0]})]})})]}),c.jsxs("section",{className:"accordion-item accent-purple",children:[c.jsxs("button",{className:"accordion-button","aria-expanded":!0,"aria-controls":"panel-fishpdf",id:"btn-fishpdf",children:[c.jsx("span",{children:"Export Fish Runs (per run)"}),c.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,children:c.jsx("path",{d:"M6 9l6 6 6-6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),c.jsx("div",{id:"panel-fishpdf",role:"region","aria-labelledby":"btn-fishpdf",className:"accordion-panel",children:F.length===0?c.jsx("div",{className:"muted",children:"No fish runs yet"}):c.jsx("ul",{className:"list",children:F.map(P=>c.jsxs("li",{children:[c.jsx("span",{style:{marginRight:8},children:P.title||P.id}),c.jsx(ri,{className:"btn secondary",to:`/fish-run/${P.id}/summary`,title:"Open printable fish run summary; use browser Print to save as PDF",children:"Open PDF view"})]},P.id))})})]}),c.jsxs("section",{className:"accordion-item accent-purple",children:[c.jsxs("button",{className:"accordion-button","aria-expanded":!0,"aria-controls":"panel-pdf",id:"btn-pdf",children:[c.jsx("span",{children:"Export PDFs (per job)"}),c.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,children:c.jsx("path",{d:"M6 9l6 6 6-6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),c.jsx("div",{id:"panel-pdf",role:"region","aria-labelledby":"btn-pdf",className:"accordion-panel",children:C.length===0?c.jsx("div",{className:"muted",children:"No jobs yet"}):c.jsx("ul",{className:"list",children:C.map(P=>c.jsxs("li",{children:[c.jsx("span",{style:{marginRight:8},children:P.clientName||P.id}),c.jsx(ri,{className:"btn secondary",to:`/job/${P.id}/summary`,title:"Opens printable summary; use browser Print to save as PDF",children:"Open PDF view"})]},P.id))})})]}),c.jsxs("section",{className:"accordion-item accent-cyan",children:[c.jsxs("button",{className:"accordion-button","aria-expanded":!0,"aria-controls":"panel-export",id:"btn-export",children:[c.jsx("span",{children:"Export"}),c.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,children:c.jsx("path",{d:"M6 9l6 6 6-6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),c.jsx("div",{id:"panel-export",role:"region","aria-labelledby":"btn-export",className:"accordion-panel",children:c.jsxs("div",{className:"row",children:[c.jsxs("label",{className:"row",style:{gap:6},children:[c.jsx("input",{type:"checkbox",checked:o,onChange:P=>u(P.target.checked)})," Include media (photos, labels)"]}),c.jsx("button",{className:"btn",disabled:t,onClick:async()=>{i(!0);try{const{url:P}=await tF(o),N=document.createElement("a"),G=new Date().toISOString().replace(/[:.]/g,"-");N.href=P,N.download=`tpm-export-${G}.json`,document.body.appendChild(N),N.click(),N.remove()}finally{i(!1)}},children:t?"Preparing...":"Export data"})]})})]}),c.jsxs("section",{className:"accordion-item accent-amber",children:[c.jsxs("button",{className:"accordion-button","aria-expanded":!0,"aria-controls":"panel-import",id:"btn-import",children:[c.jsx("span",{children:"Import"}),c.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,children:c.jsx("path",{d:"M6 9l6 6 6-6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),c.jsxs("div",{id:"panel-import",role:"region","aria-labelledby":"btn-import",className:"accordion-panel",children:[c.jsx("p",{className:"muted",children:"Restore from a previously exported TPM JSON file. This merges data into your current offline database."}),c.jsxs("div",{className:"row",children:[c.jsx("input",{className:"input",type:"file",accept:"application/json",onChange:P=>B(P.target.files?.[0]||null)}),c.jsx("button",{className:"btn secondary",disabled:!m||d,onClick:async()=>{if(m){g(!0);try{await nF(m);const[P,N,G,O,R]=await Promise.all([pe.jobs.count(),pe.notes.count(),pe.photos.count(),pe.measurements.count(),pe.outbox.count()]);e({jobs:P,notes:N,photos:G,measurements:O,outbox:R}),alert("Import complete")}catch(P){alert("Import failed: "+(P?.message||P))}finally{g(!1)}}},children:d?"Importing...":"Import data"})]})]})]})]})})]})})}const rF="modulepreload",iF=function(n){return"/"+n},mv={},ql=function(e,t,i){let o=Promise.resolve();if(t&&t.length>0){let B=function(C){return Promise.all(C.map(b=>Promise.resolve(b).then(F=>({status:"fulfilled",value:F}),F=>({status:"rejected",reason:F}))))};var d=B;document.getElementsByTagName("link");const g=document.querySelector("meta[property=csp-nonce]"),m=g?.nonce||g?.getAttribute("nonce");o=B(t.map(C=>{if(C=iF(C),C in mv)return;mv[C]=!0;const b=C.endsWith(".css"),F=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${C}"]${F}`))return;const j=document.createElement("link");if(j.rel=b?"stylesheet":rF,b||(j.as="script"),j.crossOrigin="",j.href=C,m&&j.setAttribute("nonce",m),document.head.appendChild(j),b)return new Promise((P,N)=>{j.addEventListener("load",P),j.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${C}`)))})}))}function u(g){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=g,window.dispatchEvent(m),!m.defaultPrevented)throw g}return o.then(g=>{for(const m of g||[])m.status==="rejected"&&u(m.reason);return e().catch(u)})},sF=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>ql(async()=>{const{default:i}=await Promise.resolve().then(()=>Za);return{default:i}},void 0).then(({default:i})=>i(...t)):e=fetch,(...t)=>e(...t)};class op extends Error{constructor(e,t="FunctionsError",i){super(e),this.name=t,this.context=i}}class oF extends op{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class vv extends op{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class wv extends op{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Tf;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(Tf||(Tf={}));var aF=function(n,e,t,i){function o(u){return u instanceof t?u:new t(function(d){d(u)})}return new(t||(t=Promise))(function(u,d){function g(C){try{B(i.next(C))}catch(b){d(b)}}function m(C){try{B(i.throw(C))}catch(b){d(b)}}function B(C){C.done?u(C.value):o(C.value).then(g,m)}B((i=i.apply(n,e||[])).next())})};class lF{constructor(e,{headers:t={},customFetch:i,region:o=Tf.Any}={}){this.url=e,this.headers=t,this.region=o,this.fetch=sF(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var i;return aF(this,void 0,void 0,function*(){try{const{headers:o,method:u,body:d}=t;let g={},{region:m}=t;m||(m=this.region);const B=new URL(`${this.url}/${e}`);m&&m!=="any"&&(g["x-region"]=m,B.searchParams.set("forceFunctionRegion",m));let C;d&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",C=d):typeof d=="string"?(g["Content-Type"]="text/plain",C=d):typeof FormData<"u"&&d instanceof FormData?C=d:(g["Content-Type"]="application/json",C=JSON.stringify(d)));const b=yield this.fetch(B.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),o),body:C}).catch(N=>{throw new oF(N)}),F=b.headers.get("x-relay-error");if(F&&F==="true")throw new vv(b);if(!b.ok)throw new wv(b);let j=((i=b.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),P;return j==="application/json"?P=yield b.json():j==="application/octet-stream"?P=yield b.blob():j==="text/event-stream"?P=b:j==="multipart/form-data"?P=yield b.formData():P=yield b.text(),{data:P,error:null,response:b}}catch(o){return{data:null,error:o,response:o instanceof wv||o instanceof vv?o.context:void 0}}})}}var Wn={},Qa={},Ua={},Ea={},Fa={},Sa={},uF=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ga=uF();const cF=Ga.fetch,xy=Ga.fetch.bind(Ga),by=Ga.Headers,dF=Ga.Request,hF=Ga.Response,Za=Object.freeze(Object.defineProperty({__proto__:null,Headers:by,Request:dF,Response:hF,default:xy,fetch:cF},Symbol.toStringTag,{value:"Module"})),fF=FB(Za);var dc={},yv;function Qy(){if(yv)return dc;yv=1,Object.defineProperty(dc,"__esModule",{value:!0});class n extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return dc.default=n,dc}var Bv;function Uy(){if(Bv)return Sa;Bv=1;var n=Sa&&Sa.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Sa,"__esModule",{value:!0});const e=n(fF),t=n(Qy());class i{constructor(u){var d,g;this.shouldThrowOnError=!1,this.method=u.method,this.url=u.url,this.headers=new Headers(u.headers),this.schema=u.schema,this.body=u.body,this.shouldThrowOnError=(d=u.shouldThrowOnError)!==null&&d!==void 0?d:!1,this.signal=u.signal,this.isMaybeSingle=(g=u.isMaybeSingle)!==null&&g!==void 0?g:!1,u.fetch?this.fetch=u.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(u,d){return this.headers=new Headers(this.headers),this.headers.set(u,d),this}then(u,d){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const g=this.fetch;let m=g(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async B=>{var C,b,F,j;let P=null,N=null,G=null,O=B.status,R=B.statusText;if(B.ok){if(this.method!=="HEAD"){const q=await B.text();q===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((C=this.headers.get("Accept"))===null||C===void 0)&&C.includes("application/vnd.pgrst.plan+text"))?N=q:N=JSON.parse(q))}const M=(b=this.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),$=(F=B.headers.get("content-range"))===null||F===void 0?void 0:F.split("/");M&&$&&$.length>1&&(G=parseInt($[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(N)&&(N.length>1?(P={code:"PGRST116",details:`Results contain ${N.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},N=null,G=null,O=406,R="Not Acceptable"):N.length===1?N=N[0]:N=null)}else{const M=await B.text();try{P=JSON.parse(M),Array.isArray(P)&&B.status===404&&(N=[],P=null,O=200,R="OK")}catch{B.status===404&&M===""?(O=204,R="No Content"):P={message:M}}if(P&&this.isMaybeSingle&&(!((j=P?.details)===null||j===void 0)&&j.includes("0 rows"))&&(P=null,O=200,R="OK"),P&&this.shouldThrowOnError)throw new t.default(P)}return{error:P,data:N,count:G,status:O,statusText:R}});return this.shouldThrowOnError||(m=m.catch(B=>{var C,b,F;return{error:{message:`${(C=B?.name)!==null&&C!==void 0?C:"FetchError"}: ${B?.message}`,details:`${(b=B?.stack)!==null&&b!==void 0?b:""}`,hint:"",code:`${(F=B?.code)!==null&&F!==void 0?F:""}`},data:null,count:null,status:0,statusText:""}})),m.then(u,d)}returns(){return this}overrideTypes(){return this}}return Sa.default=i,Sa}var _v;function Ey(){if(_v)return Fa;_v=1;var n=Fa&&Fa.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Fa,"__esModule",{value:!0});const e=n(Uy());class t extends e.default{select(o){let u=!1;const d=(o??"*").split("").map(g=>/\s/.test(g)&&!u?"":(g==='"'&&(u=!u),g)).join("");return this.url.searchParams.set("select",d),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:u=!0,nullsFirst:d,foreignTable:g,referencedTable:m=g}={}){const B=m?`${m}.order`:"order",C=this.url.searchParams.get(B);return this.url.searchParams.set(B,`${C?`${C},`:""}${o}.${u?"asc":"desc"}${d===void 0?"":d?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:u,referencedTable:d=u}={}){const g=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(g,`${o}`),this}range(o,u,{foreignTable:d,referencedTable:g=d}={}){const m=typeof g>"u"?"offset":`${g}.offset`,B=typeof g>"u"?"limit":`${g}.limit`;return this.url.searchParams.set(m,`${o}`),this.url.searchParams.set(B,`${u-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:u=!1,settings:d=!1,buffers:g=!1,wal:m=!1,format:B="text"}={}){var C;const b=[o?"analyze":null,u?"verbose":null,d?"settings":null,g?"buffers":null,m?"wal":null].filter(Boolean).join("|"),F=(C=this.headers.get("Accept"))!==null&&C!==void 0?C:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${B}; for="${F}"; options=${b};`),B==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}}return Fa.default=t,Fa}var Cv;function ap(){if(Cv)return Ea;Cv=1;var n=Ea&&Ea.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ea,"__esModule",{value:!0});const e=n(Ey());class t extends e.default{eq(o,u){return this.url.searchParams.append(o,`eq.${u}`),this}neq(o,u){return this.url.searchParams.append(o,`neq.${u}`),this}gt(o,u){return this.url.searchParams.append(o,`gt.${u}`),this}gte(o,u){return this.url.searchParams.append(o,`gte.${u}`),this}lt(o,u){return this.url.searchParams.append(o,`lt.${u}`),this}lte(o,u){return this.url.searchParams.append(o,`lte.${u}`),this}like(o,u){return this.url.searchParams.append(o,`like.${u}`),this}likeAllOf(o,u){return this.url.searchParams.append(o,`like(all).{${u.join(",")}}`),this}likeAnyOf(o,u){return this.url.searchParams.append(o,`like(any).{${u.join(",")}}`),this}ilike(o,u){return this.url.searchParams.append(o,`ilike.${u}`),this}ilikeAllOf(o,u){return this.url.searchParams.append(o,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(o,u){return this.url.searchParams.append(o,`ilike(any).{${u.join(",")}}`),this}is(o,u){return this.url.searchParams.append(o,`is.${u}`),this}in(o,u){const d=Array.from(new Set(u)).map(g=>typeof g=="string"&&new RegExp("[,()]").test(g)?`"${g}"`:`${g}`).join(",");return this.url.searchParams.append(o,`in.(${d})`),this}contains(o,u){return typeof u=="string"?this.url.searchParams.append(o,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(o,`cs.{${u.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(u)}`),this}containedBy(o,u){return typeof u=="string"?this.url.searchParams.append(o,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(o,`cd.{${u.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(u)}`),this}rangeGt(o,u){return this.url.searchParams.append(o,`sr.${u}`),this}rangeGte(o,u){return this.url.searchParams.append(o,`nxl.${u}`),this}rangeLt(o,u){return this.url.searchParams.append(o,`sl.${u}`),this}rangeLte(o,u){return this.url.searchParams.append(o,`nxr.${u}`),this}rangeAdjacent(o,u){return this.url.searchParams.append(o,`adj.${u}`),this}overlaps(o,u){return typeof u=="string"?this.url.searchParams.append(o,`ov.${u}`):this.url.searchParams.append(o,`ov.{${u.join(",")}}`),this}textSearch(o,u,{config:d,type:g}={}){let m="";g==="plain"?m="pl":g==="phrase"?m="ph":g==="websearch"&&(m="w");const B=d===void 0?"":`(${d})`;return this.url.searchParams.append(o,`${m}fts${B}.${u}`),this}match(o){return Object.entries(o).forEach(([u,d])=>{this.url.searchParams.append(u,`eq.${d}`)}),this}not(o,u,d){return this.url.searchParams.append(o,`not.${u}.${d}`),this}or(o,{foreignTable:u,referencedTable:d=u}={}){const g=d?`${d}.or`:"or";return this.url.searchParams.append(g,`(${o})`),this}filter(o,u,d){return this.url.searchParams.append(o,`${u}.${d}`),this}}return Ea.default=t,Ea}var xv;function Fy(){if(xv)return Ua;xv=1;var n=Ua&&Ua.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ua,"__esModule",{value:!0});const e=n(ap());class t{constructor(o,{headers:u={},schema:d,fetch:g}){this.url=o,this.headers=new Headers(u),this.schema=d,this.fetch=g}select(o,{head:u=!1,count:d}={}){const g=u?"HEAD":"GET";let m=!1;const B=(o??"*").split("").map(C=>/\s/.test(C)&&!m?"":(C==='"'&&(m=!m),C)).join("");return this.url.searchParams.set("select",B),d&&this.headers.append("Prefer",`count=${d}`),new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:u,defaultToNull:d=!0}={}){var g;const m="POST";if(u&&this.headers.append("Prefer",`count=${u}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const B=o.reduce((C,b)=>C.concat(Object.keys(b)),[]);if(B.length>0){const C=[...new Set(B)].map(b=>`"${b}"`);this.url.searchParams.set("columns",C.join(","))}}return new e.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}upsert(o,{onConflict:u,ignoreDuplicates:d=!1,count:g,defaultToNull:m=!0}={}){var B;const C="POST";if(this.headers.append("Prefer",`resolution=${d?"ignore":"merge"}-duplicates`),u!==void 0&&this.url.searchParams.set("on_conflict",u),g&&this.headers.append("Prefer",`count=${g}`),m||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const b=o.reduce((F,j)=>F.concat(Object.keys(j)),[]);if(b.length>0){const F=[...new Set(b)].map(j=>`"${j}"`);this.url.searchParams.set("columns",F.join(","))}}return new e.default({method:C,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(B=this.fetch)!==null&&B!==void 0?B:fetch})}update(o,{count:u}={}){var d;const g="PATCH";return u&&this.headers.append("Prefer",`count=${u}`),new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}delete({count:o}={}){var u;const d="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return Ua.default=t,Ua}var bv;function pF(){if(bv)return Qa;bv=1;var n=Qa&&Qa.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Qa,"__esModule",{value:!0});const e=n(Fy()),t=n(ap());class i{constructor(u,{headers:d={},schema:g,fetch:m}={}){this.url=u,this.headers=new Headers(d),this.schemaName=g,this.fetch=m}from(u){const d=new URL(`${this.url}/${u}`);return new e.default(d,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(u){return new i(this.url,{headers:this.headers,schema:u,fetch:this.fetch})}rpc(u,d={},{head:g=!1,get:m=!1,count:B}={}){var C;let b;const F=new URL(`${this.url}/rpc/${u}`);let j;g||m?(b=g?"HEAD":"GET",Object.entries(d).filter(([N,G])=>G!==void 0).map(([N,G])=>[N,Array.isArray(G)?`{${G.join(",")}}`:`${G}`]).forEach(([N,G])=>{F.searchParams.append(N,G)})):(b="POST",j=d);const P=new Headers(this.headers);return B&&P.set("Prefer",`count=${B}`),new t.default({method:b,url:F,headers:P,schema:this.schemaName,body:j,fetch:(C=this.fetch)!==null&&C!==void 0?C:fetch})}}return Qa.default=i,Qa}var Qv;function gF(){if(Qv)return Wn;Qv=1;var n=Wn&&Wn.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(Wn,"__esModule",{value:!0}),Wn.PostgrestError=Wn.PostgrestBuilder=Wn.PostgrestTransformBuilder=Wn.PostgrestFilterBuilder=Wn.PostgrestQueryBuilder=Wn.PostgrestClient=void 0;const e=n(pF());Wn.PostgrestClient=e.default;const t=n(Fy());Wn.PostgrestQueryBuilder=t.default;const i=n(ap());Wn.PostgrestFilterBuilder=i.default;const o=n(Ey());Wn.PostgrestTransformBuilder=o.default;const u=n(Uy());Wn.PostgrestBuilder=u.default;const d=n(Qy());return Wn.PostgrestError=d.default,Wn.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:u.default,PostgrestError:d.default},Wn}var mF=gF();const vF=Vl(mF),{PostgrestClient:wF,PostgrestQueryBuilder:d1,PostgrestFilterBuilder:h1,PostgrestTransformBuilder:f1,PostgrestBuilder:p1,PostgrestError:g1}=vF;class yF{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const t=process.versions;if(t&&t.node){const i=t.node,o=parseInt(i.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const i=this.getWebSocketConstructor();return new i(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const BF="2.15.5",_F=`realtime-js/${BF}`,CF="1.0.0",Pf=1e4,xF=1e3,bF=100;var Pl;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(Pl||(Pl={}));var kn;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(kn||(kn={}));var Ai;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(Ai||(Ai={}));var Nf;(function(n){n.websocket="websocket"})(Nf||(Nf={}));var Oo;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(Oo||(Oo={}));class QF{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),i=new TextDecoder;return this._decodeBroadcast(e,t,i)}_decodeBroadcast(e,t,i){const o=t.getUint8(1),u=t.getUint8(2);let d=this.HEADER_LENGTH+2;const g=i.decode(e.slice(d,d+o));d=d+o;const m=i.decode(e.slice(d,d+u));d=d+u;const B=JSON.parse(i.decode(e.slice(d,e.byteLength)));return{ref:null,topic:g,event:m,payload:B}}}class Sy{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var zt;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(zt||(zt={}));const Uv=(n,e,t={})=>{var i;const o=(i=t.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(e).reduce((u,d)=>(u[d]=UF(d,n,e,o),u),{})},UF=(n,e,t,i)=>{const o=e.find(g=>g.name===n),u=o?.type,d=t[n];return u&&!i.includes(u)?Iy(u,d):jf(d)},Iy=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return IF(e,t)}switch(n){case zt.bool:return EF(e);case zt.float4:case zt.float8:case zt.int2:case zt.int4:case zt.int8:case zt.numeric:case zt.oid:return FF(e);case zt.json:case zt.jsonb:return SF(e);case zt.timestamp:return LF(e);case zt.abstime:case zt.date:case zt.daterange:case zt.int4range:case zt.int8range:case zt.money:case zt.reltime:case zt.text:case zt.time:case zt.timestamptz:case zt.timetz:case zt.tsrange:case zt.tstzrange:return jf(e);default:return jf(e)}},jf=n=>n,EF=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},FF=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},SF=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},IF=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,i=n[t];if(n[0]==="{"&&i==="}"){let u;const d=n.slice(1,t);try{u=JSON.parse("["+d+"]")}catch{u=d?d.split(","):[]}return u.map(g=>Iy(e,g))}return n},LF=n=>typeof n=="string"?n.replace(" ","T"):n,Ly=n=>{let e=n;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Kh{constructor(e,t,i={},o=Pf){this.channel=e,this.event=t,this.payload=i,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var i;return this._hasReceived(e)&&t((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Ev;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(Ev||(Ev={}));class Nl{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},o=>{const{onJoin:u,onLeave:d,onSync:g}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Nl.syncState(this.state,o,u,d),this.pendingDiffs.forEach(m=>{this.state=Nl.syncDiff(this.state,m,u,d)}),this.pendingDiffs=[],g()}),this.channel._on(i.diff,{},o=>{const{onJoin:u,onLeave:d,onSync:g}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Nl.syncDiff(this.state,o,u,d),g())}),this.onJoin((o,u,d)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:u,newPresences:d})}),this.onLeave((o,u,d)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:u,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,i,o){const u=this.cloneDeep(e),d=this.transformState(t),g={},m={};return this.map(u,(B,C)=>{d[B]||(m[B]=C)}),this.map(d,(B,C)=>{const b=u[B];if(b){const F=C.map(G=>G.presence_ref),j=b.map(G=>G.presence_ref),P=C.filter(G=>j.indexOf(G.presence_ref)<0),N=b.filter(G=>F.indexOf(G.presence_ref)<0);P.length>0&&(g[B]=P),N.length>0&&(m[B]=N)}else g[B]=C}),this.syncDiff(u,{joins:g,leaves:m},i,o)}static syncDiff(e,t,i,o){const{joins:u,leaves:d}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return i||(i=()=>{}),o||(o=()=>{}),this.map(u,(g,m)=>{var B;const C=(B=e[g])!==null&&B!==void 0?B:[];if(e[g]=this.cloneDeep(m),C.length>0){const b=e[g].map(j=>j.presence_ref),F=C.filter(j=>b.indexOf(j.presence_ref)<0);e[g].unshift(...F)}i(g,C,m)}),this.map(d,(g,m)=>{let B=e[g];if(!B)return;const C=m.map(b=>b.presence_ref);B=B.filter(b=>C.indexOf(b.presence_ref)<0),e[g]=B,o(g,B,m),B.length===0&&delete e[g]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(i=>t(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,i)=>{const o=e[i];return"metas"in o?t[i]=o.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):t[i]=o,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Fv;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(Fv||(Fv={}));var jl;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(jl||(jl={}));var hs;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(hs||(hs={}));class lp{constructor(e,t={config:{}},i){this.topic=e,this.params=t,this.socket=i,this.bindings={},this.state=kn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Kh(this,Ai.join,this.params,this.timeout),this.rejoinTimer=new Sy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=kn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=kn.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=kn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=kn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=kn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ai.reply,{},(o,u)=>{this._trigger(this._replyEventName(u),o)}),this.presence=new Nl(this),this.broadcastEndpointURL=Ly(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var i,o,u;if(this.socket.isConnected()||this.socket.connect(),this.state==kn.closed){const{config:{broadcast:d,presence:g,private:m}}=this.params,B=(o=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(j=>j.filter))!==null&&o!==void 0?o:[],C=!!this.bindings[jl.PRESENCE]&&this.bindings[jl.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,b={},F={broadcast:d,presence:Object.assign(Object.assign({},g),{enabled:C}),postgres_changes:B,private:m};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(j=>e?.(hs.CHANNEL_ERROR,j)),this._onClose(()=>e?.(hs.CLOSED)),this.updateJoinPayload(Object.assign({config:F},b)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:j})=>{var P;if(this.socket.setAuth(),j===void 0){e?.(hs.SUBSCRIBED);return}else{const N=this.bindings.postgres_changes,G=(P=N?.length)!==null&&P!==void 0?P:0,O=[];for(let R=0;R<G;R++){const J=N[R],{filter:{event:M,schema:$,table:q,filter:xe}}=J,X=j&&j[R];if(X&&X.event===M&&X.schema===$&&X.table===q&&X.filter===xe)O.push(Object.assign(Object.assign({},J),{id:X.id}));else{this.unsubscribe(),this.state=kn.errored,e?.(hs.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=O,e&&e(hs.SUBSCRIBED);return}}).receive("error",j=>{this.state=kn.errored,e?.(hs.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(j).join(", ")||"error")))}).receive("timeout",()=>{e?.(hs.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,i){return this.state===kn.joined&&e===jl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,i)}async send(e,t={}){var i,o;if(!this._canPush()&&e.type==="broadcast"){const{event:u,payload:d}=e,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:d,private:this.private}]})};try{const B=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(i=t.timeout)!==null&&i!==void 0?i:this.timeout);return await((o=B.body)===null||o===void 0?void 0:o.cancel()),B.ok?"ok":"error"}catch(B){return B.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var d,g,m;const B=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((m=(g=(d=this.params)===null||d===void 0?void 0:d.config)===null||g===void 0?void 0:g.broadcast)===null||m===void 0)&&m.ack)&&u("ok"),B.receive("ok",()=>u("ok")),B.receive("error",()=>u("error")),B.receive("timeout",()=>u("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=kn.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ai.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(o=>{i=new Kh(this,Ai.leave,{},e),i.receive("ok",()=>{t(),o("ok")}).receive("timeout",()=>{t(),o("timed out")}).receive("error",()=>{o("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=kn.closed,this.bindings={}}async _fetchWithTimeout(e,t,i){const o=new AbortController,u=setTimeout(()=>o.abort(),i),d=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:o.signal}));return clearTimeout(u),d}_push(e,t,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Kh(this,e,t,i);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>bF){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,i){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,i){var o,u;const d=e.toLocaleLowerCase(),{close:g,error:m,leave:B,join:C}=Ai;if(i&&[g,m,B,C].indexOf(d)>=0&&i!==this._joinRef())return;let F=this._onMessage(d,t,i);if(t&&!F)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(j=>{var P,N,G;return((P=j.filter)===null||P===void 0?void 0:P.event)==="*"||((G=(N=j.filter)===null||N===void 0?void 0:N.event)===null||G===void 0?void 0:G.toLocaleLowerCase())===d}).map(j=>j.callback(F,i)):(u=this.bindings[d])===null||u===void 0||u.filter(j=>{var P,N,G,O,R,J;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in j){const M=j.id,$=(P=j.filter)===null||P===void 0?void 0:P.event;return M&&((N=t.ids)===null||N===void 0?void 0:N.includes(M))&&($==="*"||$?.toLocaleLowerCase()===((G=t.data)===null||G===void 0?void 0:G.type.toLocaleLowerCase()))}else{const M=(R=(O=j?.filter)===null||O===void 0?void 0:O.event)===null||R===void 0?void 0:R.toLocaleLowerCase();return M==="*"||M===((J=t?.event)===null||J===void 0?void 0:J.toLocaleLowerCase())}else return j.type.toLocaleLowerCase()===d}).map(j=>{if(typeof F=="object"&&"ids"in F){const P=F.data,{schema:N,table:G,commit_timestamp:O,type:R,errors:J}=P;F=Object.assign(Object.assign({},{schema:N,table:G,commit_timestamp:O,eventType:R,new:{},old:{},errors:J}),this._getPayloadRecords(P))}j.callback(F,i)})}_isClosed(){return this.state===kn.closed}_isJoined(){return this.state===kn.joined}_isJoining(){return this.state===kn.joining}_isLeaving(){return this.state===kn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,i){const o=e.toLocaleLowerCase(),u={type:o,filter:t,callback:i};return this.bindings[o]?this.bindings[o].push(u):this.bindings[o]=[u],this}_off(e,t){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(o=>{var u;return!(((u=o.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===i&&lp.isEqual(o.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const i in e)if(e[i]!==t[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ai.close,{},e)}_onError(e){this._on(Ai.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=kn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=Uv(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=Uv(e.columns,e.old_record)),t}}const Vh=()=>{},hc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},kF=[1e3,2e3,5e3,1e4],TF=1e4,PF=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class NF{constructor(e,t){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Pf,this.transport=null,this.heartbeatIntervalMs=hc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Vh,this.ref=0,this.reconnectTimer=null,this.logger=Vh,this.conn=null,this.sendBuffer=[],this.serializer=new QF,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let u;return o?u=o:typeof fetch>"u"?u=(...d)=>ql(async()=>{const{default:g}=await Promise.resolve().then(()=>Za);return{default:g}},void 0).then(({default:g})=>g(...d)).catch(g=>{throw new Error(`Failed to load @supabase/node-fetch: ${g.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):u=fetch,(...d)=>u(...d)},!(!((i=t?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${Nf.websocket}`,this.httpEndpoint=Ly(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=yF.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:CF}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},e?this.conn.close(e,t??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,i){this.logger(e,t,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Pl.connecting:return Oo.Connecting;case Pl.open:return Oo.Open;case Pl.closing:return Oo.Closing;default:return Oo.Closed}}isConnected(){return this.connectionState()===Oo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const i=`realtime:${e}`,o=this.getChannels().find(u=>u.topic===i);if(o)return o;{const u=new lp(`realtime:${e}`,t,this);return this.channels.push(u),u}}push(e){const{topic:t,event:i,payload:o,ref:u}=e,d=()=>{this.encode(e,g=>{var m;(m=this.conn)===null||m===void 0||m.send(g)})};this.log("push",`${t} ${i} (${u})`,o),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(xF,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},hc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply")try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error")}catch(B){this.log("error","error in heartbeat callback",B)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:o,payload:u,ref:d}=t,g=d?`(${d})`:"",m=u.status||"";this.log("receive",`${m} ${i} ${o} ${g}`.trim(),u),this.channels.filter(B=>B._isMember(i)).forEach(B=>B._trigger(o,u,d)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ai.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const i=e.match(/\?/)?"&":"?",o=new URLSearchParams(t);return`${e}${i}${o}`}_workerObjectUrl(e){let t;if(e)t=e;else{const i=new Blob([PF],{type:"application/javascript"});t=URL.createObjectURL(i)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t;e?t=e:this.accessToken?t=await this.accessToken():t=this.accessTokenValue,this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(i=>{const o={access_token:t,version:_F};t&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(Ai.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(t)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new Sy(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},hc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,i,o,u,d,g,m,B,C;if(this.transport=(t=e?.transport)!==null&&t!==void 0?t:null,this.timeout=(i=e?.timeout)!==null&&i!==void 0?i:Pf,this.heartbeatIntervalMs=(o=e?.heartbeatIntervalMs)!==null&&o!==void 0?o:hc.HEARTBEAT_INTERVAL,this.worker=(u=e?.worker)!==null&&u!==void 0?u:!1,this.accessToken=(d=e?.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(g=e?.heartbeatCallback)!==null&&g!==void 0?g:Vh,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=e?.reconnectAfterMs)!==null&&m!==void 0?m:(b=>kF[b-1]||TF),this.encode=(B=e?.encode)!==null&&B!==void 0?B:((b,F)=>F(JSON.stringify(b))),this.decode=(C=e?.decode)!==null&&C!==void 0?C:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class up extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Tn(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class jF extends up{constructor(e,t,i){super(e),this.name="StorageApiError",this.status=t,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Hf extends up{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var HF=function(n,e,t,i){function o(u){return u instanceof t?u:new t(function(d){d(u)})}return new(t||(t=Promise))(function(u,d){function g(C){try{B(i.next(C))}catch(b){d(b)}}function m(C){try{B(i.throw(C))}catch(b){d(b)}}function B(C){C.done?u(C.value):o(C.value).then(g,m)}B((i=i.apply(n,e||[])).next())})};const ky=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>ql(async()=>{const{default:i}=await Promise.resolve().then(()=>Za);return{default:i}},void 0).then(({default:i})=>i(...t)):e=fetch,(...t)=>e(...t)},OF=()=>HF(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ql(()=>Promise.resolve().then(()=>Za),void 0)).Response:Response}),Of=n=>{if(Array.isArray(n))return n.map(t=>Of(t));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([t,i])=>{const o=t.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));e[o]=Of(i)}),e},DF=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)};var Ko=function(n,e,t,i){function o(u){return u instanceof t?u:new t(function(d){d(u)})}return new(t||(t=Promise))(function(u,d){function g(C){try{B(i.next(C))}catch(b){d(b)}}function m(C){try{B(i.throw(C))}catch(b){d(b)}}function B(C){C.done?u(C.value):o(C.value).then(g,m)}B((i=i.apply(n,e||[])).next())})};const Gh=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),RF=(n,e,t)=>Ko(void 0,void 0,void 0,function*(){const i=yield OF();n instanceof i&&!t?.noResolveJson?n.json().then(o=>{const u=n.status||500,d=o?.statusCode||u+"";e(new jF(Gh(o),u,d))}).catch(o=>{e(new Hf(Gh(o),o))}):e(new Hf(Gh(n),n))}),MF=(n,e,t,i)=>{const o={method:n,headers:e?.headers||{}};return n==="GET"||!i?o:(DF(i)?(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(i)):o.body=i,e?.duplex&&(o.duplex=e.duplex),Object.assign(Object.assign({},o),t))};function Xl(n,e,t,i,o,u){return Ko(this,void 0,void 0,function*(){return new Promise((d,g)=>{n(t,MF(e,i,o,u)).then(m=>{if(!m.ok)throw m;return i?.noResolveJson?m:m.json()}).then(m=>d(m)).catch(m=>RF(m,g,i))})})}function Rc(n,e,t,i){return Ko(this,void 0,void 0,function*(){return Xl(n,"GET",e,t,i)})}function Fi(n,e,t,i,o){return Ko(this,void 0,void 0,function*(){return Xl(n,"POST",e,i,o,t)})}function Df(n,e,t,i,o){return Ko(this,void 0,void 0,function*(){return Xl(n,"PUT",e,i,o,t)})}function KF(n,e,t,i){return Ko(this,void 0,void 0,function*(){return Xl(n,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),i)})}function Ty(n,e,t,i,o){return Ko(this,void 0,void 0,function*(){return Xl(n,"DELETE",e,i,o,t)})}var CA=function(n,e,t,i){function o(u){return u instanceof t?u:new t(function(d){d(u)})}return new(t||(t=Promise))(function(u,d){function g(C){try{B(i.next(C))}catch(b){d(b)}}function m(C){try{B(i.throw(C))}catch(b){d(b)}}function B(C){C.done?u(C.value):o(C.value).then(g,m)}B((i=i.apply(n,e||[])).next())})};const VF={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Sv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class GF{constructor(e,t={},i,o){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=i,this.fetch=ky(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,i,o){return CA(this,void 0,void 0,function*(){try{let u;const d=Object.assign(Object.assign({},Sv),o);let g=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(d.upsert)});const m=d.metadata;typeof Blob<"u"&&i instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),m&&u.append("metadata",this.encodeMetadata(m)),u.append("",i)):typeof FormData<"u"&&i instanceof FormData?(u=i,u.append("cacheControl",d.cacheControl),m&&u.append("metadata",this.encodeMetadata(m))):(u=i,g["cache-control"]=`max-age=${d.cacheControl}`,g["content-type"]=d.contentType,m&&(g["x-metadata"]=this.toBase64(this.encodeMetadata(m)))),o?.headers&&(g=Object.assign(Object.assign({},g),o.headers));const B=this._removeEmptyFolders(t),C=this._getFinalPath(B),b=yield(e=="PUT"?Df:Fi)(this.fetch,`${this.url}/object/${C}`,u,Object.assign({headers:g},d?.duplex?{duplex:d.duplex}:{}));return{data:{path:B,id:b.Id,fullPath:b.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Tn(u))return{data:null,error:u};throw u}})}upload(e,t,i){return CA(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,i)})}uploadToSignedUrl(e,t,i,o){return CA(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(e),d=this._getFinalPath(u),g=new URL(this.url+`/object/upload/sign/${d}`);g.searchParams.set("token",t);try{let m;const B=Object.assign({upsert:Sv.upsert},o),C=Object.assign(Object.assign({},this.headers),{"x-upsert":String(B.upsert)});typeof Blob<"u"&&i instanceof Blob?(m=new FormData,m.append("cacheControl",B.cacheControl),m.append("",i)):typeof FormData<"u"&&i instanceof FormData?(m=i,m.append("cacheControl",B.cacheControl)):(m=i,C["cache-control"]=`max-age=${B.cacheControl}`,C["content-type"]=B.contentType);const b=yield Df(this.fetch,g.toString(),m,{headers:C});return{data:{path:u,fullPath:b.Key},error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(Tn(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(e,t){return CA(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const o=Object.assign({},this.headers);t?.upsert&&(o["x-upsert"]="true");const u=yield Fi(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:o}),d=new URL(this.url+u.url),g=d.searchParams.get("token");if(!g)throw new up("No token returned by API");return{data:{signedUrl:d.toString(),path:e,token:g},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Tn(i))return{data:null,error:i};throw i}})}update(e,t,i){return CA(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,i)})}move(e,t,i){return CA(this,void 0,void 0,function*(){try{return{data:yield Fi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:i?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Tn(o))return{data:null,error:o};throw o}})}copy(e,t,i){return CA(this,void 0,void 0,function*(){try{return{data:{path:(yield Fi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:i?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Tn(o))return{data:null,error:o};throw o}})}createSignedUrl(e,t,i){return CA(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),u=yield Fi(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:t},i?.transform?{transform:i.transform}:{}),{headers:this.headers});const d=i?.download?`&download=${i.download===!0?"":i.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${d}`)},{data:u,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Tn(o))return{data:null,error:o};throw o}})}createSignedUrls(e,t,i){return CA(this,void 0,void 0,function*(){try{const o=yield Fi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),u=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:o.map(d=>Object.assign(Object.assign({},d),{signedUrl:d.signedURL?encodeURI(`${this.url}${d.signedURL}${u}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Tn(o))return{data:null,error:o};throw o}})}download(e,t){return CA(this,void 0,void 0,function*(){const o=typeof t?.transform<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString(t?.transform||{}),d=u?`?${u}`:"";try{const g=this._getFinalPath(e);return{data:yield(yield Rc(this.fetch,`${this.url}/${o}/${g}${d}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(g){if(this.shouldThrowOnError)throw g;if(Tn(g))return{data:null,error:g};throw g}})}info(e){return CA(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const i=yield Rc(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Of(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Tn(i))return{data:null,error:i};throw i}})}exists(e){return CA(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield KF(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Tn(i)&&i instanceof Hf){const o=i.originalError;if([400,404].includes(o?.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,t){const i=this._getFinalPath(e),o=[],u=t?.download?`download=${t.download===!0?"":t.download}`:"";u!==""&&o.push(u);const g=typeof t?.transform<"u"?"render/image":"object",m=this.transformOptsToQueryString(t?.transform||{});m!==""&&o.push(m);let B=o.join("&");return B!==""&&(B=`?${B}`),{data:{publicUrl:encodeURI(`${this.url}/${g}/public/${i}${B}`)}}}remove(e){return CA(this,void 0,void 0,function*(){try{return{data:yield Ty(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Tn(t))return{data:null,error:t};throw t}})}list(e,t,i){return CA(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},VF),t),{prefix:e||""});return{data:yield Fi(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},i),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Tn(o))return{data:null,error:o};throw o}})}listV2(e,t){return CA(this,void 0,void 0,function*(){try{const i=Object.assign({},e);return{data:yield Fi(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},t),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Tn(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const zF="2.12.1",WF={"X-Client-Info":`storage-js/${zF}`};var Ia=function(n,e,t,i){function o(u){return u instanceof t?u:new t(function(d){d(u)})}return new(t||(t=Promise))(function(u,d){function g(C){try{B(i.next(C))}catch(b){d(b)}}function m(C){try{B(i.throw(C))}catch(b){d(b)}}function B(C){C.done?u(C.value):o(C.value).then(g,m)}B((i=i.apply(n,e||[])).next())})};class $F{constructor(e,t={},i,o){this.shouldThrowOnError=!1;const u=new URL(e);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href,this.headers=Object.assign(Object.assign({},WF),t),this.fetch=ky(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Ia(this,void 0,void 0,function*(){try{return{data:yield Rc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Tn(e))return{data:null,error:e};throw e}})}getBucket(e){return Ia(this,void 0,void 0,function*(){try{return{data:yield Rc(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Tn(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return Ia(this,void 0,void 0,function*(){try{return{data:yield Fi(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Tn(i))return{data:null,error:i};throw i}})}updateBucket(e,t){return Ia(this,void 0,void 0,function*(){try{return{data:yield Df(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Tn(i))return{data:null,error:i};throw i}})}emptyBucket(e){return Ia(this,void 0,void 0,function*(){try{return{data:yield Fi(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Tn(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Ia(this,void 0,void 0,function*(){try{return{data:yield Ty(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Tn(t))return{data:null,error:t};throw t}})}}class ZF extends $F{constructor(e,t={},i,o){super(e,t,i,o)}from(e){return new GF(this.url,this.headers,e,this.fetch)}}const JF="2.57.4";let Fl="";typeof Deno<"u"?Fl="deno":typeof document<"u"?Fl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Fl="react-native":Fl="node";const qF={"X-Client-Info":`supabase-js-${Fl}/${JF}`},XF={headers:qF},YF={schema:"public"},eS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},tS={};var nS=function(n,e,t,i){function o(u){return u instanceof t?u:new t(function(d){d(u)})}return new(t||(t=Promise))(function(u,d){function g(C){try{B(i.next(C))}catch(b){d(b)}}function m(C){try{B(i.throw(C))}catch(b){d(b)}}function B(C){C.done?u(C.value):o(C.value).then(g,m)}B((i=i.apply(n,e||[])).next())})};const AS=n=>{let e;return n?e=n:typeof fetch>"u"?e=xy:e=fetch,(...t)=>e(...t)},rS=()=>typeof Headers>"u"?by:Headers,iS=(n,e,t)=>{const i=AS(t),o=rS();return(u,d)=>nS(void 0,void 0,void 0,function*(){var g;const m=(g=yield e())!==null&&g!==void 0?g:n;let B=new o(d?.headers);return B.has("apikey")||B.set("apikey",n),B.has("Authorization")||B.set("Authorization",`Bearer ${m}`),i(u,Object.assign(Object.assign({},d),{headers:B}))})};var sS=function(n,e,t,i){function o(u){return u instanceof t?u:new t(function(d){d(u)})}return new(t||(t=Promise))(function(u,d){function g(C){try{B(i.next(C))}catch(b){d(b)}}function m(C){try{B(i.throw(C))}catch(b){d(b)}}function B(C){C.done?u(C.value):o(C.value).then(g,m)}B((i=i.apply(n,e||[])).next())})};function oS(n){return n.endsWith("/")?n:n+"/"}function aS(n,e){var t,i;const{db:o,auth:u,realtime:d,global:g}=n,{db:m,auth:B,realtime:C,global:b}=e,F={db:Object.assign(Object.assign({},m),o),auth:Object.assign(Object.assign({},B),u),realtime:Object.assign(Object.assign({},C),d),storage:{},global:Object.assign(Object.assign(Object.assign({},b),g),{headers:Object.assign(Object.assign({},(t=b?.headers)!==null&&t!==void 0?t:{}),(i=g?.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>sS(this,void 0,void 0,function*(){return""})};return n.accessToken?F.accessToken=n.accessToken:delete F.accessToken,F}function lS(n){const e=n?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(oS(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Py="2.71.1",Oa=30*1e3,Rf=3,zh=Rf*Oa,uS="http://localhost:9999",cS="supabase.auth.token",dS={"X-Client-Info":`gotrue-js/${Py}`},Mf="X-Supabase-Api-Version",Ny={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},hS=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,fS=600*1e3;class cp extends Error{constructor(e,t,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=i}}function yt(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class pS extends cp{constructor(e,t,i){super(e,t,i),this.name="AuthApiError",this.status=t,this.code=i}}function gS(n){return yt(n)&&n.name==="AuthApiError"}class jy extends cp{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class so extends cp{constructor(e,t,i,o){super(e,i,o),this.name=t,this.status=i}}class Ws extends so{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function mS(n){return yt(n)&&n.name==="AuthSessionMissingError"}class fc extends so{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class pc extends so{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class gc extends so{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function vS(n){return yt(n)&&n.name==="AuthImplicitGrantRedirectError"}class Iv extends so{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Kf extends so{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Wh(n){return yt(n)&&n.name==="AuthRetryableFetchError"}class Lv extends so{constructor(e,t,i){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=i}}class Vf extends so{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Mc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),kv=` 	
\r=`.split(""),wS=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<kv.length;e+=1)n[kv[e].charCodeAt(0)]=-2;for(let e=0;e<Mc.length;e+=1)n[Mc[e].charCodeAt(0)]=e;return n})();function Tv(n,e,t){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;t(Mc[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;t(Mc[i]),e.queuedBits-=6}}function Hy(n,e,t){const i=wS[n];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function Pv(n){const e=[],t=d=>{e.push(String.fromCodePoint(d))},i={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},u=d=>{_S(d,i,t)};for(let d=0;d<n.length;d+=1)Hy(n.charCodeAt(d),o,u);return e.join("")}function yS(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function BS(n,e){for(let t=0;t<n.length;t+=1){let i=n.charCodeAt(t);if(i>55295&&i<=56319){const o=(i-55296)*1024&65535;i=(n.charCodeAt(t+1)-56320&65535|o)+65536,t+=1}yS(i,e)}}function _S(n,e,t){if(e.utf8seq===0){if(n<=127){t(n);return}for(let i=1;i<6;i+=1)if((n>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function CS(n){const e=[],t={queue:0,queuedBits:0},i=o=>{e.push(o)};for(let o=0;o<n.length;o+=1)Hy(n.charCodeAt(o),t,i);return new Uint8Array(e)}function xS(n){const e=[];return BS(n,t=>e.push(t)),new Uint8Array(e)}function bS(n){const e=[],t={queue:0,queuedBits:0},i=o=>{e.push(o)};return n.forEach(o=>Tv(o,t,i)),Tv(null,t,i),e.join("")}function QS(n){return Math.round(Date.now()/1e3)+n}function US(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}const ni=()=>typeof window<"u"&&typeof document<"u",Po={tested:!1,writable:!1},Oy=()=>{if(!ni())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Po.tested)return Po.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Po.tested=!0,Po.writable=!0}catch{Po.tested=!0,Po.writable=!1}return Po.writable};function ES(n){const e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((o,u)=>{e[u]=o})}catch{}return t.searchParams.forEach((i,o)=>{e[o]=i}),e}const Dy=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>ql(async()=>{const{default:i}=await Promise.resolve().then(()=>Za);return{default:i}},void 0).then(({default:i})=>i(...t)):e=fetch,(...t)=>e(...t)},FS=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Da=async(n,e,t)=>{await n.setItem(e,JSON.stringify(t))},No=async(n,e)=>{const t=await n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},Vs=async(n,e)=>{await n.removeItem(e)};class Ad{constructor(){this.promise=new Ad.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Ad.promiseConstructor=Promise;function $h(n){const e=n.split(".");if(e.length!==3)throw new Vf("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!hS.test(e[i]))throw new Vf("JWT not in base64url format");return{header:JSON.parse(Pv(e[0])),payload:JSON.parse(Pv(e[1])),signature:CS(e[2]),raw:{header:e[0],payload:e[1]}}}async function SS(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function IS(n,e){return new Promise((i,o)=>{(async()=>{for(let u=0;u<1/0;u++)try{const d=await n(u);if(!e(u,null,d)){i(d);return}}catch(d){if(!e(u,d)){o(d);return}}})()})}function LS(n){return("0"+n.toString(16)).substr(-2)}function kS(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=t.length;let o="";for(let u=0;u<56;u++)o+=t.charAt(Math.floor(Math.random()*i));return o}return crypto.getRandomValues(e),Array.from(e,LS).join("")}async function TS(n){const t=new TextEncoder().encode(n),i=await crypto.subtle.digest("SHA-256",t),o=new Uint8Array(i);return Array.from(o).map(u=>String.fromCharCode(u)).join("")}async function PS(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const t=await TS(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function La(n,e,t=!1){const i=kS();let o=i;t&&(o+="/PASSWORD_RECOVERY"),await Da(n,`${e}-code-verifier`,o);const u=await PS(i);return[u,i===u?"plain":"s256"]}const NS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function jS(n){const e=n.headers.get(Mf);if(!e||!e.match(NS))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function HS(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function OS(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const DS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ka(n){if(!DS.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Zh(){const n={};return new Proxy(n,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const i=t.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Nv(n){return JSON.parse(JSON.stringify(n))}var RS=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t};const jo=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),MS=[502,503,504];async function jv(n){var e;if(!FS(n))throw new Kf(jo(n),0);if(MS.includes(n.status))throw new Kf(jo(n),n.status);let t;try{t=await n.json()}catch(u){throw new jy(jo(u),u)}let i;const o=jS(n);if(o&&o.getTime()>=Ny["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?i=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(i=t.error_code),i){if(i==="weak_password")throw new Lv(jo(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new Ws}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((u,d)=>u&&typeof d=="string",!0))throw new Lv(jo(t),n.status,t.weak_password.reasons);throw new pS(jo(t),n.status||500,i)}const KS=(n,e,t,i)=>{const o={method:n,headers:e?.headers||{}};return n==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),o.body=JSON.stringify(i),Object.assign(Object.assign({},o),t))};async function Ut(n,e,t,i){var o;const u=Object.assign({},i?.headers);u[Mf]||(u[Mf]=Ny["2024-01-01"].name),i?.jwt&&(u.Authorization=`Bearer ${i.jwt}`);const d=(o=i?.query)!==null&&o!==void 0?o:{};i?.redirectTo&&(d.redirect_to=i.redirectTo);const g=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",m=await VS(n,e,t+g,{headers:u,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(m):{data:Object.assign({},m),error:null}}async function VS(n,e,t,i,o,u){const d=KS(e,i,o,u);let g;try{g=await n(t,Object.assign({},d))}catch(m){throw console.error(m),new Kf(jo(m),0)}if(g.ok||await jv(g),i?.noResolveJson)return g;try{return await g.json()}catch(m){await jv(m)}}function ds(n){var e;let t=null;$S(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=QS(n.expires_in)));const i=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:i},error:null}}function Hv(n){const e=ds(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,i)=>t&&typeof i=="string",!0)&&(e.data.weak_password=n.weak_password),e}function Zs(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function GS(n){return{data:n,error:null}}function zS(n){const{action_link:e,email_otp:t,hashed_token:i,redirect_to:o,verification_type:u}=n,d=RS(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),g={action_link:e,email_otp:t,hashed_token:i,redirect_to:o,verification_type:u},m=Object.assign({},d);return{data:{properties:g,user:m},error:null}}function WS(n){return n}function $S(n){return n.access_token&&n.refresh_token&&n.expires_in}const Jh=["global","local","others"];var ZS=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t};class JS{constructor({url:e="",headers:t={},fetch:i}){this.url=e,this.headers=t,this.fetch=Dy(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t=Jh[0]){if(Jh.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Jh.join(", ")}`);try{return await Ut(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(yt(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,t={}){try{return await Ut(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Zs})}catch(i){if(yt(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:t}=e,i=ZS(e,["options"]),o=Object.assign(Object.assign({},i),t);return"newEmail"in i&&(o.new_email=i?.newEmail,delete o.newEmail),await Ut(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:zS,redirectTo:t?.redirectTo})}catch(t){if(yt(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Ut(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Zs})}catch(t){if(yt(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,i,o,u,d,g,m;try{const B={nextPage:null,lastPage:0,total:0},C=await Ut(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&i!==void 0?i:"",per_page:(u=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:""},xform:WS});if(C.error)throw C.error;const b=await C.json(),F=(d=C.headers.get("x-total-count"))!==null&&d!==void 0?d:0,j=(m=(g=C.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&m!==void 0?m:[];return j.length>0&&(j.forEach(P=>{const N=parseInt(P.split(";")[0].split("=")[1].substring(0,1)),G=JSON.parse(P.split(";")[1].split("=")[1]);B[`${G}Page`]=N}),B.total=parseInt(F)),{data:Object.assign(Object.assign({},b),B),error:null}}catch(B){if(yt(B))return{data:{users:[]},error:B};throw B}}async getUserById(e){ka(e);try{return await Ut(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Zs})}catch(t){if(yt(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){ka(e);try{return await Ut(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Zs})}catch(i){if(yt(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,t=!1){ka(e);try{return await Ut(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Zs})}catch(i){if(yt(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){ka(e.userId);try{const{data:t,error:i}=await Ut(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:t,error:i}}catch(t){if(yt(t))return{data:null,error:t};throw t}}async _deleteFactor(e){ka(e.userId),ka(e.id);try{return{data:await Ut(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(yt(t))return{data:null,error:t};throw t}}}function Ov(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}function qS(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ta={debug:!!(globalThis&&Oy()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ry extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class XS extends Ry{}async function YS(n,e,t){Ta.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),Ta.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async o=>{if(o){Ta.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,o.name);try{return await t()}finally{Ta.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,o.name)}}else{if(e===0)throw Ta.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new XS(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Ta.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}qS();const eI={url:uS,storageKey:cS,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:dS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Dv(n,e,t){return await t()}const Pa={};class Kl{constructor(e){var t,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Kl.nextInstanceID,Kl.nextInstanceID+=1,this.instanceID>0&&ni()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},eI),e);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new JS({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Dy(o.fetch),this.lock=o.lock||Dv,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:ni()&&(!((t=globalThis?.navigator)===null||t===void 0)&&t.locks)?this.lock=YS:this.lock=Dv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:Oy()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ov(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Ov(this.memoryStorage)),ni()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}get jwks(){var e,t;return(t=(e=Pa[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){Pa[this.storageKey]=Object.assign(Object.assign({},Pa[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=Pa[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Pa[this.storageKey]=Object.assign(Object.assign({},Pa[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Py}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=ES(window.location.href);let i="none";if(this._isImplicitGrantCallback(t)?i="implicit":await this._isPKCECallback(t)&&(i="pkce"),ni()&&this.detectSessionInUrl&&i!=="none"){const{data:o,error:u}=await this._getSessionFromURL(t,i);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),vS(u)){const m=(e=u.details)===null||e===void 0?void 0:e.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:d,redirectType:g}=o;return this._debug("#_initialize()","detected session in URL",d,"redirect type",g),await this._saveSession(d),setTimeout(async()=>{g==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return yt(t)?{error:t}:{error:new jy("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,i,o;try{const u=await Ut(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(t=e?.options)===null||t===void 0?void 0:t.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=e?.options)===null||o===void 0?void 0:o.captchaToken}},xform:ds}),{data:d,error:g}=u;if(g||!d)return{data:{user:null,session:null},error:g};const m=d.session,B=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:B,session:m},error:null}}catch(u){if(yt(u))return{data:{user:null,session:null},error:u};throw u}}async signUp(e){var t,i,o;try{let u;if("email"in e){const{email:C,password:b,options:F}=e;let j=null,P=null;this.flowType==="pkce"&&([j,P]=await La(this.storage,this.storageKey)),u=await Ut(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:F?.emailRedirectTo,body:{email:C,password:b,data:(t=F?.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:F?.captchaToken},code_challenge:j,code_challenge_method:P},xform:ds})}else if("phone"in e){const{phone:C,password:b,options:F}=e;u=await Ut(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:C,password:b,data:(i=F?.data)!==null&&i!==void 0?i:{},channel:(o=F?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:F?.captchaToken}},xform:ds})}else throw new pc("You must provide either an email or phone number and a password");const{data:d,error:g}=u;if(g||!d)return{data:{user:null,session:null},error:g};const m=d.session,B=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:B,session:m},error:null}}catch(u){if(yt(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithPassword(e){try{let t;if("email"in e){const{email:u,password:d,options:g}=e;t=await Ut(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:d,gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:Hv})}else if("phone"in e){const{phone:u,password:d,options:g}=e;t=await Ut(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:d,gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:Hv})}else throw new pc("You must provide either an email or phone number and a password");const{data:i,error:o}=t;return o?{data:{user:null,session:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new fc}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(t){if(yt(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,i,o,u;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(u=e.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;if(t==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}async signInWithSolana(e){var t,i,o,u,d,g,m,B,C,b,F,j;let P,N;if("message"in e)P=e.message,N=e.signature;else{const{chain:G,wallet:O,statement:R,options:J}=e;let M;if(ni())if(typeof O=="object")M=O;else{const q=window;if("solana"in q&&typeof q.solana=="object"&&("signIn"in q.solana&&typeof q.solana.signIn=="function"||"signMessage"in q.solana&&typeof q.solana.signMessage=="function"))M=q.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!J?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=O}const $=new URL((t=J?.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in M&&M.signIn){const q=await M.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},J?.signInWithSolana),{version:"1",domain:$.host,uri:$.href}),R?{statement:R}:null));let xe;if(Array.isArray(q)&&q[0]&&typeof q[0]=="object")xe=q[0];else if(q&&typeof q=="object"&&"signedMessage"in q&&"signature"in q)xe=q;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in xe&&"signature"in xe&&(typeof xe.signedMessage=="string"||xe.signedMessage instanceof Uint8Array)&&xe.signature instanceof Uint8Array)P=typeof xe.signedMessage=="string"?xe.signedMessage:new TextDecoder().decode(xe.signedMessage),N=xe.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in M)||typeof M.signMessage!="function"||!("publicKey"in M)||typeof M!="object"||!M.publicKey||!("toBase58"in M.publicKey)||typeof M.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");P=[`${$.host} wants you to sign in with your Solana account:`,M.publicKey.toBase58(),...R?["",R,""]:[""],"Version: 1",`URI: ${$.href}`,`Issued At: ${(o=(i=J?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((u=J?.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${J.signInWithSolana.notBefore}`]:[],...!((d=J?.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${J.signInWithSolana.expirationTime}`]:[],...!((g=J?.signInWithSolana)===null||g===void 0)&&g.chainId?[`Chain ID: ${J.signInWithSolana.chainId}`]:[],...!((m=J?.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${J.signInWithSolana.nonce}`]:[],...!((B=J?.signInWithSolana)===null||B===void 0)&&B.requestId?[`Request ID: ${J.signInWithSolana.requestId}`]:[],...!((b=(C=J?.signInWithSolana)===null||C===void 0?void 0:C.resources)===null||b===void 0)&&b.length?["Resources",...J.signInWithSolana.resources.map(xe=>`- ${xe}`)]:[]].join(`
`);const q=await M.signMessage(new TextEncoder().encode(P),"utf8");if(!q||!(q instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");N=q}}try{const{data:G,error:O}=await Ut(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:P,signature:bS(N)},!((F=e.options)===null||F===void 0)&&F.captchaToken?{gotrue_meta_security:{captcha_token:(j=e.options)===null||j===void 0?void 0:j.captchaToken}}:null),xform:ds});if(O)throw O;return!G||!G.session||!G.user?{data:{user:null,session:null},error:new fc}:(G.session&&(await this._saveSession(G.session),await this._notifyAllSubscribers("SIGNED_IN",G.session)),{data:Object.assign({},G),error:O})}catch(G){if(yt(G))return{data:{user:null,session:null},error:G};throw G}}async _exchangeCodeForSession(e){const t=await No(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(t??"").split("/");try{const{data:u,error:d}=await Ut(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:ds});if(await Vs(this.storage,`${this.storageKey}-code-verifier`),d)throw d;return!u||!u.session||!u.user?{data:{user:null,session:null,redirectType:null},error:new fc}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:Object.assign(Object.assign({},u),{redirectType:o??null}),error:d})}catch(u){if(yt(u))return{data:{user:null,session:null,redirectType:null},error:u};throw u}}async signInWithIdToken(e){try{const{options:t,provider:i,token:o,access_token:u,nonce:d}=e,g=await Ut(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:u,nonce:d,gotrue_meta_security:{captcha_token:t?.captchaToken}},xform:ds}),{data:m,error:B}=g;return B?{data:{user:null,session:null},error:B}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new fc}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:m,error:B})}catch(t){if(yt(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,i,o,u,d;try{if("email"in e){const{email:g,options:m}=e;let B=null,C=null;this.flowType==="pkce"&&([B,C]=await La(this.storage,this.storageKey));const{error:b}=await Ut(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:g,data:(t=m?.data)!==null&&t!==void 0?t:{},create_user:(i=m?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:B,code_challenge_method:C},redirectTo:m?.emailRedirectTo});return{data:{user:null,session:null},error:b}}if("phone"in e){const{phone:g,options:m}=e,{data:B,error:C}=await Ut(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:g,data:(o=m?.data)!==null&&o!==void 0?o:{},create_user:(u=m?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},channel:(d=m?.channel)!==null&&d!==void 0?d:"sms"}});return{data:{user:null,session:null,messageId:B?.message_id},error:C}}throw new pc("You must provide either an email or phone number.")}catch(g){if(yt(g))return{data:{user:null,session:null},error:g};throw g}}async verifyOtp(e){var t,i;try{let o,u;"options"in e&&(o=(t=e.options)===null||t===void 0?void 0:t.redirectTo,u=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:d,error:g}=await Ut(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:u}}),redirectTo:o,xform:ds});if(g)throw g;if(!d)throw new Error("An error occurred on token verification.");const m=d.session,B=d.user;return m?.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),{data:{user:B,session:m},error:null}}catch(o){if(yt(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(e){var t,i,o;try{let u=null,d=null;return this.flowType==="pkce"&&([u,d]=await La(this.storage,this.storageKey)),await Ut(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=e?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:d}),headers:this.headers,xform:GS})}catch(u){if(yt(u))return{data:null,error:u};throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:i}=e;if(i)throw i;if(!t)throw new Ws;const{error:o}=await Ut(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:o}})}catch(e){if(yt(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:i,type:o,options:u}=e,{error:d}=await Ut(this.fetch,"POST",t,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return{data:{user:null,session:null},error:d}}else if("phone"in e){const{phone:i,type:o,options:u}=e,{data:d,error:g}=await Ut(this.fetch,"POST",t,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return{data:{user:null,session:null,messageId:d?.message_id},error:g}}throw new pc("You must provide either an email or phone number and a type")}catch(t){if(yt(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await i,await t()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=t();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await No(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<zh:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const d=await No(this.userStorage,this.storageKey+"-user");d?.user?e.user=d.user:e.user=Zh()}if(this.storage.isServer&&e.user){let d=this.suppressGetSessionWarning;e=new Proxy(e,{get:(m,B,C)=>(!d&&B==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),d=!0,this.suppressGetSessionWarning=!0),Reflect.get(m,B,C))})}return{data:{session:e},error:null}}const{session:o,error:u}=await this._callRefreshToken(e.refresh_token);return u?{data:{session:null},error:u}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ut(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Zs}):await this._useSession(async t=>{var i,o,u;const{data:d,error:g}=t;if(g)throw g;return!(!((i=d.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ws}:await Ut(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(o=d.session)===null||o===void 0?void 0:o.access_token)!==null&&u!==void 0?u:void 0,xform:Zs})})}catch(t){if(yt(t))return mS(t)&&(await this._removeSession(),await Vs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async i=>{const{data:o,error:u}=i;if(u)throw u;if(!o.session)throw new Ws;const d=o.session;let g=null,m=null;this.flowType==="pkce"&&e.email!=null&&([g,m]=await La(this.storage,this.storageKey));const{data:B,error:C}=await Ut(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:g,code_challenge_method:m}),jwt:d.access_token,xform:Zs});if(C)throw C;return d.user=B.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),{data:{user:d.user},error:null}})}catch(i){if(yt(i))return{data:{user:null},error:i};throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ws;const t=Date.now()/1e3;let i=t,o=!0,u=null;const{payload:d}=$h(e.access_token);if(d.exp&&(i=d.exp,o=i<=t),o){const{session:g,error:m}=await this._callRefreshToken(e.refresh_token);if(m)return{data:{user:null,session:null},error:m};if(!g)return{data:{user:null,session:null},error:null};u=g}else{const{data:g,error:m}=await this._getUser(e.access_token);if(m)throw m;u={access_token:e.access_token,refresh_token:e.refresh_token,user:g.user,token_type:"bearer",expires_in:i-t,expires_at:i},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return{data:{user:u.user,session:u},error:null}}catch(t){if(yt(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var i;if(!e){const{data:d,error:g}=t;if(g)throw g;e=(i=d.session)!==null&&i!==void 0?i:void 0}if(!e?.refresh_token)throw new Ws;const{session:o,error:u}=await this._callRefreshToken(e.refresh_token);return u?{data:{user:null,session:null},error:u}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(yt(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!ni())throw new gc("No browser detected.");if(e.error||e.error_description||e.error_code)throw new gc(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new Iv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new gc("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Iv("No code detected.");const{data:R,error:J}=await this._exchangeCodeForSession(e.code);if(J)throw J;const M=new URL(window.location.href);return M.searchParams.delete("code"),window.history.replaceState(window.history.state,"",M.toString()),{data:{session:R.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:o,access_token:u,refresh_token:d,expires_in:g,expires_at:m,token_type:B}=e;if(!u||!g||!d||!B)throw new gc("No session defined in URL");const C=Math.round(Date.now()/1e3),b=parseInt(g);let F=C+b;m&&(F=parseInt(m));const j=F-C;j*1e3<=Oa&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${j}s, should have been closer to ${b}s`);const P=F-b;C-P>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",P,F,C):C-P<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",P,F,C);const{data:N,error:G}=await this._getUser(u);if(G)throw G;const O={provider_token:i,provider_refresh_token:o,access_token:u,expires_in:b,expires_at:F,refresh_token:d,token_type:B,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:O,redirectType:e.type},error:null}}catch(i){if(yt(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await No(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var i;const{data:o,error:u}=t;if(u)return{error:u};const d=(i=o.session)===null||i===void 0?void 0:i.access_token;if(d){const{error:g}=await this.admin.signOut(d,e);if(g&&!(gS(g)&&(g.status===404||g.status===401||g.status===403)))return{error:g}}return e!=="others"&&(await this._removeSession(),await Vs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=US(),i={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async t=>{var i,o;try{const{data:{session:u},error:d}=t;if(d)throw d;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",e,"session",u)}catch(u){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",u),console.error(u)}})}async resetPasswordForEmail(e,t={}){let i=null,o=null;this.flowType==="pkce"&&([i,o]=await La(this.storage,this.storageKey,!0));try{return await Ut(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(u){if(yt(u))return{data:null,error:u};throw u}}async getUserIdentities(){var e;try{const{data:t,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(yt(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:i,error:o}=await this._useSession(async u=>{var d,g,m,B,C;const{data:b,error:F}=u;if(F)throw F;const j=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(d=e.options)===null||d===void 0?void 0:d.redirectTo,scopes:(g=e.options)===null||g===void 0?void 0:g.scopes,queryParams:(m=e.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await Ut(this.fetch,"GET",j,{headers:this.headers,jwt:(C=(B=b.session)===null||B===void 0?void 0:B.access_token)!==null&&C!==void 0?C:void 0})});if(o)throw o;return ni()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:e.provider,url:i?.url},error:null}}catch(i){if(yt(i))return{data:{provider:e.provider,url:null},error:i};throw i}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var i,o;const{data:u,error:d}=t;if(d)throw d;return await Ut(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(i=u.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})})}catch(t){if(yt(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const i=Date.now();return await IS(async o=>(o>0&&await SS(200*Math.pow(2,o-1)),this._debug(t,"refreshing attempt",o),await Ut(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ds})),(o,u)=>{const d=200*Math.pow(2,o);return u&&Wh(u)&&Date.now()+d-i<Oa})}catch(i){if(this._debug(t,"error",i),yt(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",i),ni()&&!t.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,t;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const o=await No(this.storage,this.storageKey);if(o&&this.userStorage){let d=await No(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:o.user},await Da(this.userStorage,this.storageKey+"-user",d)),o.user=(e=d?.user)!==null&&e!==void 0?e:Zh()}else if(o&&!o.user&&!o.user){const d=await No(this.storage,this.storageKey+"-user");d&&d?.user?(o.user=d.user,await Vs(this.storage,this.storageKey+"-user"),await Da(this.storage,this.storageKey,o)):o.user=Zh()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&await this._removeSession();return}const u=((t=o.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<zh;if(this._debug(i,`session has${u?"":" not"} expired with margin of ${zh}s`),u){if(this.autoRefreshToken&&o.refresh_token){const{error:d}=await this._callRefreshToken(o.refresh_token);d&&(console.error(d),Wh(d)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:g}=await this._getUser(o.access_token);!g&&d?.user?(o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(i,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var t,i;if(!e)throw new Ws;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Ad;const{data:u,error:d}=await this._refreshAccessToken(e);if(d)throw d;if(!u.session)throw new Ws;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const g={session:u.session,error:null};return this.refreshingDeferred.resolve(g),g}catch(u){if(this._debug(o,"error",u),yt(u)){const d={session:null,error:u};return Wh(u)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(d),d}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(u),u}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,t,i=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",t,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:t});const u=[],d=Array.from(this.stateChangeEmitters.values()).map(async g=>{try{await g.callback(e,t)}catch(m){u.push(m)}});if(await Promise.all(d),u.length>0){for(let g=0;g<u.length;g+=1)console.error(u[g]);throw u[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),i=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&t.user&&await Da(this.userStorage,this.storageKey+"-user",{user:t.user});const o=Object.assign({},t);delete o.user;const u=Nv(o);await Da(this.storage,this.storageKey,u)}else{const o=Nv(t);await Da(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await Vs(this.storage,this.storageKey),await Vs(this.storage,this.storageKey+"-code-verifier"),await Vs(this.storage,this.storageKey+"-user"),this.userStorage&&await Vs(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ni()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Oa);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:i}}=t;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((i.expires_at*1e3-e)/Oa);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Oa}ms, refresh threshold is ${Rf} ticks`),o<=Rf&&await this._callRefreshToken(i.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Ry)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ni()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,i){const o=[`provider=${encodeURIComponent(t)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[u,d]=await La(this.storage,this.storageKey),g=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(d)}`});o.push(g.toString())}if(i?.queryParams){const u=new URLSearchParams(i.queryParams);o.push(u.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var i;const{data:o,error:u}=t;return u?{data:null,error:u}:await Ut(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})})}catch(t){if(yt(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var i,o;const{data:u,error:d}=t;if(d)return{data:null,error:d};const g=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:m,error:B}=await Ut(this.fetch,"POST",`${this.url}/factors`,{body:g,headers:this.headers,jwt:(i=u?.session)===null||i===void 0?void 0:i.access_token});return B?{data:null,error:B}:(e.factorType==="totp"&&(!((o=m?.totp)===null||o===void 0)&&o.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),{data:m,error:null})})}catch(t){if(yt(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var i;const{data:o,error:u}=t;if(u)return{data:null,error:u};const{data:d,error:g}=await Ut(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return g?{data:null,error:g}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),{data:d,error:g})})}catch(t){if(yt(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var i;const{data:o,error:u}=t;return u?{data:null,error:u}:await Ut(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})})}catch(t){if(yt(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:i}=await this._challenge({factorId:e.factorId});return i?{data:null,error:i}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const i=e?.factors||[],o=i.filter(d=>d.factor_type==="totp"&&d.status==="verified"),u=i.filter(d=>d.factor_type==="phone"&&d.status==="verified");return{data:{all:i,totp:o,phone:u},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,i;const{data:{session:o},error:u}=e;if(u)return{data:null,error:u};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=$h(o.access_token);let g=null;d.aal&&(g=d.aal);let m=g;((i=(t=o.user.factors)===null||t===void 0?void 0:t.filter(b=>b.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(m="aal2");const C=d.amr||[];return{data:{currentLevel:g,nextLevel:m,currentAuthenticationMethods:C},error:null}}))}async fetchJwk(e,t={keys:[]}){let i=t.keys.find(g=>g.kid===e);if(i)return i;const o=Date.now();if(i=this.jwks.keys.find(g=>g.kid===e),i&&this.jwks_cached_at+fS>o)return i;const{data:u,error:d}=await Ut(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=o,i=u.keys.find(g=>g.kid===e),!i)?null:i}async getClaims(e,t={}){try{let i=e;if(!i){const{data:j,error:P}=await this.getSession();if(P||!j.session)return{data:null,error:P};i=j.session.access_token}const{header:o,payload:u,signature:d,raw:{header:g,payload:m}}=$h(i);t?.allowExpired||HS(u.exp);const B=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,t?.keys?{keys:t.keys}:t?.jwks);if(!B){const{error:j}=await this.getUser(i);if(j)throw j;return{data:{claims:u,header:o,signature:d},error:null}}const C=OS(o.alg),b=await crypto.subtle.importKey("jwk",B,C,!0,["verify"]);if(!await crypto.subtle.verify(C,b,d,xS(`${g}.${m}`)))throw new Vf("Invalid JWT signature");return{data:{claims:u,header:o,signature:d},error:null}}catch(i){if(yt(i))return{data:null,error:i};throw i}}}Kl.nextInstanceID=0;const tI=Kl;class nI extends tI{constructor(e){super(e)}}var AI=function(n,e,t,i){function o(u){return u instanceof t?u:new t(function(d){d(u)})}return new(t||(t=Promise))(function(u,d){function g(C){try{B(i.next(C))}catch(b){d(b)}}function m(C){try{B(i.throw(C))}catch(b){d(b)}}function B(C){C.done?u(C.value):o(C.value).then(g,m)}B((i=i.apply(n,e||[])).next())})};class rI{constructor(e,t,i){var o,u,d;this.supabaseUrl=e,this.supabaseKey=t;const g=lS(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",g),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",g),this.storageUrl=new URL("storage/v1",g),this.functionsUrl=new URL("functions/v1",g);const m=`sb-${g.hostname.split(".")[0]}-auth-token`,B={db:YF,realtime:tS,auth:Object.assign(Object.assign({},eS),{storageKey:m}),global:XF},C=aS(i??{},B);this.storageKey=(o=C.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(u=C.global.headers)!==null&&u!==void 0?u:{},C.accessToken?(this.accessToken=C.accessToken,this.auth=new Proxy({},{get:(b,F)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(F)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((d=C.auth)!==null&&d!==void 0?d:{},this.headers,C.global.fetch),this.fetch=iS(t,this._getAccessToken.bind(this),C.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},C.realtime)),this.rest=new wF(new URL("rest/v1",g).href,{headers:this.headers,schema:C.db.schema,fetch:this.fetch}),this.storage=new ZF(this.storageUrl.href,this.headers,this.fetch,i?.storage),C.accessToken||this._listenForAuthEvents()}get functions(){return new lF(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},i={}){return this.rest.rpc(e,t,i)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return AI(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(t=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:i,storage:o,userStorage:u,storageKey:d,flowType:g,lock:m,debug:B},C,b){const F={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new nI({url:this.authUrl.href,headers:Object.assign(Object.assign({},F),C),storageKey:d,autoRefreshToken:e,persistSession:t,detectSessionInUrl:i,storage:o,userStorage:u,flowType:g,lock:m,debug:B,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(j=>j.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new NF(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,i)=>{this._handleTokenChanged(t,"CLIENT",i?.access_token)})}_handleTokenChanged(e,t,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const iI=(n,e,t)=>new rI(n,e,t);function sI(){if(typeof window<"u"||typeof process>"u")return!1;const n=process.version;if(n==null)return!1;const e=n.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}sI()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const oI="https://iqogzlheqbzljwddjplu.supabase.co",My="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imlxb2d6bGhlcWJ6bGp3ZGRqcGx1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTc0NzY1MjAsImV4cCI6MjA3MzA1MjUyMH0.NQhDBhJvv-a5pECEe00P-ZdmcCVXlHv9n8nKe_O4gmY",Ky=!!My,eo=Ky?iI(oI,My,{auth:{persistSession:!0}}):null,Rv="photos";async function Gf(){if(!Ky)return{pushed:0,pulled:0};const n=await pe.outbox.toArray();let e=0;for(const i of n)try{i.type==="job"?await aI(i.payload):i.type==="note"?await lI(i.payload):i.type==="measurement"?await uI(i.payload):i.type==="photo"&&await cI(i.payload),await pe.outbox.delete(i.id),e+=1}catch(o){console.warn("Sync push failed for",i.type,i.id,o)}const t=await hI();return{pushed:e,pulled:t}}async function Mv(){return pe.outbox.count()}async function aI(n){const{error:e}=await eo.from("jobs").upsert(n,{onConflict:"id"});if(e)throw e}async function lI(n){const{error:e}=await eo.from("notes").upsert(n,{onConflict:"id"});if(e)throw e}async function uI(n){const{error:e}=await eo.from("measurements").upsert(n,{onConflict:"id"});if(e)throw e}async function cI(n){const e={id:n.id,jobId:n.jobId,caption:n.caption??"",createdAt:n.createdAt,serverUri:n.serverUri??null};{const{error:t}=await eo.from("photos").upsert(e,{onConflict:"id"});if(t)throw t}if(n.blob&&!n.serverUri){const t=dI(n.blob.type),i=`${n.jobId}/${n.id}${t}`,{error:o}=await eo.storage.from(Rv).upload(i,n.blob,{upsert:!0,contentType:n.blob.type||"image/jpeg"});if(o&&!String(o.message||"").includes("The resource already exists"))throw o;const{data:u}=eo.storage.from(Rv).getPublicUrl(i),d=u.publicUrl,{error:g}=await eo.from("photos").update({serverUri:d}).eq("id",n.id);if(g)throw g;await pe.photos.update(n.id,{serverUri:d})}}function dI(n){return n?n.includes("png")?".png":n.includes("webp")?".webp":(n.includes("jpeg")||n.includes("jpg"),".jpg"):".jpg"}async function hI(){let n=0;try{const e=[{name:"jobs",upsert:t=>pe.jobs.bulkPut(t)},{name:"notes",upsert:t=>pe.notes.bulkPut(t)},{name:"measurements",upsert:t=>pe.measurements.bulkPut(t)},{name:"photos",upsert:async t=>{for(const i of t){const o=await pe.photos.get(i.id);await pe.photos.put({...o||{},...i})}}}];for(const t of e){const{data:i,error:o}=await eo.from(t.name).select("*").limit(500);if(o)throw o;i&&i.length&&(await t.upsert(i),n+=i.length)}}catch(e){console.warn("Pull failed",e)}return n}function fI(){const[n,e]=S.useState(navigator.onLine),[t,i]=S.useState(0),[o,u]=S.useState(!1);S.useEffect(()=>{const C=async()=>i(await Mv());C();const b=()=>{e(!0),C()},F=()=>e(!1);window.addEventListener("online",b),window.addEventListener("offline",F);const j=setInterval(C,3e3);return()=>{window.removeEventListener("online",b),window.removeEventListener("offline",F),clearInterval(j)}},[]);const d=n?o?`Syncing (${t})`:`Online (${t})`:"Offline",g=n?o?"var(--warn)":"var(--brand-50)":"#fee2e2",m=n?"var(--brand-600)":"#991b1b";async function B(){u(!0);try{await Gf(),i(await Mv())}finally{u(!1)}}return c.jsxs("span",{className:"badge",style:{background:g,color:m},children:[d,n&&t>0&&c.jsx("button",{className:"btn secondary",onClick:B,style:{padding:"2px 8px",fontSize:12},children:"Sync now"})]})}function pI({jobId:n}){const[e,t]=S.useState({});S.useEffect(()=>{(async()=>{const[u,d,g,m,B,C,b]=await Promise.all([pe.jobs.get(n),pe.notes.where("jobId").equals(n).toArray(),pe.photos.where("jobId").equals(n).toArray(),pe.measurements.where("jobId").equals(n).toArray(),pe.waterQuality.where("jobId").equals(n).toArray(),pe.audioNotes.where("jobId").equals(n).toArray(),pe.depthPoints?.where("jobId").equals(n).toArray()??Promise.resolve([])]);t({job:u,notes:d,photos:g,measurements:m,waterQuality:B,audioNotes:C,depthPoints:b})})()},[n]);function i(){window.print()}return c.jsxs("div",{className:"grid",children:[c.jsx("div",{className:"row",children:c.jsx("button",{className:"btn",onClick:i,children:"Print / Save as PDF"})}),c.jsxs("div",{id:"printable-map",children:[c.jsxs("section",{className:"card",children:[c.jsx("h3",{children:"Job"}),c.jsxs("div",{children:[e.job?.clientName," ",e.job?.siteName?" - "+e.job.siteName:""]}),c.jsxs("div",{className:"muted",children:[e.job?.createdAt&&c.jsxs("span",{children:["Created ",new Date(e.job.createdAt).toLocaleString()]}),e.job?.createdBy&&c.jsxs("span",{style:{marginLeft:12},children:["by ",e.job.createdBy]}),typeof e.job?.lat=="number"&&typeof e.job?.lon=="number"&&c.jsxs("span",{style:{marginLeft:12},children:["(lat ",e.job.lat.toFixed(5),", lon ",e.job.lon.toFixed(5),")"]})]})]}),c.jsxs("section",{className:"card",children:[c.jsx("h3",{children:"Notes"}),e.notes?.length?c.jsx("ul",{className:"list",children:e.notes.map(o=>c.jsx("li",{children:o.text},o.id))}):c.jsx("div",{className:"muted",children:"No notes"})]}),c.jsxs("section",{className:"card",children:[c.jsx("h3",{children:"Audio Notes"}),e.audioNotes?.length?c.jsx("ul",{className:"list",children:e.audioNotes.map(o=>c.jsx("li",{children:c.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:4},children:[c.jsx("small",{className:"muted",children:new Date(o.createdAt).toLocaleString()}),o.transcript?c.jsxs("div",{children:[c.jsx("strong",{children:"Transcript:"})," ",o.transcript]}):c.jsx("div",{className:"muted",children:"(No transcript)"})]})},o.id))}):c.jsx("div",{className:"muted",children:"No audio notes"})]}),c.jsxs("section",{className:"card",children:[c.jsx("h3",{children:"Measurements"}),e.measurements?.length?c.jsx("ul",{className:"list",children:e.measurements.map(o=>c.jsxs("li",{children:[o.kind,": ",o.value," ",o.unit]},o.id))}):c.jsx("div",{className:"muted",children:"No measurements"})]}),c.jsxs("section",{className:"card",children:[c.jsx("h3",{children:"Water Quality"}),e.waterQuality?.length?c.jsx("ul",{className:"list",children:e.waterQuality.map(o=>c.jsxs("li",{children:[o.kind,": ",o.value," ",o.unit,o.depthFt?` @ ${o.depthFt} ft`:""]},o.id))}):c.jsx("div",{className:"muted",children:"No entries"})]}),c.jsxs("section",{className:"card",children:[c.jsx("h3",{children:"Depth Points"}),e.depthPoints?.length?c.jsx("ul",{className:"list",children:e.depthPoints.map(o=>c.jsxs("li",{children:[o.depthFt," ft at (",o.lat.toFixed(5),", ",o.lon.toFixed(5),")"]},o.id))}):c.jsx("div",{className:"muted",children:"No depth points"})]}),c.jsxs("section",{className:"card",children:[c.jsx("h3",{children:"Photos"}),e.photos?.length?c.jsx("div",{className:"row",children:e.photos.map(o=>c.jsx("img",{className:"rounded",src:o.serverUri||(o.blob?URL.createObjectURL(o.blob):o.localUri),alt:"photo",style:{width:120,height:120,objectFit:"cover"}},o.id))}):c.jsx("div",{className:"muted",children:"No photos"})]})]})]})}function gI(){const n=Gl(),{jobId:e=""}=qf();return c.jsxs("div",{className:"grid",children:[c.jsx("div",{className:"row",children:e?c.jsx(ri,{to:`/job/${e}`,className:"btn secondary",children:"Back to Job"}):c.jsx("button",{className:"btn secondary",onClick:()=>n(-1),children:"Back"})}),c.jsxs("section",{className:"card",children:[c.jsx("h2",{children:"Job Summary"}),c.jsx(pI,{jobId:e})]})]})}function mI(){const[n,e]=S.useState(""),[t,i]=S.useState(!1),[o,u]=S.useState(!1);S.useEffect(()=>{e(localStorage.getItem("defaultEmployee")||""),i(document.documentElement.classList.contains("theme-dark")),u(document.documentElement.classList.contains("field-mode"))},[]);function d(){localStorage.setItem("defaultEmployee",n),alert("Saved")}function g(B){i(B),document.documentElement.classList.toggle("theme-dark",B);try{localStorage.setItem("theme",B?"dark":"light")}catch{}}function m(B){u(B),document.documentElement.classList.toggle("field-mode",B);try{localStorage.setItem("fieldMode",B?"1":"0")}catch{}}return c.jsx("div",{className:"grid",children:c.jsxs("section",{className:"card",children:[c.jsx("h2",{children:"Settings"}),c.jsx("div",{className:"row",children:c.jsxs("label",{className:"label",children:["Default Employee Name",c.jsx("input",{className:"input",value:n,onChange:B=>e(B.target.value),placeholder:"Your name"})]})}),c.jsxs("div",{className:"row",style:{gap:16,alignItems:"center",marginTop:8},children:[c.jsxs("div",{className:"label",children:["Dark Mode",c.jsxs("button",{type:"button",className:"btn",onClick:()=>g(!t),style:{display:"inline-flex",alignItems:"center",gap:8},children:[c.jsx("span",{className:"badge",style:{background:t?"#111827":"#e5e7eb",color:t?"#fff":"#111827"},children:t?"On":"Off"}),c.jsx("span",{children:"Toggle"})]})]}),c.jsxs("div",{className:"label",children:["Field Mode",c.jsx("button",{type:"button",className:"btn",onClick:()=>m(!o),children:o?"On":"Off"})]})]}),c.jsx("div",{className:"row",style:{marginTop:8},children:c.jsx("button",{className:"btn",onClick:d,children:"Save"})})]})})}function vI(){const[n,e]=S.useState(""),[t,i]=S.useState(!1),[o,u]=S.useState([]);return S.useEffect(()=>{let d=!0;return(async()=>{const m=n.trim().toLowerCase();if(!m){u([]);return}const[B,C]=await Promise.all([pe.jobs.toArray(),pe.notes.toArray()]),b=B.filter(j=>[j.clientName,j.siteName,j.address,j.createdBy].some(P=>(P||"").toLowerCase().includes(m))).slice(0,5).map(j=>({type:"job",id:j.id,label:`${j.clientName}${j.siteName?" - "+j.siteName:""}`,href:`/job/${j.id}`})),F=C.filter(j=>(j.text||"").toLowerCase().includes(m)).slice(0,5).map(j=>({type:"note",id:j.id,label:j.text.slice(0,60),href:`/job/${j.jobId}`}));d&&u([...b,...F].slice(0,8))})(),()=>{d=!1}},[n]),S.useEffect(()=>{const d=g=>{g.target.closest?.(".search")||i(!1)};return document.addEventListener("click",d),()=>document.removeEventListener("click",d)},[]),c.jsxs("div",{className:"search",children:[c.jsx("input",{className:"input",value:n,onChange:d=>{e(d.target.value),i(!0)},placeholder:"Search jobs and notes"}),t&&o.length>0&&c.jsx("div",{className:"search-results",children:o.map(d=>c.jsxs(ri,{to:d.href,onClick:()=>{i(!1),e("")},children:["[",d.type,"] ",d.label]},d.id))})]})}const Vy=S.createContext(void 0),Gy="auth_trusted_devices",Kv="auth_device_id",wI=1440*60*1e3;function bA(){return typeof window<"u"}function yI(){if(!bA())return null;let n=localStorage.getItem(Kv);if(!n){const e=Math.random().toString(36).slice(2);n=typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():`dev-${e}`,localStorage.setItem(Kv,n)}return n}function dp(){if(!bA())return{};const n=localStorage.getItem(Gy);if(!n)return{};try{const e=JSON.parse(n);if(e&&typeof e=="object")return e}catch{}return{}}function hp(n){bA()&&localStorage.setItem(Gy,JSON.stringify(n))}function BI(n){if(!n||!bA())return null;const e=dp(),t=e[n],i=Date.now();return t&&t.expiresAt>i?t:(t&&(delete e[n],hp(e)),null)}function qh(n,e){if(!n||!bA())return;const t=dp();t[n]={expiresAt:Date.now()+wI,userId:e},hp(t)}function Xh(n){if(!n||!bA())return;const e=dp();e[n]&&(delete e[n],hp(e))}function _I(){if(!bA())return null;const n=localStorage.getItem("auth_user");if(!n)return null;try{return JSON.parse(n)}catch{return null}}function CI({children:n}){const e=S.useRef(null),t=S.useMemo(()=>{if(!bA())return{token:null,user:null,deviceId:null};const b=yI(),F=localStorage.getItem("auth_token"),j=_I();let P=null,N=null;return F&&j&&(BI(b)?(P=F,N=j):F==="DEV"?(qh(b,j.id),P=F,N=j):(localStorage.removeItem("auth_token"),localStorage.removeItem("auth_user"),localStorage.removeItem("auth_last_phone"))),{token:P,user:N,deviceId:b}},[]);e.current||(e.current=t.deviceId);const[i,o]=S.useState(t.user),[u,d]=S.useState(t.token),[g,m]=S.useState(!t.token);S.useEffect(()=>{if(!u){m(!0);return}if(u==="DEV"){if(!i){const F=bA()?localStorage.getItem("auth_last_phone"):null;if(F){const j=b_(F);if(j){const P={id:j.id,phone:j.phone,name:j.name,role:j.role};bA()&&localStorage.setItem("auth_user",JSON.stringify(P)),o(P)}}}m(!0);return}if(!sf){m(!0);return}let b=!1;return m(!1),of("/auth/me").then(F=>{b||(o(F.user),bA()&&localStorage.setItem("auth_user",JSON.stringify(F.user)))}).catch(()=>{bA()&&(localStorage.removeItem("auth_token"),localStorage.removeItem("auth_user")),d(null),o(null)}).finally(()=>{b||m(!0)}),()=>{b=!0}},[u]);async function B(b,F,j=!0){const P=e.current,N=E_(b,F);if(N){const O={id:N.id,phone:N.phone,name:N.name,role:N.role};bA()&&(localStorage.setItem("auth_token","DEV"),localStorage.setItem("auth_user",JSON.stringify(O)),localStorage.setItem("auth_last_phone",N.phone),j?qh(P,O.id):Xh(P)),d("DEV"),o(O),m(!0);return}if(!sf)throw new Error("No remote API configured for login. Use a developer account.");const G=await of("/auth/login",{method:"POST",body:JSON.stringify({phone:b,password:F})});bA()&&(localStorage.setItem("auth_token",G.token),localStorage.setItem("auth_user",JSON.stringify(G.user)),j?qh(P,G.user.id):Xh(P)),d(G.token),o(G.user),m(!0)}function C(){bA()&&(localStorage.removeItem("auth_token"),localStorage.removeItem("auth_user"),localStorage.removeItem("auth_last_phone"),Xh(e.current)),d(null),o(null),m(!0)}return c.jsx(Vy.Provider,{value:{user:i,token:u,login:B,logout:C,hydrated:g},children:n})}function rd(){const n=S.useContext(Vy);if(!n)throw new Error("useAuth must be used within AuthProvider");return n}function xI(){const{login:n}=rd(),e=Gl(),i=io().state?.from||"/",[o,u]=S.useState(""),[d,g]=S.useState(""),[m,B]=S.useState(!0),[C,b]=S.useState(null),[F,j]=S.useState(!1);async function P(N){N.preventDefault(),b(null),j(!0);try{await n(o.trim(),d,m),e(i,{replace:!0})}catch(G){b(G?.message||"Login failed")}finally{j(!1)}}return c.jsx("div",{className:"grid",style:{maxWidth:420,margin:"0 auto"},children:c.jsxs("section",{className:"card",children:[c.jsx("h2",{children:"Sign In"}),c.jsxs("form",{className:"grid",style:{gap:10},onSubmit:P,children:[c.jsxs("label",{className:"label",children:["Phone Number",c.jsx("input",{className:"input",placeholder:"e.g. 555-123-4567",value:o,onChange:N=>u(N.target.value)})]}),c.jsxs("label",{className:"label",children:["Password",c.jsx("input",{className:"input",type:"password",value:d,onChange:N=>g(N.target.value)})]}),c.jsxs("label",{className:"label",style:{alignItems:"center",flexDirection:"row",gap:8},children:[c.jsx("input",{type:"checkbox",checked:m,onChange:N=>B(N.target.checked)}),c.jsx("span",{children:"Trust this device for 24 hours"})]}),C&&c.jsx("div",{className:"badge",style:{background:"var(--danger)",color:"#fff"},children:C}),c.jsx("button",{className:"btn",disabled:F,type:"submit",children:F?"Signing in":"Sign In"})]})]})})}function bI(){const{user:n}=rd(),[e,t]=S.useState([]),[i,o]=S.useState(""),[u,d]=S.useState(""),[g,m]=S.useState(""),[B,C]=S.useState(""),[b,F]=S.useState("user"),[j,P]=S.useState(!1),[N,G]=S.useState(null),[O,R]=S.useState([]);if(!n||n.role!=="developer")return c.jsxs("div",{className:"card",children:[c.jsx("h2",{children:"Developer Only"}),c.jsx("p",{className:"muted",children:"Sign in as a developer to access this page."})]});S.useEffect(()=>{t(Bc())},[]),S.useEffect(()=>{R(yc())},[]);async function J(Ae){if(Ae.preventDefault(),!u.trim()||!B.trim()){G("Phone and password are required.");return}G(null),P(!0);try{Q_({phone:u,password:B,role:b,name:i}),o(""),d(""),m(""),C(""),F("user"),t(Bc())}catch(ve){G(ve?.message||"Failed to save user")}finally{P(!1)}}async function M(Ae){if(confirm("Delete this user?"))try{U_(Ae)}finally{t(Bc())}}async function $(){const Ae=await cw("manual");R([Ae,...yc().filter(ve=>ve.id!==Ae.id)])}function q(){R(yc())}function xe(){O.length&&confirm("Clear all stored backups on this device?")&&(B_(),R([]))}function X(Ae){if(typeof document>"u")return;const ve=new Blob([JSON.stringify(Ae,null,2)],{type:"application/json"}),Ee=URL.createObjectURL(ve),qe=document.createElement("a");qe.href=Ee,qe.download=`vplm-backup-${Ae.createdAt.replace(/[:.]/g,"-")}.json`,document.body.appendChild(qe),qe.click(),document.body.removeChild(qe),URL.revokeObjectURL(Ee)}return c.jsxs("div",{className:"grid",style:{gap:24},children:[c.jsxs("section",{className:"card",children:[c.jsx("h2",{children:"Create or Update Users"}),c.jsx("p",{className:"muted",style:{marginTop:4},children:"Seed local test accounts or sync with the API when it is running."}),c.jsxs("form",{onSubmit:J,style:{display:"grid",gap:16,marginTop:16},children:[c.jsxs("div",{style:{display:"grid",gap:12,gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))"},children:[c.jsxs("label",{className:"label",style:{flex:"1 1 200px"},children:["Name",c.jsx("input",{className:"input",value:i,onChange:Ae=>o(Ae.target.value),placeholder:"Jane Developer"})]}),c.jsxs("label",{className:"label",style:{flex:"1 1 200px"},children:["Email",c.jsx("input",{className:"input",type:"email",value:g,onChange:Ae=>m(Ae.target.value),placeholder:"jane@example.com"})]}),c.jsxs("label",{className:"label",style:{flex:"1 1 160px"},children:["Phone",c.jsx("input",{className:"input",type:"tel",value:u,onChange:Ae=>d(Ae.target.value),placeholder:"5551234567",required:!0})]}),c.jsxs("label",{className:"label",style:{flex:"1 1 160px"},children:["Password",c.jsx("input",{className:"input",type:"password",value:B,onChange:Ae=>C(Ae.target.value),placeholder:"******",required:!0})]}),c.jsxs("label",{className:"label",style:{width:160},children:["Role",c.jsxs("select",{className:"select",value:b,onChange:Ae=>F(Ae.target.value),children:[c.jsx("option",{value:"user",children:"User"}),c.jsx("option",{value:"developer",children:"Developer"})]})]})]}),c.jsxs("div",{className:"row",style:{gap:8,flexWrap:"wrap"},children:[c.jsx("button",{className:"btn",disabled:j,type:"submit",children:j?"Saving...":"Save User"}),c.jsx("button",{className:"btn secondary",type:"button",onClick:()=>{o(""),m(""),d(""),C(""),F("user"),G(null)},disabled:j,children:"Clear"})]}),N&&c.jsx("div",{className:"badge",style:{background:"var(--danger)",color:"#fff",marginTop:4},children:N})]})]}),c.jsxs("section",{className:"card",children:[c.jsx("h3",{children:"Existing Users"}),e.length===0?c.jsx("div",{className:"muted",children:"No users found."}):c.jsx("div",{style:{overflowX:"auto"},children:c.jsxs("table",{className:"table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Name"}),c.jsx("th",{children:"Email"}),c.jsx("th",{children:"Phone"}),c.jsx("th",{children:"Role"}),c.jsx("th",{children:"Created"}),c.jsx("th",{})]})}),c.jsx("tbody",{children:e.map(Ae=>{const ve=Ae.created_at?new Date(Ae.created_at).toLocaleString():"Local only";return c.jsxs("tr",{children:[c.jsx("td",{children:Ae.name||""}),c.jsx("td",{children:Ae.email||""}),c.jsx("td",{children:Ae.phone}),c.jsx("td",{children:Ae.role}),c.jsx("td",{children:ve}),c.jsxs("td",{children:[c.jsx("button",{className:"btn secondary",onClick:()=>{o(Ae.name||""),m(Ae.email||""),d(Ae.phone||""),F(Ae.role||"user"),C("")},children:"Edit"}),c.jsx("button",{className:"btn warn",style:{marginLeft:6},onClick:()=>{confirm("Really delete this user? This will NOT delete any jobs or data.")&&M(Ae.id)},children:"Delete"})]})]},Ae.id)})})]})})]}),c.jsx(UI,{}),c.jsxs("section",{className:"card",style:{display:"grid",gap:16},children:[c.jsx("h3",{children:"Local Backups"}),c.jsx("p",{className:"muted",style:{marginTop:4},children:"Automatic snapshots of the browser database are stored on this device. Download them regularly so the team has an off-device copy in case hardware is lost."}),c.jsxs("div",{className:"row",style:{gap:8,flexWrap:"wrap"},children:[c.jsx("button",{className:"btn",onClick:$,children:"Backup Now"}),c.jsx("button",{className:"btn secondary",onClick:q,disabled:!O.length,children:"Refresh List"}),c.jsx("button",{className:"btn warn",onClick:xe,disabled:!O.length,children:"Clear History"})]}),O.length===0?c.jsx("div",{className:"muted",children:"No backups captured yet. New edits will trigger automatic snapshots."}):c.jsx("div",{style:{overflowX:"auto"},children:c.jsxs("table",{className:"table",style:{minWidth:520},children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Created"}),c.jsx("th",{children:"Reason"}),c.jsx("th",{children:"Approx Size"}),c.jsx("th",{})]})}),c.jsx("tbody",{children:O.map(Ae=>{const ve=Math.max(.1,JSON.stringify(Ae.data).length/1024).toFixed(1);return c.jsxs("tr",{children:[c.jsx("td",{children:new Date(Ae.createdAt).toLocaleString()}),c.jsx("td",{children:Ae.reason}),c.jsxs("td",{children:[ve," KB"]}),c.jsx("td",{children:c.jsx("button",{className:"btn secondary",onClick:()=>X(Ae),children:"Download"})})]},Ae.id)})})]})})]}),c.jsx(QI,{})]})}function QI(){const[n,e]=S.useState(""),[t,i]=S.useState(""),[o,u]=S.useState(""),[d,g]=S.useState("");S.useEffect(()=>{e(localStorage.getItem("openweather_key")||""),i(localStorage.getItem("openai_api_key")||""),u(localStorage.getItem("defaultEmployee")||""),g(fw()||"")},[]);function m(){localStorage.setItem("openweather_key",n),localStorage.setItem("openai_api_key",t),localStorage.setItem("defaultEmployee",o),F_(d.trim()),alert("Saved developer settings.")}return c.jsxs(c.Fragment,{children:[c.jsxs("section",{className:"card",style:{display:"grid",gap:16},children:[c.jsx("h3",{children:"Developer Settings"}),c.jsx("p",{className:"muted",style:{marginTop:4},children:"Store local-only API keys for tooling and crew defaults."}),c.jsxs("div",{style:{display:"grid",gap:12,gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))",marginTop:12},children:[c.jsxs("label",{className:"label",children:["Default Employee Name",c.jsx("input",{className:"input",value:o,onChange:B=>u(B.target.value),placeholder:"Your name"})]}),c.jsxs("label",{className:"label",children:["Mapbox Access Token (addresses)",c.jsx("input",{className:"input",value:d,onChange:B=>g(B.target.value),placeholder:"pk.xxxxx"}),c.jsx("small",{className:"muted",children:"Generates real address suggestions across the app."})]}),c.jsxs("label",{className:"label",children:["OpenWeather API Key",c.jsx("input",{className:"input",value:n,onChange:B=>e(B.target.value),placeholder:"Enter key"})]}),c.jsxs("label",{className:"label",children:["OpenAI API Key (Whisper)",c.jsx("input",{className:"input",value:t,onChange:B=>i(B.target.value),placeholder:"sk-..."})]})]}),c.jsxs("div",{className:"row",style:{marginTop:16,gap:8},children:[c.jsx("button",{className:"btn",onClick:m,children:"Save"}),c.jsx("button",{className:"btn warn",onClick:()=>location.assign("/reset"),children:"Clear Cache"})]})]}),c.jsxs("section",{className:"card",children:[c.jsx("h3",{children:"API Setup Guide"}),c.jsxs("ul",{style:{margin:"8px 0 0 18px",padding:0,listStyle:"disc",display:"grid",gap:8},children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Mapbox Places"})," - Sign up at ",c.jsx("a",{href:"https://www.mapbox.com",target:"_blank",rel:"noreferrer",children:"mapbox.com"}),", create a Public access token, and paste it above. Provides fast address autocomplete; Google Places or Geoapify are viable alternatives if your team already licenses them."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"OpenWeather"})," - Current weather and radar. Key stored locally; alternatives like Tomorrow.io offer richer forecasts but cost more."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"OpenAI Whisper"})," - Optional for voice-to-text. Generate a secret key in your OpenAI dashboard and store it here."]}),c.jsx("li",{children:"Keys live in browser storage only; each developer keeps their own set."})]})]})]})}function UI(){const n={id:null,clientName:"",address:"",contactName:"",primaryPhone:"",notes:"",lat:"",lon:""},[e,t]=S.useState([]),[i,o]=S.useState(n),[u,d]=S.useState([]),[g,m]=S.useState(""),[B,C]=S.useState(""),[b,F]=S.useState(null),[j,P]=S.useState(""),[N,G]=S.useState(!1),[O,R]=S.useState(null),[J,M]=S.useState(null);function $(se){o(Qe=>({...Qe,address:se})),R(null)}function q(se){o(Qe=>({...Qe,address:se.label,lat:se.lat!=null?se.lat.toFixed(6):Qe.lat,lon:se.lon!=null?se.lon.toFixed(6):Qe.lon})),R("Coordinates added from selection.")}S.useEffect(()=>{const se=Aw(()=>db.addressBank.orderBy("clientName").toArray()).subscribe({next:Qe=>t(Qe),error:()=>{}});return()=>se.unsubscribe()},[]);const xe=S.useMemo(()=>{const se=j.trim().toLowerCase();return se?e.filter(Qe=>{const ge=zf(Qe);return[Qe.clientName,Qe.address,Qe.contactName,Qe.primaryPhone,Qe.notes,...ge.flatMap(K=>[K.phone,K.label])].some(K=>(K||"").toLowerCase().includes(se))}):e},[e,j]);function X(){o(n),d([]),m(""),C(""),F(null),M(null),R(null)}function Ae(se){o({id:se.id,clientName:se.clientName||"",address:se.address||"",contactName:se.contactName||"",primaryPhone:se.primaryPhone||"",notes:se.notes||"",lat:se.lat!=null?String(se.lat):"",lon:se.lon!=null?String(se.lon):""}),d(zf(se)),m(""),C(""),F(null),M(null),R(null)}async function ve(se){if(se.preventDefault(),!i.clientName.trim()&&!i.address.trim()){M("Enter at least a client name or address.");return}G(!0),M(null);try{const Qe=i.id||crypto.randomUUID(),ge=e.find(Fe=>Fe.id===Qe),Pe=new Date().toISOString(),K=i.lat.trim()?Number(i.lat):void 0,D=i.lon.trim()?Number(i.lon):void 0;if(K!=null&&!Number.isFinite(K)||D!=null&&!Number.isFinite(D))throw new Error("Lat/Lon must be numbers.");const le=u.map(Fe=>({id:Fe.id||crypto.randomUUID(),label:Fe.label?.trim()||void 0,phone:Fe.phone.trim()})).filter(Fe=>Fe.phone),Ie={id:Qe,clientName:i.clientName.trim()||i.address.trim()||"Untitled Client",address:i.address.trim(),contactName:i.contactName.trim()||void 0,primaryPhone:i.primaryPhone.trim()||void 0,otherPhones:le.map(Fe=>Fe.phone),contacts:le,notes:i.notes.trim()||void 0,lat:K,lon:D,createdAt:ge?.createdAt||Pe,updatedAt:Pe};await a_(Ie),R(i.id?"Updated entry.":"Saved new entry."),X()}catch(Qe){M(Qe?.message||"Failed to save client entry")}finally{G(!1)}}async function Ee(){const se=[i.address,i.clientName].filter(Boolean).join(" ");if(!se.trim()){R("Enter an address or client name first.");return}R("Looking up address..."),M(null);try{const Qe=`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(se)}&limit=1`,ge=await fetch(Qe,{headers:{Accept:"application/json"}});if(!ge.ok)throw new Error("Lookup failed");const Pe=await ge.json();if(!Array.isArray(Pe)||Pe.length===0){R("No results found for that address.");return}const K=Pe[0];o(D=>({...D,lat:K.lat?String(Number(K.lat).toFixed(6)):D.lat,lon:K.lon?String(Number(K.lon).toFixed(6)):D.lon})),R("Coordinates added from lookup.")}catch(Qe){R("Lookup error. Try again later."),M(Qe?.message||"Lookup failed")}}async function qe(se){confirm("Remove this client entry?")&&(await l_(se),i.id===se&&X())}function Ze(){const se=B.trim();if(!se){M("Enter a phone number for the contact.");return}M(null);const Qe=g.trim()||void 0;d(b?ge=>ge.map(Pe=>Pe.id===b?{...Pe,phone:se,label:Qe}:Pe):ge=>[...ge,{id:crypto.randomUUID(),phone:se,label:Qe}]),m(""),C(""),F(null)}function be(se){m(se.label||""),C(se.phone),F(se.id)}function et(se){d(Qe=>Qe.filter(ge=>ge.id!==se)),b===se&&(m(""),C(""),F(null))}return c.jsxs("section",{className:"card",style:{display:"grid",gap:16},children:[c.jsx("h3",{children:"Client Bank"}),c.jsx("p",{className:"muted",style:{marginTop:4},children:"Keep an easy list of ranch clients, contacts, and coordinates. Field users can look them up from the Map tab."}),c.jsxs("form",{onSubmit:ve,style:{display:"grid",gap:16,marginTop:16},children:[c.jsxs("div",{style:{display:"grid",gap:12,gridTemplateColumns:"repeat(auto-fit, minmax(260px, 1fr))"},children:[c.jsxs("label",{className:"label",children:["Client / Ranch Name",c.jsx("input",{className:"input",value:i.clientName,onChange:se=>o(Qe=>({...Qe,clientName:se.target.value})),placeholder:"Blue Creek Ranch"})]}),c.jsxs("div",{className:"label",style:{display:"grid",gap:6},children:[c.jsx("span",{children:"Address"}),c.jsx($l,{id:"client-bank-address",value:i.address,onChange:$,onSelect:q,placeholder:"123 FM 100, Llano, TX",helpText:"Select a suggestion to fill coordinates automatically."})]}),c.jsxs("label",{className:"label",children:["Primary Contact Name",c.jsx("input",{className:"input",value:i.contactName,onChange:se=>o(Qe=>({...Qe,contactName:se.target.value})),placeholder:"Sam Owner"})]})]}),c.jsxs("div",{style:{display:"grid",gap:12,gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))"},children:[c.jsxs("label",{className:"label",children:["Primary Phone",c.jsx("input",{className:"input",value:i.primaryPhone,onChange:se=>o(Qe=>({...Qe,primaryPhone:se.target.value})),placeholder:"555-123-4567"})]}),c.jsxs("label",{className:"label",style:{display:"grid",gap:6},children:[c.jsx("span",{children:"Notes"}),c.jsx("textarea",{className:"textarea",value:i.notes,onChange:se=>o(Qe=>({...Qe,notes:se.target.value})),placeholder:"Gate code 2468",rows:3})]})]}),c.jsxs("div",{style:{display:"grid",gap:12,gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))",alignItems:"end"},children:[c.jsxs("label",{className:"label",children:["Contact / Role",c.jsx("input",{className:"input",value:g,onChange:se=>m(se.target.value),placeholder:"Ranch hand"})]}),c.jsxs("label",{className:"label",children:["Phone",c.jsx("input",{className:"input",type:"tel",value:B,onChange:se=>C(se.target.value),placeholder:"555-987-1234"})]}),c.jsxs("div",{className:"row",style:{gap:8},children:[c.jsx("button",{type:"button",className:"btn secondary",onClick:Ze,children:b?"Update Contact":"Add Contact"}),b&&c.jsx("button",{type:"button",className:"btn secondary",onClick:()=>{m(""),C(""),F(null)},children:"Cancel"})]})]}),u.length>0&&c.jsx("ul",{style:{margin:0,padding:0,listStyle:"none",display:"grid",gap:6},children:u.map(se=>c.jsxs("li",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:12,background:"#f9fafb",border:"1px solid var(--border)",borderRadius:6,padding:"6px 10px"},children:[c.jsxs("div",{children:[c.jsx("strong",{children:se.label||"Contact"}),se.label?": ":" ",se.phone]}),c.jsxs("div",{className:"row",style:{gap:6},children:[c.jsx("button",{type:"button",className:"btn secondary",onClick:()=>be(se),children:"Edit"}),c.jsx("button",{type:"button",className:"btn warn",onClick:()=>et(se.id),children:"Delete"})]})]},se.id))}),c.jsxs("div",{style:{display:"grid",gap:12,gridTemplateColumns:"repeat(auto-fit, minmax(160px, 1fr))",alignItems:"end"},children:[c.jsxs("label",{className:"label",children:["Latitude",c.jsx("input",{className:"input",value:i.lat,onChange:se=>o(Qe=>({...Qe,lat:se.target.value})),placeholder:"30.123456"})]}),c.jsxs("label",{className:"label",children:["Longitude",c.jsx("input",{className:"input",value:i.lon,onChange:se=>o(Qe=>({...Qe,lon:se.target.value})),placeholder:"-97.654321"})]}),c.jsxs("div",{className:"row",style:{gap:8},children:[c.jsx("button",{type:"button",className:"btn secondary",onClick:Ee,disabled:N,children:"Lookup Coordinates"}),c.jsx("small",{className:"muted",children:"Uses OpenStreetMap to geocode the address."})]})]}),c.jsxs("div",{className:"row",style:{gap:8},children:[c.jsx("button",{className:"btn",type:"submit",disabled:N,children:N?"Saving...":i.id?"Update Client":"Save Client"}),c.jsx("button",{className:"btn secondary",type:"button",onClick:X,disabled:N,children:"Reset"})]}),O&&c.jsx("div",{className:"muted",children:O}),J&&c.jsx("div",{className:"badge",style:{background:"var(--danger)",color:"#fff"},children:J})]}),c.jsxs("div",{style:{marginTop:20},children:[c.jsxs("div",{className:"row",style:{justifyContent:"space-between",alignItems:"center",gap:12},children:[c.jsx("h4",{style:{margin:0},children:"Saved Clients"}),c.jsx("input",{className:"input",style:{maxWidth:260},placeholder:"Search name, address, phone",value:j,onChange:se=>P(se.target.value),disabled:e.length===0})]}),e.length===0?c.jsx("div",{className:"muted",style:{marginTop:8},children:"No clients yet. Add one above to build the shared bank."}):xe.length===0?c.jsxs("div",{className:"muted",style:{marginTop:8},children:['No matches for "',j,'".']}):c.jsx("div",{className:"accordion",style:{marginTop:12},children:xe.map(se=>c.jsx(EI,{entry:se,onEdit:()=>Ae(se),onDelete:()=>qe(se.id)},se.id))})]})]})}function EI({entry:n,onEdit:e,onDelete:t}){const[i,o]=S.useState(!1),u=zf(n),d=typeof n.lat=="number"&&typeof n.lon=="number";return c.jsxs("section",{className:"accordion-item accent-green",children:[c.jsxs("button",{className:"accordion-button","aria-expanded":i,onClick:()=>o(!i),children:[c.jsx("span",{children:n.clientName||n.address||"Client Entry"}),c.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,children:c.jsx("path",{d:"M6 9l6 6 6-6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),i&&c.jsxs("div",{className:"accordion-panel",style:{display:"grid",gap:8},children:[n.address&&c.jsxs("div",{children:[c.jsx("strong",{children:"Address:"})," ",n.address]}),n.contactName&&c.jsxs("div",{children:[c.jsx("strong",{children:"Primary Contact:"})," ",n.contactName]}),n.primaryPhone&&c.jsxs("div",{children:[c.jsx("strong",{children:"Primary Phone:"})," ",c.jsx("a",{href:`tel:${n.primaryPhone}`,children:n.primaryPhone})]}),u.length>0&&c.jsxs("div",{children:[c.jsx("strong",{children:"Team Contacts:"}),c.jsx("ul",{style:{margin:"4px 0 0 18px",padding:0,listStyle:"disc"},children:u.map(g=>c.jsxs("li",{children:[g.label?`${g.label}: `:"",g.phone]},g.id))})]}),d&&c.jsxs("div",{children:[c.jsx("strong",{children:"Coordinates:"})," ",n.lat?.toFixed(5),", ",n.lon?.toFixed(5)]}),n.notes&&c.jsxs("div",{children:[c.jsx("strong",{children:"Notes:"})," ",n.notes]}),c.jsxs("div",{className:"row",style:{gap:8,marginTop:8,flexWrap:"wrap"},children:[c.jsx("button",{className:"btn secondary",onClick:e,children:"Load Into Form"}),c.jsx("button",{className:"btn warn",onClick:t,children:"Delete"})]})]})]})}function zf(n){const e=(n.contacts||[]).map(t=>({id:t.id||`${n.id}-${t.phone}`,label:t.label,phone:t.phone}));return e.length>0?e:(n.otherPhones||[]).filter(Boolean).map((t,i)=>({id:`${n.id}-extra-${i}`,phone:t}))}function FI({runId:n}){const[e,t]=S.useState({});return S.useEffect(()=>{(async()=>{const o=await pe.fishRuns.get(n),u=await pe.fishStops.where("runId").equals(n).sortBy("seq"),d=await pe.audioNotes.where("jobId").equals(n).toArray();t({run:o,stops:u,audio:d})})()},[n]),c.jsxs("div",{className:"grid",id:"printable-map",children:[c.jsx("div",{className:"row",children:c.jsx("button",{className:"btn",onClick:()=>window.print(),children:"Print / Save as PDF"})}),c.jsxs("section",{className:"card",children:[c.jsx("h3",{children:"Fish Run"}),c.jsx("div",{children:c.jsx("strong",{children:e.run?.title||"(untitled)"})}),c.jsxs("div",{className:"muted",children:["Planned: ",e.run?.plannedAt||"-"]}),e.run?.notes&&c.jsx("div",{style:{marginTop:8},children:e.run.notes})]}),c.jsxs("section",{className:"card",children:[c.jsx("h3",{children:"Stops"}),e.stops?.length?c.jsxs("table",{className:"table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"#"}),c.jsx("th",{children:"Client"}),c.jsx("th",{children:"Site"}),c.jsx("th",{children:"Species"}),c.jsx("th",{children:"Count"}),c.jsx("th",{children:"Weight (lb)"}),c.jsx("th",{children:"Tank Temp"}),c.jsx("th",{children:"Pond Temp"})]})}),c.jsx("tbody",{children:e.stops.map(i=>c.jsxs("tr",{children:[c.jsx("td",{children:i.seq}),c.jsx("td",{children:i.client||"-"}),c.jsx("td",{children:i.site||"-"}),c.jsx("td",{children:i.species||"-"}),c.jsx("td",{children:i.count??"-"}),c.jsx("td",{children:i.weightLb??"-"}),c.jsx("td",{children:i.tankTempF??"-"}),c.jsx("td",{children:i.pondTempF??"-"})]},i.id))})]}):c.jsx("div",{className:"muted",children:"No stops"})]}),c.jsxs("section",{className:"card",children:[c.jsx("h3",{children:"Voice Memos"}),e.audio?.length?c.jsx("ul",{className:"list",children:e.audio.map(i=>c.jsxs("li",{children:[c.jsxs("small",{className:"muted",children:[new Date(i.createdAt).toLocaleString()," ",i.stopId?`(Stop #${e.stops?.find(o=>o.id===i.stopId)?.seq||"?"})`:""]}),c.jsx("div",{children:c.jsx(SI,{note:i})})]},i.id))}):c.jsx("div",{className:"muted",children:"No memos"})]})]})}function SI({note:n}){const e=S.useMemo(()=>zc(n),[n]),t=S.useMemo(()=>e?URL.createObjectURL(e):void 0,[e]);if(S.useEffect(()=>()=>{t&&URL.revokeObjectURL(t)},[t]),!e||!t)return c.jsx("span",{className:"muted",children:"Audio unavailable"});const i=e.type||n?.mimeType||"audio/webm";return c.jsx("audio",{controls:!0,children:c.jsx("source",{src:t,type:i})})}function Vv(n){const e=(n.contacts||[]).map(t=>({id:t.id||`${n.id}-${t.phone}`,label:t.label,phone:t.phone}));return e.length>0?e:(n.otherPhones||[]).filter(Boolean).map((t,i)=>({id:`${n.id}-alt-${i}`,phone:t}))}function II(){const n=S.useRef(null),e=S.useRef(null),[t,i]=S.useState([]),[o,u]=S.useState(!0),[d,g]=S.useState("aerial"),[m,B]=S.useState([]),[C,b]=S.useState([]),[F,j]=S.useState(""),[P,N]=S.useState(null);S.useEffect(()=>{(async()=>(i(await pe.jobs.toArray()),B(await pe.ponds?.toArray?.()??[])))()},[]),S.useEffect(()=>{const O=Aw(()=>pe.addressBank.orderBy("clientName").toArray()).subscribe({next:R=>b(R),error:()=>{}});return()=>O.unsubscribe()},[]);const G=S.useMemo(()=>{const O=F.trim().toLowerCase();return O?C.filter(R=>{const J=Vv(R);return[R.clientName,R.address,R.contactName,R.primaryPhone,R.notes,...J.flatMap($=>[$.phone,$.label])].some($=>($||"").toLowerCase().includes(O))}):C},[C,F]);return S.useEffect(()=>{P&&!G.some(O=>O.id===P)&&N(null)},[G,P]),S.useEffect(()=>{if(!n.current||e.current)return;const O=t.find(q=>typeof q.lat=="number"&&typeof q.lon=="number"),R=O?[O.lat,O.lon]:[30.2672,-97.7431],J=ut.map(n.current).setView(R,7),M=ut.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"Ac OpenStreetMap contributors",maxZoom:19}),$=ut.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",{attribution:"Imagery Ac Esri, Maxar, Earthstar Geographics",maxZoom:19,opacity:0});$.on("load",()=>$.setOpacity(1)),d==="aerial"?(M.addTo(J),M.bringToBack?.(),$.addTo(J)):M.addTo(J),setTimeout(()=>J.invalidateSize(),150),e.current=J},[t]),S.useEffect(()=>{const O=e.current;if(!O)return;let R=null,J=null;if(Object.values(O._layers||{}).forEach(M=>{M&&M._url&&String(M._url).includes("ArcGIS/rest/services/World_Imagery")&&(R=M),M&&M.getAttribution&&String(M.getAttribution()).includes("OpenStreetMap")&&(J=M)}),J||(J=ut.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"Ac OpenStreetMap contributors",maxZoom:19}).addTo(O)),d==="aerial"){try{J&&J.bringToBack?.()}catch{}if(R)R.setOpacity?.(0),R.addTo?.(O),R.once?.("load",()=>R.setOpacity?.(1));else{const M=ut.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",{attribution:"Imagery Ac Esri, Maxar, Earthstar Geographics",maxZoom:19,opacity:0}).addTo(O);M.once("load",()=>M.setOpacity(1))}}else{if(R)try{O.removeLayer(R)}catch{}J.addTo(O)}},[d]),S.useEffect(()=>{const O=e.current;if(!O)return;const R=[];O.eachLayer($=>{($ instanceof ut.Marker||$ instanceof ut.CircleMarker||$ instanceof ut.Polygon)&&O.removeLayer($)});const J=t.filter($=>typeof $.lat=="number"&&typeof $.lon=="number");if(o&&J.length>30){const $=O.getZoom(),q=Math.max(1,12-$),xe=new Map;for(const X of J){const Ae=`${X.lat.toFixed(q)}_${X.lon.toFixed(q)}`,ve=xe.get(Ae)||{lat:0,lon:0,count:0,sample:X};ve.lat+=X.lat,ve.lon+=X.lon,ve.count+=1,ve.sample=X,xe.set(Ae,ve)}for(const[,X]of xe){const Ae=X.lat/X.count,ve=X.lon/X.count;ut.marker([Ae,ve]).addTo(O).bindPopup(X.count>1?`${X.count} sites near here`:`<strong>${Na(X.sample.clientName||"")}</strong>${X.sample.siteName?" - "+Na(X.sample.siteName):""}`),R.push([Ae,ve])}}else for(const $ of J){const q=[$.lat,$.lon];ut.marker(q).addTo(O).bindPopup(`<strong>${Na($.clientName||"")}</strong>${$.siteName?" - "+Na($.siteName):""}`),R.push(q)}for(const $ of m){const q=$.polygon||[];q.length>=3&&(ut.polygon(q,{color:$.color||"#16a34a",fillOpacity:.12,weight:2}).addTo(O),q.forEach(([X,Ae])=>R.push([X,Ae])))}const M=C.filter($=>typeof $.lat=="number"&&typeof $.lon=="number");for(const $ of M){const q=[$.lat,$.lon],xe=ut.circleMarker(q,{radius:7,color:"#7c3aed",weight:2,fillColor:"#ede9fe",fillOpacity:.9}).addTo(O);xe.bindPopup(`<strong>${Na($.clientName||"")}</strong>${$.address?"<br/>"+Na($.address):""}`),xe.on("click",()=>N($.id)),R.push(q)}if(R.length>1){const $=ut.latLngBounds(R);O.fitBounds($,{padding:[24,24]})}else R.length===1&&O.setView(R[0],13)},[t,m,o,C]),c.jsxs("div",{className:"grid",children:[c.jsxs("section",{className:"card",children:[c.jsxs("div",{className:"row",style:{justifyContent:"space-between",alignItems:"center"},children:[c.jsx("h2",{children:"All Sites"}),c.jsxs("div",{className:"row",style:{gap:12},children:[c.jsxs("label",{className:"row",style:{gap:8},children:[c.jsx("input",{type:"checkbox",checked:o,onChange:O=>u(O.target.checked)})," Cluster markers"]}),c.jsxs("label",{className:"row",style:{gap:8},children:[c.jsx("span",{className:"muted",children:"Map"}),c.jsxs("select",{className:"select",value:d,onChange:O=>g(O.target.value),children:[c.jsx("option",{value:"aerial",children:"Aerial"}),c.jsx("option",{value:"street",children:"Street"})]})]})]})]}),c.jsx("div",{ref:n,style:{height:540,width:"100%",borderRadius:8,border:"1px solid var(--border)"}})]}),c.jsxs("section",{className:"card",children:[c.jsxs("div",{className:"row",style:{justifyContent:"space-between",alignItems:"center",gap:12},children:[c.jsx("h3",{children:"Client Bank"}),c.jsx("input",{className:"input",style:{maxWidth:280},placeholder:"Search clients, addresses, or contacts",value:F,onChange:O=>j(O.target.value),disabled:C.length===0})]}),C.length===0?c.jsx("div",{className:"muted",children:"No saved clients yet. Developers can add them from the Client Bank on the Developer page."}):G.length===0?c.jsxs("div",{className:"muted",children:['No matches for "',F,'".']}):c.jsx("div",{className:"accordion",children:G.map(O=>{const R=P===O.id,J=Vv(O),M=typeof O.lat=="number"&&typeof O.lon=="number";return c.jsxs("section",{className:"accordion-item accent-green",children:[c.jsxs("button",{className:"accordion-button","aria-expanded":R,onClick:()=>N(R?null:O.id),children:[c.jsx("span",{children:O.clientName||O.address}),c.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,children:c.jsx("path",{d:"M6 9l6 6 6-6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),R&&c.jsxs("div",{className:"accordion-panel",children:[c.jsxs("div",{style:{display:"grid",gap:8},children:[O.address&&c.jsxs("div",{children:[c.jsx("strong",{children:"Address:"})," ",O.address]}),O.contactName&&c.jsxs("div",{children:[c.jsx("strong",{children:"Primary Contact:"})," ",O.contactName]}),O.primaryPhone&&c.jsxs("div",{children:[c.jsx("strong",{children:"Primary Phone:"})," ",c.jsx("a",{href:`tel:${O.primaryPhone}`,children:O.primaryPhone})]}),J.length>0&&c.jsxs("div",{children:[c.jsx("strong",{children:"Team Contacts:"}),c.jsx("ul",{style:{margin:"4px 0 0 18px",padding:0,listStyle:"disc"},children:J.map($=>c.jsxs("li",{children:[$.label?`${$.label}: `:"",c.jsx("a",{href:`tel:${$.phone}`,children:$.phone})]},$.id))})]}),M&&c.jsxs("div",{children:[c.jsx("strong",{children:"Coordinates:"})," ",O.lat.toFixed(5),", ",O.lon.toFixed(5)]}),O.notes&&c.jsxs("div",{children:[c.jsx("strong",{children:"Notes:"})," ",O.notes]})]}),c.jsx("div",{className:"row",style:{marginTop:10,gap:8},children:c.jsx("button",{className:"btn secondary",disabled:!M,onClick:()=>{e.current&&M&&(e.current.setView([O.lat,O.lon],15),N(O.id))},children:"Show on Map"})})]})]},O.id)})})]}),c.jsxs("section",{className:"card",children:[c.jsx("h3",{children:"Sites Table"}),t.length===0?c.jsx("div",{className:"muted",children:"No jobs yet"}):c.jsxs("table",{className:"table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Client"}),c.jsx("th",{children:"Site"}),c.jsx("th",{children:"Address"}),c.jsx("th",{children:"City"}),c.jsx("th",{children:"County"}),c.jsx("th",{children:"Zip"}),c.jsx("th",{children:"Location"}),c.jsx("th",{children:"Actions"})]})}),c.jsx("tbody",{children:t.map(O=>c.jsxs("tr",{children:[c.jsx("td",{children:O.clientName}),c.jsx("td",{children:O.siteName||"-"}),c.jsx("td",{children:O.address||"-"}),c.jsx("td",{children:O.city||"-"}),c.jsx("td",{children:O.county||"-"}),c.jsx("td",{children:O.zip||"-"}),c.jsx("td",{children:typeof O.lat=="number"&&typeof O.lon=="number"?`${O.lat.toFixed(5)}, ${O.lon.toFixed(5)}`:"-"}),c.jsx("td",{children:c.jsx("button",{className:"btn secondary",onClick:()=>{e.current&&typeof O.lat=="number"&&typeof O.lon=="number"&&e.current.setView([O.lat,O.lon],15)},children:"Zoom"})})]},O.id))})]})]})]})}function Na(n){return n.replace(/[&<>"']/g,e=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"})[e]||e)}function LI(){const[n,e]=S.useState(null),[t,i]=S.useState({}),[o,u]=S.useState(""),[d,g]=S.useState(["Largemouth Bass","Bluegill","Redear","Crappie","Catfish","Shad"]),[m,B]=S.useState(""),[C,b]=S.useState([]);S.useEffect(()=>{(async()=>n&&await F())()},[n]);async function F(){if(!n)return;const O=await v_(n.id),R={};for(const J of O)R[J.species]=J.count;i(R)}S.useEffect(()=>{(async()=>b(await pe.fishSessions.orderBy("startedAt").reverse().toArray()))()},[n]);async function j(){if(!o){alert("Enter Job ID");return}const O=await p_(o);e(O),i({}),await hn(o,"fishery_start","Started fishery session",_n()),b(await pe.fishSessions.orderBy("startedAt").reverse().toArray())}async function P(){n&&(await g_(n.id),n.jobId&&await hn(n.jobId,"fishery_end","Ended fishery session",_n()),e(null),b(await pe.fishSessions.orderBy("startedAt").reverse().toArray()))}async function N(O,R){n&&(await m_(n.id,O,R),n.jobId&&await hn(n.jobId,"fishery_count",`Adjusted ${O} by ${R}`,_n()),await F())}function G(){const O=m.trim();O&&(d.includes(O)||g(R=>[...R,O]),B(""))}return c.jsxs("div",{className:"grid",children:[c.jsxs("section",{className:"card",children:[c.jsx("h2",{children:"Fishery Study"}),c.jsxs("div",{className:"row",children:[c.jsx("input",{className:"input",placeholder:"Job ID",value:o,onChange:O=>u(O.target.value)}),n?c.jsx("button",{className:"btn warn",onClick:P,children:"End Session"}):c.jsx("button",{className:"btn",onClick:j,children:"Start Session"})]}),c.jsxs("div",{className:"row",style:{marginTop:8},children:[c.jsx("input",{className:"input",placeholder:"Add species",value:m,onChange:O=>B(O.target.value)}),c.jsx("button",{className:"btn secondary",onClick:G,children:"Add"})]})]}),n&&c.jsxs("section",{className:"card",children:[c.jsx("h3",{children:"Tap to Count"}),c.jsx("div",{className:"row",style:{gap:12,flexWrap:"wrap"},children:d.map(O=>c.jsxs("div",{className:"card",style:{padding:12},children:[c.jsx("div",{style:{fontWeight:800},children:O}),c.jsx("div",{style:{fontSize:24,margin:"6px 0"},children:t[O]||0}),c.jsxs("div",{className:"row",children:[c.jsx("button",{className:"btn",onClick:()=>N(O,1),children:"+1"}),c.jsx("button",{className:"btn secondary",onClick:()=>N(O,-1),children:"-1"})]})]},O))})]}),c.jsxs("section",{className:"card",children:[c.jsx("h3",{children:"Previous Sessions"}),C.length===0?c.jsx("div",{className:"muted",children:"No sessions"}):c.jsx("ul",{className:"list",children:C.map(O=>c.jsxs("li",{children:[c.jsx("button",{className:"btn secondary",onClick:async()=>{e(O),await F()},children:"Open"}),c.jsxs("span",{style:{marginLeft:8},children:["Job ",O.jobId||"(none)","  ",new Date(O.startedAt).toLocaleString()," ",O.endedAt?"to "+new Date(O.endedAt).toLocaleString():""]})]},O.id))})]})]})}function kI(){const[n,e]=S.useState([]),[t,i]=S.useState("100"),[o,u]=S.useState("1.0"),[d,g]=S.useState("37.3"),m=TI(Number(t),Number(o),Number(d));return c.jsxs("div",{className:"grid",children:[c.jsxs("section",{className:"card",children:[c.jsx("h2",{children:"Chemical References"}),c.jsx(PI,{onAdd:async B=>{await uw(B),e(await rf())}}),c.jsxs("table",{className:"table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Name"}),c.jsx("th",{children:"EPA Reg#"}),c.jsx("th",{children:"Label"})]})}),c.jsx("tbody",{children:n.map(B=>c.jsxs("tr",{children:[c.jsx("td",{children:B.name}),c.jsx("td",{children:B.epaReg||"-"}),c.jsx("td",{children:B.labelUrl?c.jsx("a",{href:B.labelUrl,target:"_blank",children:"Label"}):"-"})]},B.id))})]})]}),c.jsxs("section",{className:"card",children:[c.jsx("h3",{children:"Percentage Calculator"}),c.jsxs("div",{className:"row",children:[c.jsxs("label",{className:"label",children:["Tank Volume (gal)",c.jsx("input",{className:"input",value:t,onChange:B=>i(B.target.value)})]}),c.jsxs("label",{className:"label",children:["Target % in tank",c.jsx("input",{className:"input",value:o,onChange:B=>u(B.target.value)})]}),c.jsxs("label",{className:"label",children:["Product % active",c.jsx("input",{className:"input",value:d,onChange:B=>g(B.target.value)})]})]}),c.jsxs("div",{style:{marginTop:8},children:["Product needed: ",c.jsxs("strong",{children:[Number.isFinite(m)?m.toFixed(2):"-"," gal"]})]})]})]})}function TI(n,e,t){if(!n||!e||!t)return NaN;const i=e/100,o=t/100;return n*i/o}function PI({onAdd:n}){const[e,t]=S.useState(""),[i,o]=S.useState(""),[u,d]=S.useState("");return S.useEffect(()=>{(async()=>{if((await rf()).length===0){const B=[{id:"argos",name:"Argos (Copper Algaecide)"},{id:"tribune",name:"Tribune"},{id:"aquathol_k",name:"Aquathol K"},{id:"aquathol_super_k",name:"Aquathol Super K"},{id:"cutrine_gran",name:"Cutrine Granular"},{id:"roundup_custom",name:"Roundup Custom"}];for(const C of B)await uw(C)}const m=await rf();t(m[0]?.name?"":e)})()},[]),S.useEffect(()=>{(async()=>t(e))()},[]),c.jsxs("div",{className:"row",style:{marginBottom:8},children:[c.jsx("input",{className:"input",placeholder:"Name",value:e,onChange:g=>t(g.target.value)}),c.jsx("input",{className:"input",placeholder:"EPA Reg#",value:i,onChange:g=>o(g.target.value)}),c.jsx("input",{className:"input",placeholder:"Label URL (or upload below)",value:u,onChange:g=>d(g.target.value)}),c.jsxs("label",{className:"btn secondary",style:{display:"inline-flex",alignItems:"center"},children:["Upload Label Image",c.jsx("input",{type:"file",accept:"image/*",style:{display:"none"},onChange:async g=>{const m=g.target.files?.[0];if(!m)return;const B=new FileReader;B.onload=()=>{d(String(B.result))},B.readAsDataURL(m)}})]}),c.jsx("button",{className:"btn",onClick:async()=>{e.trim()&&(await n({id:e.toLowerCase().replace(/\s+/g,"_"),name:e,epaReg:i||void 0,labelUrl:u||void 0}),t(""),o(""),d(""))},children:"Add"})]})}function NI(){const[n,e]=S.useState(""),[t,i]=S.useState(()=>new Date().toISOString().slice(0,10)),[o,u]=S.useState([]);async function d(){n&&u(await wc(n))}S.useEffect(()=>{d()},[n]);async function g(){if(n)try{await aw(n,t),await d()}catch(B){alert(B?.message||"Could not clock in.")}}async function m(){if(n)try{await lw(n),await d()}catch(B){alert(B?.message||"No active clock-in to close.")}}return c.jsxs("div",{className:"grid",children:[c.jsxs("section",{className:"card",children:[c.jsx("h2",{children:"Site Time Tracking"}),c.jsxs("div",{className:"row",children:[c.jsx("input",{className:"input",placeholder:"Job ID",value:n,onChange:B=>e(B.target.value)}),c.jsx("input",{className:"input",type:"date",value:t,onChange:B=>i(B.target.value)}),c.jsx("button",{className:"btn",onClick:g,children:"Clock In"}),c.jsx("button",{className:"btn secondary",onClick:m,children:"Clock Out"})]})]}),c.jsxs("section",{className:"card",children:[c.jsx("h3",{children:"Entries"}),o.length===0?c.jsx("div",{className:"muted",children:"No entries"}):c.jsxs("table",{className:"table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"#"}),c.jsx("th",{children:"Date"}),c.jsx("th",{children:"Clock In"}),c.jsx("th",{children:"Clock Out"}),c.jsx("th",{children:"Duration"})]})}),c.jsxs("tbody",{children:[(()=>{const B=[...o].sort((C,b)=>new Date(b.arrivalAt).getTime()-new Date(C.arrivalAt).getTime());return B.map((C,b)=>{const F=C.departureAt?new Date(C.departureAt).getTime()-new Date(C.arrivalAt).getTime():0,j=F>0?Math.floor(F/36e5):0;let P=F>0?Math.round(F%36e5/6e4):0,N=j;P===60&&(N+=1,P=0);const G=F>0?`${N}h ${String(P).padStart(2,"0")}m`:"In progress",O=B.length-b;return c.jsxs("tr",{children:[c.jsx("td",{children:O}),c.jsx("td",{children:C.date}),c.jsx("td",{children:new Date(C.arrivalAt).toLocaleString()}),c.jsx("td",{children:C.departureAt?new Date(C.departureAt).toLocaleString():"-"}),c.jsx("td",{children:G})]},C.id)})})(),c.jsxs("tr",{children:[c.jsx("td",{colSpan:4,style:{textAlign:"right",fontWeight:600},children:"Total"}),c.jsx("td",{children:jI(o)})]})]})]})]})]})}function jI(n){const e=n.reduce((o,u)=>{if(!u.departureAt)return o;const d=new Date(u.departureAt).getTime()-new Date(u.arrivalAt).getTime();return d>0?o+d:o},0);if(e<=0)return"0h 00m";let t=Math.floor(e/36e5),i=Math.round(e%36e5/6e4);return i===60&&(t+=1,i=0),`${t}h ${String(i).padStart(2,"0")}m`}function HI(){const[n,e]=S.useState([]),[t,i]=S.useState(""),[o,u]=S.useState("");S.useEffect(()=>{(async()=>{const g=await pe.waterQuality.toArray();e(g)})()},[]);const d=S.useMemo(()=>n.filter(g=>(t?g.kind===t:!0)&&(o?g.jobId.includes(o):!0)),[n,t,o]);return c.jsxs("div",{className:"grid",children:[c.jsxs("section",{className:"card",children:[c.jsx("h2",{children:"Water Quality"}),c.jsxs("div",{className:"row",children:[c.jsxs("select",{className:"select",value:t,onChange:g=>i(g.target.value),children:[c.jsx("option",{value:"",children:"All kinds"}),c.jsx("option",{value:"secchi",children:"Secchi"}),c.jsx("option",{value:"ph",children:"pH"}),c.jsx("option",{value:"do",children:"Dissolved O2"}),c.jsx("option",{value:"temp",children:"Temperature"}),c.jsx("option",{value:"alkalinity",children:"Alkalinity"}),c.jsx("option",{value:"hardness",children:"Hardness"})]}),c.jsx("input",{className:"input",placeholder:"Filter by Job ID",value:o,onChange:g=>u(g.target.value)})]})]}),c.jsx("section",{className:"card",children:d.length===0?c.jsx("div",{className:"muted",children:"No data"}):c.jsxs("table",{className:"table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Job"}),c.jsx("th",{children:"Kind"}),c.jsx("th",{children:"Value"}),c.jsx("th",{children:"Unit"}),c.jsx("th",{children:"Depth (ft)"}),c.jsx("th",{children:"Date"})]})}),c.jsx("tbody",{children:d.sort((g,m)=>m.createdAt.localeCompare(g.createdAt)).map(g=>c.jsxs("tr",{children:[c.jsx("td",{children:g.jobId}),c.jsx("td",{children:g.kind}),c.jsx("td",{children:g.value}),c.jsx("td",{children:g.unit}),c.jsx("td",{children:g.depthFt||"-"}),c.jsx("td",{children:new Date(g.createdAt).toLocaleString()})]},g.id))})]})})]})}function OI(){const[n,e]=S.useState(null),[t,i]=S.useState("none"),[o,u]=S.useState([]),[d,g]=S.useState("100"),[m,B]=S.useState([]),C=S.useRef(null),b=S.useRef(null),[F,j]=S.useState([]);S.useEffect(()=>{R()}),S.useEffect(()=>{(async()=>j(await vh()))()},[]);function P(J){const M=J.target.files?.[0];if(!M)return;const $=URL.createObjectURL(M);e($),u([]),B([]),i("none")}function N(J){if(!C.current)return;const M=C.current.getBoundingClientRect(),$=C.current.width/M.width,q=C.current.height/M.height,xe={x:(J.clientX-M.left)*$,y:(J.clientY-M.top)*q};t==="scale"?u(X=>X.length>=2?[xe]:[...X,xe]):t==="poly"&&B(X=>[...X,xe])}const G=DI(o,Number(d)),O=RI(m,G);function R(){const J=C.current,M=b.current;if(!J||!M)return;const $=J.getContext("2d");if($&&(J.width=M.naturalWidth,J.height=M.naturalHeight,$.clearRect(0,0,J.width,J.height),$.drawImage(M,0,0),o.length>=1&&($.strokeStyle="#22c55e",$.lineWidth=2,$.beginPath(),$.moveTo(o[0].x,o[0].y),o[1]&&$.lineTo(o[1].x,o[1].y),$.stroke()),m.length>0)){$.strokeStyle="#0ea5e9",$.fillStyle="rgba(14,165,233,0.2)",$.lineWidth=2,$.beginPath(),$.moveTo(m[0].x,m[0].y);for(let q=1;q<m.length;q++)$.lineTo(m[q].x,m[q].y);$.closePath(),$.fill(),$.stroke()}}return c.jsxs("div",{className:"grid",children:[c.jsxs("section",{className:"card",children:[c.jsx("h2",{children:"Acreage Tools (Image)"}),c.jsxs("div",{className:"row",children:[c.jsx("input",{className:"input",type:"file",accept:"image/*",onChange:P}),c.jsx("button",{className:"btn",onClick:()=>i("scale"),children:"Set Scale"}),c.jsx("button",{className:"btn secondary",onClick:()=>i("poly"),children:"Draw Polygon"}),c.jsx("button",{className:"btn secondary",onClick:()=>{B([])},children:"Clear Polygon"}),c.jsx("button",{className:"btn",onClick:async()=>{if(!C.current)return;const J=prompt("Name this trace (optional)")||void 0;let M;try{M=await new Promise(q=>C.current.toBlob(xe=>q(xe||void 0)))}catch{}const $={id:crypto.randomUUID(),createdAt:new Date().toISOString(),name:J,image:M,imageType:M?.type,scaleFeet:Number(d)||void 0,scalePts:o.map(q=>[q.x,q.y]),polygon:m.map(q=>[q.x,q.y])};await A_($),j(await vh()),await hn("tools:acreage","acreage_save",`Saved acreage trace ${J||$.id}`,_n())},children:"Save Trace"}),c.jsx("button",{className:"btn secondary",onClick:async()=>{const J=await vh();if(J.length===0)return;const M=await fm(J[0].id);if(M){if(g(String(M.scaleFeet||"")),u((M.scalePts||[]).map(([$,q])=>({x:$,y:q}))),B((M.polygon||[]).map(([$,q])=>({x:$,y:q}))),M.image){const $=URL.createObjectURL(M.image);e($)}await hn("tools:acreage","acreage_load",`Loaded acreage trace ${M.name||M.id}`,_n())}},children:"Load Latest"})]}),c.jsxs("div",{className:"row",children:[c.jsxs("label",{className:"label",children:["Scale distance (ft)",c.jsx("input",{className:"input",value:d,onChange:J=>g(J.target.value)})]}),c.jsxs("div",{className:"label",children:["Feet per pixel",c.jsx("input",{className:"input",readOnly:!0,value:Number.isFinite(G)?G.toFixed(4):""})]}),c.jsxs("div",{className:"label",children:["Polygon acres",c.jsx("input",{className:"input",readOnly:!0,value:Number.isFinite(O)?O.toFixed(4):""})]})]})]}),n&&c.jsxs("section",{className:"card",children:[c.jsx("img",{ref:b,src:n,alt:"map",onLoad:()=>R(),style:{display:"none"}}),c.jsx("canvas",{ref:C,onClick:N,style:{width:"100%",maxWidth:900,border:"1px solid var(--border)",borderRadius:8}}),c.jsx("small",{className:"muted",children:"Click two points to set scale, enter real-world feet, then draw polygon to compute acres."})]}),c.jsxs("section",{className:"card",children:[c.jsx("h3",{children:"Saved Traces"}),F.length===0?c.jsx("div",{className:"muted",children:"No saved traces yet"}):c.jsx("ul",{className:"list",children:F.map(J=>c.jsxs("li",{children:[c.jsx("button",{className:"btn secondary",onClick:async()=>{const M=await fm(J.id);if(M){if(g(String(M.scaleFeet||"")),u((M.scalePts||[]).map(([$,q])=>({x:$,y:q}))),B((M.polygon||[]).map(([$,q])=>({x:$,y:q}))),M.image){const $=URL.createObjectURL(M.image);e($)}await hn("tools:acreage","acreage_load",`Loaded acreage trace ${M.name||M.id}`,_n())}},children:"Load"}),c.jsxs("span",{style:{marginLeft:8},children:[J.name||"(unnamed)","  saved ",new Date(J.createdAt).toLocaleString()]})]},J.id))})]})]})}function DI(n,e){if(n.length<2||!e)return NaN;const t=n[1].x-n[0].x,i=n[1].y-n[0].y,o=Math.hypot(t,i);return e/o}function RI(n,e){if(n.length<3||!Number.isFinite(e))return NaN;let t=0;for(let o=0;o<n.length;o++){const u=n[o],d=n[(o+1)%n.length];t+=u.x*d.y-d.x*u.y}return t=Math.abs(t)/2,t*e*e/43560}function MI(){const[n,e]=S.useState(""),[t,i]=S.useState("");S.useEffect(()=>{(async()=>{const u=await y_("me");u?.name&&e(u.name),u?.insuranceLicense&&i(u.insuranceLicense)})()},[]);async function o(){await w_({id:"me",name:n,insuranceLicense:t}),alert("Profile saved")}return c.jsx("div",{className:"grid",children:c.jsxs("section",{className:"card",children:[c.jsx("h2",{children:"Profile"}),c.jsxs("div",{className:"row",children:[c.jsxs("label",{className:"label",children:["Name",c.jsx("input",{className:"input",value:n,onChange:u=>e(u.target.value)})]}),c.jsxs("label",{className:"label",children:["Insurance License Number",c.jsx("input",{className:"input",value:t,onChange:u=>i(u.target.value)})]})]}),c.jsx("div",{className:"row",style:{marginTop:8},children:c.jsx("button",{className:"btn",onClick:o,children:"Save"})})]})})}function KI(){const[n,e]=S.useState([]);return S.useEffect(()=>{(async()=>{const t=[];function i(o){t.push(o),e([...t])}try{if("serviceWorker"in navigator){const o=await navigator.serviceWorker.getRegistrations();o.length===0&&i("No service workers registered");for(const u of o)try{await u.unregister(),i("Unregistered a service worker")}catch{i("Failed to unregister a service worker")}}else i("Service workers not supported")}catch{i("Error while removing service workers")}try{if("caches"in window){const o=await caches.keys();for(const u of o)try{await caches.delete(u),i(`Deleted cache ${u}`)}catch{i(`Failed to delete cache ${u}`)}}}catch{i("Error while clearing caches")}try{setTimeout(()=>{location.replace("/")},500)}catch{}})()},[]),c.jsx("div",{className:"grid",children:c.jsxs("section",{className:"card",children:[c.jsx("h2",{children:"Resetting App Cache"}),c.jsx("p",{className:"muted",children:"Clearing service workers and caches this page will reload automatically."}),n.length>0&&c.jsx("ul",{className:"list",children:n.map((t,i)=>c.jsx("li",{children:t},i))}),c.jsx("div",{className:"row",style:{marginTop:8},children:c.jsx("button",{className:"btn",onClick:()=>location.replace("/"),children:"Reload now"})})]})})}function VI(){return c.jsx("div",{className:"grid",children:c.jsxs("section",{className:"card",children:[c.jsx("h2",{children:"Calculators"}),c.jsx(Cy,{})]})})}function GI(){const{user:n,logout:e}=rd();return S.useEffect(()=>{const t=i=>{if(i.key==="/"&&!i.ctrlKey&&!i.metaKey&&!i.altKey){const o=document.querySelector("header .search input");o&&(i.preventDefault(),o.focus())}};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[]),c.jsxs("div",{children:[c.jsxs("header",{className:"app-header",children:[c.jsx(ri,{to:"/",className:"brand",children:"VPLM Portal"}),c.jsxs("nav",{className:"nav",children:[c.jsx(va,{to:"/",end:!0,children:"Job Creation/Editing"}),c.jsx(va,{to:"/map",children:"Map"}),c.jsx(va,{to:"/offline",children:"Offline"}),c.jsx(va,{to:"/settings",children:"Settings"}),c.jsx(va,{to:"/help",children:"Help"}),n?.role==="developer"&&c.jsx(va,{to:"/admin",children:"Developer"})]}),c.jsxs("div",{className:"header-actions",children:[c.jsx(vI,{}),c.jsx(fI,{}),n?c.jsx("button",{className:"btn secondary",onClick:e,children:"Sign Out"}):c.jsx(ri,{className:"btn",to:"/login",children:"Sign In"})]})]}),c.jsx("main",{className:"container",children:c.jsxs(E0,{children:[c.jsx(Qn,{path:"/login",element:c.jsx(xI,{})}),c.jsx(Qn,{path:"/",element:c.jsx(cA,{children:c.jsx($_,{})})}),c.jsx(Qn,{path:"/job/:jobId",element:c.jsx(cA,{children:c.jsx(XE,{})})}),c.jsx(Qn,{path:"/job/:jobId/summary",element:c.jsx(cA,{children:c.jsx(gI,{})})}),c.jsx(Qn,{path:"/fish-run/:runId/summary",element:c.jsx(cA,{children:c.jsx(ZI,{})})}),c.jsx(Qn,{path:"/offline",element:c.jsx(cA,{children:c.jsx(AF,{})})}),c.jsx(Qn,{path:"/settings",element:c.jsx(cA,{children:c.jsx(mI,{})})}),c.jsx(Qn,{path:"/help",element:c.jsx(cA,{children:c.jsx(zI,{})})}),c.jsx(Qn,{path:"/map",element:c.jsx(cA,{children:c.jsx(II,{})})}),c.jsx(Qn,{path:"/calculators",element:c.jsx(cA,{children:c.jsx(VI,{})})}),c.jsx(Qn,{path:"/fishery",element:c.jsx(cA,{children:c.jsx(LI,{})})}),c.jsx(Qn,{path:"/chem-ref",element:c.jsx(cA,{children:c.jsx(kI,{})})}),c.jsx(Qn,{path:"/time",element:c.jsx(cA,{children:c.jsx(NI,{})})}),c.jsx(Qn,{path:"/water-quality",element:c.jsx(cA,{children:c.jsx(HI,{})})}),c.jsx(Qn,{path:"/acreage",element:c.jsx(cA,{children:c.jsx(OI,{})})}),c.jsx(Qn,{path:"/profile",element:c.jsx(cA,{children:c.jsx(MI,{})})}),c.jsx(Qn,{path:"/admin",element:c.jsx(cA,{devOnly:!0,children:c.jsx(bI,{})})}),c.jsx(Qn,{path:"/reset",element:c.jsx(KI,{})}),c.jsx(Qn,{path:"*",element:c.jsx($I,{})})]})})]})}function cA({children:n,devOnly:e}){const{user:t,hydrated:i}=rd(),o=io();return i?t?e&&t.role!=="developer"?c.jsx(sm,{to:"/",replace:!0}):n:c.jsx(sm,{to:"/login",replace:!0,state:{from:`${o.pathname}${o.search}${o.hash}`}}):null}function zI(){const n=[{key:"help_jobs",title:"Job Creation & Editing",defaultText:`WHEN TO USE: Start a new project or visit.

STEPS:
1) Enter Client, Site, Address (City/County/Zip optional).
2) On site, capture device location (optional).
3) Use Job page accordions: Time, Mapping, Notes, Photos, Measurements, Water, Safety, Chemicals, Summary.

EXAMPLE:
Client: Smith Ranch
Site: North Pond
Address: 123 FM 100
City: Llano, County: Llano, Zip: 78643.`},{key:"help_mapping",title:"Mapping Tools",defaultText:`WHEN TO USE: Outline pond boundaries, record depths, mark misc features.

STEPS:
1) Draw polygons to outline ponds.
2) Add depth points (ft) inside polygons.
3) Add misc points (spillways, inlets).
4) Use Capture Map Snapshot to save a screenshot into Photos.

EXAMPLE:
Outline main pond; record depth transects; mark spillway and inflow.`},{key:"help_photos",title:"Photos & Camera",defaultText:`WHEN TO USE: Document site conditions and treatments.

STEPS:
1) Use Camera to take photos; location is captured if permitted.
2) Click any photo to open fullscreen; use arrows to navigate; Delete asks to confirm.
3) Map snapshots appear here automatically.

EXAMPLE:
Before/after shots of algae and water clarity.`},{key:"help_voice",title:"Notes & Voice",defaultText:`WHEN TO USE: Handsfree notes while working or driving.

STEPS:
1) Dictate to append finalized text (no interim duplicates).
2) Record Voice Memo; playback in list; Transcribe with Whisper (OpenAI key in Developer).
3) Delete options ask to confirm to avoid mistakes.

EXAMPLE:
Dictate patrol observations; record short memos between sites and transcribe later.`},{key:"help_water",title:"Water Quality",defaultText:`WHEN TO USE: Log water metrics.

STEPS:
Add entries for secchi depth, pH, DO, temperature, alkalinity, hardness. Include units and depths as needed.

EXAMPLE:
DO 6.8 mg/L @ surface; Temp 82F; Secchi 28 in.`},{key:"help_export",title:"Export & PDF",defaultText:`WHEN TO USE: Share summaries or reports.

STEPS:
1) Offline  Export PDFs (per job or fish run)  Open PDF view.
2) Use browser Print  Save as PDF for a clean report.

EXAMPLE:
Export Smith Ranch  North Pond summary; export fish run itinerary.`}];return c.jsx("div",{className:"grid",children:c.jsxs("section",{className:"card",children:[c.jsx("h2",{children:"Help & Examples"}),c.jsx("div",{className:"accordion",children:n.map(e=>c.jsx(WI,{storageKey:e.key,title:e.title,defaultText:e.defaultText},e.key))})]})})}function WI({storageKey:n,title:e,defaultText:t}){const[i,o]=S.useState(!1),[u,d]=S.useState("");S.useEffect(()=>{d(localStorage.getItem(n)||t)},[n,t]);function g(){localStorage.setItem(n,u),alert("Saved")}return c.jsxs("section",{className:"accordion-item accent-blue",children:[c.jsxs("button",{className:"accordion-button","aria-expanded":i,onClick:()=>o(!i),children:[c.jsx("span",{children:e}),c.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,children:c.jsx("path",{d:"M6 9l6 6 6-6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),i&&c.jsxs("div",{className:"accordion-panel",children:[c.jsx("textarea",{className:"textarea",style:{width:"100%",minHeight:160},value:u,onChange:m=>d(m.target.value)}),c.jsx("div",{className:"row",style:{marginTop:8},children:c.jsx("button",{className:"btn",onClick:g,children:"Save"})})]})]})}function $I(){return c.jsx("div",{className:"grid",children:c.jsxs("section",{className:"card",children:[c.jsx("h2",{children:"Page not found"}),c.jsx("p",{className:"muted",children:"The page youre looking for doesnt exist."}),c.jsx(ri,{className:"btn",to:"/",children:"Back to Dashboard"})]})})}function ZI(){const{runId:n=""}=qf();return c.jsx(FI,{runId:n})}function JI(){"serviceWorker"in navigator&&window.addEventListener("load",async()=>{try{const n=await navigator.serviceWorker.register("/sw.js");if(navigator.serviceWorker.addEventListener("message",t=>{t.data&&t.data.type==="tpm-sync"&&Gf().catch(()=>{})}),"sync"in n)try{await n.sync.register("tpm-sync")}catch{}const e=n.periodicSync;if(e&&"requestPermission"in navigator)try{const t=await navigator.permissions.query({name:"periodic-background-sync"});if(t.state==="granted"||t.state==="prompt")try{await e.register("tpm-periodic",{minInterval:900*1e3})}catch{}}catch{}window.addEventListener("online",()=>{Gf().catch(()=>{})})}catch(n){console.warn("SW registration failed",n)}})}class qI extends $f.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("ErrorBoundary caught",e,t)}render(){return this.state.hasError?c.jsx("div",{className:"container",style:{padding:24},children:c.jsxs("div",{className:"card",children:[c.jsx("h2",{children:"Something went wrong"}),c.jsx("pre",{className:"muted",style:{whiteSpace:"pre-wrap"},children:String(this.state.error)}),c.jsx("button",{className:"btn",onClick:()=>location.reload(),children:"Reload"})]})}):this.props.children}}const XI=S.createContext(null);function YI({children:n}){const[e,t]=S.useState([]),i=S.useMemo(()=>({toasts:e,push(o){const u=crypto.randomUUID(),d={id:u,timeoutMs:4e3,...o};t(g=>[...g,d]),d.timeoutMs&&setTimeout(()=>t(g=>g.filter(m=>m.id!==u)),d.timeoutMs)},dismiss(o){t(u=>u.filter(d=>d.id!==o))}}),[e]);return c.jsxs(XI.Provider,{value:i,children:[n,c.jsx("div",{style:{position:"fixed",right:16,bottom:16,display:"grid",gap:8,zIndex:9999},children:e.map(o=>c.jsxs("div",{className:"card",style:{minWidth:260,boxShadow:"var(--shadow)",borderLeft:`4px solid ${e1(o.tone)}`},children:[o.title&&c.jsx("div",{style:{fontWeight:800,marginBottom:4},children:o.title}),c.jsx("div",{children:o.message})]},o.id))})]})}function e1(n){switch(n){case"success":return"#16a34a";case"warn":return"#f59e0b";case"error":return"#ef4444";default:return"var(--brand)"}}(function(){try{const e=window.location.search;if(e.startsWith("?/")){const i=e.substring(2).split("&"),o=decodeURIComponent(i[0]||""),u=o?o.startsWith("/")?o:`/${o}`:"/",d=i.slice(1).map(B=>decodeURIComponent(B.replace(/~and~/g,"&"))).filter(Boolean),g=d.length?`?${d.join("&")}`:"",m=`${u}${g}${window.location.hash}`;window.history.replaceState(null,"",m)}}catch(e){console.warn("GitHub Pages redirect handling failed",e)}})();const t1=document.getElementById("root");OB.createRoot(t1).render(c.jsx($f.StrictMode,{children:c.jsx(N0,{children:c.jsx(YI,{children:c.jsx(qI,{children:c.jsx(CI,{children:c.jsx(GI,{})})})})})}));JI();
